<!--The following is the downloaded HTML source of the studocu.com privacy policy that was archived on 2015-02-06.
 Please check the original snapshot on the Wayback Machine (https://web.archive.org/web/20150206073137id_/http%3A//www.studocu.com/privacy) for the most accurate reproduction.-->

<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://www.facebook.com/2008/fbml"><head>

<!-- META
================================================== -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Free Summaries, Old Exams, Lecture Notes &amp; Solutions">
<meta name="keywords" content="exam, old exams, summaries, lecture notes, reports, solutions, books, second hand, university, college">
<meta name="google-site-verification" content="3PQLILURuCgCigjHZLZgG7whI2_I4p85rMWFN3iI1u4">

<title>StuDocu.com | Free summaries, past exams, lecture notes and solutions.</title>

<link href="http://www.studocu.com/images/sd_logo_square.png" rel="image_src">

<!-- Apple touch icons
================================================== -->
<link rel="apple-touch-icon" href="/images/apple/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="76x76" href="/images/apple/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="120x120" href="/images/apple/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="152x152" href="/images/apple/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple/apple-touch-icon-180x180.png">

<!-- Microsoft browser configuration
================================================== -->
<meta name="msapplication-config" content="none">
<!-- ESSENTIAL STYLES
================================================== -->
<!-- Bootstrap Latest compiled and minified CSS -->
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
<!-- StudeerSnel -->
<link rel="stylesheet" type="text/css" href="http://www.studocu.com/styles/studeersnel.css?update=1420798744">
	<!-- StuDocu logo's -->
	<link rel="stylesheet" type="text/css" href="http://www.studocu.com/styles/studocu.css">
    
<!-- FONTS
================================================== -->
<link href="http://fonts.googleapis.com/css?family=Damion" rel="stylesheet" type="text/css">

<!-- JAVASCRIPT
================================================== -->
<!-- Jquery -->
<!-- Jquery -->
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><!-- Google Analytics -->
<script src="http://www.studocu.com/script/google-analytics.js"></script>

</head>
<body>
<div id="fb-root"></div>


<div id="header-wrapper">
	<!-- Mobile menu -->
	<div class="header-right-mobile pull-right search-hide">
		<button class="btn btn-default mobile-search-toggle"><i class="fa fa-search"></i></button>
		<button class="btn btn-default" data-toggle="collapse" data-target="#header-sm-toggle"><i class="fa fa-bars"></i></button>
	</div>
	
	<!-- Desktop menu -->
	<div class="header-right search-hide">
					<a href="/aanmelden" class="btn btn-success header-btn register"><span class="glyphicon glyphicon-edit"></span> Register</a>
			<button class="btn btn-primary header-btn login"><span class="glyphicon glyphicon-log-in"></span> Log in</button>
			</div>
	
	<div class="header-left search-hide">
		<a href="/" class="header-logo"></a>
	</div>
	
	<div id="search-back" class="search-show hidden-xs"><i class="fa fa-arrow-left"></i> <span class="hidden-xs">Back</span></div>
	<div id="search-back" class="search-show search-close-mobile"><i class="fa fa-close"></i> <span class="hidden-xs">Back</span></div>
	
	<div class="search-spacer search-show"></div>

	<!-- Search -->
	<div class="header-middle">
		<div class="header-search">
	
			<div class="awesomebar-search hidden">
				<div class="form-group has-feedback" id="scrollable-dropdown-menu-search">
					<label class="sr-only" for="search_term"></label>
					<input id="header-search" class="form-control search_bar typeahead" placeholder="Search for courses, books or documents" aria-controls="add_courses" type="search">
					<span class="glyphicon glyphicon-search form-control-feedback"></span>
				</div> 
			</div>
			
			<div class="awesomebar-select ">
				<input type="text" name="uni_typeahead" id="uni_typeahead" class="form-control typeahead uni-typeahead-search" placeholder="At which institution do you want to start searching?">
				<input name="uni_id" id="uni_id" class="uni-id-search" type="hidden" value=""> 
			</div>
			
		</div>
	</div>

	<div class="clearfix"></div>
	
	<!-- Mobile Dropdown menu -->
	<div class="collapse navbar-collapse" id="header-sm-toggle">
		<ul class="nav navbar-nav">
							<li><a href="/aanmelden" class="signout">Register</a></li>
				<li><a class="login">Log in</a></li>
					</ul>
	</div>
</div>

<!-- Search results -->
<div class="search_results_container search-show">
	<div id="search-filter">
	<div class="container">
		<div class="row">
			<div class="col-md-12">
				<i class="fa fa-filter"></i> Course filter: <span class="uni-naam-filter"></span>&nbsp;&nbsp;•&nbsp;&nbsp;<a class="show-uni-search" style="cursor:pointer">edit</a>
			</div>
		</div>
	</div>
	</div>
	<div id="search-start">
		Start typing to search.		<!--<p>Search for courses, books or documents.</p>-->
	</div>
	<div id="search-results-wrapper" class="container">
		<div id="search-results-courses"></div>
		<div id="search-results-books"></div>
		<div id="search-results-documents"></div>
	</div>			
</div>

<!-- Menu bar -->
<div id="header_menu_wrapper" class="hidden-xs">
	<div id="header_menu_container">	
		<a href="/">Dashboard</a>
				<a href="http://stratus.sc/player?auto_play=false&amp;download=false&amp;links=http%3A%2F%2Fsoundcloud.com%2Fstudysounds&amp;random=false&amp;popup=true" onclick="window.open(this.href, 'mywin','left=20,top=20,width=950,height=200,toolbar=0,resizable=0'); return false;">StudySounds</a>
	</div>
</div> 

<!-- Alertbar -->
<div id="alertbar" class="container-fluid">
	<div class="row">
		  <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
		  <span id="alertbar-content">Something has gone wrong...</span>
	</div>
</div>
<div id="content">
	<div class="container">
		<h1>Privacy Policy</h1><hr><strong>Introduction</strong><br><br>StuDocu.com is committed to protect &nbsp;the privacy of users and visitors of this website. The collected information &nbsp;about you will be treated carefully and protected. StuDocu.com strictly abides by all applicable laws and regulations, including the Data Protection Act (DPA). For questions or comments about our privacy and cookie policy, please feel free to contact StuDocu.com via the contact form.<br>&nbsp;<br><strong>Processed data</strong><br><br><strong>Information that you provide to us</strong>. To use our services you need to register an account for example. When you do this, we ask you for personal information such as your name, email address or telephone number. If you want to take full advantage of the features we offer, we may also ask you to create a publicly visible profile, which may include your name and photo.<br><strong>Information we receive based on your use of our services. </strong>We may collect information about the services that you use and how you use them. Think about which courses you have followed, and how many files you have downloaded.<br>&nbsp;<br><strong>What we do with the data stored</strong><br><br>We collect information to provide better services to all our users. By storing data about study, the year you’ve started at college start and linking it to your personal information, the site will be personalized and thus more user-friendly.<br>The stored data are not shared with third parties. We use the email addresses to share important information with our users. Emails may contain information about our partners.<br><strong>&nbsp;<br>Google Analytics</strong><br><br>StuDocu.com uses Google Analytics, a web analytics service provided by Google Inc. ("Google"). Google Analytics uses "cookies" (small text files placed on your computer) to help the website analyze how users use the site. The information generated by the cookie about your use of the website (including your IP address) will be transmitted to and stored by Google on servers in the United States. Google uses this information to track how you use the website, compiling reports on website activity to prepare to offer for website operators and providing other services relating to website activity and internet usage. Google may also transfer this information to third parties if Google is legally required, or where such third parties process the information on Google's behalf. Google will not associate your IP address with any other data held by Google. You may refuse the use of cookies in your browser to select the appropriate settings. However, we point out that in this case you may not be able to use all features of this website.<br>&nbsp;<br>By using this website, you consent to the processing of data about you by Google in the manner and for the purposes set out above.<br>&nbsp;<br><strong>Change of Privacy Policy</strong><br><br>It is not inconceivable that the privacy and cookie policy StuDocu.com is extended or amended in the near future. We advise you to regularly check this page to see if changes have been made. If these changes are very radical in nature, we will ensure that they are communicated in a clear and conspicuous manner.	</div>
</div>	

<div class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-2">
                <div class="form-group">
				<h4>Language</h4>
            	<select id="language" class="form-control">
                <option values="NL" style="background-image:url(/images/icons/flags/nl.png); background-repeat:no-repeat; background-size: 20px 12px; background-position: 1% 50%; padding-left:28px;"> NL</option><option values="EN" selected="selected" style="background-image:url(/images/icons/flags/en.png); background-repeat:no-repeat; background-size: 20px 12px; background-position: 1% 50%; padding-left:28px;"> EN</option><option values="ES" style="background-image:url(/images/icons/flags/es.png); background-repeat:no-repeat; background-size: 20px 12px; background-position: 1% 50%; padding-left:28px;"> ES</option><option values="DE" style="background-image:url(/images/icons/flags/de.png); background-repeat:no-repeat; background-size: 20px 12px; background-position: 1% 50%; padding-left:28px;"> DE</option><option values="FR" style="background-image:url(/images/icons/flags/fr.png); background-repeat:no-repeat; background-size: 20px 12px; background-position: 1% 50%; padding-left:28px;"> FR</option><option values="CN" style="background-image:url(/images/icons/flags/cn.png); background-repeat:no-repeat; background-size: 20px 12px; background-position: 1% 50%; padding-left:28px;"> CN</option>                </select>
                </div>
        
            </div>

            <div class="col-md-3 col-md-offset-1">
            	<h4>Company</h4>
                <a href="/about">About us</a><br>
                <a href="/advertise">Advertise</a><br>
				<a href="/jobs">Jobs</a><br>
                <a href="http://www.studocu.com" target="_blank">International website</a>
                            </div>
            <div class="col-md-3">
            	<h4>Contact &amp; info</h4>
                <a href="/faq.php">F.A.Q. &amp; Help</a><br>
                <a href="/contact">Contact</a><br>
				<a href="/privacy">Privacy policy</a><br>
				<a href="/terms">Terms of service</a><br>
                <a href="/universities">All universities</a><br>
            </div>
            <div class="col-md-3">
            	<h4>Social</h4>
                <i class="fa fa-fw fa-facebook"></i> <a href="https://www.facebook.com/StuDocu" target="_blank">Facebook</a><br>
				<i class="fa fa-fw fa-twitter"></i> <a href="https://twitter.com/StuDocu" target="_blank">Twitter</a><br>
				<i class="fa fa-fw fa-google-plus"></i> <a href="https://google.com/+StuDocu" target="_blank">Google+</a><br>
				<i class="fa fa-fw fa-soundcloud"></i> <a href="https://soundcloud.com/studysounds" target="_blank">Soundcloud</a><br>
            </div>
        </div>
        
        <div class="row">
            <div class="col-md-12 signature">
            	<img class="footer_amsterdam" src="/images/amsterdam_logo.png" width="8" height="28" alt=""> 
            	Lovingly crafted in Amsterdam
            </div>
        </div>
        
        <div class="row">
            <div class="col-md-12 copyright">Copyright © 2015 StudeerSnel B.V.</div>
        </div>
    </div>   
</div>

<!-- NON-ESSENTIAL STYLES
================================================== -->
<!-- Font Awesome -->
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<!-- Favicon -->
<link rel="shortcut icon" href="http://www.studocu.com/favicon.ico" type="image/x-icon">

<!-- JAVASCRIPT
================================================== -->
<!-- Bootstrap Latest compiled and minified JavaScript -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<!-- BootBox -->
<script type="text/javascript" src="http://www.studocu.com/script/bootbox_v4.js"></script>
<!-- Mustache -->
<script src="/script/mustache/mustache.js"></script>
<!-- Typeahead -->
<script src="/script/typeahead/typeahead.bundle.min.js"></script>
<!-- Header js, included in all pages -->
<script>
/**
* Get user courses 
*/
function userCourses(userId) {
	$.post( "/ajax/user_courses.php", { user_id:userId })
	.done(function(json) {
		data = jQuery.parseJSON(json)
		if (data.result) {
			$.get('/templates/search_courses.html', function(template) {
				// append data with Mustache
				$('.user-courses').html(Mustache.render($(template).filter('#myCoursesTpl').html(), data.data));
			});
		} else {
		$('.user-courses').html($('.no-courses').html());
		}
	});
}

function show_alert(msg) {
	$("#alertbar-content").html(msg);
	$("#alertbar").slideDown();
}

/**
* Header dimension resizing
*/
window.onresize = function(event) {
	resizeHeader();
}

function resizeHeader() {
	var logoWidth = 191;
	var containerWidth = 1170;
	
	headerWidth = $('#header-wrapper').width() -10;
	leftWidth = $('.header-left').width();
	leftReqWidth = logoWidth;
	rightWidth = $('.header-right').width();
	middleWidth = $('.header-middle').width();
	
	reqWidth = leftWidth + rightWidth; // Required width
	remWidth = 	headerWidth - reqWidth - containerWidth; // Width remainder
	
	setLeft = leftWidth + remWidth;
	
	if(remWidth > 0) {
		if(leftWidth < rightWidth) {
			if(setLeft > rightWidth) {
				setLeft = rightWidth;
			}
			$('.header-left').css({'width': + setLeft + 'px'});
		}
	} else {
		if(setLeft < leftReqWidth) {
			setLeft = leftReqWidth;
		}
		$('.header-left').css({'width': + setLeft + 'px'});
	}
	
	setMiddle = headerWidth - ($('.header-left').width() + rightWidth);
	$('.header-middle').css({'width': + setMiddle + 'px'});
}


/**
* Bloodhound
*/

// constructs the suggestion engine
// search for courses
var courses = new Bloodhound({
  datumTokenizer: Bloodhound.tokenizers.obj.whitespace(['naam', 'code']),
  queryTokenizer: Bloodhound.tokenizers.whitespace,
  remote:
  {
	url: "/ajax/search_courses.php",

	replace: function(url, query) {
		return url + "#" + query;
	},
	ajax : {
		beforeSend: function(jqXhr, settings){
		   jqXhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded');
		   settings.type = 'POST';
		   settings.hasContent = true;
		   settings.data = $.param({LikeStr: $(':focus').val(), uni_id: $(".uni-id-search").val()});
		},
		type: "POST"
	},
	rateLimitWait: 450
},
  limit: Number.MAX_VALUE
});

//search for books
var books = new Bloodhound({
  datumTokenizer: Bloodhound.tokenizers.obj.whitespace(['title', 'author']),
  queryTokenizer: Bloodhound.tokenizers.whitespace,

  remote:
	{
		url: "/ajax/search_books.php",
		
		replace: function(url, query) {
			return url + "#" + query;
		},
		ajax : {
			beforeSend: function(jqXhr, settings){
				jqXhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded');
				settings.type = 'POST';
				settings.hasContent = true;
				settings.data = $.param({LikeStr: $(':focus').val()});
			},
			type: "POST"
		},
		rateLimitWait: 450
	},
  limit: Number.MAX_VALUE
});

//search for documents
var docs = new Bloodhound({
  datumTokenizer: Bloodhound.tokenizers.obj.whitespace(['document_naam', 'document_file', 'document_vak']),
  queryTokenizer: Bloodhound.tokenizers.whitespace,

  remote:
	{
		url: "/ajax/search_documents.php",
		
		replace: function(url, query) {
			return url + "#" + query;
		},
		ajax : {
			beforeSend: function(jqXhr, settings){
				jqXhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded');
				settings.type = 'POST';
				settings.hasContent = true;
				settings.data = $.param({LikeStr: $(':focus').val(), uni_id: $(".uni-id-search").val()});
			},
			type: "POST"
		},
		rateLimitWait: 450
	},
  limit: Number.MAX_VALUE
});

//search for universities
var unis = new Bloodhound({
	datumTokenizer: Bloodhound.tokenizers.obj.whitespace(['naam']),
	queryTokenizer: Bloodhound.tokenizers.whitespace,
	remote:
	{
		url: "/ajax/search_unis.php",
		
		replace: function(url, query) {
			return url + "#" + query;
		},
		ajax : {
			beforeSend: function(jqXhr, settings){
				jqXhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded');
				settings.type = 'POST';
				settings.hasContent = true;
				settings.data = $.param({LikeStr: $(':focus').val()});
			},
			type: "POST"
		}
	},
	limit: Number.MAX_VALUE
});

//search for studies
var studies = new Bloodhound({
	datumTokenizer: Bloodhound.tokenizers.obj.whitespace(['naam']),
	queryTokenizer: Bloodhound.tokenizers.whitespace,
	remote:
	{
		url: "/ajax/search_studies.php",
		
		replace: function(url, query) {
			return url + "#" + query;
		},
		ajax : {
			beforeSend: function(jqXhr, settings){
				jqXhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded');
				settings.type = 'POST';
				settings.hasContent = true;
				settings.data = $.param({LikeStr: $(':focus').val(), uni_id: $(".uni-id").val()});
			},
			type: "POST"
		}
	},  	  
	limit: Number.MAX_VALUE
});

// Course searchfor uploading
var uploads = new Bloodhound({
  datumTokenizer: Bloodhound.tokenizers.obj.whitespace(['naam', 'code']),
  queryTokenizer: Bloodhound.tokenizers.whitespace,
  remote:
  {
	url: "/ajax/search_courses.php",

	replace: function(url, query) {
		return url + "#" + query;
	},
	ajax : {
		beforeSend: function(jqXhr, settings){
		   jqXhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded');
		   settings.type = 'POST';
		   settings.hasContent = true;
		   settings.data = $.param({LikeStr: $("#upload-search").val(), uni_id: $(".uni-id").val()});
		},
		type: "POST"
	}
},
  limit: Number.MAX_VALUE
});

/**
* Render function for search results json
*/
function pushResults(data,type,results) {
	$('#search-start').hide();
	
	// why on earth dont we have search results?! Well at least let the user know
	if (results == 0) {
		data.noResult = {title : "No results"};
	}

	// Get template
	$.get('/templates/search_' + type.toLowerCase() + '.html?update=1421232275', function(template) {
		// append data with Mustache
		$('#search-results-' + type.toLowerCase()).html(Mustache.render($(template).filter('#search' + type + 'Tpl').html(), data));
	});
}

//initialize the search engines
courses.initialize();
books.initialize();
docs.initialize();
unis.initialize();
studies.initialize();
uploads.initialize();

function initialize_study_typeahead() {
	studies.clearRemoteCache(); //clear the cache for the courses, we need to re-search by ajax
	$('input[id="study_typeahead"]').typeahead( {
		  hint: true,
		  highlight: true,
		  minLength: 1,
		} , {
		  //create the COURSE search
		  //display in the search bar the name of the course
		  displayKey: 'naam',
		  source: function (query, cb) { 
			  // Get the data from the Bloodhound engine and process it.
			  studies.get(query, function (suggestions) {
				// push all our results, the ajax script is making sure we only fetch the neccecary
				cb(suggestions[1]);
			  })
			},
	      templates: {
		 	empty : '<span class="tt-no-suggestion">No studies found</span>' 
	  	  }
	})
	.on('typeahead:selected', function(obj, datum, name) { 
		//get the selected id
		var study_id = datum.id;
		if (study_id != 0) {
			$("#study_id").val(study_id); //update hidden input with the id
		}
	});
}


function initialize_book_typeahead() {
	books.clearRemoteCache(); //clear the cache for the courses, we need to re-search by ajax
	$('input[id="book_typeahead"]').typeahead( {
		  hint: true,
		  highlight: true,
		  minLength: 1,
		} , {
		  //create the COURSE search
		  //display in the search bar the name of the course
		  displayKey: 'title',
		  source: function (query, cb) { 
			  // Get the data from the Bloodhound engine and process it.
			  books.get(query, function (suggestions) {
				// push all our results, the ajax script is making sure we only fetch the neccecary
				cb(suggestions[0].data.books);
				var dropdown = $(".book-add").find(".tt-dropdown-menu");
				console.log(dropdown);
				if (dropdown.find(".tt-add-course").length == 0) {
					dropdown.append('<span class="tt-add-course help-block add-book" style="margin-left:10px; cursor:pointer"><span class="glyphicon glyphicon-question-sign"></span> '+suggestions[0].data.addCourse+'</span>');
				}
			  })
			},
	      templates: {
		 	empty : '<span class="tt-no-suggestion">No books found</span>' ,
			suggestion: function (context) {
		        return Mustache.render('<p>{{title}} <br /><span class="text-muted"><small>{{author}}</small></span></p>', context);
		    }
	  	  }
	})
	.on('typeahead:selected', function(obj, datum, name) { 
		//get the selected id
		var book_id = datum.id;
		var book_name = datum.title;
		var book_author = datum.author;
		var book_isbn = datum.isbn;
		//are we on the upload page? then we need to fetch the course_id and do other stuff!
		if ($(this).data("n")) {
			var n = $(this).data("n");
			$("#isbn_book_typeahead" + n).val(book_isbn);
		} else {
			var course_id = $("#course_id_book_typeahead").val();
			if (book_id != 0) {
				var message = 'Are you sure you want to add "%s" to this course?';
				bootbox.dialog({
					message: message.replace("%s", book_name),
					title: "Add",
					buttons: {
						main: {
							label: "No", 
							className: "btn-primary",
						},
						succes: {
							label: "Yes",
							className: "btn-success",
							callback: function ()
							{
								$('input[id="book_typeahead"]').typeahead('val', '');
								$.post("/ajax/book_course_suggestion.php", {book_id: book_id, course_id:course_id}, function(data) {
									//return 1 = already a connection
									//return 2 = already submitted by this user_id
									//return 3 = succes!
									if (data.result == 1) {
										bootbox.dialog({
											message: "This book is already connected to this course.",
											title: "Thanks",
											buttons: {
												main: {
													label: "Ok",
													className: "btn-primary",
												}
											}
											});
									}
									else if (data.result == 2) {
										bootbox.dialog({
											message: "You already connected this book and course yourself.",
											title: "Thanks",
											buttons: {
												main: {
													label: "Ok",
													className: "btn-primary",
												}
											}
											});
									}
									else if (data.result == 3) {
										bootbox.dialog({
											message: "Thank you for your contribution!",
											title: "Thanks",
											buttons: {
												main: {
													label: "Ok",
													className: "btn-primary",
												}
											}
										});
										var htmlAppend = '<tr class="document-list item-show">'+
															'<td width="20">'+
															'<div class="list-icon-book list-icon-small">'+
																'<i class="fa fa-fw fa-book"></i>'+
															'</div>'+
															'</td>'+
															'<td>'+
																'<a href="'+data.href+'">'+book_name+'</a><br>'+
																'<span class="filename">'+book_author+'</span>'+
															'</td>'+
														'</tr>';
										$(".book-add").before(htmlAppend);
									}
								}, "json");
							}
						},

					}
				})
				
			} else {
				addbook();
			}
		}
	});
}

function initialize_uni_typeahead()
{
	//create the type ahead for the university search
	$('input[id="uni_typeahead"]').typeahead( {
	  hint: true,
	  highlight: true,
	  minLength: 1,
	} , {
	  name: 'naam',
	  displayKey: 'naam',
	  //create the COURSE search
	  source: function (query, cb) { 
		  // Get the data from the Bloodhound engine and process it.
		  unis.get(query, function (suggestions) {
			// push all our results, the ajax script is making sure we only fetch the neccecary
			cb(suggestions[1]);
		  })
		},
	  templates: {
		 empty : '<span class="tt-no-suggestion">No institutions found</span>' 
	  }
	})
	.on('typeahead:selected', function(obj, datum, name) { 
		//get the selected id
		var uni_id = datum.id;
		var header = false;
		var nameLocation = 'uni-typeahead';
		var idLocation = 'uni-id';
		if ($(this).hasClass('uni-typeahead-search')) {
			var header = true;
			nameLocation += '-search';
			idLocation += '-search';
		}
		var activation_req = datum.activation_req;
		if (uni_id != 0) {
			$('.'+idLocation).val(uni_id); //update hidden input with the id
			$.post('/ajax/change_university.php', {uni_id:uni_id, header: header}, function (data) {
				$(".uni-naam-filter").html(data);
			});
			if (header == false) {
				
				if ($("#studiediv").length != 0) {
					$("#study_typeahead").val('');
					$("#study_id").val(0);
					studies.clearRemoteCache(); //clear the cache for the courses, we need to re-search by ajax
				}

				if (activation_req) {
					$('div[id="studiediv"]').show();
				}
				else if ($("#studiediv").length != 0)
				{
					$('div[id="studiediv"]').hide();
				}
				//are we on the update page?
				if ($('.upload-courses').length != 0) {
					$(".upload-courses").html(''); //empty the current results
					uploads.clearRemoteCache(); //clear the cache for the uploads, we need to re-search by ajax
					//little hack to reinitiate the search and typahead
					var myVal = $("#upload-search.typeahead").typeahead('val'); //store the current value of the search box
					$("#upload-search.typeahead").typeahead('val', '').focus().typeahead('val', myVal); //empty the current searchv alue, set focus to the search text and restore the value and it will auto search again
				}
			}
			else
			{
				//do we have a uni select in the header?
				if ($(".awesomebar-search").hasClass("hidden") ) {
					hideUniSearch();
				}
			}
		}
	})
	.on("focus", function() {
		var myVal = $(this).typeahead('val');
		if (myVal != '') {
			$(this).typeahead('val', '').focus().typeahead('val', myVal);
		}
	});
}

function hideUniSearch() {
	$(".awesomebar-select").addClass("hidden");
	$(".awesomebar-search").removeClass("hidden");
	$("#search-filter").slideDown();
	var myVal = $("#header-search").typeahead('val');
	if(myVal != '') {
		$("#header-search").typeahead('val', '').focus().typeahead('val', myVal);
	} else {
		$("#search-start").show();
	}
	$("#header-search").focus();
}

function showUniSearch() {
	$(".uni-typeahead-search").val('');
	$(".uni-id-search").val(0);
	$(".awesomebar-select").removeClass("hidden");
	$(".awesomebar-search").addClass("hidden");
	$("#search-start").show();

	
	$("#search-filter").slideUp();


	$(".uni-typeahead-search").focus();
	$.post('/ajax/change_university.php', {uni_id:0, header: "true"});
}

function initialize_typeahead()
{
	initialize_uni_typeahead();
	initialize_study_typeahead();
	initialize_book_typeahead();
}

$(document).ready(function(e) {
	// Close alertbar
	$(".close").click(function() {
		$("#alertbar").slideUp();
	});
	
	$(".show-uni-search").click(function() {
		showUniSearch();
	});
	
	// Initialize bootstrap tooltips
	$("[data-toggle='tooltip']").tooltip();
	
	// Add courses button, focus on header search field.
	$('.add-courses').click(function() {
		$('#header-search').focus();
	});
	
	// Set header dimensions
	resizeHeader();
	
	/**
	* Follow course
	*/
	$('body').on('click', '.follow-course', function(event){
		var follow = $(this).data('follow');
		var courseId = $(this).data('id');
		var button = $(this).find('.fa');
		var listItem = $(this).parent('div');
		
		$.post('/ajax/follow_course.php', { follow:follow, course_id:courseId}, function(data) {
			if (follow == 1) {
				button.removeClass('fa-plus').addClass('fa-check');
			} else {
				listItem.slideUp();
				
				// Last item to be deleted
				if($('.user-courses .search-item:visible').length == 1) {
					$('.user-courses').html($('.no-courses').html());
				}
			}
		});
	});

	/**
	* Toggle search elements
	*/
	$('#header-wrapper').on('focus','#header-search',function(e) {
		// Show search, hide other header elements
		$('.search-show').show();
		$('.search-hide, #content').hide();
		$('.header-middle').addClass('search-full');
	});
	
	$('#header-wrapper').on('click','#search-back',function(e){
		$(".search_bar").val('');
		$('.search-show').hide();
		$('.search-hide, #content').show();
		$('.header-middle').removeClass('search-full');
		userCourses();
	});
	
	/**
	* Toggle mobile search elements
	*/
	$('.mobile-search-toggle, .add-courses').click(function(){
		$(".header-left, .header-right-mobile").hide();				
		$('.header-middle').show();
		$("#header-search").focus();
	});
	$('.search-close-mobile').click(function(){
		$('.header-middle').hide();
	});
	
	

	// Create the type ahead for the search
	$('#upload-search.typeahead').typeahead({
	  minLength: 1
	},
	{
	  //create the COURSE search
	  //display in the search bar the name of the course
	  displayKey: 'naam',
	  source: function (query, cb) { 
		  // Get the data from the Bloodhound engine and process it.
		  uploads.get(query, function (suggestions) {
			// push all our results, the ajax script is making sure we only fetch the necessary
			pushResultsUpload(suggestions[0]['data'],'Courses',suggestions[0]['recordsTotal']);
		  })
		},
	});
	
	// Add course
	$('.upload-courses').on('click', '.search-item', function(event) {
		 var courseId = $(this).data('id');
		 var courseName = $(this).data('name');
		 var courseCode = $(this).data('code');
		 var prevId = $(this).closest('.dropzone').attr('data-courseId');
		 
		 // Update ui
		 $('.course_search').slideUp();
		 $(this).closest('.panel').find('.panel-title').html(courseName + ' (' + courseCode + ')');
		 $(this).closest('.panel').find('.upload-controls').slideDown();
		 $(this).closest('.dropzone').attr('data-courseId', courseId);
		 $(this).closest('.panel').find('.edit_course').show();
		
		 // Update course in DB table queue if applicable
		 if (prevId != '' && prevId != 0) {
			$.post('/ajax/upload_update_course.php', { prev_id:prevId, new_id:courseId}); 
		 }
	});

	//create the type ahead for the search
	$('#scrollable-dropdown-menu-search .typeahead').typeahead({
	  hint: true,
	  highlight: true,
	  minLength: 1
	},
	{
	  //create the COURSE search
	  //display in the search bar the name of the course
	  displayKey: 'naam',
	  source: function (query, cb) { 
		  // Get the data from the Bloodhound engine and process it.
		  courses.get(query, function (suggestions) {
			// push all our results, the ajax script is making sure we only fetch the neccecary
			pushResults(suggestions[0]['data'],'Courses',suggestions[0]['recordsTotal']);
		  })
		},

	},
	{
	  //create the BOOK search
	  //display in the search bar the title of the book
	  displayKey: 'title',
	  source: function (query, cb) { 
		  // Get the data from the Bloodhound engine and process it.
		  books.get(query, function (suggestions) {
			// push all our results, the ajax script is making sure we only fetch the neccecary
			pushResults(suggestions[0]['data'],'Books',suggestions[0]['recordsTotal']);
		  })
		}
	},
	{
	  //create the DOCUMENT search
	  //display in the search bar the title of the book
	  displayKey: 'beschrijving',
	  source: function (query, cb) { 
		  // Get the data from the Bloodhound engine and process it.
		  docs.get(query, function (suggestions) {
			// push all our results, the ajax script is making sure we only fetch the neccecary
			pushResults(suggestions[0]['data'],'Documents',suggestions[0]['recordsTotal']);
		  })
		}
	});
	
	
	/**
	* Script used for dropdown notifications in header
	*/
		initialize_typeahead();
	
	$("#language").change(function() {
		var lan = $(this).val();
		$.post('http://' + window.location.hostname + '/ajax/change_language.php',{lan:lan},
			function(data){
				location.reload();
			}
		);
	});
	
	/**
	* Open add courses modal
	*/
	$('body').on('click','.add-course',function(){
		$.get('/modals/addCourse.php',function( data ) {
			var html = data;
	
			bootbox.dialog({
				message: html,
				title: "Add course"
			});
		});
	});

	$('body').on('click','.add-book',function(){
		var course_id = 0;
		var upload = 0;
		var n = 0;
		//are we on the upload page and do we need to extract the course id from the dropdown itself?
		if ($(this).parent().parent().parent().parent().data("course")) {
			course_id = $(this).parent().parent().parent().parent().data("course");
			n = $(this).parent().parent().parent().parent().data("n");
			upload = 1;
		}
		addbook(course_id, upload, n);
	});
});

/**
* Open add book modal
*/
function addbook(course_id, upload, n){
	upload = typeof upload !== 'undefined' ? upload : 0;
	n = typeof n !== 'undefined' ? n : 0;
	
	$.post('/modals/addBook.php', {course_id: course_id, upload: upload, n: n, }, function( data ) {
		var html = data;

		var bootboxAddBook = bootbox.dialog({
			message: html,
			title: "Add book"
		});
	});
}



/**
* Open add study modal
*/
function addstudy(){
	$.get('/modals/report_studie.php', function( data ) {
		var studie_html = data;

		bootbox.dialog({
		message: studie_html,
		title: "Request study"
		});
	});
}

/**
* Open add related book modal
*/
function addRelatedBook(course_id){
	$.get('/modals/addRelatedBook.php', {course_id: course_id}, function( data ) {
		var html = data;

		var bootboxAddRelatedBook = bootbox.dialog({
			message: html,
			title: "Add book"
		});
	});
}
</script><!-- Login & Register -->
<script>
$(document).ready(function(){
	
	/* ==================================== LOGIN ==================================== */
	// Check email function
	function isValidEmailAddress(emailAddress) {
		var pattern = new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);
		return pattern.test(emailAddress);
	};
	
	// Login submit
	$(document).on('submit', '.login_form' ,function(e) {
		e.preventDefault();
		email = $('#login-email').val();
		password = $('#login-password').val();
		store = $('#login-store').val();
		
		// Reset possible previous errors
		$('.login-email, .login-password').removeClass('has-error').children('span').addClass('hidden');
		$('.login-error-container').hide()
		
		if(email == '' || password == '') {
			if(email == '') { // Check if email field is empty
				$('.login-email').addClass('has-error').children('span').removeClass('hidden');
			}
			if(password == '') { // Check if password field is empty
				$('.login-password').addClass('has-error').children('span').removeClass('hidden');
			}
		} else {
			if(isValidEmailAddress(email)) { // Validate email
				$.post("/ajax/login.php", { username: email, password: password, remember_me: store })
					.done(function( data ) {
						data = jQuery.parseJSON(data);	
									
						if(data.auth == 'ok') {
							// Login succesfull, reload page
							location.reload();
						} else { 
							// Login failed, show error
							if(data.auth == 'fail') {
								error = 'The e-mail address or password you entered is incorrect. Please try again, or <a href="http://www.studocu.com/forgot">reset your password</a>.';								
							} else if(data.auth == 'inactive') {
								// Redirect to activation when account is inactive
								error = 'This account has not yet been activated. <br />If you didn&#39;t receive your activation e-mail, please check your spam folder.';
								var activation_link = '<a href="http://' + window.location.hostname + '/register.php?id=' + data.user_id + '&register=activatie">Click here to send another activation e-mail.</a><br /><br />';
								$('.login-error-container').after(activation_link);
							} else if(data.auth == 'deleted') {
								error = 'This account has been deleted.';
							} else if(data.auth == 'blocked') {
								error = 'This account has been blocked due to possible abuse. Please contact jacques@StuDocu.com';
							}
							$('.login-error-container').html(error).hide().removeClass('hidden').slideDown();
						}
				}, "json");
			} else {
				// Invalid email
				$('.login-email').addClass('has-error').children('span').removeClass('hidden');
				$('.login-error-container').html('Invalid e-mail address').removeClass('hidden');
			}			
		}
	});


	// Register submit
	$(document).on('submit', '.register_email' ,function(e) {									
		e.preventDefault();
		voornaam = $('#voornaam').val();
		achternaam = $('#achternaam').val();
		email = $('#email').val();
		password = $('#password').val();
		
		// Reset possible previous errors
		$('#email, #password').removeClass('has-error').children('span').addClass('hidden');
		$('.register-error-container').hide();
		$('.register-error-container').html('');
		
		var error;
		
		if(email == '' || password == '') {
			if(email == '') { // Check if email field is empty
				$('#email').addClass('has-error').children('span').removeClass('hidden');
			}
			if(password == '') { // Check if password field is empty
				$('#password').addClass('has-error').children('span').removeClass('hidden');
			}
		} else {
			if(password.length < 6) {
				$('.register-error-container').html('Wachtwoord moet minimaal 6 karakters lang zijn');
				$('.register-error-container').hide().removeClass('hidden').slideDown();
			} else if(isValidEmailAddress(email)) { 
				// Validate email			
				$('#register_submit').prop('disabled', true); // Disable submit btn
				
				// Check for disposable email
				$.post('/ajax/email.php',
					{email:email},
					function(data)
					{
						// Genuine address, continue
						if(data == 'OK') {
							$.post('/ajax/registreren.php',
								{
									email:email,
									voornaam: voornaam,
									achternaam: achternaam,
									password: password
								},
								function(data) {
									// Hide & Reset form
									$('.register_email').slideUp();
									$('#register_form').trigger("reset");
									$('#register_submit').prop('disabled', false); // Re-enable submit
									
									// E-mail activation
									data = jQuery.parseJSON(data);	
									if(data.result) {
										$.post('/ajax/activation_email.php', { user_id: data.id });
											
											// Show success dialog
											bootbox.dialog({
											message: '<div class="alert alert-success">Your account has been created. You will receive an e-mail to activate your account shortly.</div><br><center><span class="glyphicon glyphicon-warning-sign"></span> <strong>Your activation e-mail could be in your spam folder.</strong></center>',
											title: "Account aangemaakt",
											buttons: {
												success: {
													label: "Ok",
													className: "btn-primary"
												}
											}
										});
										
										// Send to Analytics
										ga('send', 'event', { eventCategory: 'Register', eventAction: 'Email'});
									} else {
										// Show error dialog
										bootbox.alert("Registration failed");	
									}																												
								}
							);
							
						} else if(data == 'FAKE') {
							$('#register_submit').prop('disabled', false); // Re-enable submit
							if($('.register-error-container').html().length != 0)
							{
								$('.register-error-container').append('<br />');
							}
							$('.register-error-container').append('This e-mail adress is not allowed.');
							$('.register-error-container').hide().removeClass('hidden').slideDown();
						} else {
							$('#register_submit').prop('disabled', false); // Re-enable submit
							if($('.register-error-container').html().length != 0)
							{
								$('.register-error-container').append('<br />');
							}
							$('.register-error-container').append('This e-mail address has already been registered with us.<br /><a href="/forgot">Wachtwoood vergeten?</a>');
							$('.register-error-container').hide().removeClass('hidden').slideDown();
						}				
					}
				);
			} else {
				// Invalid email
				$('#email').addClass('has-error').children('span').removeClass('hidden');
				$('.register-error-container').html('Invalid e-mail address').removeClass('hidden');
				$('.register-error-container').hide().removeClass('hidden').slideDown();
			}			
		}
			
	});
	
	// Login modal
	$(document).on('click', '.login' ,function() {
		$.get('/modals/login.php', function( data ) {
			var login_html = data;

			bootbox.dialog({
			message: login_html,
			title: "Log in"
			}).find("div.modal-dialog").addClass("bootbox_login");
		});
	});
});
</script><!-- Facebook -->
<script>
var FB; // to avoid error "undeclared variable", until FB got initialized
var myQueue = new Array();
function queueAdd(f){

  if (typeof FB === "undefined")
    myQueue.push(f);
  else
    f();
}

function processQueue(){

  var f;
  while(f = myQueue.shift())
    f();
}

//show bootbox when facebook like worked
show_bootbox = function(){
	$(".facebook_like").slideUp();
	bootbox.dialog(
	{
		title: "Thanks for your Facebook like",
		message: "Thanks for your like! You now have access to 1 premium document!", 
		buttons:
		{
			succes:
			{
				label : "Ok",
				className : "btn-success"
			}
		}
	});
}

show_bootbox_wallpost = function(){
	bootbox.dialog(
	{message: "Thanks for your post! For every new user you bring in you will both get 2 weeks access to premium documents! ",
	buttons: {
		success: {
		label : "Ok",
		className : "btn-success"
		}
	}
	, title: "Thank you for your Facebook post"});
}

//show bootbox when facebook like didnt work
show_bootbox_error = function(){
	bootbox.dialog(
	{
		title: "Facebook account already used.",
		message: "The Facebook account you&#39;ve logged in with has already been used. Please log out on Facebook or choose another option.", 
		buttons:
		{
			main:
			{
				label : "Ok",
				className : "btn-primary"
			}
		}
	});
}



//initialize facebook
window.fbAsyncInit = function() {
	FB.init({
		  appId      : '504628762969867', // App ID
		  channelUrl : '//www.studocu.com/script/facebook/channel.html', // Channel File
		  status     : false, // check login status
		  cookie     : true, // enable cookies to allow the server to access the session
		  xfbml      : true, // parse XFBML,
		  version    : 'v2.1'
	});
	
	//initialize all the FB dependant functions
	processQueue();
};

//quick check if you are logged in for a facebook like
function facebook_check_logged_in()
{
	FB.getLoginStatus(function(response) {
	  if (response.status === 'connected') {
		// connected
		   checkLike(response.authResponse.userID);
	  } else if (response.status === 'not_authorized') {
		// not_authorized
		$("#loader").hide();
		$("#fb_auth").show();
	  } else {
		// not_logged_in
		$("#loader").hide();
		$("#fb_auth").show();
	  }
	 });
}


//log out from facebook and show the like button
//do NOT log out from our website!
function facebook_logout() {
	$("#fb_auth_out").hide();
	$("#loader").show();
	FB.getLoginStatus(function(response) {
		if (response && response.status === 'connected') {
			FB.logout(function(response) {
				$("#loader").hide();
				$("#fb_auth").show();
			});
		}
		else
		{
			$("#loader").hide();
			$("#fb_auth").show();
		}
	});
}

//log in to facebook and show the facebook like button
function facebook_login() {
	FB.login(function(response) {
		if (response.authResponse) {
			checkLike(response.authResponse.userID);
			show_like_button();
		} else {
			// cancelled
		}
	});
}

//log in to facebook and show the facebook like button
function facebook_login_profile_pic() {
	FB.login(function(response) {
		if (response.authResponse) {
			// connected
			$("#loader").show();
			$("#fb-auth").hide();
			FB.api('/me', function(response) {
			 $.post('http://www.studocu.com/ajax/update_facebook.php', {uid:response.id}, function(data){
				if(data == 1)
				{
					show_bootbox_error();
					$("#loader").hide();
					$("#fb_auth_out").show();
				}
				else
				{
					location.reload();
				}
				});
			});
		
		} else {
			// cancelled
		}
	});
}

function facebook_logout_profile_pic() {
	$("#fb_auth_out").hide();
	$("#loader").show();
	FB.logout(function(response) {
		$("#loader").hide();
		$("#fb-auth").show();
	});
}	


function post_user_wall()
{

	FB.ui(
	  {
	   method: 'feed',
	   name: 'StuDocu.com',
	   caption: '',
	   link: 'http://www.studocu.com/invite/',
	   picture: 'http://www.studocu.com/images/S.png',
	   description: 'Free Summaries, Old Exams, Lecture Notes & Solutions'
	  },
	  function(response) {
		if (response && response.post_id) 
		{
		  $.ajax({
				type: "POST",
				url: "http://www.studocu.com/ajax/facebook_referral.php"
			})
			.done(function() {
				show_bootbox_wallpost();
			})
		  
		}
	  }
	);
	
}

//log in to facebook and our website
function facebook_log_in_function()
{
	FB.login(function(response) 
		{
			if (response.status === 'connected') {
			$(".fb_signin").parent().html($(".fb_signin").parent().html() + '<img class="loader" style="padding:7px;" src="http://www.studocu.com/images/ajax-loader.gif">');
			$(".fb_signin").hide();
			  FB.api('/me', function(user_data) 
			  {
				  
				  $.ajax({
					type: "POST",
					url: "http://www.studocu.com/ajax/facebook_login.php",
					data: { signed_request: response.authResponse.signedRequest, user_data: user_data }
					})
					.done(function(signin) 
					{
		
						var signin_result = jQuery.parseJSON(signin);
						
						if(signin_result.auth == 'ok') 
						{
							if(signin_result.status >= 1) {
								// Auth ok & account active, reload page
								location.reload();
							} else if(signin_result.status == 0) {
								// Auth ok & account not active 

								// Log new registration to GA
								if(signin_result.action == 'registered' && signin_result.is_new == true) {
									ga('send', 'event', { 
										eventCategory: 'Register', 
										eventAction: 'Facebook',
										hitCallback: function() {
											//Forward to activate
											window.location.replace("/activate.php?method=facebook");
										}
									});
								} else {
									//Forward to activate
									window.location.replace("/activate.php?method=facebook");
								}
							}
							else
							{
								//something is wrong
								facebook_log_out_function();
								show_alert(signin_result.error);
								$(".loader").hide();
								$(".fb_signin").show();
							}
						} else if(signin_result.auth != 'ok') {
							show_alert(signin_result.error);
							$(".loader").hide();
							$(".fb_signin").show();
						}
				});
			  });
			}
		 }, {scope: 'email'})
	
}

//log out to our website
function logout_ajax_function()
{
	$.ajax({
			type: "POST",
			url: "http://www.studocu.com/ajax/logout.php"
			})
			.done(function( msg ) {
									window.location = 'http://www.studocu.com' + window.location.pathname;
					});
}

//log out to facebook
function facebook_log_out_function()
{
	FB.getLoginStatus(function(response) {
		if (response && response.status === 'connected') {
			FB.logout(function(response) {
				logout_ajax_function();
			});
		}
		else
		{
			logout_ajax_function();
		}
	});
}

// Get friend list

function friendlist_check_login()
{
	FB.getLoginStatus(function(response) 
	{
		if (response.status === 'connected') 
		{
			// Logged into your app and Facebook.
			FB.api('/me/friends', function (response) 
			{
				var friendTotal = (Object.keys(response.data).length); // Total number of friends
				
				// Only show friends if total number of friends meets or exceeds minimum.
				if(friendTotal >= $('#friendlist').data('min-friends')) {
					var friendMarkup = '';
					response.data.sort(function() { return 0.5 - Math.random() });
					$.ajax({
						type: "POST",
						url: "http://www.studocu.com/ajax/facebook_users.php",
						data: { 
							user_data: response.data,
							nodig: $('#friendlist').data('max-friends') // Number of friends shown
						}
					})
					.done(function(json) {
						var data = JSON.parse(json);
						
						$.each(data, function(e, v){
							friendMarkup += '<img src="https://graph.facebook.com/' + v.id + '/picture?type=square" alt="'+ v.naam +' picture" data-toggle="tooltip" data-placement="top" title="' + v.naam + '" class="img-thumbnail" />';
						});
						
						$("#friendlist").html(friendMarkup);
						$('#friend_total').html(friendTotal);
						$('[data-toggle="tooltip"]').tooltip();
						
						$(".friendlist_wrapper").slideDown();
					});	 
				}
			});
	
		}
	});
}

//add the login and logout functions to all the buttons
$(document).ready(function(){
	// Signout function
	$('.signout').click(function(){
		queueAdd(facebook_log_out_function);
	});
	
	// Facebook signin function
	$(document).on('click', '.fb_signin' ,function(){
		queueAdd(facebook_log_in_function);
	});
	
	if($("#friendlist").length != 0)
	{
		queueAdd(friendlist_check_login);
	}
});


(function(d, s, id){
 var js, fjs = d.getElementsByTagName(s)[0];
 if (d.getElementById(id)) {return;}
 js = d.createElement(s); js.id = id;
 js.src = "//connect.facebook.net/en_US/sdk.js";
 fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script>
</body></html>