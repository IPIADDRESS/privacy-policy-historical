<!--The following is the downloaded HTML source of the flytap.com privacy policy that was archived on 2014-06-25.
 Please check the original snapshot on the Wayback Machine (https://web.archive.org/web/20140625155625id_/http%3A//www.flytap.com/USA/enus/others/footer/privacy) for the most accurate reproduction.-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="pt" xmlns:fb="http://www.facebook.com/2008/fbml"><head>
	<base href="http://new.flytap.com/prjdir/flytap/">
	<!--PRD-->        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>Privacy | TAP Portugal</title>
<meta name="keywords" content="book a flight, TAP, TAP Portugal, flights, cheap flights, flight, airline tickets, airline, travel, vacations, privacy">
<meta name="description" content="Safety Conditions, Privacy Policy and Use of Cookies in the TAP Portugal website.">        <meta name="language" content="en">
        <meta property="og:image" content="http://www.flytap.com/mediaRep/editors/logos/logo_tap_pt.png">
		<meta property="og:site_name" content="http://www.flytap.com"> 
        <!-- MOREINFO   link href="css/general.css?231" rel="stylesheet" media="all" / --> 
        <link href="css/main.css" rel="stylesheet" media="all">
	<!--link href="http://bo-victoria.tap.pt/bb.css" rel="stylesheet" media="all" /--> 
        <!--[if IE 7]><link href="css/ie7.css" rel="stylesheet" media="all" /><![endif]--> 
        <!--[if IE 8]><link href="css/ie8.css" rel="stylesheet" media="all" /><![endif]--> 
        <link href="css/print.css" rel="stylesheet" media="print"> 
        <link rel="shortcut icon" type="image/ico" href="http://www.flytap.com/favicon.ico"> 
	<link href="css/jquery-ui.css" rel="stylesheet" media="all">        
	
<script type="text/javascript" async="" src="https://apis.google.com/js/plusone.js"></script><script id="twitter-wjs" src="//platform.twitter.com/widgets.js"></script><script async="" src="//www.googletagmanager.com/gtm.js?id=GTM-MD8C3Q"></script><script async="" src="//connect.facebook.net/en_US/fbds.js"></script><script>var js_site='us';var js_lang='enus';</script>
<script type="text/javascript" src="http://www.flytap.com/ajaxLoad.js"></script>
<script type="text/javascript" src="http://www.flytap.com/javascript/jquery-1.4.4.min.js"></script>
<script type="text/javascript" src="http://www.flytap.com/javascript/submission.js"></script>
<script type="text/javascript" src="http://www.flytap.com/getObject.php"></script>
<script type="text/javascript" src="http://www.flytap.com/javascript/seed3.js"></script>
<!--link rel="stylesheet" href="http://www.flytap.com/css/seed3_frontoffice.php" type="text/css" media="screen" charset="utf-8" /-->
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.10/jquery-ui.min.js" type="text/javascript"></script>

	<!--script type="text/javascript" src="http://www.flytap.com/javascript/flytap/AC_RunActiveContent.js"--><!--/script--> 

	<link href="css/general.css?info_22" rel="stylesheet" media="all"> <style>.banners-dialog-terms, .slideshow-dialog-terms, .megadrop-dialog-terms {height: 265px; width:575px;font-size 12px;}    
    .slideshow-dialog-terms{margin-left:-175px !important;}
    .megadrop-dialog-terms{margin-left:-75px !important; }
    .banners-dialog-terms{margin-left:-175px !important;}
    
    </style>	<script type="text/javascript" src="http://www.flytap.com/javascript/flytap/jqueries.min.js?abc"></script> 
    	
	<script type="text/javascript" src="http://www.flytap.com/javascript/flytap/my_scripts.js?info_7"></script>
	<!--script type="text/javascript" src="http://www.flytap.com/javascript/flytap/my_scripts_bak_TABS.js?2"></script-->
    	<!--MC issue 1548 script type="text/javascript">
	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-20960738-1']);
	  _gaq.push(['_setDomainName', '.flytap.com']);
	  _gaq.push(['_trackPageview']);
	  _gaq.push(['b._setAccount', 'UA-38292924-1']);
	  _gaq.push(['b._setDomainName', 'flytap.com']);
	  _gaq.push(['b._setAllowLinker', true]);
	  _gaq.push(['b._trackPageview']);
	</script-->
    <script type="text/javascript" src="http://www.flytap.com/javascript/jquery-validate/jquery.validate.min.js"></script>
<script type="text/javascript" src="http://www.flytap.com/javascript/flytap/languages/jquery.ui.datepicker-enus.js"></script>

<script>
var SEED3_URL = "http://" + document.location.hostname + "/";
function setCookie(c_name, value, exdays, path, domain) {
    domain = typeof domain !== 'undefined' ? domain : '.flytap.com';
    var exdate = new Date();
    exdate.setDate(exdate.getDate() + exdays);
    var c_value = escape(value) + ((exdays == null) ? "" : "; expires="+exdate.toUTCString());
    var c_path = (path == null)? ";path=/" : ";path=" + path;
    document.cookie=c_name + "=" + c_value + c_path + ";domain=" + domain;
}

	
function getCookie(c_name) {
    var i,x,y,ARRcookies=document.cookie.split(";");

    for (i=0;i<ARRcookies.length;i++) {
        x=ARRcookies[i].substr(0,ARRcookies[i].indexOf("="));
        y=ARRcookies[i].substr(ARRcookies[i].indexOf("=")+1);
        x=x.replace(/^\s+|\s+$/g,"");

        if (x==c_name) {
            return unescape(y);
        }
    }

    return -1 ;
}

</script>

<!-- Mercado Montenegro - issue 1288 -->


	<!-- tag pinterest -->
	<meta name="p:domain_verify" content="3dd62297ce9de2d2f27367445b05f26d">

	<!-- script fb -->
	<script>(function() {
		var _fbq = window._fbq || (window._fbq = []);
		  	if (!_fbq.loaded) {
		    	var fbds = document.createElement('script');
		    	fbds.async = true;
		    	fbds.src = '//connect.facebook.net/en_US/fbds.js';
		    	var s = document.getElementsByTagName('script')[0];
		    	s.parentNode.insertBefore(fbds, s);
		    	_fbq.loaded = true;
		  	}
		  	_fbq.push(['addPixelId', '1413553652241869']);
		})();
		window._fbq = window._fbq || [];
		window._fbq.push(['track', 'PixelInitialized', {}]);
	</script>
	<noscript><img height="1" width="1" border="0" alt="" style="display:none" src="https://www.facebook.com/tr?id=1413553652241869&ev=NoScript"/></noscript>
	</head>
	<body class="alert"><!--
NOTA:
Quando usares este template, tens que colocar class="alert" no body
-->


			   	<div id="header-alert-bar" class="alert-bar">
					<div class="center">
						<div class="alert-icon"></div>
						<div class="alert-items-3"> 
						<!-- cada item com limit maximo de 45 caracteres -->
							<div class="alert-item" ss3__article__id="67290">
<a href="http://www.flytap.com/USA/enus/PlanBook/PrepareforTravel/strike" target="_blank" title="More information"><span>Air traffic controllers strike in France until the 29th June. More information here.</span></a>

							</div>
								</div>
					</div>
				</div>
<!--MC issue 1548 Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MD8C3Q"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MD8C3Q');</script>
<!-- End Google Tag Manager -->

<div id="browsers-bar-container" style="display: none; background: #FFF; position: fixed; top: 0; left: 0; width: 100%; z-index: 10000; height: 45px;">
		<div style="max-width: 1121px; margin: 0 auto; position: relative; padding-top: 7px;">
			<div id="browser_container">
				<div id="browserBar1" class="browser-bar-label" style="float: left; padding-top: 10px;">
					<div class="bold title" style="float: left; font-weight: bold;" ss3_article_id="67760">You are using an older version of your browser.</div>
					<div class="title" style="float: left;" ss3_article_id="67783">&nbsp;Please update it for a better user experience.</div>
				</div>
				<div id="items" class="items" style="float: left;">
					<div class="item" style="float: left; margin: 0 6px 0 24px; position: relative;" ss3_article_id="67758">
						<a class="" href="http://windows.microsoft.com/en-US/internet-explorer/downloads/ie " title="Link para download" target="_blank" id="a9bd1fc05e23fe4408b629c83d3ed513">							<img src="mediaRep/editors/Contentimages/ICONS/update-browser-button.gif" alt="Internet Explorer">
							<div style="position: absolute; min-width: 104px; top: 10px; left: 31px; cursor: pointer; text-decoration: none; font-weight: bold; color: #000;" ss3_article_id="67784">
							Update now</div>
						
</a>
					</div>
					<div class="item" style="float: left; margin-left: 6px; padding-top: 8px;" ss3_article_id="67763">
						<a class="" href="https://www.google.com/chrome" title="download google chrome" target="_blank" id="8230890cd0ed49b74ed40c489a044266">							<img src="mediaRep/editors/Contentimages/ICONS/icon-small-chrome.gif" alt="Mozilla Firefox">
						
</a>
					</div>
					<div class="item" style="float: left; margin-left: 6px; padding-top: 9px;" ss3_article_id="67764">
						<a class="" href="http://www.mozilla.org/firefox/new/" title="download firefox" target="_blank" id="3dee39fe63573ebecdc380b6ac87d784">							<img src="/mediaRep/editors/Contentimages/ICONS/icon-small-firefox.gif" alt="Google Chrome">
						
</a>
					</div>
					<div class="item" style="float: left; margin-left: 6px; padding-top: 9px;" ss3_article_id="67765">
						<a class="" href="http://www.opera.com/download/" title="download opera" target="_blank" id="26ef085237d067b50aeaaab4e64daf7f">							<img src="mediaRep/editors/Contentimages/ICONS/icon-small-opera.gif" alt="Opera">
						
</a>
					</div>
					<div class="item" style="float: left; margin-left: 6px; padding-top: 8px;" ss3_article_id="67766">
						<a class="" href="http://www.apple.com/safari/" title="download safari" target="_blank" id="f3025a4d5f6e4130ee448f313ac4840c">							<img src="mediaRep/editors/Contentimages/ICONS/icon-small-safari.gif" alt="Safari">
						
</a>
					</div>
					<div class="dont-update-button" style="float: left; margin-left: 24px; padding-top: 10px;">
						<a href="javascript:"><img id="ie7Dont" src="mediaRep/editors/Contentimages/ICONS/icon-topbar-close.gif" alt="Close"></a>
					</div>
				</div>
			</div>
			<span class="clear">&nbsp;</span>
		</div>		
</div>
<script>

	jQuery(document).ready(function() {
		var siteID='us';

		var cookiesOK = getCookie("cookiesOK");
		var oldBrowser = getCookie("ie7_old_browser");
		if(($.browser.msie && parseInt($.browser.version, 10) == 7) && oldBrowser != "dont update") {
		//if(oldBrowser != "dont update") {
			var setMargin = true;
			if(cookiesOK != "cookiesOK"){ //siteID == "gb" && 
				if($('#cookie-bar-uk').length){
					if($('#header-alert-bar').length){
						$("body").css("margin-top","142px");
						$("#browsers-bar-container").offset({top: 47, left: 0});
						$("#cookie-bar-uk").offset({top: 92, left: 0});
					}
					else{
						$("body").css("margin-top","91px");
						$("#cookie-bar-uk").offset({top: 41, left: 0});
					}
					setMargin = false;
				}
			}
			
			$('#browsers-bar-container').show();	
			if(setMargin)
				$("body").css("margin-top","45px");

			var w1 = $('#browserBar1').width();	
			var w2 = $('#items').width();
			var tot = w1 + 303;
			$("#browser_container").css('margin','auto');
			$("#browser_container").width(tot+5);

			if($("body").hasClass('hasCookieBar')){
				$("body").css("margin-top","101px");
				$("#browsers-bar-container").css("margin-top","56px");
			}
			
		}
		$('#ie7Dont').click(function(){
			if(siteID != "gb"){
				setCookie("ie7_old_browser","dont update",30, "/", document.domain)
			}
			else{
				if(cookiesOK != undefined)
					setCookie("ie7_old_browser", "dont update", 30, "/", document.domain);
			}
			$('#browsers-bar-container').hide();
			if($('#cookie-bar-uk').is(':visible')){
				if($('#header-alert-bar').length){
					$("#cookie-bar-uk").offset({top: 47, left: 0});
					$('body').css("margin-top","97px");
				}
				else{
					$("#cookie-bar-uk").offset({top: -4, left: 0});
					$('body').css("margin-top","45px");	
				}
			}
			else{
				if($('#header-alert-bar').length)
					$("body").css("margin-top","51px");
				else{
					if($("body").hasClass('hasCookieBar')){
						$("body").css("margin-top","45px");	
					}else{
						$("body").css("margin-top","0px");
					}
				}
			}
			
		});
	});


</script>
        <div id="container"> 
             
			<img src="images/logo_tap_print.gif" width="99" height="47" alt="TAP Portugal" class="logo_print">
			<!--MC000 DZ - us--><!--MCBBB DZ - us--><!--MC000 com - us--><!--MCBBB com - us--><!--MC000 ar - us--><!--MCBBB ar - us--><!--MC000 be - us--><!--MCBBB be - us--><!--MC000 br - us--><!--MCBBB br - us--><!--MC000 CV - us--><!--MCBBB CV - us--><!--MC000 CA - us--><!--MCBBB CA - us--><!--MC000 cz - us--><!--MCBBB cz - us--><!--MC000 cl - us--><!--MCBBB cl - us--><!--MC000 CN - us--><!--MCBBB CN - us--><!--MC000 CO - us--><!--MCBBB CO - us--><!--MC000 dk - us--><!--MCBBB dk - us--><!--MC000 de - us--><!--MCBBB de - us--><!--MC000 EE - us--><!--MCBBB EE - us--><!--MC000 EG - us--><!--MCBBB EG - us--><!--MC000 es - us--><!--MCBBB es - us--><!--MC000 fr - us--><!--MCBBB fr - us--><!--MC000 GH - us--><!--MCBBB GH - us--><!--MC000 gr - us--><!--MCBBB gr - us--><!--MC000 GN - us--><!--MCBBB GN - us--><!--MC000 hk - us--><!--MCBBB hk - us--><!--MC000 HR - us--><!--MCBBB HR - us--><!--MC000 IE - us--><!--MCBBB IE - us--><!--MC000 it - us--><!--MCBBB it - us--><!--MC000 LV - us--><!--MCBBB LV - us--><!--MC000 LT - us--><!--MCBBB LT - us--><!--MC000 lu - us--><!--MCBBB lu - us--><!--MC000 hu - us--><!--MCBBB hu - us--><!--MC000 ML - us--><!--MCBBB ML - us--><!--MC000 MA - us--><!--MCBBB MA - us--><!--MC000 MX - us--><!--MCBBB MX - us--><!--MC000 MZ - us--><!--MCBBB MZ - us--><!--MC000 nl - us--><!--MCBBB nl - us--><!--MC000 no - us--><!--MCBBB no - us--><!--MC000 AT - us--><!--MCBBB AT - us--><!--MC000 pa - us--><!--MCBBB pa - us--><!--MC000 pl - us--><!--MCBBB pl - us--><!--MC000 pt - us--><!--MCBBB pt - us--><!--MC000 ro - us--><!--MCBBB ro - us--><!--MC000 RU - us--><!--MCBBB RU - us--><!--MC000 ST - us--><!--MCBBB ST - us--><!--MC000 SN - us--><!--MCBBB SN - us--><!--MC000 rs - us--><!--MCBBB rs - us--><!--MC000 SI - us--><!--MCBBB SI - us--><!--MC000 za - us--><!--MCBBB za - us--><!--MC000 fi - us--><!--MCBBB fi - us--><!--MC000 se - us--><!--MCBBB se - us--><!--MC000 ch - us--><!--MCBBB ch - us--><!--MC000 TR - us--><!--MCBBB TR - us--><!--MC000 us - us--><!--MCAAA us - us--><!--MC000 UA - us--><!--MCBBB UA - us--><!--MC000 gb - us--><!--MCBBB gb - us--><!--MC000 uy - us--><!--MCBBB uy - us--><!--MC000 ve - us--><!--MCBBB ve - us-->
<script>
$(document).ready(function() {
    $(".language-select").click(function() {
        var url = $(this).attr('href');
        setCookie("userpage", base64_encode(serialize(url)), 1);
    });
});
</script>

<!--1 URLID  6104,SITEID,enus  :http://www.flytap.com/USA/enus/others/footer/privacy--><!--1 URLID  6104,SITEID,pt  :http://www.flytap.com/USA/pt/Outros/Rodape/Privacidade--><!--1 URLID  6104,SITEID,es  :http://www.flytap.com/USA/es/Outros/Rodape/Privacidade-->            <div id="header"> 
                <div id="logo"> 
                    <a class="logo" href="http://www.flytap.com/USA/enus/Homepage" title="Homepage">
                    	<img src="http://www.flytap.com/mediaRep/editors/logos/new/logo_tap_enus.png" alt="TAP Portugal">
                    </a> 
                </div><!-- end #logo -->
    			<style>
    			#showHideInsuranceTab{
					left: 127px;
					position: absolute;
					top: 143px;
					width: 150px;
    			}
				</style>
                <div id="showHideInsuranceTab" ss3_article_id="218">
					                </div>

                <div id="countries_toplinks"> 
                    <div id="countries_languages"> 
                        <div id="countries_select"> 
                            <p><label for="countries" class="hide">Countries</label></p> 
                            <p class="combo_topcountries">
                            <select name="countries" id="countries" class="combostyle">
<option value="DZ" title="images/flags/dz.png">Algérie</option>
<option value="com" title="images/flags/com.gif">Angola</option>
<option value="ar" title="images/flags/ar.png">Argentina</option>
<option value="be" title="images/flags/be.png">Belgium</option>
<option value="br" title="images/flags/br.png">Brasil</option>
<option value="CV" title="images/flags/cv.png">Cabo Verde</option>
<option value="CA" title="images/flags/ca.png">Canada</option>
<option value="cz" title="images/flags/cz.png">Česká Republika</option>
<option value="cl" title="images/flags/cl.png">Chile</option>
<option value="CN" title="images/flags/cn.png">中国</option>
<option value="CO" title="images/flags/co.png">Colombia</option>
<option value="dk" title="images/flags/dk.png">Danmark</option>
<option value="de" title="images/flags/de.png">Deutschland</option>
<option value="EE" title="images/flags/ee.png">Eesti</option>
<option value="EG" title="images/flags/eg.png">Egypt</option>
<option value="es" title="images/flags/es.png">España</option>
<option value="fr" title="images/flags/fr.png">France</option>
<option value="GH" title="images/flags/gh.png">Ghana</option>
<option value="gr" title="images/flags/gr.png">Ελλάδα</option>
<option value="GN" title="images/flags/gn.png">Guiné Bissau</option>
<option value="hk" title="images/flags/hk.png">香港</option>
<option value="HR" title="images/flags/hr.png">Hrvatska</option>
<option value="IE" title="images/flags/ie.png">Ireland</option>
<option value="it" title="images/flags/it.png">Italia</option>
<option value="LV" title="images/flags/lv.png">Latvija</option>
<option value="LT" title="images/flags/lt.png">Lietuva</option>
<option value="lu" title="images/flags/lu.png">Luxembourg</option>
<option value="hu" title="images/flags/hu.png">Magyarország</option>
<option value="ML" title="images/flags/ml.png">Mali</option>
<option value="MA" title="images/flags/ma.png">Maroc</option>
<option value="MX" title="images/flags/mx.png">Mexico</option>
<option value="MZ" title="images/flags/mz.png">Moçambique</option>
<option value="nl" title="images/flags/nl.png">Nederland</option>
<option value="no" title="images/flags/no.png">Norge</option>
<option value="AT" title="images/flags/at.png">Österreich</option>
<option value="pa" title="images/flags/pa.png">Panama</option>
<option value="pl" title="images/flags/pl.png">Polska</option>
<option value="pt" title="images/flags/pt.png">Portugal</option>
<option value="ro" title="images/flags/ro.png">România</option>
<option value="RU" title="images/flags/ru.png">Россия</option>
<option value="ST" title="images/flags/st.png">São Tomé</option>
<option value="SN" title="images/flags/sn.png">Sénégal</option>
<option value="rs" title="images/flags/rs.png">Serbia</option>
<option value="SI" title="images/flags/si.png">Slovakia</option>
<option value="za" title="images/flags/za.png">South Africa</option>
<option value="fi" title="images/flags/fi.png">Suomi</option>
<option value="se" title="images/flags/se.png">Sverige</option>
<option value="ch" title="images/flags/ch.png">Switzerland</option>
<option value="TR" title="images/flags/tr.png">Türkiye</option>
<option value="us" title="images/flags/us.png" selected="selected" style="display:block;" rel="USA">USA</option>
<option value="UA" title="images/flags/ua.png">Україна</option>
<option value="gb" title="images/flags/gb.png">United Kingdom</option>
<option value="uy" title="images/flags/uy.png">Uruguay</option>
<option value="ve" title="images/flags/ve.png">Venezuela</option>
</select>
                            </p> 
                        </div><!-- end #countries_select --> 
                        
                        <!--<div id="languages_select"> 
                            <p><label for="countries" class="hide">Languages</label></p> 
                            <p class="combo_topcountries">-->
							<div class="languages">
 <a class="active" title="enus" href="http://www.flytap.com/USA/enus/others/footer/privacy">EnglishUS</a><span>|</span> <a class="language-select" title="pt" href="http://www.flytap.com/USA/pt/Outros/Rodape/Privacidade">Português</a><span>|</span> <a class="language-select" title="es" href="http://www.flytap.com/USA/es/Outros/Rodape/Privacidade">Español</a><span><span></span></span></div>                            <!--</p> 
                        </div>--><!-- end #languages_select --> 
                    </div><!-- end #countries_languages --> 
					<script language="Javascript" type="text/javascript"> 
							var marketUrls = new Array();
marketUrls['pt']='http://www.flytap.com/Portugal/pt/Homepage'; marketUrls['gb']='http://www.flytap.com/UnitedKingdom/en/Homepage'; marketUrls['be']='http://www.flytap.com/Belgium/en/Homepage'; marketUrls['br']='http://www.flytap.com/Brasil/PTBR/Homepage'; marketUrls['ch']='http://www.flytap.com/Switzerland/de/Homepage'; marketUrls['de']='http://www.flytap.com/Deutschland/de/Homepage'; marketUrls['es']='http://www.flytap.com/Espana/es/Inicio'; marketUrls['fr']='http://www.flytap.com/France/fr/PageDAccueil'; marketUrls['it']='http://www.flytap.com/Italia/it/Homepage'; marketUrls['nl']='http://www.flytap.com/Nederland/nl/Homepage'; marketUrls['us']='http://www.flytap.com/USA/enus/Homepage'; marketUrls['com']='http://www.flytap.com/Angola/pt/Homepage'; marketUrls['lu']='http://www.flytap.com/Luxembourg/pt/Homepage'; marketUrls['dk']='http://www.flytap.com/Danmark/da/Homepage'; marketUrls['se']='http://www.flytap.com/Sverige/sv/Homepage'; marketUrls['no']='http://www.flytap.com/Norge/no/Homepage'; marketUrls['fi']='http://www.flytap.com/Suomi/fi/Homepage'; marketUrls['gr']='http://www.flytap.com/Greece/el/Homepage'; marketUrls['ru']=''; marketUrls['pl']='http://www.flytap.com/Polska/pl/Homepage'; marketUrls['cz']='http://www.flytap.com/CeskaRepublika/cs/Homepage'; marketUrls['hu']='http://www.flytap.com/Magyarorszag/hu/Homepage'; marketUrls['ar']='http://www.flytap.com/Argentina/es/Inicio'; marketUrls['ve']='http://www.flytap.com/Venezuela/es/Homepage'; marketUrls['cl']='http://www.flytap.com/Chile/es/Homepage'; marketUrls['ro']='http://www.flytap.com/Romania/ro/Homepage'; marketUrls['DZ']='http://www.flytap.com/Algerie/fr/PageDAccueil'; marketUrls['AT']='http://www.flytap.com/Osterreich/de/Homepage'; marketUrls['CV']='http://www.flytap.com/CaboVerde/pt/Homepage'; marketUrls['CA']='http://www.flytap.com/Canada/enus/Homepage'; marketUrls['CN']='http://www.flytap.com/China/cn/Homepage'; marketUrls['HR']='http://www.flytap.com/Hrvatska/hr/Homepage'; marketUrls['EG']='http://www.flytap.com/Egypt/en/Homepage'; marketUrls['SI']='http://www.flytap.com/Slovakia/en/Homepage'; marketUrls['GN']='http://www.flytap.com/GuineBissau/pt/Homepage'; marketUrls['IE']='http://www.flytap.com/Ireland/en/Homepage'; marketUrls['MA']='http://www.flytap.com/Maroc/fr/PageDAccueil'; marketUrls['MZ']='http://www.flytap.com/Mocambique/pt/Homepage'; marketUrls['RU']='http://www.flytap.com/Russia/ru/Homepage'; marketUrls['rs']='http://www.flytap.com/Serbia/en/Homepage'; marketUrls['ST']='http://www.flytap.com/SaoTome/pt/Homepage'; marketUrls['SN']='http://www.flytap.com/Senegal/fr/PageDAccueil'; marketUrls['TR']='http://www.flytap.com/Turkiye/tr/Homepage'; marketUrls['UK']=''; marketUrls['UA']='http://www.flytap.com/Ukraine/uk/Homepage'; marketUrls['222']=''; marketUrls['00']='http://www.flytap.com/Info/pt/home'; marketUrls['za']='http://www.flytap.com/SouthAfrica/en/Homepage'; marketUrls['ba']='http://www.flytap.com/BosniaHerzegovina/en/Homepage'; marketUrls['me']='http://www.flytap.com/Montenegro/en/Homepage'; marketUrls['md']='http://www.flytap.com/Moldova/en/Homepage'; marketUrls['master']='http://www.flytap.com/Master/pt/Homepage'; marketUrls['EE']='http://www.flytap.com/Eesti/en/Homepage'; marketUrls['LT']='http://www.flytap.com/Lietuva/en/Homepage'; marketUrls['LV']='http://www.flytap.com/Latvija/en/Homepage'; marketUrls['GH']='http://www.flytap.com/Ghana/en/Homepage'; marketUrls['CO']='http://www.flytap.com/Colombia/es/Inicio'; marketUrls['MX']='http://www.flytap.com/Mexico/es/Homepage'; marketUrls['ML']='http://www.flytap.com/Mali/fr/PageDAccueil'; marketUrls['hk']='http://www.flytap.com/HongKong/cn/Homepage'; marketUrls['pa']='http://www.flytap.com/Panama/es/Homepage'; marketUrls['uy']='http://www.flytap.com/Uruguay/es/Homepage'; 
function setCookie(c_name, value, exdays, path, domain) {
    domain = typeof domain !== 'undefined' ? domain : '.flytap.com';
    var exdate = new Date();
    exdate.setDate(exdate.getDate() + exdays);
    var c_value = escape(value) + ((exdays == null) ? "" : "; expires="+exdate.toUTCString());
    var c_path = (path == null)? ";path=/" : ";path=" + path;
    document.cookie=c_name + "=" + c_value + c_path + ";domain=" + domain;
}

function serialize (mixed_value) {
    // Returns a string representation of variable (which can later be unserialized)  
    // 
    // version: 1109.2015
    // discuss at: http://phpjs.org/functions/serialize
    // +   original by: Arpad Ray (mailto:arpad@php.net)
    // +   improved by: Dino
    // +   bugfixed by: Andrej Pavlovic
    // +   bugfixed by: Garagoth
    // +      input by: DtTvB (http://dt.in.th/2008-09-16.string-length-in-bytes.html)
    // +   bugfixed by: Russell Walker (http://www.nbill.co.uk/)
    // +   bugfixed by: Jamie Beck (http://www.terabit.ca/)
    // +      input by: Martin (http://www.erlenwiese.de/)
    // +   bugfixed by: Kevin van Zonneveld (http://kevin.vanzonneveld.net/)
    // +   improved by: Le Torbi (http://www.letorbi.de/)
    // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net/)
    // +   bugfixed by: Ben (http://benblume.co.uk/)
    // -    depends on: utf8_encode
    // %          note: We feel the main purpose of this function should be to ease the transport of data between php & js
    // %          note: Aiming for PHP-compatibility, we have to translate objects to arrays
    // *     example 1: serialize(['Kevin', 'van', 'Zonneveld']);
    // *     returns 1: 'a:3:{i:0;s:5:"Kevin";i:1;s:3:"van";i:2;s:9:"Zonneveld";}'
    // *     example 2: serialize({firstName: 'Kevin', midName: 'van', surName: 'Zonneveld'});
    // *     returns 2: 'a:3:{s:9:"firstName";s:5:"Kevin";s:7:"midName";s:3:"van";s:7:"surName";s:9:"Zonneveld";}'
    var _utf8Size = function (str) {
        var size = 0,
            i = 0,
            l = str.length,
            code = '';
        for (i = 0; i < l; i++) {
            code = str.charCodeAt(i);
            if (code < 0x0080) {
                size += 1;
            } else if (code < 0x0800) {
                size += 2;
            } else {
                size += 3;
            }
        }
        return size;
    };
    var _getType = function (inp) {
        var type = typeof inp,
            match;
        var key;
 
        if (type === 'object' && !inp) {
            return 'null';
        }
        if (type === "object") {
            if (!inp.constructor) {
                return 'object';
            }
            var cons = inp.constructor.toString();
            match = cons.match(/(\w+)\(/);
            if (match) {
                cons = match[1].toLowerCase();
            }
            var types = ["boolean", "number", "string", "array"];
            for (key in types) {
                if (cons == types[key]) {
                    type = types[key];
                    break;
                }
            }
        }
        return type;
    };
    var type = _getType(mixed_value);
    var val, ktype = '';
 
    switch (type) {
    case "function":
        val = "";
        break;
    case "boolean":
        val = "b:" + (mixed_value ? "1" : "0");
        break;
    case "number":
        val = (Math.round(mixed_value) == mixed_value ? "i" : "d") + ":" + mixed_value;
        break;
    case "string":
        val = "s:" + _utf8Size(mixed_value) + ":\"" + mixed_value + "\"";
        break;
    case "array":
    case "object":
        val = "a";
/*
            if (type == "object") {
                var objname = mixed_value.constructor.toString().match(/(\w+)\(\)/);
                if (objname == undefined) {
                    return;
                }
                objname[1] = this.serialize(objname[1]);
                val = "O" + objname[1].substring(1, objname[1].length - 1);
            }
            */
        var count = 0;
        var vals = "";
        var okey;
        var key;
        for (key in mixed_value) {
            if (mixed_value.hasOwnProperty(key)) {
                ktype = _getType(mixed_value[key]);
                if (ktype === "function") {
                    continue;
                }
 
                okey = (key.match(/^[0-9]+$/) ? parseInt(key, 10) : key);
                vals += this.serialize(okey) + this.serialize(mixed_value[key]);
                count++;
            }
        }
        val += ":" + count + ":{" + vals + "}";
        break;
    case "undefined":
        // Fall-through
    default:
        // if the JS object has a property which contains a null value, the string cannot be unserialized by PHP
        val = "N";
        break;
    }
    if (type !== "object" && type !== "array") {
        val += ";";
    }
    return val;
}


function utf8_encode (argString) {
    // Encodes an ISO-8859-1 string to UTF-8  
    // 
    // version: 1109.2015
    // discuss at: http://phpjs.org/functions/utf8_encode
    // +   original by: Webtoolkit.info (http://www.webtoolkit.info/)
    // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
    // +   improved by: sowberry
    // +    tweaked by: Jack
    // +   bugfixed by: Onno Marsman
    // +   improved by: Yves Sucaet
    // +   bugfixed by: Onno Marsman
    // +   bugfixed by: Ulrich
    // +   bugfixed by: Rafal Kukawski
    // *     example 1: utf8_encode('Kevin van Zonneveld');
    // *     returns 1: 'Kevin van Zonneveld'
    if (argString === null || typeof argString === "undefined") {
        return "";
    }
 
    var string = (argString + ''); // .replace(/\r\n/g, "\n").replace(/\r/g, "\n");
    var utftext = "",
        start, end, stringl = 0;
 
    start = end = 0;
    stringl = string.length;
    for (var n = 0; n < stringl; n++) {
        var c1 = string.charCodeAt(n);
        var enc = null;
 
        if (c1 < 128) {
            end++;
        } else if (c1 > 127 && c1 < 2048) {
            enc = String.fromCharCode((c1 >> 6) | 192) + String.fromCharCode((c1 & 63) | 128);
        } else {
            enc = String.fromCharCode((c1 >> 12) | 224) + String.fromCharCode(((c1 >> 6) & 63) | 128) + String.fromCharCode((c1 & 63) | 128);
        }
        if (enc !== null) {
            if (end > start) {
                utftext += string.slice(start, end);
            }
            utftext += enc;
            start = end = n + 1;
        }
    }
 
    if (end > start) {
        utftext += string.slice(start, stringl);
    }
 
    return utftext;
}


function base64_encode(data) {
    // Encodes string using MIME base64 algorithm  
    // 
    // version: 1109.2015
    // discuss at: http://phpjs.org/functions/base64_encode
    // +   original by: Tyler Akins (http://rumkin.com)
    // +   improved by: Bayron Guevara
    // +   improved by: Thunder.m
    // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
    // +   bugfixed by: Pellentesque Malesuada
    // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
    // +   improved by: Rafał Kukawski (http://kukawski.pl)
    // -    depends on: utf8_encode
    // *     example 1: base64_encode('Kevin van Zonneveld');
    // *     returns 1: 'S2V2aW4gdmFuIFpvbm5ldmVsZA=='
    // mozilla has this native
    // - but breaks in 2.0.0.12!
    //if (typeof this.window['atob'] == 'function') {
    //    return atob(data);
    //}
    var b64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
    var o1, o2, o3, h1, h2, h3, h4, bits, i = 0,
        ac = 0,
        enc = "",
        tmp_arr = [];
 
    if (!data) {
        return data;
    }
 
    data = this.utf8_encode(data + '');
 
    do { // pack three octets into four hexets
        o1 = data.charCodeAt(i++);
        o2 = data.charCodeAt(i++);
        o3 = data.charCodeAt(i++);
 
        bits = o1 << 16 | o2 << 8 | o3;
 
        h1 = bits >> 18 & 0x3f;
        h2 = bits >> 12 & 0x3f;
        h3 = bits >> 6 & 0x3f;
        h4 = bits & 0x3f;
 
        // use hexets to index into b64, and append result to encoded string
        tmp_arr[ac++] = b64.charAt(h1) + b64.charAt(h2) + b64.charAt(h3) + b64.charAt(h4);
    } while (i < data.length);
 
    enc = tmp_arr.join('');
    
    var r = data.length % 3;
    
    return (r ? enc.slice(0, r - 3) : enc) + '==='.slice(r || 3);
}


					
					jQuery(document).ready(function() {
											// $('#languages_select').find('div.selectedTxt').html('');
						if( IS_IE_7 == false)
						{
						$('#languages_select').find('ul.newList li a').each(function(){
							$(this).click(function(){
								$("option[value=" + $(this).attr('rel') + "]", $('#languages_select')).attr('selected','selected');
								$(this).parent().parent().css('display','none');
								$('#languages_select').find('div.selectedTxt').html($(this).text());
//								var market='Venezuela';
//								alert(market);
								/*
								var gotourl = 'http://www.flytap.com/' + $('#countries :selected').attr('rel') + '/' + $('#languages_select :selected').val() + '/Homepage';
								*/
								
								var gotourl = $('#languages_select :selected').attr('rel');
								window.location.replace(gotourl);
							});
						});
						}						
						$('#countries').change(function(){
							var M = $(this).val();
                            setCookie("userpage", base64_encode(serialize(marketUrls[M])), 1);
							window.location = marketUrls[M];
							return false;	
							var data = 'getCountryLanguages=' + M + '&top=true&translation=';
							
							$("option[value=" + M + "]", $(this)).attr('selected','selected');
							
							$.post('http://' + window.location.hostname + '/getMarketLanguages.php', data, function(languages) { 
								
								var html = lis = default_option = default_option_text = '', x = 0;

								
								$.each(languages, function(i, v){	
									if(i == 'enus') {
										var extr = ' class="hilite"';
										var esel = ' selected="selected"';
									} else { var extr = esel = ''; }
									
									
									html += '<option value="' + i + '"' + esel + ' rel="' + i + '">' + v + '</option>';
									lis += '<li><a href="javascript:;"' + extr + ' rel="' + i + '">' + v + '</a></li>';
									
																		if(x == 0 && i != '') {
										default_option_code = i;
										default_option_text = v;										
									}
																		
									x++;									
								});
								
															
							if( IS_IE_7 || IS_MOBILE_BROWSER)
							{	
								$('#languages').html(html);
								if($("#languages option:selected").length==0)
								{
								window.location.replace($("#languages option:first").attr('rel'));
								}
								else 
								{
								window.location.replace($("#languages option:selected").attr('rel'));
								}
							}
							else
							{
								
								$('#languages_select').find('div.selectedTxt').html('Please select');
								$('#languages').html(html);
								
								$('#languages_select ul.newList').html(lis);
								$('#languages_select').find('div.newListSelected').click(function(){
									$('#languages_select ul.newList').css('display','inline-table');
								});
								
								$('#languages_select').find('ul.newList li a').each(function(){
									$(this).click(function(){
										$("option[value=" + $(this).attr('rel') + "]", $('#languages_select')).attr('selected','selected');
										$('#languages_select').find('div.selectedTxt').html($(this).text());
										$('#languages_select').find('ul.newList').addClass('hide');
										
										window.location.replace($(this).attr('rel'));
									});
								});
								
																if(default_option_code != '') {
									$("option[value=" + default_option + "]", $('#languages_select')).attr('selected','selected');
									$('#languages_select').find('div.selectedTxt').html(default_option_text);
									$('#languages_select').find('ul.newList').addClass('hide');
								}
								// console.log("NOT IE 7 ..."+ $("#languages_select option:selected").length);
								// console.log($("#languages_select option:first").attr('rel'));
								// console.log($("#languages_select option:selected").attr('rel'));
								if($("#languages_select option:selected").length==0)
								window.location.replace($("#languages_select option:first").attr('rel'));
								else window.location.replace($("#languages_select option:selected").attr('rel'));
															}
							}, 'json');
							
							return false;
										
						});
					
					});	
					</script>                    
                    <span class="clear">&nbsp;</span> 
                    <div id="toplinks"> 
                        <ul> 
                            <li ss3_article_id="205"><a class="" href="http://www.tapvictoria.com/en/Homepage/" title="TAP Victoria" target="_blank" id="80fd4ec352e829e056b05310bea77901"><span class="title" ss3_article_id="204">TAP</span> Victoria</a></li> 
                                                        <li ss3_article_id="209"><a class="" href="http://www.tapportugal.com" title="About TAP" target="_blank" id="647b445469f9b30760a808aba974cf08">About <span class="title" target="_blank" ss3_article_id="204">TAP</span>
</a></li> 
                            
                                                        
                            <!--<li class="last" ss3_article_id="209"><a id='strangeBug' href='http://www.tapportugal.com' target='_blank'><ss3_text id="text" type="varchar" noedit="1"/> <span class="title" target="_blank" ss3_article_id="204"><ss3_text id="text" type="varchar" noedit="1"/></span></a></li> -->
                        </ul>
			<script>
                                $(document).ready(function() {$("#strangeBug").attr('href','http://www.tap'+'portugal.com')});
                        </script>
                    </div><!-- end #toplinks --> 
                </div><!-- end #countries_toplinks --> 
                
                <div id="topsearch"> 
    <div class="top">&nbsp;</div> 
    <div id="topsearch_container"> 
        <form method="post" action="http://www.flytap.com/USA/enus/search" name="formSearch" id="formSearch"> 
            <p class="hide" ss3_article_id="211"><label for="input_search">Search</label></p> 
            <p><input id="searchtoken" name="searchtoken" value="Search" class="text" type="text" onmouseover="window.status='Search'; return true;" onmouseout="window.status=''; return true;" onfocus="if (this.value == 'Search') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search';}"></p> 
            <p ss3_article_id="211"><input type="submit" value="" class="submitSearchImage" style="background:url('images/input_submit_search.gif') no-repeat top left; width:20px; height:20px; position:absolute; top:3px; right:10px;"></p> 
        </form> 
    </div>
    <div class="bottom">&nbsp;</div> 
</div>
 
 
            </div><!-- end #header --> 
            <span class="clear">&nbsp;</span>

            <div id="content"> 
				 <div id="megadropdown"> 
                    <ul class="menu"> 
                        <li class="destinations level1">
                        	<a href="#" onclick="javascript:return false;" title="Destinations - Destination Map, Experiences">
								<span class="title" ss3_article_id="43">Destinations</span>
	                        	<span ss3_article_id="44">Destination Map, Experiences</span>
	                        	<span class="separator">&nbsp;</span>
                        	</a>
                            <div class="mega_container"> 
                                <div id="destinations_container" class="megadrop"> 
                                    <span class="corner_top_right">&nbsp;</span><span class="bottom">&nbsp;</span><span class="clear">&nbsp;</span> 
                                    <div class="left"> 
                                        <h2 ss3_article_id="45">Destinations</h2>
                                        <p class="seeall_destinations">
                                        	<span ss3_article_id="47">
	                                        	<a class="seeall" href="http://www.flytap.com/USA/enus/Homepage/DestinationsMap" title="See All Destinations" target="" id="0f33439501e8b4080bc5c6eff453c3c7">	                                        		See destination map	                                        	
</a>
                                        	</span>
                                        	
                                        	 <span>|</span> 
                                        	 
                                        	 <span ss3_article_id="67767">
	                                        	<a class="seeall" href="http://www.flytap.com/USA/enus/Destinations" title="See all destinations" target="" id="6cdb8fdbbc8290dd7c959dac490cb765">	                                        		See all destinations	                                        	
</a>
                                        	</span>
                                        	 
                                        	 
                                        </p>
                                        <div class="topbox" ss3_article_id="47">
                                            <a class="world_map_destinations" href="http://www.flytap.com/USA/enus/Homepage/DestinationsMap" title="See All Destinations" target="" id="f5d5f40067b90c1a4f911a8076ec7406">                                            	<span class="title">See destination map</span>
                                           
</a>
                                        </div><!-- end .topbox -->
										<h3 ss3_article_id="50">Top Destinations</h3>

<div class="bottombox">
	<!--ss3_list id="megaMenuDestinations_leftList1" class="topdestinations simplelist" type="ol"/-->
    <!--ss3_list id="megaMenuDestinations_leftList2" class="topdestinations simplelist secondhalf" type="ol start='5'"/-->

    <ol class="topdestinations simplelist" start="1">
             
                <li><a href="http://www.flytap.com/USA/enus/Destinations/Lisbon">Lisbon</a></li>
                                        <li><a href="http://www.flytap.com/USA/enus/Destinations/London">London</a></li>
                                        <li><a href="http://www.flytap.com/USA/enus/Destinations/Barcelona">Barcelona</a></li>
                                        <li><a href="http://www.flytap.com/USA/enus/Destinations/Funchal">Funchal</a></li>
                                        <li><a href="http://www.flytap.com/USA/enus/Destinations/Paris">Paris</a></li>
                            </ol>
    

    <ol class="topdestinations simplelist secondhalf" start="6">
                            <li><a href="http://www.flytap.com/USA/enus/Destinations/Amsterdam">Amsterdam</a></li>
                                                    <li><a href="http://www.flytap.com/USA/enus/Destinations/Rome">Rome</a></li>
                                                    <li><a href="http://www.flytap.com/USA/enus/Destinations/Madrid">Madrid</a></li>
                                                    <li><a href="http://www.flytap.com/USA/enus/Destinations/Milan">Milan</a></li>
                                                    <li><a href="http://www.flytap.com/USA/enus/Destinations/Terceira">Terceira</a></li>
                                    </ol>

    
    <span class="clear">&nbsp;</span>
</div>
</div><!-- end .left --> 
                                    <div class="right"> 
                                        <h2 ss3_article_id="46">Experiences</h2>
                                        <p class="seeall_experiences">
                                        	</p><div ss3_article_id="48">
                                        	<a class="seeall" href="http://www.flytap.com/USA/enus/Homepage/Experiences" title="See all Experiences" target="" id="f68b6a5895f0b53af6ee6aa95a591b8e">                                        		See all experiences                                        	
</a>
                                        	</div>
                                        <p></p>
                                        
                                        <div class="topbox"> 
                                            <ul class="experiences">
                                                <li class="nightlife" ss3_article_id="51">
                                                	<a class="" href="http://www.flytap.com/USA/enus/Homepage/Experiences/Nightlife" title="Nightlife" target="" id="19bc3a7f8e24551c36209683c8c3a34a"><span class="icon">&nbsp;</span>Nightlife</a>
                                                </li>
                                                <li class="golf" ss3_article_id="52">
                                                	<a class="" href="http://www.flytap.com/USA/enus/Homepage/Experiences/Golf" title="Golf" target="" id="7fd4483726eb68e187459512d42a2759"><span class="icon">&nbsp;</span>Golf</a>
                                                </li>
                                                <li class="romance" ss3_article_id="53">
                                                	<a class="" href="http://www.flytap.com/USA/enus/Homepage/Experiences/Romance" title="Romance" target="" id="201c99e591caac1a9fce42cc08458254"><span class="icon">&nbsp;</span>Romance</a>
                                                </li>
                                                <li class="culture" ss3_article_id="54">
                                                	<a class="" href="http://www.flytap.com/USA/enus/Homepage/Experiences/Culture" title="Culture" target="" id="ce11a2e827d1c4d37314a2749a3b50ca"><span class="icon">&nbsp;</span>Culture</a>
                                                </li>
                                                <li class="snow" ss3_article_id="55">
                                                	<a class="" href="http://www.flytap.com/USA/enus/Homepage/Experiences/Snow" title="Snow" target="" id="edf39bbbe6f274ebd28f824f0c1aeefc"><span class="icon">&nbsp;</span>Snow</a>
                                                </li>
                                                <li class="adventure" ss3_article_id="56">
                                                	<a class="" href="http://www.flytap.com/USA/enus/Homepage/Experiences/Adventure" title="Adventure" target="" id="0eee7055d9e6c029eb679c12dce44663"><span class="icon">&nbsp;</span>Adventure</a>
                                                </li>
                                                <li class="column2nd resetcolumn shopping" ss3_article_id="57">
                                                	<a class="" href="http://www.flytap.com/USA/enus/Homepage/Experiences/Shopping" title="Shopping" target="" id="2539f24739b46bd2b342d6fdec4a573a"><span class="icon">&nbsp;</span>Shopping</a>
                                                </li>
                                                <li class="column2nd nature" ss3_article_id="58">
                                                	<a class="" href="http://www.flytap.com/USA/enus/Homepage/Experiences/Nature" title="Nature" target="" id="50fae8573de537e4453d6ad5f33c3a99"><span class="icon">&nbsp;</span>Nature</a>
                                                </li>
                                                <li class="column2nd beach" ss3_article_id="59">
                                                	<a class="" href="http://www.flytap.com/USA/enus/Homepage/Experiences/Beach" title="Beach" target="" id="f1ecf99ea7a29d3f8cb69da633e32c89"><span class="icon">&nbsp;</span>Beach</a>
                                                </li>
                                                <li class="column2nd islands" ss3_article_id="60">
                                                	<a class="" href="http://www.flytap.com/USA/enus/Homepage/Experiences/Islands" title="Island" target="" id="366cd5e467d9b9cea7beb67f5c54a8b1"><span class="icon">&nbsp;</span>Island</a>
                                                </li>
                                                <li class="column2nd city_break" ss3_article_id="61">
                                                	<a class="" href="http://www.flytap.com/USA/enus/Homepage/Experiences/CityBreak" title="City-Break" target="" id="7c8460ec73c8d492552cce669cb0e37a"><span class="icon">&nbsp;</span>City-Break</a>
                                                </li>
                                                <li class="column2nd kids" ss3_article_id="62">
                                                	<a class="" href="http://www.flytap.com/USA/enus/Homepage/Experiences/Kids" title="Kids" target="" id="700f0bf66421132da12944a10966353a"><span class="icon">&nbsp;</span>Kids</a>
                                                </li>
                                            </ul>
 
                                        </div><!-- end .topbox --> 
                                    </div><!-- end .right --> 
                                    <span class="clear">&nbsp;</span> 
                                </div><!-- end #destinations_container --> 
                            </div> 
                        </li> 
                        <li class="plan level1">
                        	<a href="#" onclick="javascript:return false;" title="Plan &amp; Book - Prepare for Travel,</br> Book, Tools">
	                        		<span class="title" ss3_article_id="68">Plan &amp; Book</span> 
	                        		<span ss3_article_id="63">Prepare for Travel,<br> Book, Tools</span>
	                        		<span class="separator">&nbsp;</span>
                        	</a> 
                            <div class="mega_container"> 
                                <div id="plan_container" class="megadrop"> 
                                    <span class="corner_top_left_right">&nbsp;</span><span class="bottom">&nbsp;</span><span class="clear">&nbsp;</span> 
                                    <div class="left"> 
                                        <h2 class="prepare" ss3_article_id="64">Prepare for Travel<span class="icon">&nbsp;</span></h2>
										<ul class="simplelist" id="megaMenuPlanBook_leftList_us" name=""><li class=""><a href="http://www.flytap.com/USA/enus/PlanBook/PrepareforTravel/travel-to-from-usa" class="">Travel to United States</a></li><li class=""><a href="http://www.flytap.com/USA/enus/PlanBook/PrepareforTravel/luggage" class="">Baggage</a></li><li class=""><a href="http://www.flytap.com/USA/enus/PlanBook/PrepareforTravel/Checkin" class="">Check-in</a></li><li class=""><a href="http://www.flytap.com/USA/enus/PlanBook/PrepareforTravel/AirTravelParticularMediConditions" class="">Air travel and particular medical conditions</a></li><li class=""><a href="http://www.flytap.com/USA/enus/PlanBook/PrepareforTravel/tap-products" class="">TAP Products</a></li><li class=""><a href="http://www.flytap.com/USA/enus/PlanBook/PrepareforTravel/TicketInfo" class="">All information about Tickets</a></li><li class=""><a href="http://www.flytap.com/USA/enus/PlanBook/PrepareforTravel/SpecialNeeds" class="">Special needs</a></li><li class="kids"><a href="http://www.flytap.com/USA/enus/PlanBook/PrepareforTravel/InfantsAndChildren" class="">Babies and children</a></li><li class="kids"><a href="http://www.flytap.com/USA/enus/PlanBook/PrepareforTravel/UnaccompaniedMinors" class="">Unaccompanied Minors</a></li></ul>                                    </div><!-- end .left --> 
                                    
                                    <div class="middle"> 
                                        <h2 class="booking" ss3_article_id="65">Book<span class="icon">&nbsp;</span></h2>
										<ul class="simplelist" id="megaMenuPlanBook_centerList_us" name=""><li class=""><a target="_blank" href="http://www.flytap.com/us/en/templates/flight.php/nocache=1" class="">Flight</a></li><li class=""><a target="_blank" href="http://www.flytap.com/us/en/templates/hotel.php/nocache=1" class="">Hotel</a></li><li class=""><a target="_blank" href="http://www.flytap.com/us/en/templates/rentacar.php/nocache=1" class="">Rent-a-Car</a></li><li class=""><a href="http://www.flytap.com/USA/enus/PlanBook/Book/TAPPersonalisedAssistance" class="">TAP Personalised Assistance</a></li><li class=""><a href="http://www.flytap.com/USA/enus/PlanBook/Book/Plusgrade" class="">Plusgrade</a></li></ul>                                    </div><!-- end .middle --> 
                                    
                                    <div class="right"> 
                                        <h2 class="tools" ss3_article_id="66">Tools<span class="icon">&nbsp;</span></h2>
										<ul class="simplelist" id="megaMenuPlanBook_rightList_us" name=""><li class=""><a href="http://www.flytap.com/USA/enus/PlanBook/PrepareforTravel/Checkin/CheckinOnline" class="">Check-in</a></li><li class="_blank"><a target="_blank" href="https://www.checkmytrip.com/cmt/apf/cmtng/index?LANGUAGE=US&amp;SITE=NCMTNCMT" class="">View Booking</a></li><li class="_blank"><a href="http://receipts.flytap.com/wps/portal/PaxReceipts/!ut/p/c1/04_SB8K8xLLM9MSSzPy8xBz9CP0os3hjA38DA3dLP193PzdDA89gd1dvt2BvQwsTQ30_j_zcVP2CbEdFAHH1AnM!/dl2/d1/L0lDUmlTUSEhL3dHa0FKRnNBL1lCUlp3QSEhL2Vu/" class="">Print Receipt</a></li><li class=""><a href="http://www.flytap.com/USA/enus/PlanBook/Tools/DeparturesArrivals" class="">Departures &amp; Arrivals</a></li><li class="_blank"><a href="http://www.flytap.com/us/en-us/templates/b_simulator.php/nocache=1" class="">Baggage Simulator</a></li></ul>                                    </div><!-- end .right --> 
                                    
                                    <span class="clear">&nbsp;</span> 
<style>
										#content #megadropdown ul.menu li.open.level1 .mega_container #myplanBook a:link,
										#content #megadropdown ul.menu li.open.level1 .mega_container #myplanBook a:visited,
										#content #megadropdown ul.menu li.level1 .mega_container #myplanBook a:link,
										#content #megadropdown ul.menu li.level1 .mega_container #myplanBook a:visited {
											display: block;
										}
									</style>
                                    <span ss3_article_id="196" id="myplanBook" style="margin-left: 20px;">
																													</span>
									                                    <div class="footer"> 
                                        <span class="top">&nbsp;</span><span class="bottom">&nbsp;</span> 
                                        <h2 ss3_article_id="75">Flight Alerts<span class="icon">&nbsp;</span></h2>
					<ul class="simplelist" id="megaMenuPlanAndBook_listFooter_us" name=""><li class=""><a href="http://www.flytap.com/USA/enus/PlanBook/PrepareforTravel/Checkin" class="">Due to government restrictions, TAP is only allowed to open its flights for check-in, to/from USA, 24h before the scheduled time of departure.</a></li><li class="">For security reasons and in case of any flight irregularities, it is requested to all passengers to provide an updated phone number and/or email address during the booking process.</li></ul><script>
      $(document).ready(function() {
			highlightMenu('http://www.flytap.com/')
      });
      </script>                                        <span class="clear">&nbsp;</span> 
                                    </div><!-- end .footer --> 
                                                                    </div><!-- end #plan_container --> 
                            </div> 
                        </li> 
                        <li class="information level1">
                        	<a href="#" onclick="javascript:return false;" title="Information<br/>&amp; Services - At the Airport, On Board,</br>Conventions">
                        		<span class="title" ss3_article_id="70">Information<br>&amp; Services</span>
                        		<span ss3_article_id="71">At the Airport, On Board,<br>Conventions</span>
                        		<span class="separator">&nbsp;</span>
                        	</a> 
                            <div class="mega_container"> 
                                <div id="information_container" class="megadrop"> 
                                    <span class="corner_top_left_right">&nbsp;</span><span class="bottom">&nbsp;</span><span class="clear">&nbsp;</span> 
                                    
                                    <div class="left"> 
										<h2 class="airport" ss3_article_id="72">At the Airport<span class="icon">&nbsp;</span></h2>
                                       	<ul class="simplelist" id="megaMenuInformation_leftList_us" name=""><li class=""><a href="http://www.flytap.com/USA/enus/Informationandservices/Attheairport/AirportCheckIn" class="">Check-in at the airport</a></li><li class=""><a href="http://www.flytap.com/USA/enus/Informationandservices/Attheairport/PremiumBoarding" class="">Premium boarding</a></li><li class=""><a href="http://www.flytap.com/USA/enus/Informationandservices/Attheairport/FreeParkingValetXpress" class="">Parking &amp; ValetXpress</a></li><li class=""><a href="http://www.flytap.com/USA/enus/Informationandservices/Attheairport/GreenWay" class="">Green Way / Fast Track</a></li><li class=""><a href="http://www.flytap.com/USA/enus/Informationandservices/Attheairport/ElectronicPassport" class="">Electronic Passport</a></li></ul>                                    </div><!-- end .left --> 
                                    
                                    <div class="middle"> 
                                        <h2 class="onboard" ss3_article_id="73">On Board<span class="icon">&nbsp;</span></h2>
                                       	<ul class="simplelist" id="megaMenuInformation_centerList_us" name=""><li class=""><a href="http://www.flytap.com/USA/enus/Informationandservices/Onboard/Executive" class="">Executive</a></li><li class=""><a href="http://www.flytap.com/USA/enus/Informationandservices/Onboard/economy" class="">Economy</a></li><li class=""><a href="http://www.flytap.com/USA/enus/Informationandservices/Onboard/Entertainment" class="">Entertainment</a></li><li class="kids"><a href="http://www.flytap.com/USA/enus/Informationandservices/Onboard/babies-and-children" class="">Babies and children</a></li><li class=""><a href="http://www.flytap.com/USA/enus/Informationandservices/Onboard/electronic-devices-on-board" class="">Electronic Devices on Board</a></li></ul>                                    </div><!-- end .middle --> 
                                    
                                    <div class="right"> 
										<h2 class="congresses" ss3_article_id="74">Conventions<span class="icon">&nbsp;</span></h2>
                                       	<ul class="simplelist" id="megaMenuInformation_rightList_us" name=""><li class=""><a href="http://www.flytap.com/USA/enus/Informationandservices/Conventions/Calendar" class="">Calendar</a></li><li class=""><a href="http://www.flytap.com/USA/enus/Informationandservices/Conventions/ConventionsPlus" class="">Convention Plus</a></li></ul>                                    </div><!-- end .right --> 
                                    
                                    <span class="clear">&nbsp;</span> 
									<style>
										#content #megadropdown ul.menu li.open.level1 .mega_container #myinfo a:link,
										#content #megadropdown ul.menu li.open.level1 .mega_container #myinfo a:visited,
										#content #megadropdown ul.menu li.level1 .mega_container #myinfo a:link,
										#content #megadropdown ul.menu li.level1 .mega_container #myinfo a:visited {
											display: block;
										}
									</style>
                                    <span ss3_article_id="197" id="myinfo" style="margin-left: 20px;">
																													</span>
									                                    <div class="footer"> 
                                        <span class="top">&nbsp;</span><span class="bottom">&nbsp;</span> 
                                        <h2 ss3_article_id="67">TAP Premium<span class="icon">&nbsp;</span></h2>
					    <ul class="simplelist" id="megaMenuInfoAndServ_listFooter_us" name=""><li class=""><a href="http://www.flytap.com/USA/enus/Informationandservices/Attheairport/TAPPremiumLounge" class="">Discover the benefits of travelling tap|executive.</a></li></ul>                                    </div><!-- end .footer --> 
                                                                    </div><!-- end #information_container --> 
                            </div> 
                        </li> 
                        	<li class="promotions level1">
							<div ss3_article_id="198">
							                       		
							</div>
							                        			<a href="#" onclick="javascript:return false;" title="Special Offers - Special Offers List,<br>Contests">
	                        			<span class="title" ss3_article_id="97">Special Offers</span>
	                        			<span ss3_article_id="98">Special Offers List,<br>Contests</span>
	                        		</a>
	                            <div class="mega_container">
	                            		<div id="promotions_container" class="megadrop">	                                    <span class="corner_top_left_right">&nbsp;</span>
	                                    <span class="bottom">&nbsp;</span><span class="clear">&nbsp;</span>
										<span ss3_article_id="367">
	<span class="megaMenu_specialOffers">
	<div class="left" style="width:690px; top: -15px;">
    	<h2 ss3_article_id="207">Promotions</h2>
		<span ss3_article_id="502">
								</span>
				<div class="promo" ss3_article_id="#1">
		<a class="promo" href="http://book.flytap.com/r3air/tap/Deeplink.aspx?origin=EWR&amp;destination=BCN&amp;flightType=return&amp;market=US&amp;language=EN&amp;_a=FTUSEN&amp;searchType=start&amp;rbd=u&amp;farebasis=UKPROM&amp;adt=1&amp;maxConn=-1&amp;depDate=03.07.2014&amp;retDate=10.07.2014" target="_parent" title="">
		
		<img src="http://www.flytap.com/mediaRep/editors/Banners/Destinations/Europe/Spain/Barcelona/bcn2.data/BM.jpg" alt="" style="width:155px;height:115px">
        <span class="info">
									<span class="arrival">Barcelona</span>
		    		    
		                		    
 	    	            <span class="departure">
            	<span class="text" ss3_article_id="91">Departure from</span>&nbsp;New York             </span>
        	            
	    	            <span class="description"><span class="price">
                              		
				<span class="currency">US$</span>882       		
            			</span></span>
        	        	
        	        	        				        	            <span class="trip"><span class="text" ss3_article_id="92">Round Trip</span></span>
			        	     	            
        	            
			            
			            
	    	            <span class="conditions" style="">Travel: 08.26 - 10.28.2014.</span>
        						
		
				
			<span title="More information" class="megadrop-seemore" href="#" ss3_article_id="68302">
				Info				<span class="dialog-terms">
				    <span class="dialog-terms-close">X</span>
				    <h1></h1>
				    <p></p><p><strong>Air Transportation Charges</strong></p><p>Fare: $230.00 / Fuel Surcharge: $516.00</p><p><em><strong>Subtotal : $746.00&nbsp;</strong></em></p><p>&nbsp;</p><p><strong>Taxes, Fees, and Charges</strong></p><p>USA - Customs User Fee (YC): $5.50 / USA -Transportation Tax (US): $34.40 / APHIS User Free (XA): $5.00 / Immigration User Fee (XY): $7.00 / September 11th Security Fee (AY): $2.50 / Passenger Facility Charge (XF): $ 4.50</p><p>Portugal - Passenger Service Charge (YP): $30.12 / Security Tax (PT): $17.08</p><p>Germany - Air Transport Tax (OY): $56.55 / Passenger Service Charge (RA): $33.45 / Airport Security Charge (DE): $8.96</p><p><em><strong>Subtotal : $205.06</strong></em></p><p></p>
				</span>
			</span>
				</span>
	</a>
		<p>
		<a class="smallergreenbutton" href="http://book.flytap.com/r3air/tap/Deeplink.aspx?origin=EWR&amp;destination=BCN&amp;flightType=return&amp;market=US&amp;language=EN&amp;_a=FTUSEN&amp;searchType=start&amp;rbd=u&amp;farebasis=UKPROM&amp;adt=1&amp;maxConn=-1&amp;depDate=03.07.2014&amp;retDate=10.07.2014" title="" target="_parent">
		<span class="left">&nbsp;</span>
		<span class="text" ss3_article_id="1">Book Now </span><span class="arrow">&nbsp;</span>
		<span class="right">&nbsp;</span>
		</a>
	</p></div>
<div class="promo" ss3_article_id="#1">
		<a class="promo" href="http://book.flytap.com/r3air/tap/Deeplink.aspx?origin=EWR&amp;destination=MRS&amp;flightType=return&amp;market=US&amp;language=EN&amp;_a=FTUSEN&amp;searchType=start&amp;rbd=u&amp;farebasis=UKPROM&amp;adt=1&amp;maxConn=-1&amp;depDate=03.07.2014&amp;retDate=10.07.2014" target="_parent" title="">
		
		<img src="http://www.flytap.com/mediaRep/editors/Banners/Destinations/Europe/France/Marseille/Marseille.data/BM.jpg" alt="" style="width:155px;height:115px">
        <span class="info">
									<span class="arrival">Marseille</span>
		    		    
		                		    
 	    	            <span class="departure">
            	<span class="text" ss3_article_id="91">Departure from</span>&nbsp;New York             </span>
        	            
	    	            <span class="description"><span class="price">
                              		
				<span class="currency">US$</span>931       		
            			</span></span>
        	        	
        	        	        				        	            <span class="trip"><span class="text" ss3_article_id="92">Round Trip</span></span>
			        	     	            
        	            
			            
			            
	    	            <span class="conditions" style="">Travel: 08.26 - 10.28.2014.</span>
        						
		
				
			<span title="More information" class="megadrop-seemore" href="#" ss3_article_id="68302">
				Info				<span class="dialog-terms">
				    <span class="dialog-terms-close">X</span>
				    <h1></h1>
				    <p></p><p><strong>Air Transportation Charges</strong></p><p>Fare: $80.00 / Fuel Surcharge: $516.00</p><p><em><strong>Subtotal : $596.00&nbsp;</strong></em></p><p>&nbsp;</p><p><strong>Taxes, Fees, and Charges</strong></p><p>USA - Customs User Fee (YC): $5.50 / USA -Transportation Tax (US): $34.40 / APHIS User Free (XA): $5.00 / Immigration User Fee (XY): $7.00 / September 11th Security Fee (AY): $2.50 / Passenger Facility Charge (XF): $ 4.50</p><p>Portugal - Passenger Service Charge (YP): $30.12 / Security Tax (PT): $17.08</p><p>Italy - Passenger Service Charge (MJ): $1.60 / Security Bag Charge (EX): $1.34 / City Council Tax (HB): $8.71 / Embarkation Tax (IT): $16.92 / Security Charge (VT): $3.39</p><p><em><strong>Subtotal : $138.06</strong></em></p><p></p>
				</span>
			</span>
				</span>
	</a>
		<p>
		<a class="smallergreenbutton" href="http://book.flytap.com/r3air/tap/Deeplink.aspx?origin=EWR&amp;destination=MRS&amp;flightType=return&amp;market=US&amp;language=EN&amp;_a=FTUSEN&amp;searchType=start&amp;rbd=u&amp;farebasis=UKPROM&amp;adt=1&amp;maxConn=-1&amp;depDate=03.07.2014&amp;retDate=10.07.2014" title="" target="_parent">
		<span class="left">&nbsp;</span>
		<span class="text" ss3_article_id="1">Book Now </span><span class="arrow">&nbsp;</span>
		<span class="right">&nbsp;</span>
		</a>
	</p></div>
<div class="promo" ss3_article_id="#1">
		<a class="promo" href="http://book.flytap.com/r3air/tap/Deeplink.aspx?origin=MIA&amp;destination=GVA&amp;flightType=return&amp;market=US&amp;language=EN&amp;_a=FTUSEN&amp;searchType=start&amp;rbd=k&amp;farebasis=KLTAPEU&amp;adt=1&amp;maxConn=-1&amp;depDate=03.07.2014&amp;retDate=10.07.2014" target="_parent" title="">
		
		<img src="http://www.flytap.com/mediaRep/editors/Banners/Destinations/Europe/Switzerland/Geneva/Lake03.data/BM.jpg" alt="" style="width:155px;height:115px">
        <span class="info">
									<span class="arrival">Geneva</span>
		    		    
		                		    
 	    	            <span class="departure">
            	<span class="text" ss3_article_id="91">Departure from</span>&nbsp;Miami            </span>
        	            
	    	            <span class="description"><span class="price">
                              		
				<span class="currency">US$</span>899       		
            			</span></span>
        	        	
        	        	        				        	            <span class="trip"><span class="text" ss3_article_id="92">Round Trip</span></span>
			        	     	            
        	            
			            
			            
	    	            <span class="conditions" style="">Travel: 08.26 - 12.12.2014.</span>
        						
		
				
			<span title="More information" class="megadrop-seemore" href="#" ss3_article_id="68302">
				Info				<span class="dialog-terms">
				    <span class="dialog-terms-close">X</span>
				    <h1></h1>
				    <p></p><p><strong>Air Transportation Charges</strong></p><p>Fare: $250.00 / Fuel Surcharge: $516.00</p><p><em><strong>Subtotal : $766.00&nbsp;</strong></em></p><p>&nbsp;</p><p><strong>Taxes, Fees, and Charges</strong></p><p>USA - Customs User Fee (YC): $5.50 / USA -Transportation Tax (US): $34.40 / APHIS User Free (XA): $5.00 / Immigration User Fee (XY): $7.00 / September 11th Security Fee (AY): $2.50 / Passenger Facility Charge (XF): $ 4.50</p><p>Portugal - Passenger Service Charge (YP): $30.12 / Security Tax (PT): $17.08</p><p>Switzerland - Airport Passenger Security and Noise Charge (CH): $23.22</p><p><em><strong>Subtotal : $129.32</strong></em></p><p></p>
				</span>
			</span>
				</span>
	</a>
		<p>
		<a class="smallergreenbutton" href="http://book.flytap.com/r3air/tap/Deeplink.aspx?origin=MIA&amp;destination=GVA&amp;flightType=return&amp;market=US&amp;language=EN&amp;_a=FTUSEN&amp;searchType=start&amp;rbd=k&amp;farebasis=KLTAPEU&amp;adt=1&amp;maxConn=-1&amp;depDate=03.07.2014&amp;retDate=10.07.2014" title="" target="_parent">
		<span class="left">&nbsp;</span>
		<span class="text" ss3_article_id="1">Book Now </span><span class="arrow">&nbsp;</span>
		<span class="right">&nbsp;</span>
		</a>
	</p></div>
<div class="promo" ss3_article_id="#1">
		<a class="promo" href="http://book.flytap.com/r3air/tap/Deeplink.aspx?origin=EWR&amp;destination=CPH&amp;flightType=return&amp;market=US&amp;language=EN&amp;_a=FTUSEN&amp;searchType=start&amp;rbd=u&amp;farebasis=UKPROM&amp;adt=1&amp;maxConn=-1&amp;depDate=03.07.2014&amp;retDate=10.07.2014" target="_parent" title="">
		
		<img src="http://www.flytap.com/mediaRep/editors/Banners/Destinations/Europe/Denmark/Copenhagen/cph2.data/BM.jpg" alt="" style="width:155px;height:115px">
        <span class="info">
									<span class="arrival">Copenhagen</span>
		    		    
		                		    
 	    	            <span class="departure">
            	<span class="text" ss3_article_id="91">Departure from</span>&nbsp;New York             </span>
        	            
	    	            <span class="description"><span class="price">
                              		
				<span class="currency">US$</span>996       		
            			</span></span>
        	        	
        	        	        				        	            <span class="trip"><span class="text" ss3_article_id="92">Round Trip</span></span>
			        	     	            
        	            
			            
			            
	    	            <span class="conditions" style="">Travel: 08.26 - 10.28.2014.</span>
        						
		
				
			<span title="More information" class="megadrop-seemore" href="#" ss3_article_id="68302">
				Info				<span class="dialog-terms">
				    <span class="dialog-terms-close">X</span>
				    <h1></h1>
				    <p></p><p><strong>Air Transportation Charges</strong></p><p>Fare: $100.00 / Fuel Surcharge: $516.00</p><p><em><strong>Subtotal : $616.00&nbsp;</strong></em></p><p>&nbsp;</p><p><strong>Taxes, Fees, and Charges</strong></p><p>USA - Customs User Fee (YC): $5.50 / USA -Transportation Tax (US): $34.40 / APHIS User Free (XA): $5.00 / Immigration User Fee (XY): $7.00 / September 11th Security Fee (AY): $2.50 / Passenger Facility Charge (XF): $ 4.50</p><p>Portugal - Passenger Service Charge (YP): $30.12 / Security Tax (PT): $17.08</p><p>Austria - Passenger Service Charge (ZY): $24.28 / Air Transport Tax (QD): $46.92 / Passenger Security Charge (AT): $10.32</p><p><em><strong>Subtotal : $187.62</strong></em></p><p></p>
				</span>
			</span>
				</span>
	</a>
		<p>
		<a class="smallergreenbutton" href="http://book.flytap.com/r3air/tap/Deeplink.aspx?origin=EWR&amp;destination=CPH&amp;flightType=return&amp;market=US&amp;language=EN&amp;_a=FTUSEN&amp;searchType=start&amp;rbd=u&amp;farebasis=UKPROM&amp;adt=1&amp;maxConn=-1&amp;depDate=03.07.2014&amp;retDate=10.07.2014" title="" target="_parent">
		<span class="left">&nbsp;</span>
		<span class="text" ss3_article_id="1">Book Now </span><span class="arrow">&nbsp;</span>
		<span class="right">&nbsp;</span>
		</a>
	</p></div>

	</div>
	<script type="text/javascript">
	$(document).ready(function(){
		$(".promo").each(function(i, element){
			if (i == 0) { $(element).addClass("first"); }
						if (i == 3){ $(element).addClass("last"); }
					});	
	});
	</script>
</span>
</span>	                                </div>
					<span class="megadrop-dialog-terms"></span>	
						
	                            </div>
								                        </li>
                    </ul>                     
                    <span class="clear">&nbsp;</span> 
                </div><!-- end #megadropdown -->
		<span class="banners-dialog-terms"></span>
		<span class="slideshow-dialog-terms"></span>                 <div id="body"> 
                    <div class="top">&nbsp;</div><div class="bottom">&nbsp;</div> 
					<div id="homepage">
						
                    <div id="breadcrumbs"> 
                        <ul> 
				<li><a href="http://www.flytap.com/USA/enus/Homepage" title="Homepage">Homepage</a></li><li><a href="http://www.flytap.com/USA/enus/others" title="Others">Others</a></li>
<li><a href="http://www.flytap.com/USA/enus/others/footer" title="Footer">Footer</a></li>
<li><a href="http://www.flytap.com/USA/enus/others/footer/privacy" title="Privacy">Privacy</a></li>
                        </ul> 
                    </div><!-- end #breadcrumbs --> 
                    <span class="clear">&nbsp;</span> 

						<div id="sharepage_new">

<!--<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>-->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

<script type="text/javascript">
function validateEmail(field) {
    var regex=/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b/i;
    //var pattern = /^[a-zA-Z][\w\.-]*[a-zA-Z0-9]@[a-zA-Z0-9][\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]$/;
    return (regex.test(field)) ? true : false;
}

function validateMultipleEmailsCommaSeparated(value) {
    if(value == undefined || value == "") return false;
    var value2 = value.replace(";",",");
    var result = value2.split(",");
    for(var i = 0;i < result.length;i++)
    if(!validateEmail(result[i])) 
            return false;               
    return true;
}

function validateSendfriend()
{
	$("#div_email").removeClass("error");
	$("#div_my_email").removeClass("error");
	var pattern = /^[a-zA-Z][\w\.-]*[a-zA-Z0-9]@[a-zA-Z0-9][\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]$/;
	if(!validateMultipleEmailsCommaSeparated($('#sendfriend_email').val()))
	{
		$('.error_msg').removeClass('hide');
		$('.fill_valid_email').removeClass('hide');
		$('.container_info_email').addClass('error'); 
		flagSmile = 0;
		$("#div_email").addClass("error");
		return false;
	}
	if(!validateMultipleEmailsCommaSeparated($('#sendfriend_my_email').val()))
	{
		$("#div_my_email").addClass("error");
		return false;
	}
	return true;
}

  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
  $(document).ready(function() {
    $('.print').click(function(){window.print();});
    $('#sharepage li.email a').click(function(){$( "#sendfriend" ).dialog({resizable: false, dialogClass: 'shareit', title: 'Share with friends', width: 310});});
    $('#sharepage_new li.email a').click(function(){$( "#sendfriend" ).dialog({resizable: false, dialogClass: 'shareit', title: 'Share With a friend', width: 310});});
    $('#sendfriend a.close').click(function(){$('#sendfriend label+input').attr('value',' ');$('#sendfriend textarea').attr('value',' ');$('#sendfriend').hide();});
  });
</script>
<style>
.fblike iframe {width: 107px !important; }
</style>
	<div>
		<ul class="printless" style="margin-right: 11px;">
			<!--<li class="email"><a href="javascript:" title="E-mail" class="email"><span class="title">&nbsp;</span></a></li>-->
			<li class="print-area" style="float: left;"><a href="javascript:" class="print"><span class="title">Print</span></a></li>
		    <li class="google1" style="float: left;"><g:plusone size="medium" annotation="none"></g:plusone></li>

		    <li class="tweetbtn" style="float: left;"><a href="https://twitter.com/share" class="twitter-share-button" data-count="none" data-lang="en" data-hashtags="flytap"></a></li>

			<!--li class="tweetbtn"><a href="https://twitter.com/share" class="twitter-share-button" data-via="maechec" data-lang="pt" data-hashtags="Flytap">Tweetar</a></li-->

		    <li class="fblike" style="margin-left:17px; float: left;"><iframe src="//www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.flytap.com%2FUSA%2Fenus%2Fothers%2Ffooter%2Fprivacy&amp;send=false&amp;layout=button_count&amp;width=90&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font=arial&amp;height=21&amp;locale=en_US" scrolling="no" frameborder="0" allowtransparency="true"></iframe></li>
		</ul>
	    <div id="sendfriend" style="display: none">
	    	<form action="http://www.flytap.com/mailTo.php" method="POST" onsubmit="return validateSendfriend();">
	            <div class="line" id="div_email" ss3_article_id="67749">
	                <label for="email"><!--<ss3_text type="varchar" id="text" noedit="1"/>--> <strong>To:</strong> (email address)</label>
	                <textarea name="email" cols="10" rows="2" id="sendfriend_email"></textarea>
	            </div>
	            <div class="line" id="div_my_email" ss3_article_id="67750">
	                <label for="myEmail"><!--<ss3_text type="varchar" id="text" noedit="1"/>--> <strong>From:</strong> (email address)</label>
	                <input type="text" name="myEmail" id="sendfriend_my_email">
	            </div>
	            <div class="line" id="div_text" ss3_article_id="67751">
	                <label for="text"><!--<ss3_text type="varchar" id="text" noedit="1"/>--> <strong>Note:</strong> (optional)</label>
	                <textarea name="text" cols="10" rows="2" maxlength="255" id="sendfriend_text"></textarea>
	                <span ss3_article_id="67752"><!--<ss3_text type="varchar" id="text" noedit="1"/>--> 255 character limit</span>
	            </div>
	            <div class="line">
	<input type="hidden" name="inro" value="Your friend ___EMAIL___ recomends this page">
	                <input type="submit" value="send">
	            </div>
	       		<span class="clear">&nbsp;</span>
	         </form>
	    </div>
	</div>
	<span class="clear">&nbsp;</span>	
</div>
<span class="clear">&nbsp;</span>
						<!-- content_open -->
						<!-- crisis banner start -->

	
						<!-- crisis banner end -->
<div id="modules" template="us/enus/others/footer/privacy.php">
<div class="module" id="0e21b29dffd97704f642c82f97a2bcd7_bb76c6ed823e130325da2b4147cd07c7">	<div class="heading basic" ss3_article_id="#1">
		<h1 id="top_h1"><span class="icon none">&nbsp;</span>Privacy &amp; Security Policy</h1>
	</div></div>
<div class="module" id="df77605d2ea30a70713dccae3fed8f91_50afb0bb0385fd3ffd96743947c73ee8"><div class="free_area"><div class="simple_content">
	<div class="bodyBasicText formatedUlli" ss3_article_id="#1">
		<h2><strong>Safety Conditions</strong></h2>
<p>We are aware that exchanging personal information is a great concern for Internet users.</p>
<p>We will only request information about your credit card if you wish to make a reservation.</p>
<p>The security offered by the application is through the SSL (Secure Socket Layer) technology, based on encrypting the communications exchanged between your PC and our server, so that these cannot be intercepted.</p>
<h2><strong>Privacy Policy</strong></h2>
<p>TAP will collect all possible information concerning its clients, with he aim of offering a personalised service and allow an easy navigation.</p>
<p>TAP will assure the best possible customer relation, and for that purpose will follow the principles of data protection.</p>
<p>Our customer's personal data <strong>will not be made available to a third party</strong>; TAP may use such data from time to time to provide our customers with offers, promotions and news through TAP marketing campaigns or newsletters.</p>
<p>If such marketing information is sent by email, customers will be provided with a means to opt out from receiving future emails with marketing information.</p>
<p>Your navigation on this site will be monitored for statistical purposes.</p>
<h2><strong>Use of Cookies</strong></h2>
<p>Cookies are small information files placed in your PC, thus allowing Web Sites to remember your past choices, dates and paths on the site.</p>
<p>These files are also used to prevent that you have to repeat your personal data and password every time you use TAP Services.</p>
<p>The user is entitled to configure his browser to inform him every time a cookie is received, or even to deactivate its acceptance. However, TAP alerts that this will prevent the use of some of our services.</p>		<div style="clear:both; float:none; display:hidden; height:0;"></div>
	</div>
</div></div></div>
</div>						<!-- content_close -->
					</div>
                </div><!-- end #body --> 
            </div><!-- end #content --> 
			<!--MC objSideBar.php-->
<script language="Javascript" type="text/javascript">

/* checin online code */

jQuery(document).ready(function() {
	
	var checkinServices = new Array;
	var services_data = new Array;
	
	
	checkinServices["AMS"] = "AMADEUS:72";
checkinServices["ARN"] = "AMADEUS:72";
checkinServices["BCN"] = "AMADEUS:72";
checkinServices["BLQ"] = "AMADEUS:72";
checkinServices["BRU"] = "AMADEUS:72";
checkinServices["BSB"] = "AMADEUS:72";
checkinServices["CNF"] = "AMADEUS:72";
checkinServices["DKR"] = "AMADEUS:72";
checkinServices["EWR"] = "AMADEUS:48";
checkinServices["FCO"] = "AMADEUS:72";
checkinServices["FNC"] = "AMADEUS:72";
checkinServices["FOR"] = "AMADEUS:72";
checkinServices["FRA"] = "LH:48";
checkinServices["GIG"] = "AMADEUS:72";
checkinServices["GRU"] = "AMADEUS:72";
checkinServices["GVA"] = "SP:48";
checkinServices["HAM"] = "LH:48";
checkinServices["HOR"] = "AMADEUS:72";
checkinServices["LAD"] = "AMADEUS:72";
checkinServices["LGW"] = "AMADEUS:72";
checkinServices["LHR"] = "AMADEUS:72";
checkinServices["LIN"] = "AMADEUS:72";
checkinServices["LIS"] = "AMADEUS:72";
checkinServices["MAD"] = "AMADEUS:72";
checkinServices["MPM"] = "AMADEUS:72";
checkinServices["MUC"] = "LH:48";
checkinServices["MXP"] = "AMADEUS:72";
checkinServices["NAT"] = "AMADEUS:72";
checkinServices["OPO"] = "AMADEUS:72";
checkinServices["ORY"] = "AMADEUS:72";
checkinServices["OSL"] = "AMADEUS:72";
checkinServices["PDL"] = "AMADEUS:72";
checkinServices["PIX"] = "AMADEUS:72";
checkinServices["PXO"] = "AMADEUS:72";
checkinServices["REC"] = "AMADEUS:72";
checkinServices["SSA"] = "AMADEUS:72";
checkinServices["TER"] = "AMADEUS:72";
checkinServices["TMS"] = "AMADEUS:72";
checkinServices["VCE"] = "AMADEUS:72";
checkinServices["VCP"] = "AMADEUS:72";
checkinServices["ZAG"] = "SP:48";
checkinServices["ZRH"] = "SP:48";
checkinServices["LYS"] = "AMADEUS:72";
checkinServices["TLS"] = "AMADEUS:72";
checkinServices["CPH"] = "AMADEUS:72";
checkinServices["WAW"] = "AMADEUS:72";
checkinServices["VIE"] = "AUS:48";
checkinServices["MAN"] = "AMADEUS:72";
checkinServices["PRG"] = "AMADEUS:72";
checkinServices["BUD"] = "AMADEUS:72";
checkinServices["MIA"] = "AMADEUS:48";
checkinServices["POA"] = "AMADEUS:72";
checkinServices["DUS"] = "LH:48";
checkinServices["NCE"] = "AMADEUS:72";
checkinServices["BOD"] = "AMADEUS:72";
checkinServices["MRS"] = "AMADEUS:72";
checkinServices["CMN"] = "AMADEUS:72";
checkinServices["BIO"] = "AMADEUS:72";
checkinServices["SVQ"] = "AMADEUS:72";
checkinServices["RAK"] = "AMADEUS:72";
checkinServices["LUX"] = "AMADEUS:72";
checkinServices["HEL"] = "AMADEUS:72";
checkinServices["CCS"] = "AMADEUS:72";
checkinServices["OTP"] = "AMADEUS:72";
checkinServices["VLC"] = "AMADEUS:72";
checkinServices["FAO"] = "AMADEUS:72";
checkinServices["MOW"] = "AMADEUS:72";
checkinServices["DME"] = "AMADEUS:72";
checkinServices["ALG"] = "AMADEUS:72";
checkinServices["AGP"] = "AMADEUS:72";
checkinServices["ACC"] = "AMADEUS:72";
checkinServices["BKO"] = "AMADEUS:72";
checkinServices["SXF"] = "AMADEUS:72";
checkinServices["BEL"] = "AMADEUS:72";
checkinServices["MAO"] = "AMADEUS:72";
checkinServices["SID"] = "AMADEUS:72";
var newAPT ="";  var newAptDate ="";	
	/* -- */
	
	$.widget("ui.customautocomplete", $.extend({}, $.ui.autocomplete.prototype, {
		_response: function(contents){
			if(contents == null || contents == '') contents = ["No match found"];
			$.ui.autocomplete.prototype._response.apply(this, arguments);
			$(this.element).trigger("autocompletesearchcomplete", [contents]);
		}
	}));	
	
	/*  --  */
	
	$('div.container_airports_checkin_to').hide();
	$('div.container_checkin_online_ffn').hide();
	$('div.container_checkin_online_date').hide();
	$('div.container_reservation_number').hide();

	$('#combo_checkin_airports').change(function(){
		
		var from_code = $(this).val();
		var checkinService = "";

		$('#checkin_online_to option:first').attr("selected","selected");
		$('#checkin_online_from_code').val(from_code);
		
		if(typeof(checkinServices[from_code]) != 'undefined'){			

			var services_data = checkinServices[from_code];
			services_data = services_data.split(':');
			checkinService = services_data[0];
			
			$('#checkin_online_date_time').val(services_data[1]);
			$('#checkin_online_service_code').val(checkinService);
			
			var cctime = services_data[1];
			var c_days      = 0;
			var c_days_name = '';
			var c_opt		= '';												
			var c_extra 	= 0;
			
			var time4now = new Date().getTime();
			var date4newAPT = new Date(newAptDate).getTime();
			var time4newAPT = date4newAPT - time4now;
			var hours4newAPT = Math.floor(time4newAPT/1000/60/60);
			
			while(c_extra <= cctime) {
				
				switch(c_extra) {
					case 0:  c_days = 0; c_days_name = "Today"; break;								
					case 24:  c_days = 1; c_days_name = "Tomorrow"; break;
					case 48:  c_days = 2; c_days_name = "In the next 48 hours"; break;
					case 72:  c_days = 3; c_days_name = "In the next 72 hours"; break;
					case 96:  c_days = 4; c_days_name = "In the next 96 hours"; break;	
					case 120: c_days = 5; c_days_name = "In the next 120 hours"; break;
				}
		
				var myDate = new Date();							
				var datenow = myDate.setDate(myDate.getDate() + c_days);
				datenow = (myDate.format('d/m/Y'));
				
				//MC Excepção para ocultar o primeiro dia dropdown
				if(newAPT == from_code && time4now < date4newAPT)
				{		
					if(parseInt(c_extra, 10) > parseInt(hours4newAPT, 10))
					{
						c_opt += '<option value="' + datenow + '">' + c_days_name + ' - ' + datenow + '</option>';
						
					}
				}
				else
					c_opt += '<option value="' + datenow + '">' + c_days_name + ' - ' + datenow +'</option>';	
				
																		
				c_extra += 24;
			}
			
			$('#checkin_online_date').html(c_opt);
			$('p.combo_slidingmenu_checkin').find('div.selectedTxt').html('Please select');
			$('#checkin_online_date').resetSS();						
			
			if(checkinService == 'TAP') {						
				$('div.container_checkin_online_ffn').show();
				$('div.container_checkin_online_date').hide();						
				$('div.container_reservation_number').hide();
			} else if(checkinService == 'AMADEUS') {
				$('div.container_checkin_online_ffn').show();
				$('div.container_checkin_online_date').show();
				$('div.container_reservation_number').show();							
			} else {
				$('div.container_checkin_online_ffn').hide();
				$('div.container_checkin_online_date').hide();					
				$('div.container_reservation_number').hide();
			}
			
		}		
		
	});
	
	$('#checkin_online_ffn').focus(function(){
		var thisval	= $(this).val();
		$('#checkin_online_ffn').val(thisval);
	});
	
	/* -- */
	
	$(function() {
	    //var checkinAvailableAirports = [];   
	    var termTemplate = "<span class='ui-autocomplete-term'>%s</span>";
	    
	    $("#checkin_online_from").keydown(function(){
			$('div.container_checkin_online_ffn').hide();
			$('div.container_checkin_online_date').hide();
			$('div.container_reservation_number').hide(); 
				
		});

	    $("#checkin_online_from").customautocomplete({
			//source: checkinAvailableAirports,
			source: "http://www.flytap.com/getAptMatch.php?new123&language=enus&checkinOnline",
			//source: "http://www.flytap.com/getWCI.php?",
			minLength: 3,
			delay: 50,
			open: function(e,ui) {
				var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
				acData.menu.element.find('li a').each(function() {
					var me = $(this);
					me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );
	
				});
				$('a.airports_checkin_online_from').show();			
			},
			close: function(){
				var checkinService = '';
				var apt_name = "language=enus&getAptFromName=" + $('#checkin_online_from').val();	
				//console.log(apt_name);
				$.post('http://www.flytap.com/IBEpost.php', apt_name, function(apt_code) {
					
					//console.log(apt_code);
					$('#checkin_online_from_code').val(apt_code);
					
					var newtext = $('#checkin_online_from').val();					
				    newtext = newtext.substring(0,newtext.length-6);
					$('#checkin_online_from').val(newtext);
					
					if(typeof(checkinServices[apt_code]) != 'undefined'){							
						
						var services_data = checkinServices[apt_code];
						services_data = services_data.split(':');
						checkinService = services_data[0];
						
						$('#checkin_online_date_time').val(services_data[1]);
						$('#checkin_online_service_code').val(checkinService);
						
						var cctime = services_data[1];
						var c_days      = 0;
						var c_days_name = '';
						var c_opt		= '';												
						var c_extra 	= 0;
						
						var time4now = new Date().getTime();
						var date4newAPT = new Date(newAptDate).getTime();
						var time4newAPT = date4newAPT - time4now;
						var hours4newAPT = Math.floor(time4newAPT/1000/60/60);
								
								
						
						while(c_extra <= cctime) {
							switch(c_extra) {
								case 0:  c_days = 0; c_days_name = "Today"; break;								
								case 24:  c_days = 1; c_days_name = "Tomorrow"; break;
								case 48:  c_days = 2; c_days_name = "In the next 48 hours"; break;
								case 72:  c_days = 3; c_days_name = "In the next 72 hours"; break;
								case 96:  c_days = 4; c_days_name = "In the next 96 hours"; break;	
								case 120: c_days = 5; c_days_name = "In the next 120 hours"; break;
							}

							var myDate = new Date();							
							var datenow = myDate.setDate(myDate.getDate() + c_days);
							datenow = (myDate.format('d/m/Y'));
							
							//MC Excepção para ocultar o primeiro dia autocomplete
							if(newAPT == apt_code && IS_IE)
							{ 
								date4newAPT = new Date(2013,3,5).getTime();
								//var time4newAPT = date4newAPT - time4now;
								//var hours4newAPT = Math.floor(time4newAPT/1000/60/60/1000);
								hours4newAPT = 10;
								//alert("aqui"+apt_code+" - time4now - "+time4now+ "date4newAPT = "+date4newAPT+"  hours4newAPT ="+hours4newAPT);
							}
							
							if(newAPT == apt_code && time4now < date4newAPT)
							{
					//console.log(cctime+"--"+c_extra+"---"+c_days_name);
					//alert("c_extra"+c_extra+" - time4now - "+time4now+ "date4newAPT = "+date4newAPT+"  hours4newAPT ="+hours4newAPT);
								
								//console.log( parseInt(c_extra, 10)+"> "+parseInt(hours4newAPT, 10));
								
								
								if(parseInt(c_extra, 10) > parseInt(hours4newAPT, 10))
								{
									//console.log( c_extra+" > "+hours4newAPT);
									c_opt += '<option value="' + datenow + '">' + c_days_name + ' - ' + datenow + '</option>';
									
								}
							}
							else
								c_opt += '<option value="' + datenow + '">' + c_days_name + ' - ' + datenow + '</option>';																					
								
							c_extra += 24;
						}
						
						$('#checkin_online_date').html(c_opt);
						$('p.combo_slidingmenu_checkin').find('div.selectedTxt').html('Please select');
						$('#checkin_online_date').resetSS();						
						
						if(checkinService == 'TAP') {						
							$('div.container_checkin_online_ffn').show();
							$('div.container_checkin_online_date').hide();						
							$('div.container_reservation_number').hide();
						} else if(checkinService == 'AMADEUS') {
							$('div.container_checkin_online_ffn').show();
							$('div.container_checkin_online_date').show();
							$('div.container_reservation_number').show();							
						} else {
							$('div.container_checkin_online_ffn').hide();
							$('div.container_checkin_online_date').hide();					
							$('div.container_reservation_number').hide();
						}
						
					}
					
					$('a.airports_checkin_online_from').show();
					$('div.container_airports_checkin_to').show();
				});
				
			}
	    });    
	});	 
	
	/*---*/

	$('#checkin_online_button').click(function(){
		
		var checkin_lang = 'enus';
		
		var c_service	= $('#checkin_online_service_code').val();
		var c_from		= $('#checkin_online_from_code').val();
		// var c_to		= $("#checkin_online_to").val();
		var c_ffn		= $('#checkin_online_ffn').val();
		var c_date		= $('#checkin_online_date').val();
		var c_time		= $('#checkin_online_date_time').val();		
		var c_url		= '';
		var c_rn		= $('#checkin_online_reservation').val(); //LV - issue 1278
		
		/*-*/
	
		if(c_from != '') { $(".container_airports_checkin_from").removeClass('error'); } 
		else { flag = 1; $(".container_airports_checkin_from").addClass('error'); return false; }
		
		//LV - issue 1278
		if(c_rn.length != 6 && c_rn.length != 0 && c_ffn.length <= 2 ) { flag = 1; $(".container_reservation_number").addClass('error'); return false; }
		else { $(".container_reservation_number").removeClass('error'); } 
		
		// if(c_to) { $(".container_airports_checkin_to").removeClass('error'); } 
		// else { flag = 1; $(".container_airports_checkin_to").addClass('error'); return false; }
		
		/*-*/
		
		if(c_service != '' && c_service != 'undefined') {
			
			if(c_service == 'TAP') {
				
				// if(c_ffn != '') { $(".checkin_online_ffn").removeClass('error'); } 
				// else { flag = 1; $(".checkin_online_ffn").addClass('error'); return false; }
				
				var x_checkin_lang = (checkin_lang != "pt" && checkin_lang != "en") ? "en" : checkin_lang;
				
				if(c_ffn == 'TP' || c_ffn == '') {
					c_url = "http://checkin2.flytap.com/CheckIn2WAR/index.jsp?lang=" + x_checkin_lang + "&cidade=" + c_from;					
				} else {
					var new_c_ffn = c_ffn.replace(/TP/g,"");
					c_url = "http://checkin2.flytap.com/CheckIn2WAR/index.jsp?lang=" + x_checkin_lang + "&cidade=" + c_from + "&fqtv=" + new_c_ffn;
				}
			
			} else if (c_service == 'AMADEUS') {
				
				// if(c_ffn != '') { $(".checkin_online_ffn").removeClass('error'); } 
				// else { flag = 1; $(".checkin_online_ffn").addClass('error'); return false; }

//MC  -  ALTERAÇÂO DE SISTEMA PARA AMADEUS, A PARTIR DE UMA DETERMINADA DATA  -  START
/*
					var data = c_date;
					var dateparts = data.split("/");
					var dataPartidaObj = new Date(dateparts[2], parseInt(dateparts[1]) - 1, parseInt(dateparts[0]));
					var dataPartidaObjStamp = dataPartidaObj.getTime();
					//new Date(ano,mes-1,dia)
					var changeDayStamp = new Date(2011,11,6).getTime();  //neste dia já manda para p Amadeus
			//console.log(dataPartidaObjStamp+" > "+changeDayStamp +"------"+c_from);	
			//alert(dataPartidaObjStamp+" > "+changeDayStamp +"------"+c_from);
				if((dataPartidaObjStamp < changeDayStamp) && (c_from == "LHR"))
				{	
					//console.log("redirecting to LH not AMADEUS");
					//alert("redirecting to LH not AMADEUS");
					c_url = "http://www.lufthansa.com/xx/en/Online-Check-in?source=web";
				}
//MC  -  ALTERAÇÂO DE SISTEMA A PARTIR DE UMA DETERMINADA DATA  -  END
// Tirar o else que sobra...
				else
				{
					*/
					
					//LV - issue 1278: adicionado codigo de reserva c_rn
					var c_url_prefix = 'https://checkin.si.amadeus.net/1ASIHSSCWEBTP/sscwtp/';
				
					if(c_ffn == 'TP' || c_ffn == '') {
						if(c_rn == '' || c_rn == 'undefined')
							c_url = c_url_prefix + "checkin?ln=" + checkin_lang + "&IDepartureDate=" + c_date;
						else
							c_url = c_url_prefix + "checkindirect?ln=" + checkin_lang + "&IDepartureDate=" + c_date + "&IFormOfIdentification=PNR&IIdentification=" + c_rn;
					} else {
						/*if(c_rn == '' || c_rn == 'undefined')
							c_url = c_url_prefix + "checkindirect?ln=" + checkin_lang + "&IFormOfIdentification=FFTP&IIdentification=" + c_ffn + "&IDepartureDate=" + c_date;
						else*/
						c_url = c_url_prefix + "checkindirect?ln=" + checkin_lang + "&IDepartureDate=" + c_date + "&IFormOfIdentification=FFTP&IIdentification=" + c_ffn;
					}
				// }
			} else if (c_service == 'SP') {
				c_url = 'https://www.web-check-in.com/checkin.php?al=TP&lang=' + checkin_lang;	
			} else if (c_service == 'LH') {
				c_url = "http://www.lufthansa.com/xx/en/Online-Check-in?source=web";
			}
			else if (c_service == 'AUS') {
				c_url = "https://checkin.austrian.com/webcki2/spring/main?LANG=" + checkin_lang;
			} else {
				c_url = 'http://checkintst.flytap.com/';				
			}
			
			// alert(c_url);
			
			window.open(
				c_url,
				'checkin',
				'location=yes,toolbar=yes,menubar=yes,directories=yes,status=yes,resizable=yes,scrollbars=yes',
				false
			);	
			
			return true;	
			
		} else { return false; }
	});
	
	/*---*/
	
});

</script>

<script language="Javascript" type="text/javascript">
/* manage your booking */
jQuery(document).ready(function() {
	
	$('#opt_print_receipt, #opt_reimbursement').click(function(){
		$('div.manage_booking_details').hide();
		$('p.info_booking_details').hide();
		$('#manage_booking_reference').val('           ');
		$('#manage_booking_last_name').val('           ');
	});
	
	$('#manage_booking_reference').click(function(){ $(this).val(''); });	
	$('#manage_booking_last_name').click(function(){ $(this).val(''); });		

	$('#opt_manage_booking').click(function(){
		$('p.info_booking_details').show();		
		$('div.manage_booking_details').show();		
		$('#manage_booking_reference').val('');
		$('#manage_booking_last_name').val('');
	});
	
	$('#ManageBooking').click(function(){
		if(validateSidebar('manage_booking')) {
			return true;
		} else { return false; }
	});
});
</script>

            <div id="sidebar"> 
        			<!--objIBE2 With CRUISE AND PARKING - start-->
<span class="clear"></span>
<div id="bookingtool" class="bookingToolSidebar">
        <div class="item position0 open">
        <div class="topbar"></div>
        <div class="header">
            <div class="icon airplane"></div>
            <div class="text"><span ss3_article_id="200">Flights</span></div>
        </div>
        <div class="content">
            <div class="sidebar_container">
                <div class="tab-flights" id="tab-flights">
 <!--objIBE-->
<script language="Javascript" type="text/javascript">
function bindAutoCompleteFlightTo()
{
$("#flights_to").customautocomplete({
							source:SEED3_URL+"getAptMatch.php?new2&language="+langId+"&getDestinations="+$("#origin").val(),
							minLength: 3,
							delay: 50,
							open: function(e,ui) {
								var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
								acData.menu.element.find('li a').each(function() {
									var me = $(this);
									me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm));
								});
							}
			});
}
function bindAutoCompleteFlightArrDepTo()
{
	var mySelectedAirp = $("#arrivalsdepartures_select_airport_from").val();
	if (mySelectedAirp.length != 3 && mySelectedAirp.length > 5)
		fromSelectedAirp = mySelectedAirp.substring(mySelectedAirp.length-4, mySelectedAirp.length-1);
				
	$("#arrivalsdepartures_select_airport_to").customautocomplete({
			source: SEED3_URL+"getAptMatch.php?new2&language="+langId+"&getDestinations="+fromSelectedAirp,
			minLength: 3,
			delay: 50,
			open: function(e,ui) {
				var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
				acData.menu.element.find('li a').each(function() {
					var me = $(this);
					me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );
				});
			}
	    });	  
}

//LV alterado $post_language para $aid_language no office id - issue 1441
multicity_link = "http://book.flytap.com/r3air/tap/DeepLink.aspx?_a=FTUSEN&language=EN-US&market=US&searchType=multi";
powerchoice_link = powerchoice_link + '?market=US&language=en-us&_l=EN-US&_a=FTUSEN';

var mymarket = 'us';
var langId = "enus";

jQuery(document).ready(function() {
	$('#destination').val("");
	$.widget("ui.customautocomplete", $.extend({}, $.ui.autocomplete.prototype, {
		_response: function(contents){
			if(contents == null || contents == '') contents = ["No match found"];
			$.ui.autocomplete.prototype._response.apply(this, arguments);
			$(this.element).trigger("autocompletesearchcomplete", [contents]);
		}
	}));	
	
	//Maxmind geoLocation - START
    var geo_location_market = "us";
    var office_id = "FTusenus";
    var langId = "enus";
    var currentMarket = "us";
    var redirectAPT = "";
    var originCode  = "AAA";
    
    var my_url = "http://www.flytap.com/maxmind/getLocation.php";
	$.get(my_url,function(data){
        var mySplitResult = data.split("_____");
        redirectAPT = mySplitResult[3];
        if(redirectAPT.length == 3)
        {
        	getAptName_url = "http://www.flytap.com/loadOriginDestination.php?new2&language="+langId+"&getAptString="+redirectAPT;
        	$.get(getAptName_url,function(data){
        		$('#flights_from').val(data);	
        		$('#origin').val(redirectAPT);
        		$("#combo_airports_flights_from").val(redirectAPT);
        		originCode = redirectAPT;
        	}); 
        	$('#origin').val(redirectAPT); 
        	<!--.-->
        	
					var lang='en';
					var testedata = 'language='+lang+'&getDestinations=' + redirectAPT;
					$.get('http://' + window.location.hostname + '/loadOriginDestination.php', testedata, function(destinations) { 	
						var html = lis = '', x = 0;
						
						//Wingman IE7 speed up
				 		if (IS_IE_7 || IS_IE_8 || IS_MOBILE_BROWSER)
				 			html = '<option value="">Select airport</option>';
						availableAirports = new Array;
						$.each(destinations, function(i, v){
							lis += '<li><a href="javascript:;" rel="' + i + '">' + v + '</a></li>';
							html += '<option value="' + i + '">' + v + '</option>';
							availableAirports[x] = v + ' (' + i + ')';
							x++;
						});
						
						$('#combo_airports_flights_to').html(html);
						$('div.container_airports_flights_to').find('ul.newList').html(lis);
						
$('div.container_airports_flights_to').find('ul.newList li a').each(function(){
					$(this).click(function(){
						
						destinationCode = $(this).attr('rel');
						destinationText = $(this).text();
						
						$('#destination').val(destinationCode);
						
						$("option[value=" + destinationCode + "]", $('#combo_airports_flights_to')).attr('selected','selected');
						$('span.combo_airports_flights_to').find('div.selectedTxt').html(destinationText);						
						$('#flights_to').val(destinationText);
						
				    	if(us_airport(destinationCode)) { $( "#us_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }						

				    	if(ven_airport(destinationCode)) { $( "#ven_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }						
						
						$(this).parent().parent().hide();
						
						/* - */
						
						if(mymarket == 'pt') {
						
							if(residentArray[redirectAPT] != undefined) {
								for(var i = 0, l = residentArray[redirectAPT].length; i < l; i++) {
									if(residentArray[redirectAPT][i] == destinationCode) {
										// $('div.residents').show();
										if($('#flighttype_oneway').is(':checked')) {
										$('div.residents').show();
										$('#residents').attr('checked',false);
										$('#residents').attr('disabled', 'disabled');											
										} else {
										$('div.residents').show();
										}										
										break;
									}
								} 	
							}
							
							if(studentArray[redirectAPT] != undefined) {
								for(var i = 0, l = studentArray[redirectAPT].length; i < l; i++) {
									if(studentArray[redirectAPT][i] == destinationCode) {
										// $('div.students').show();
										if($('#flighttype_oneway').is(':checked')) {
										$('div.students').show();
										$('#students').attr('checked',false);
										$('#students').attr('disabled', 'disabled');											
										} else{
										$('div.students').show();
										}										
										break;
									}
								} 
							}
							
							$('#flighttype_oneway').click(function(){
								$('#students').attr('checked', false);	
								$('#residents').attr('checked', false);	
								
								$('#students').attr('disabled', 'disabled');
								$('#residents').attr('disabled', 'disabled');
								
								$('div.people_age .middle').show();
								$('div.people_age .right').show();																
							});							
							
							$('#residents').click(function(){			
								$('#flighttype_return').attr('checked','checked');										
								$('div.people_age .middle').show();							
								$('div.people_age .right').show();										
								$('#students').attr('checked', false);
	
								if($('#residents').is(':checked')) {	
									$('#flighttype_oneway').attr('disabled','disabled');
								}
								else {	
									$('#flighttype_oneway').attr('disabled','');
								}
	
							});
							
							$('#students').click(function(){
								$('#flighttype_return').attr('checked','checked');							
								$('div.people_age .middle').show();
								$('div.people_age .right').show();
								$('#residents').attr('checked', false);								
								if($('#students').is(':checked')) {								
									$('div.people_age .middle').hide();
									$('div.people_age .right').hide();
									$('#flighttype_oneway').attr('disabled','disabled');
									$( "#std_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true;
								}
	
								else {
									$('#flighttype_oneway').attr('disabled','');
								}
							});															
							
							$('#flighttype_return, #flighttype_multicity, #flighttype_powerchoice').live('click', function(){
									$('#students').attr('disabled', '');
									$('#residents').attr('disabled', '');
									$('div.people_age .middle').show();
									$('div.people_age .right').show();	
									$('#flighttype_onway').attr('disabled','');																
							});										
																
							
						}
						  
						/* - */
						
					});	
				});
						
						
						
					}, 'json');        	
        	
        	<!--.-->

        	bindAutoCompleteFlightTo();
        } 
    });
	//Maxmind geoLocation - END
	
	$('select.airport_textbox').change(function(){
		$('#arrivalsdepartures_select_airport').val( $('option:selected', $(this)).text() );
	});
	
	var lastAdultVal = 1;
	
	$('#flight_adults.combostyle').change(function(){
		
		/* ADULTS COMBOBOX CORRECTIONS - 25/7/2012 */
		var babies = $('#flight_babies').val();
		var children = $('#flight_children').val();
		var total = parseInt($(this).val()) + parseInt(children);
		var error = false;
		
		if(total > 9){
	    	$(this).val(0);
	    	error = true;	
	    	$("#passenger_max_alert").parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open");
		}
				
		if(!(total > 9) && ($(this).val() < babies) ){
			error = true;	
	    	$("#passenger_alert").parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open");
		}
		
		if(!(total > 9) && ($(this).val() > babies)){
			var maxChildren = parseInt(($(this).val()-babies)*4) + parseInt(babies);
			if(children > maxChildren){
				error = true;	
				$("#passenger_alert").parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open");	
			}		
		}
		
		if(!(total > 9) && ($(this).val() == babies)){
			if(children>$(this).val()){
				error = true;
				$("#passenger_alert").parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open");
			}
		}
		
		if(error)
			$(this).val(lastAdultVal);
		else
			lastAdultVal = $(this).val();
		/* END OF CORRECTIONS */
					
		if (!IS_IE_7 && !IS_IE_8 && !IS_MOBILE_BROWSER)
			$('#flight_children').resetSS();		
		
		if (!IS_IE_7 && !IS_IE_8 && !IS_MOBILE_BROWSER)
			$('#flight_babies').resetSS();
		if (!IS_IE_7 && !IS_IE_8 && !IS_MOBILE_BROWSER)
			$(this).resetSS();
	});
	
	$('#flight_babies.combostyle').change(function(){

		var adults = $('#flight_adults').val();
		var children = $('#flight_children').val();
	
		if( $(this).val() > adults ){
			$(this).val(adults);
			$('#flight_babies').next('div').html('<div class="selectedTxt">' + adults + '</div>');	
	    	$("#passenger_alert").parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open");
		}
		
		if($(this).val() == adults){
			if(children>adults)
			{
				var max=$(this).val();
				while( max>-1)
				{
					max--;
					//alert(max);
					if(children<=(adults - max)*4+(adults-max))
					{
						//alert('Got it '+max);
						$(this).val(max);
						$('#flight_babies').next('div').html('<div class="selectedTxt">' + max + '</div>');
				    	$("#passenger_alert").parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open");	
						break;
					}
				}
			}
		}
		
		if($(this).val() < adults){
			var maxChildren = parseInt((adults-$(this).val())*4) + parseInt($(this).val());

			if(children > maxChildren) 
			{
				$("#passenger_alert").parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open");	
				$(this).val(0);
			}		
		}		
		if (!IS_IE_7 && !IS_IE_8 && !IS_MOBILE_BROWSER)
			$(this).resetSS();
		
	});	


	$('#flight_children.combostyle').change(function(){

		var adults = $('#flight_adults').val();
		var babies = $('#flight_babies').val();
		var total = parseInt($(this).val()) + parseInt(adults);
		
		if(total > 9){
			// $('#flight_adults').val(0);
	    	// $('#flight_adults').resetSS();	
	    	$(this).val(0);		
	    	$("#passenger_max_alert").parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open");
		}

		if(  babies<adults ){
			
			var maxChildren = parseInt((adults-babies)*4) + parseInt(babies);
			
			if( $(this).val() > maxChildren ){
				$(this).val( maxChildren );
				$('#flight_children').next('div').html('<div class="selectedTxt">' + (adults - babies)*4 + '</div>');
		    	$("#passenger_alert").parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open");				
			}
			
		}		
		if(babies==adults){
			
			if( $(this).val() > adults  ){
				$(this).val(adults);
				$('#flight_children').next('div').html('<div class="selectedTxt">' + adults + '</div>');
		    	$("#passenger_alert").parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open");				
			}
		}
		if (!IS_IE_7 && !IS_IE_8 && !IS_MOBILE_BROWSER)
			$(this).resetSS();
		
	});	


/**/

var airportsWarningUsa = new Array();

/* danish */

airportsWarningUsa[0]    = 'PHL';
airportsWarningUsa[1]    = 'HFD';
airportsWarningUsa[2]    = 'ALB';
airportsWarningUsa[3]    = 'PVD';
airportsWarningUsa[4]    = 'BWI';
airportsWarningUsa[5]    = 'BOS';
airportsWarningUsa[6]    = 'WAS';
airportsWarningUsa[7]    = 'MHT';
airportsWarningUsa[8]    = 'SYR';
airportsWarningUsa[9]    = 'ROC';
airportsWarningUsa[10]   = 'BTV';
airportsWarningUsa[11]   = 'PWM';
airportsWarningUsa[12]   = 'RIC';
airportsWarningUsa[13]   = 'ORF';
airportsWarningUsa[14]   = 'BUF';
airportsWarningUsa[15]   = 'PIT';
airportsWarningUsa[16]   = 'ROA';
airportsWarningUsa[17]   = 'CLE';
airportsWarningUsa[18]   = 'RDU';
airportsWarningUsa[19]   = 'DCA';
airportsWarningUsa[20]   = 'GSO';
airportsWarningUsa[21]   = 'CMH';
airportsWarningUsa[22]   = 'DTT';
airportsWarningUsa[23]   = 'CLT';
airportsWarningUsa[24]   = 'MYR';
airportsWarningUsa[25]   = 'DAY';
airportsWarningUsa[26]   = 'CVG';
airportsWarningUsa[27]   = 'CAE';
airportsWarningUsa[28]   = 'GSP';
airportsWarningUsa[29]   = 'GRR';
airportsWarningUsa[30]   = 'CHS';
airportsWarningUsa[31]   = 'TYS';
airportsWarningUsa[32]   = 'SDF';
airportsWarningUsa[33]   = 'IND';
airportsWarningUsa[34]   = 'SAV';
airportsWarningUsa[35]   = 'CHI';
airportsWarningUsa[36]   = 'MKE';
airportsWarningUsa[37]   = 'ATL';
airportsWarningUsa[38]   = 'BNA';
airportsWarningUsa[39]   = 'JAX';
airportsWarningUsa[40]   = 'HSV';
airportsWarningUsa[41]   = 'MSN';
airportsWarningUsa[42]   = 'STL';
airportsWarningUsa[43]   = 'DAB';
airportsWarningUsa[44]   = 'ORL';
airportsWarningUsa[45]   = 'MEM';
airportsWarningUsa[46]   = 'TPA';
airportsWarningUsa[47]   = 'MSP';
airportsWarningUsa[48]   = 'DSM';
airportsWarningUsa[49]   = 'PBI';
airportsWarningUsa[50]   = 'SRQ';
airportsWarningUsa[51]   = 'FLL';
airportsWarningUsa[52]   = 'FMY';
airportsWarningUsa[53]   = 'RSW';
airportsWarningUsa[54]   = 'LIT';
airportsWarningUsa[55]   = 'MIA';
airportsWarningUsa[56]   = 'MKC';
airportsWarningUsa[57]   = 'OMA';
airportsWarningUsa[58]   = 'MSY';
airportsWarningUsa[59]   = 'BTR';
airportsWarningUsa[60]   = 'TUL';
airportsWarningUsa[61]   = 'OKC';
airportsWarningUsa[62]   = 'DFW';
airportsWarningUsa[63]   = 'HOU';
airportsWarningUsa[64]   = 'AUS';
airportsWarningUsa[65]   = 'SAT';
airportsWarningUsa[66]   = 'DEN';
airportsWarningUsa[67]   = 'ABQ';
airportsWarningUsa[68]   = 'ELP';
airportsWarningUsa[69]   = 'PHX';
airportsWarningUsa[70]   = 'BOI';
airportsWarningUsa[71]   = 'GEG';
airportsWarningUsa[72]   = 'LAS';
airportsWarningUsa[73]   = 'SLC';
airportsWarningUsa[74]   = 'SEA';
airportsWarningUsa[75]   = 'SAN';
airportsWarningUsa[76]   = 'PDX';
airportsWarningUsa[77]   = 'FAT';
airportsWarningUsa[78]   = 'LAX';
airportsWarningUsa[79]   = 'SAC';
airportsWarningUsa[80]   = 'OAK';
airportsWarningUsa[81]   = 'SJC';
airportsWarningUsa[82]   = 'SFO';
airportsWarningUsa[83]   = 'ANC';
airportsWarningUsa[84]   = 'HNL';
airportsWarningUsa[85]   = 'ORD';
airportsWarningUsa[86]   = 'IAH';
airportsWarningUsa[87]   = 'EWR';
airportsWarningUsa[88]   = 'IAD';

/* Venezuela */
var airportsWarningVen = new Array();

//MC issue 1536 - syncar my scripts
//airportsWarningVen[0]   = 'OPO';

/* danish */

/*
var airportsWarningDanish = new Array();

airportsWarningDanish[0]    = 'AAL';
airportsWarningDanish[1]    = 'AAR';
airportsWarningDanish[2]    = 'BLL';
airportsWarningDanish[3]    = 'RNN';
airportsWarningDanish[4]    = 'CPH';
airportsWarningDanish[5]    = 'KRP';
airportsWarningDanish[6]    = 'SGD';
*/

/**/
	
	var residentArray = new Array();
	residentArray['CVU']=new Array("FAO","FNC","LIS","OPO");
	residentArray['FLW']=new Array("FAO","FNC","LIS","OPO");
	residentArray['GRW']=new Array("FAO","FNC","LIS","OPO");
	residentArray['HOR']=new Array("FAO","FNC","LIS","OPO");
	residentArray['PDL']=new Array("FAO","FNC","LIS","OPO");
	residentArray['PIX']=new Array("FAO","FNC","LIS","OPO");
	residentArray['SJZ']=new Array("FAO","FNC","LIS","OPO");
	residentArray['SMA']=new Array("FAO","FNC","LIS","OPO");
	residentArray['TER']=new Array("FAO","FNC","LIS","OPO");
	residentArray['FNC']=new Array("CVU","FLW","GRW","HOR","PDL","PIX","SJZ","SMA","TER");
	
	var studentArray = new Array();
	studentArray['LIS'] = new Array("HOR", "GRW", "FLW", "CVU", "PIX", "PDL", "SMA", "SJZ", "TER");
	studentArray['OPO'] = new Array("HOR", "GRW", "FLW", "CVU", "PIX", "PDL", "SMA", "SJZ", "TER");
	studentArray['FAO'] = new Array("HOR", "GRW", "FLW", "CVU", "PIX", "PDL", "SMA", "SJZ", "TER");
	studentArray['FNC'] = new Array("HOR", "GRW", "FLW", "CVU", "PIX", "PDL", "SMA", "SJZ", "TER");
	studentArray['HOR'] = new Array("LIS", "OPO", "FAO", "FNC");
	studentArray['GRW'] = new Array("LIS", "OPO", "FAO", "FNC");
	studentArray['FLW'] = new Array("LIS", "OPO", "FAO", "FNC");
	studentArray['CVU'] = new Array("LIS", "OPO", "FAO", "FNC");
	studentArray['PIX'] = new Array("LIS", "OPO", "FAO", "FNC");
	studentArray['PDL'] = new Array("LIS", "OPO", "FAO", "FNC");
	studentArray['SMA'] = new Array("LIS", "OPO", "FAO", "FNC");
	studentArray['SJZ'] = new Array("LIS", "OPO", "FAO", "FNC");
	studentArray['TER'] = new Array("LIS", "OPO", "FAO", "FNC");
	
	$("#combo_airports_flights_from").change(function(){
			originCode = $(this).val();
			var originText = $(this, ':selected').text();	
			var data = 'language=en&getDestinations=' + originCode;
			var destinationCode = destinationText = '';
			
			
			$('div.residents').hide();
			$('div.students').hide();
			
			$('#origin').val(originCode);
				
			bindAutoCompleteFlightTo();
			
			$("option[value=" + originCode + "]", $('#combo_airports_flights_from')).attr('selected','selected');
			$('span.combo_airports_flights_from').find('div.selectedTxt').html(originText);

			$('#flights_from').val(originText);		

			// BUG ME
			//$('#flights_from').html(originText);		


			
	    	if(us_airport(originCode)) { $( "#us_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); }

	    	if(ven_airport(originCode)) { $( "#ven_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); }
	    	// if(danish_airport(originCode)) { $( "#danish_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); }				

//	alert( $('#origin').val() );

			$.get('http://' + window.location.hostname + '/loadOriginDestination.php', data, function(destinations) { 	
				var html = lis = '', x = 0;
				
				//Wingman IE7 speed up
				 if (IS_IE_7 || IS_IE_8 || IS_MOBILE_BROWSER)
				 	html = '<option value="">Select airport</option>';
				 	
				// availableAirports = new Array;
				$.each(destinations, function(i, v){
//					alert(i);
					//if(x == 0) {
						//$('option[value=' + i + ']', $('#combo_airports_flights_to')).attr('selected','selected');
					//}
					
//					lis += '<li><a href="javascript:;" rel="' + i + '">' + v + ' (' + i + ')</a></li>';
					lis += '<li><a href="javascript:;" rel="' + i + '">' + v + '</a></li>';
					html += '<option value="' + i + '">' + v + '</option>';
					// availableAirports[x] = v + ' (' + i + ')';
					x++;
				});

				$('#combo_airports_flights_to').html(html);
				$('div.container_airports_flights_to').find('ul.newList').html(lis);	
				
				$('div.container_airports_flights_to').find('ul.newList li a').each(function(){
					$(this).click(function(){
						
						destinationCode = $(this).attr('rel');
						destinationText = $(this).text();
						
						$('#destination').val(destinationCode);
						
						$("option[value=" + destinationCode + "]", $('#combo_airports_flights_to')).attr('selected','selected');
						$('span.combo_airports_flights_to').find('div.selectedTxt').html(destinationText);						
						$('#flights_to').val(destinationText);
						
				    	if(us_airport(destinationCode)) { $( "#us_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }						
						if(ven_airport(destinationCode)) { $( "#ven_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }						

						$(this).parent().parent().hide();
						
						/* - */
						
						if(mymarket == 'pt') {
							originCode = $('#origin').val();
							if(residentArray[originCode] != undefined) {
								for(var i = 0, l = residentArray[originCode].length; i < l; i++) {
									if(residentArray[originCode][i] == destinationCode) {
										// $('div.residents').show();
										if($('#flighttype_oneway').is(':checked')) {
										$('div.residents').show();
										$('#residents').attr('checked',false);
										$('#residents').attr('disabled', 'disabled');											
										} else {
										$('div.residents').show();
										}										
										break;
									}
								} 	
							}
							
							if(studentArray[originCode] != undefined) {
								for(var i = 0, l = studentArray[originCode].length; i < l; i++) {
									if(studentArray[originCode][i] == destinationCode) {
										// $('div.students').show();
										if($('#flighttype_oneway').is(':checked')) {
										$('div.students').show();
										$('#students').attr('checked',false);
										$('#students').attr('disabled', 'disabled');											
										} else{
										$('div.students').show();
										}										
										break;
									}
								} 
							}
							
							$('#flighttype_oneway').click(function(){
								$('#students').attr('checked', false);	
								$('#residents').attr('checked', false);	
								
								$('#students').attr('disabled', 'disabled');
								$('#residents').attr('disabled', 'disabled');
								
								$('div.people_age .middle').show();
								$('div.people_age .right').show();																
							});							
							
							$('#residents').click(function(){			
								$('#flighttype_return').attr('checked','checked');										
								$('div.people_age .middle').show();							
								$('div.people_age .right').show();										
								$('#students').attr('checked', false);
	
								if($('#residents').is(':checked')) {	
									$('#flighttype_oneway').attr('disabled','disabled');
								}
								else {	
									$('#flighttype_oneway').attr('disabled','');
								}
	
							});
							
							$('#students').click(function(){
								$('#flighttype_return').attr('checked','checked');							
								$('div.people_age .middle').show();
								$('div.people_age .right').show();
								$('#residents').attr('checked', false);
								
								if($('#students').is(':checked')) {								
									$('div.people_age .middle').hide();
									$('div.people_age .right').hide();
									$('#flighttype_oneway').attr('disabled','disabled');
									$( "#std_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true;
								}
	
								else {
									$('#flighttype_oneway').attr('disabled','');
								}
							});															
							
							$('#flighttype_return, #flighttype_multicity, #flighttype_powerchoice').live('click', function(){
									$('#students').attr('disabled', '');
									$('#residents').attr('disabled', '');
									$('div.people_age .middle').show();
									$('div.people_age .right').show();	
									$('#flighttype_onway').attr('disabled','');																
							});										
																
							
						}
						  
						/* - */
						
					});	
				});
				
			}, 'json');	  			
			
			return false;
	});
	
	/* --- */	
	
	/*
	
	$('div.container_airports_flights_from').find('ul.newList li a').each(function(){
		$(this).click(function(){
			var apt_name = 'language=en&getAptFromName=' + $(this).text();
			$.post('http://www.flytap.com/IBEpost.php', apt_name, function(apt_code) {
				$('#origin').val(apt_code);					
				$('#combo_airports_flights_from option[value=' + apt_code + ']').attr('selected','selected');
				$('span.combo_airports_flights_from').find('div.selectedTxt').html($('#flights_from').val());
			});
		});	
	});	
	
	*/
		
	$(function() {
	    var availableAirports = ["A Coruña, Spain (LCG)","Aalborg, Denmark (AAL)","Aalesund, Norway (AES)","Aarhus, Denmark (AAR)","Aberdeen, United Kingdom (ABZ)","Abu Dhabi, United Arab Emirates (AUH)","Accra, Ghana (ACC)","Adana, Turkey (ADA)","Addis Ababa, Ethiopia (ADD)","Adler Sochi, Russian Federation (AER)","Albany, United States of America (ALB)","Albuquerque, United States of America (ABQ)","Alghero, Italy (AHO)","Algiers, Algeria (ALG)","Alta, Norway (ALF)","Amarillo, United States of America (AMA)","Amsterdam, Netherlands (AMS)","Anchorage, United States of America (ANC)","Ancona, Italy (AOI)","Ankara - Esenboga, Turkey (ESB)","Ankara - all airports, Turkey (ANK)","Antalya, Turkey (AYT)","Aracaju, Brazil (AJU)","Armenia, Colombia (AXM)","Asuncion, Paraguay (ASU)","Aswan, Egypt (ASW)","Athens, Greece (ATH)","Atlanta, United States of America (ATL)","Austin, United States of America (AUS)","Bacau, Romania (BCM)","Baia Mare, Romania (BAY)","Baltimore, United States of America (BWI)","Bamako, Mali (BKO)","Bangkok, Thailand (BKK)","Barcelona, Spain (BCN)","Bari, Italy (BRI)","Barranquilla, Colombia (BAQ)","Basel, Switzerland (BSL)","Baton Rouge, United States of America (BTR)","Bauru, Brazil (BAU)","Beijing, People’s Republic of China (PEK)","Beira, Mozambique (BEW)","Belem, Brazil (BEL)","Belfast, United Kingdom (BHD)","Belgrade, Serbia (BEG)","Belo Horizonte, Brazil (CNF)","Bergen, Norway (BGO)","Berlin - Schoenefeld, Germany (SXF)","Berlin - all airports, Germany (BER)","Bilbao, Spain (BIO)","Billund, Denmark (BLL)","Birmingham, United Kingdom (BHX)","Boa Vista, Brazil (BVB)","Boa Vista, Cape Verde (BVC)","Bodo, Norway (BOO)","Bogota, Colombia (BOG)","Boise, United States of America (BOI)","Bologna, Italy (BLQ)","Bordeaux, France (BOD)","Bornholm, Denmark (RNN)","Boston, United States of America (BOS)","Brasilia, Brazil (BSB)","Bremen, Germany (BRE)","Brindisi, Italy (BDS)","Bristol, United Kingdom (BRS)","Brussels, Belgium (BRU)","Bucaramanga, Colombia (BGA)","Bucharest - Baneasa Airport, Romania (BBU)","Bucharest - Bucharest, Romania (OTP)","Bucharest - all airports, Romania (BUH)","Budapest, Hungary (BUD)","Buenos Aires - Buenos Aires, Argentina (EZE)","Buenos Aires - Jorge Newbery, Argentina (AEP)","Buenos Aires - all airports, Argentina (BUE)","Buffalo, United States of America (BUF)","Burlington, United States of America (BTV)","Bydgoszcz, Poland (BZG)","Cagliari, Italy (CAG)","Cairo, Egypt (CAI)","Calgary, Canada (YYC)","Cali, Colombia (CLO)","Campinas, Brazil (CPQ)","Campo Grande, Brazil (CGR)","Cancun, Mexico (CUN)","Cape Town, South Africa (CPT)","Caracas, Venezuela (CCS)","Cartagena, Colombia (CTG)","Cartago, Colombia (CRC)","Casablanca - Casablanca, Morocco (CMN)","Casablanca - all airports, Morocco (CAS)","Catania - Sigonella, Italy (NSY)","Catania - all airports, Italy (CTA)","Caxias Do Sul, Brazil (CXJ)","Changchun, People’s Republic of China (CGQ)","Chania, Greece (CHQ)","Chapeco, Brazil (XAP)","Charleston, United States of America (CHS)","Charlotte, United States of America (CLT)","Chengdu, People’s Republic of China (CTU)","Chicago, United States of America (ORD)","Chimoio, Mozambique (VPY)","Chisinau, Moldova (KIV)","Cincinnati, United States of America (CVG)","Cleveland, United States of America (CLE)","Cluj, Romania (CLJ)","Cologne, Germany (CGN)","Columbia, United States of America (CAE)","Columbus, United States of America (CMH)","Copenhagen, Denmark (CPH)","Cordoba, Argentina (COR)","Corumba, Brazil (CMG)","Corvo Island, Azores, Portugal (CVU)","Criciuma, Brazil (CCM)","Cucuta, Colombia (CUC)","Cuiaba, Brazil (CGB)","Curacao, Netherlands Antilles (CUR)","Curitiba, Brazil (CWB)","Dakar, Senegal (DKR)","Dalian, People’s Republic of China (DLC)","Dallas, United States of America (DFW)","Dayton, United States of America (DAY)","Daytona Beach, United States of America (DAB)","Denver, United States of America (DEN)","Des Moines, United States of America (DSM)","Detroit, United States of America (DTW)","Dresden, Germany (DRS)","Dubai, United Arab Emirates (DXB)","Dublin, Ireland (DUB)","Dubrovnik, Croatia (DBV)","Dundo, Angola (DUE)","Durban, South Africa (DUR)","Dusseldorf, Germany (DUS)","East London, South Africa (ELS)","Edinburgh, United Kingdom (EDI)","Edmonton, Canada (YEG)","Ekaterinburg, Russian Federation (SVX)","El Paso, United States of America (ELP)","Essen, Germany (ESS)","Faro, Algarve, Portugal (FAO)","Fayetteville, United States of America (XNA)","Florence Amerigo V., Italy (FLR)","Flores Island, Azores, Portugal (FLW)","Florianopolis, Brazil (FLN)","Fort Myers - Regional Southwest, United States of America (RSW)","Fort Myers - all airports, United States of America (FMY)","Fortaleza, Brazil (FOR)","Frankfurt, Germany (FRA)","Fresno, United States of America (FAT)","Friedrichshafen, Germany (FDH)","Ft Lauderdale, United States of America (FLL)","Fuerteventura, Spain (FUE)","Funchal, Madeira, Portugal (FNC)","Gdansk, Poland (GDN)","Geneva, Switzerland (GVA)","Genoa, Italy (GOA)","Glasgow, United Kingdom (GLA)","Goiania, Brazil (GYN)","Gothenburg, Sweden (GOT)","Graciosa Island, Azores, Portugal (GRW)","Grand Rapids, United States of America (GRR)","Graz, Austria (GRZ)","Greensboro, United States of America (GSO)","Greenville - Downtown Memorial, United States of America (SPA)","Greenville - all airports, United States of America (GSP)","Guangzhou, People’s Republic of China (CAN)","Guatemala City, Guatemala (GUA)","Guayaquil, Ecuador (GYE)","Guernsey, United Kingdom (GCI)","Hamburg, Germany (HAM)","Hangzhou, People’s Republic of China (HGH)","Hannover, Germany (HAJ)","Harare, Zimbabwe (HRE)","Harstad Narvik, Norway (EVE)","Hartford - Bradley Intl, United States of America (BDL)","Hartford - Brainard, United States of America (HFD)","Haugesund, Norway (HAU)","Havana, Cuba (HAV)","Helsinki, Finland (HEL)","Heraklion, Greece (HER)","Hong Kong, Hong Kong (HKG)","Honolulu, United States of America (HNL)","Horta, Azores, Portugal (HOR)","Houston - George Bush, United States of America (IAH)","Houston - all airports, United States of America (HOU)","Huntsville, United States of America (HSV)","Hurghada, Egypt (HRG)","Iasi, Romania (IAS)","Ibiza, Spain (IBZ)","Iguassu Falls, Brazil (IGU)","Ilheus, Brazil (IOS)","Imperatriz, Brazil (IMP)","Indianapolis, United States of America (IND)","Inhambane, Mozambique (INH)","Innsbruck, Austria (INN)","Inverness, United Kingdom (INV)","Istanbul, Turkey (IST)","Ithaca, United States of America (ITH)","Ivalo, Finland (IVL)","Izmir, Turkey (ADB)","Jacksonville, United States of America (JAX)","Jerez de la Frontera, Spain (XRY)","Jersey, United Kingdom (JER)","Ji Parana, Brazil (JPR)","Joao Pessoa, Brazil (JPA)","Joensuu, Finland (JOE)","Johannesburg, South Africa (JNB)","Joinville, Brazil (JOI)","Jyvaskyla, Finland (JYV)","Kalmar, Sweden (KLR)","Kansas City, United States of America (MCI)","Karup, Denmark (KRP)","Katowice, Poland (KTW)","Kayseri, Turkey (ASR)","Kazan, Russian Federation (KZN)","Kerkyra, Greece (CFU)","Kiev, Ukraine (KBP)","Kirkenes, Norway (KKN)","Kiruna, Sweden (KRN)","Kittila, Finland (KTT)","Klagenfurt, Austria (KLU)","Knoxville, United States of America (TYS)","Kosice, Slovakia (KSC)","Krakow, Poland (KRK)","Krasnodar, Russian Federation (KRR)","Kristiansand, Norway (KRS)","Kristiansund, Norway (KSU)","Kuala Lumpur, Malaysia (KUL)","Kuopio, Finland (KUO)","Kuusamo, Finland (KAO)","La Paz, Bolivia (LPB)","Lamezia Terme, Italy (SUF)","Lanzarote, Spain (ACE)","Larnaca, Cyprus (LCA)","Las Palmas, Spain (LPA)","Las Vegas, United States of America (LAS)","Leipzig/Halle, Germany (LEJ)","Lichinga, Mozambique (VXC)","Lima, Peru (LIM)","Linz, Austria (LNZ)","Lisbon, Portugal (LIS)","Little Rock, United States of America (LIT)","Ljubljana, Slovenia (LJU)","London - Gatwick, United Kingdom (LGW)","London - Heathrow, United Kingdom (LHR)","London - all airports, United Kingdom (LON)","Londrina, Brazil (LDB)","Los Angeles, United States of America (LAX)","Louisville, United States of America (SDF)","Luanda, Angola (LAD)","Lubbock, United States of America (LBB)","Lugano, Switzerland (LUG)","Lulea, Sweden (LLA)","Luxembourg, Luxembourg (LUX)","Luxor, Egypt (LXR)","Lviv Snilow, Ukraine (LWO)","Lyon, France (LYS)","Macapa, Brazil (MCP)","Macau, Macao (MFM)","Maceio, Brazil (MCZ)","Madison, United States of America (MSN)","Madrid, Spain (MAD)","Maio, Cape Verde (MMO)","Malaga, Spain (AGP)","Malta, Malta (MLA)","Managua, Nicaragua (MGA)","Manaus, Brazil (MAO)","Manchester, United Kingdom (MAN)","Manchester, United States of America (MHT)","Manheim, Germany (MHG)","Maputo, Mozambique (MPM)","Maraba, Brazil (MAB)","Maracaibo, Venezuela (MAR)","Maringa, Brazil (MGF)","Marrakech, Morocco (RAK)","Marseille, France (MRS)","Maturin, Venezuela (MUN)","Medellin, Colombia (MDE)","Memphis, United States of America (MEM)","Menorca, Spain (MAH)","Mexico City, Mexico (MEX)","Miami, United States of America (MIA)","Milan - Linate, Italy (LIN)","Milan - Malpensa, Italy (MXP)","Milan - all airports, Italy (MIL)","Milwaukee, United States of America (MKE)","Minneapolis, United States of America (MSP)","Molde, Norway (MOL)","Monterrey, Mexico (MTY)","Montevideo, Uruguay (MVD)","Montreal, Canada (YUL)","Moscow - Domodedovo, Russian Federation (DME)","Muenster, Germany (FMO)","Munich, Germany (MUC)","Mykonos, Greece (JMK)","Myrtle Beach, United States of America (MYR)","Nampula, Mozambique (APL)","Nanjing, People’s Republic of China (NKG)","Nantes, France (NTE)","Naples, Italy (NAP)","Nashville, United States of America (BNA)","Natal, Brazil (NAT)","Navegantes, Brazil (NVT)","New Orleans, United States of America (MSY)","New York - Newark, United States of America (EWR)","Newcastle, United Kingdom (NCL)","Nice, France (NCE)","Nizhniy Novgorod, Russian Federation (GOJ)","Norfolk Newport News, United States of America (ORF)","Norrkoping, Sweden (NRK)","Novosibirsk, Russian Federation (OVB)","Nuremberg, Germany (NUE)","Oakland, United States of America (OAK)","Oklahoma City, United States of America (OKC)","Olbia, Italy (OLB)","Omaha, United States of America (OMA)","Oradea, Romania (OMR)","Orlando, United States of America (MCO)","Orsta Volda, Norway (HOV)","Oslo, Norway (OSL)","Ostersund, Sweden (OSD)","Ostrava, Czech Republic (OSR)","Ottawa, Canada (YOW)","Oulu, Finland (OUL)","Oviedo – Asturias, Spain (OVD)","Paderborn, Germany (PAD)","Palermo, Italy (PMO)","Palma de Mallorca, Spain (PMI)","Palmas, Brazil (PMW)","Pamplona, Spain (PNA)","Panama City, Panama (PTY)","Paris, France (ORY)","Pemba, Mozambique (POL)","Pereira, Colombia (PEI)","Perm, Russian Federation (PEE)","Petrolina, Brazil (PNZ)","Philadelphia, United States of America (PHL)","Phoenix, United States of America (PHX)","Pico, Azores, Portugal (PIX)","Pisa, Italy (PSA)","Pittsburgh, United States of America (PIT)","Podgorica, Montenegro (TGD)","Ponta Delgada, Azores, Portugal (PDL)","Porlamar, Venezuela (PMV)","Port Elizabeth, South Africa (PLZ)","Portland, Maine, United States of America (PWM)","Portland, Oregon, United States of America (PDX)","Porto Alegre, Brazil (POA)","Porto Santo, Madeira, Portugal (PXO)","Porto Seguro, Brazil (BPS)","Porto Velho, Brazil (PVH)","Porto, Portugal (OPO)","Poznan, Poland (POZ)","Prague, Czech Republic (PRG)","Praia, Cape Verde (RAI)","Pristina, Kosovo (PRN)","Providence, United States of America (PVD)","Punta Cana, Dominican Republic (PUJ)","Qingdao, People’s Republic of China (TAO)","Quebec, Canada (YQB)","Quelimane, Mozambique (UEL)","Quito, Ecuador (UIO)","Raleigh, United States of America (RDU)","Recife, Brazil (REC)","Reggio Calabria, Italy (REG)","Reykjavik, Iceland (KEF)","Rhodes, Greece (RHO)","Ribeirao Preto, Brazil (RAO)","Richmond, United States of America (RIC)","Riga, Latvia (RIX)","Rimini, Italy (RMI)","Rio Branco, Brazil (RBR)","Rio De Janeiro - Galeao Antonio Carlos Jobim, Brazil (GIG)","Rio De Janeiro - Santos Dumont, Brazil (SDU)","Rio De Janeiro - all airports, Brazil (RIO)","Roanoke, United States of America (ROA)","Rochester, United States of America (ROC)","Rome, Italy (FCO)","Ronneby, Sweden (RNB)","Rosario, Argentina (ROS)","Rostov, Russian Federation (ROV)","Rovaniemi, Finland (RVN)","Rzeszow, Poland (RZE)","Sacramento, United States of America (SAC)","Sal, Cape Verde (SID)","Salt Lake City, United States of America (SLC)","Salvador, Brazil (SSA)","Salzburg, Austria (SZG)","Samara, Russian Federation (KUF)","San Andres, Colombia (ADZ)","San Antonio, United States of America (SAT)","San Diego, United States of America (SAN)","San Francisco, United States of America (SFO)","San Jose, Costa Rica (SJO)","San Jose, United States of America (SJC)","San Juan, United States of America (SJU)","San Pedro Sula, Honduras (SAP)","San Salvador, El Salvador (SAL)","San Sebastian, Spain (EAS)","Santa Ana, United States of America (SNA)","Santa Cruz, Bolivia (VVI)","Santa Maria, Azores, Portugal (SMA)","Santa Marta, Colombia (SMR)","Santarem, Brazil (STM)","Santiago de Chile, Chile (SCL)","Santo Domingo, Dominican Republic (SDQ)","Santo Domingo, Venezuela (STD)","Sao Filipe, Cape Verde (SFL)","Sao Jorge, Azores, Portugal (SJZ)","Sao Jose Do Rio Preto, Brazil (SJP)","Sao Luiz, Brazil (SLZ)","Sao Nicolau, Cape Verde (SNE)","Sao Paulo - Congonhas, Brazil (CGH)","Sao Paulo - Guarulhos, Brazil (GRU)","Sao Paulo - Viracopos, Brazil (VCP)","Sao Paulo - all airports, Brazil (SAO)","Sao Tome, Sao Tome and Principe (TMS)","Sao Vicente, Cape Verde (VXE)","Sarajevo, Bosnia And Herzegovina (SJJ)","Sarasota, United States of America (SRQ)","Satu Mare, Romania (SUJ)","Savannah, United States of America (SAV)","Seattle, United States of America (SEA)","Seville, Spain (SVQ)","Shanghai - Hongqiao, People’s Republic of China (SHA)","Shanghai - Shanghai, People’s Republic of China (PVG)","Sharm El Sheik, Egypt (SSH)","Shenyang, People’s Republic of China (SHE)","Sibiu, Romania (SBZ)","Simferopol, Ukraine (SIP)","Singapore, Singapore (SIN)","Skelleftea, Sweden (SFT)","Skopje, Macedonia (SKP)","Sofia, Bulgaria (SOF)","Sonderborg, Denmark (SGD)","Split, Croatia (SPU)","Spokane, United States of America (GEG)","St Louis, United States of America (STL)","St. Petersburg, Russian Federation (LED)","Stavanger, Norway (SVG)","Stockholm, Sweden (ARN)","Strasbourg, France (SXB)","Stuttgart, Germany (STR)","Suceava, Romania (SCV)","Sundsvall, Sweden (SDL)","Sydney, Australia (SYD)","Syracuse, United States of America (SYR)","Szczecin, Poland (SZZ)","Tallinn, Estonia (TLL)","Tampa, United States of America (TPA)","Tampere, Finland (TMP)","Tangier, Morocco (TNG)","Tel Aviv, Israel (TLV)","Tenerife, Spain (TFN)","Terceira, Azores, Portugal (TER)","Teresina, Brazil (THE)","Tete, Mozambique (TET)","Thessaloniki, Greece (SKG)","Thira Island, Greece (JTR)","Timisoara, Romania (TSR)","Tirana, Albania (TIA)","Tirgu Mures, Romania (TGM)","Tokyo, Japan (NRT)","Toronto, Canada (YYZ)","Toulouse, France (TLS)","Trieste, Italy (TRS)","Tripoli, Libya (TIP)","Tromso, Norway (TOS)","Trondheim, Norway (TRD)","Tulsa, United States of America (TUL)","Turin, Italy (TRN)","Turku, Finland (TKU)","Uberaba, Brazil (UBA)","Uberlandia, Brazil (UDI)","Ufa, Russian Federation (UFA)","Umea, Sweden (UME)","Vaasa, Finland (VAA)","Valencia, Spain (VLC)","Vancouver, Canada (YVR)","Venice, Italy (VCE)","Verona, Italy (VRN)","Vienna, Austria (VIE)","Vilanculos, Mozambique (VNX)","Vilnius, Lithuania (VNO)","Vitoria, Brazil (VIX)","Warsaw, Poland (WAW)","Washington - Dulles, United States of America (IAD)","Washington - Ronald Reagan, United States of America (DCA)","Washington - all airports, United States of America (WAS)","Wenzhou, People’s Republic of China (WNZ)","West Palm Beach, United States of America (PBI)","Windhoek, Namibia (WDH)","Wroclaw, Poland (WRO)","Xiamen, People’s Republic of China (XMN)","Zadar, Croatia (ZAD)","Zagreb, Croatia (ZAG)","Zurich, Switzerland (ZRH)",];   
	    var availableAirports2 = ["A Coruña, Spain (LCG)","Aalborg, Denmark (AAL)","Aalesund, Norway (AES)","Aarhus, Denmark (AAR)","Aberdeen, United Kingdom (ABZ)","Abu Dhabi, United Arab Emirates (AUH)","Accra, Ghana (ACC)","Adana, Turkey (ADA)","Addis Ababa, Ethiopia (ADD)","Adler Sochi, Russian Federation (AER)","Albany, United States of America (ALB)","Albuquerque, United States of America (ABQ)","Alghero, Italy (AHO)","Algiers, Algeria (ALG)","Alta, Norway (ALF)","Amarillo, United States of America (AMA)","Amsterdam, Netherlands (AMS)","Anchorage, United States of America (ANC)","Ancona, Italy (AOI)","Ankara - Esenboga, Turkey (ESB)","Ankara - all airports, Turkey (ANK)","Antalya, Turkey (AYT)","Aracaju, Brazil (AJU)","Armenia, Colombia (AXM)","Asuncion, Paraguay (ASU)","Aswan, Egypt (ASW)","Athens, Greece (ATH)","Atlanta, United States of America (ATL)","Austin, United States of America (AUS)","Bacau, Romania (BCM)","Baia Mare, Romania (BAY)","Baltimore, United States of America (BWI)","Bamako, Mali (BKO)","Bangkok, Thailand (BKK)","Barcelona, Spain (BCN)","Bari, Italy (BRI)","Barranquilla, Colombia (BAQ)","Basel, Switzerland (BSL)","Baton Rouge, United States of America (BTR)","Bauru, Brazil (BAU)","Beijing, People’s Republic of China (PEK)","Beira, Mozambique (BEW)","Belem, Brazil (BEL)","Belfast, United Kingdom (BHD)","Belgrade, Serbia (BEG)","Belo Horizonte, Brazil (CNF)","Bergen, Norway (BGO)","Berlin - Schoenefeld, Germany (SXF)","Berlin - all airports, Germany (BER)","Bilbao, Spain (BIO)","Billund, Denmark (BLL)","Birmingham, United Kingdom (BHX)","Boa Vista, Brazil (BVB)","Boa Vista, Cape Verde (BVC)","Bodo, Norway (BOO)","Bogota, Colombia (BOG)","Boise, United States of America (BOI)","Bologna, Italy (BLQ)","Bordeaux, France (BOD)","Bornholm, Denmark (RNN)","Boston, United States of America (BOS)","Brasilia, Brazil (BSB)","Bremen, Germany (BRE)","Brindisi, Italy (BDS)","Bristol, United Kingdom (BRS)","Brussels, Belgium (BRU)","Bucaramanga, Colombia (BGA)","Bucharest - Baneasa Airport, Romania (BBU)","Bucharest - Bucharest, Romania (OTP)","Bucharest - all airports, Romania (BUH)","Budapest, Hungary (BUD)","Buenos Aires - Buenos Aires, Argentina (EZE)","Buenos Aires - Jorge Newbery, Argentina (AEP)","Buenos Aires - all airports, Argentina (BUE)","Buffalo, United States of America (BUF)","Burlington, United States of America (BTV)","Bydgoszcz, Poland (BZG)","Cagliari, Italy (CAG)","Cairo, Egypt (CAI)","Calgary, Canada (YYC)","Cali, Colombia (CLO)","Campinas, Brazil (CPQ)","Campo Grande, Brazil (CGR)","Cancun, Mexico (CUN)","Cape Town, South Africa (CPT)","Caracas, Venezuela (CCS)","Cartagena, Colombia (CTG)","Cartago, Colombia (CRC)","Casablanca - Casablanca, Morocco (CMN)","Casablanca - all airports, Morocco (CAS)","Catania - Sigonella, Italy (NSY)","Catania - all airports, Italy (CTA)","Caxias Do Sul, Brazil (CXJ)","Changchun, People’s Republic of China (CGQ)","Chania, Greece (CHQ)","Chapeco, Brazil (XAP)","Charleston, United States of America (CHS)","Charlotte, United States of America (CLT)","Chengdu, People’s Republic of China (CTU)","Chicago, United States of America (ORD)","Chimoio, Mozambique (VPY)","Chisinau, Moldova (KIV)","Cincinnati, United States of America (CVG)","Cleveland, United States of America (CLE)","Cluj, Romania (CLJ)","Cologne, Germany (CGN)","Columbia, United States of America (CAE)","Columbus, United States of America (CMH)","Copenhagen, Denmark (CPH)","Cordoba, Argentina (COR)","Corumba, Brazil (CMG)","Corvo Island, Azores, Portugal (CVU)","Criciuma, Brazil (CCM)","Cucuta, Colombia (CUC)","Cuiaba, Brazil (CGB)","Curacao, Netherlands Antilles (CUR)","Curitiba, Brazil (CWB)","Dakar, Senegal (DKR)","Dalian, People’s Republic of China (DLC)","Dallas, United States of America (DFW)","Dayton, United States of America (DAY)","Daytona Beach, United States of America (DAB)","Denver, United States of America (DEN)","Des Moines, United States of America (DSM)","Detroit, United States of America (DTW)","Dresden, Germany (DRS)","Dubai, United Arab Emirates (DXB)","Dublin, Ireland (DUB)","Dubrovnik, Croatia (DBV)","Dundo, Angola (DUE)","Durban, South Africa (DUR)","Dusseldorf, Germany (DUS)","East London, South Africa (ELS)","Edinburgh, United Kingdom (EDI)","Edmonton, Canada (YEG)","Ekaterinburg, Russian Federation (SVX)","El Paso, United States of America (ELP)","Essen, Germany (ESS)","Faro, Algarve, Portugal (FAO)","Fayetteville, United States of America (XNA)","Florence Amerigo V., Italy (FLR)","Flores Island, Azores, Portugal (FLW)","Florianopolis, Brazil (FLN)","Fort Myers - Regional Southwest, United States of America (RSW)","Fort Myers - all airports, United States of America (FMY)","Fortaleza, Brazil (FOR)","Frankfurt, Germany (FRA)","Fresno, United States of America (FAT)","Friedrichshafen, Germany (FDH)","Ft Lauderdale, United States of America (FLL)","Fuerteventura, Spain (FUE)","Funchal, Madeira, Portugal (FNC)","Gdansk, Poland (GDN)","Geneva, Switzerland (GVA)","Genoa, Italy (GOA)","Glasgow, United Kingdom (GLA)","Goiania, Brazil (GYN)","Gothenburg, Sweden (GOT)","Graciosa Island, Azores, Portugal (GRW)","Grand Rapids, United States of America (GRR)","Graz, Austria (GRZ)","Greensboro, United States of America (GSO)","Greenville - Downtown Memorial, United States of America (SPA)","Greenville - all airports, United States of America (GSP)","Guangzhou, People’s Republic of China (CAN)","Guatemala City, Guatemala (GUA)","Guayaquil, Ecuador (GYE)","Guernsey, United Kingdom (GCI)","Hamburg, Germany (HAM)","Hangzhou, People’s Republic of China (HGH)","Hannover, Germany (HAJ)","Harare, Zimbabwe (HRE)","Harstad Narvik, Norway (EVE)","Hartford - Bradley Intl, United States of America (BDL)","Hartford - Brainard, United States of America (HFD)","Haugesund, Norway (HAU)","Havana, Cuba (HAV)","Helsinki, Finland (HEL)","Heraklion, Greece (HER)","Hong Kong, Hong Kong (HKG)","Honolulu, United States of America (HNL)","Horta, Azores, Portugal (HOR)","Houston - George Bush, United States of America (IAH)","Houston - all airports, United States of America (HOU)","Huntsville, United States of America (HSV)","Hurghada, Egypt (HRG)","Iasi, Romania (IAS)","Ibiza, Spain (IBZ)","Iguassu Falls, Brazil (IGU)","Ilheus, Brazil (IOS)","Imperatriz, Brazil (IMP)","Indianapolis, United States of America (IND)","Inhambane, Mozambique (INH)","Innsbruck, Austria (INN)","Inverness, United Kingdom (INV)","Istanbul, Turkey (IST)","Ithaca, United States of America (ITH)","Ivalo, Finland (IVL)","Izmir, Turkey (ADB)","Jacksonville, United States of America (JAX)","Jerez de la Frontera, Spain (XRY)","Jersey, United Kingdom (JER)","Ji Parana, Brazil (JPR)","Joao Pessoa, Brazil (JPA)","Joensuu, Finland (JOE)","Johannesburg, South Africa (JNB)","Joinville, Brazil (JOI)","Jyvaskyla, Finland (JYV)","Kalmar, Sweden (KLR)","Kansas City, United States of America (MCI)","Karup, Denmark (KRP)","Katowice, Poland (KTW)","Kayseri, Turkey (ASR)","Kazan, Russian Federation (KZN)","Kerkyra, Greece (CFU)","Kiev, Ukraine (KBP)","Kirkenes, Norway (KKN)","Kiruna, Sweden (KRN)","Kittila, Finland (KTT)","Klagenfurt, Austria (KLU)","Knoxville, United States of America (TYS)","Kosice, Slovakia (KSC)","Krakow, Poland (KRK)","Krasnodar, Russian Federation (KRR)","Kristiansand, Norway (KRS)","Kristiansund, Norway (KSU)","Kuala Lumpur, Malaysia (KUL)","Kuopio, Finland (KUO)","Kuusamo, Finland (KAO)","La Paz, Bolivia (LPB)","Lamezia Terme, Italy (SUF)","Lanzarote, Spain (ACE)","Larnaca, Cyprus (LCA)","Las Palmas, Spain (LPA)","Las Vegas, United States of America (LAS)","Leipzig/Halle, Germany (LEJ)","Lichinga, Mozambique (VXC)","Lima, Peru (LIM)","Linz, Austria (LNZ)","Lisbon, Portugal (LIS)","Little Rock, United States of America (LIT)","Ljubljana, Slovenia (LJU)","London - Gatwick, United Kingdom (LGW)","London - Heathrow, United Kingdom (LHR)","Londrina, Brazil (LDB)","Los Angeles, United States of America (LAX)","Louisville, United States of America (SDF)","Luanda, Angola (LAD)","Lubbock, United States of America (LBB)","Lugano, Switzerland (LUG)","Lulea, Sweden (LLA)","Luxembourg, Luxembourg (LUX)","Luxor, Egypt (LXR)","Lviv Snilow, Ukraine (LWO)","Lyon, France (LYS)","Macapa, Brazil (MCP)","Macau, Macao (MFM)","Maceio, Brazil (MCZ)","Madison, United States of America (MSN)","Madrid, Spain (MAD)","Maio, Cape Verde (MMO)","Malaga, Spain (AGP)","Malta, Malta (MLA)","Managua, Nicaragua (MGA)","Manaus, Brazil (MAO)","Manchester, United Kingdom (MAN)","Manchester, United States of America (MHT)","Manheim, Germany (MHG)","Maputo, Mozambique (MPM)","Maraba, Brazil (MAB)","Maracaibo, Venezuela (MAR)","Maringa, Brazil (MGF)","Marrakech, Morocco (RAK)","Marseille, France (MRS)","Maturin, Venezuela (MUN)","Medellin, Colombia (MDE)","Memphis, United States of America (MEM)","Menorca, Spain (MAH)","Mexico City, Mexico (MEX)","Miami, United States of America (MIA)","Milan - Linate, Italy (LIN)","Milan - Malpensa, Italy (MXP)","Milwaukee, United States of America (MKE)","Minneapolis, United States of America (MSP)","Molde, Norway (MOL)","Monterrey, Mexico (MTY)","Montevideo, Uruguay (MVD)","Montreal, Canada (YUL)","Moscow - Domodedovo, Russian Federation (DME)","Muenster, Germany (FMO)","Munich, Germany (MUC)","Mykonos, Greece (JMK)","Myrtle Beach, United States of America (MYR)","Nampula, Mozambique (APL)","Nanjing, People’s Republic of China (NKG)","Nantes, France (NTE)","Naples, Italy (NAP)","Nashville, United States of America (BNA)","Natal, Brazil (NAT)","Navegantes, Brazil (NVT)","New Orleans, United States of America (MSY)","New York - Newark, United States of America (EWR)","Newcastle, United Kingdom (NCL)","Nice, France (NCE)","Nizhniy Novgorod, Russian Federation (GOJ)","Norfolk Newport News, United States of America (ORF)","Norrkoping, Sweden (NRK)","Novosibirsk, Russian Federation (OVB)","Nuremberg, Germany (NUE)","Oakland, United States of America (OAK)","Oklahoma City, United States of America (OKC)","Olbia, Italy (OLB)","Omaha, United States of America (OMA)","Oradea, Romania (OMR)","Orlando, United States of America (MCO)","Orsta Volda, Norway (HOV)","Oslo, Norway (OSL)","Ostersund, Sweden (OSD)","Ostrava, Czech Republic (OSR)","Ottawa, Canada (YOW)","Oulu, Finland (OUL)","Oviedo – Asturias, Spain (OVD)","Paderborn, Germany (PAD)","Palermo, Italy (PMO)","Palma de Mallorca, Spain (PMI)","Palmas, Brazil (PMW)","Pamplona, Spain (PNA)","Panama City, Panama (PTY)","Paris, France (ORY)","Pemba, Mozambique (POL)","Pereira, Colombia (PEI)","Perm, Russian Federation (PEE)","Petrolina, Brazil (PNZ)","Philadelphia, United States of America (PHL)","Phoenix, United States of America (PHX)","Pico, Azores, Portugal (PIX)","Pisa, Italy (PSA)","Pittsburgh, United States of America (PIT)","Podgorica, Montenegro (TGD)","Ponta Delgada, Azores, Portugal (PDL)","Porlamar, Venezuela (PMV)","Port Elizabeth, South Africa (PLZ)","Portland, Maine, United States of America (PWM)","Portland, Oregon, United States of America (PDX)","Porto Alegre, Brazil (POA)","Porto Santo, Madeira, Portugal (PXO)","Porto Seguro, Brazil (BPS)","Porto Velho, Brazil (PVH)","Porto, Portugal (OPO)","Poznan, Poland (POZ)","Prague, Czech Republic (PRG)","Praia, Cape Verde (RAI)","Pristina, Kosovo (PRN)","Providence, United States of America (PVD)","Punta Cana, Dominican Republic (PUJ)","Qingdao, People’s Republic of China (TAO)","Quebec, Canada (YQB)","Quelimane, Mozambique (UEL)","Quito, Ecuador (UIO)","Raleigh, United States of America (RDU)","Recife, Brazil (REC)","Reggio Calabria, Italy (REG)","Reykjavik, Iceland (KEF)","Rhodes, Greece (RHO)","Ribeirao Preto, Brazil (RAO)","Richmond, United States of America (RIC)","Riga, Latvia (RIX)","Rimini, Italy (RMI)","Rio Branco, Brazil (RBR)","Rio De Janeiro - Galeao Antonio Carlos Jobim, Brazil (GIG)","Rio De Janeiro - Santos Dumont, Brazil (SDU)","Rio De Janeiro - all airports, Brazil (RIO)","Roanoke, United States of America (ROA)","Rochester, United States of America (ROC)","Rome, Italy (FCO)","Ronneby, Sweden (RNB)","Rosario, Argentina (ROS)","Rostov, Russian Federation (ROV)","Rovaniemi, Finland (RVN)","Rzeszow, Poland (RZE)","Sacramento, United States of America (SAC)","Sal, Cape Verde (SID)","Salt Lake City, United States of America (SLC)","Salvador, Brazil (SSA)","Salzburg, Austria (SZG)","Samara, Russian Federation (KUF)","San Andres, Colombia (ADZ)","San Antonio, United States of America (SAT)","San Diego, United States of America (SAN)","San Francisco, United States of America (SFO)","San Jose, Costa Rica (SJO)","San Jose, United States of America (SJC)","San Juan, United States of America (SJU)","San Pedro Sula, Honduras (SAP)","San Salvador, El Salvador (SAL)","San Sebastian, Spain (EAS)","Santa Ana, United States of America (SNA)","Santa Cruz, Bolivia (VVI)","Santa Maria, Azores, Portugal (SMA)","Santa Marta, Colombia (SMR)","Santarem, Brazil (STM)","Santiago de Chile, Chile (SCL)","Santo Domingo, Dominican Republic (SDQ)","Santo Domingo, Venezuela (STD)","Sao Filipe, Cape Verde (SFL)","Sao Jorge, Azores, Portugal (SJZ)","Sao Jose Do Rio Preto, Brazil (SJP)","Sao Luiz, Brazil (SLZ)","Sao Nicolau, Cape Verde (SNE)","Sao Paulo - Congonhas, Brazil (CGH)","Sao Paulo - Guarulhos, Brazil (GRU)","Sao Paulo - Viracopos, Brazil (VCP)","Sao Tome, Sao Tome and Principe (TMS)","Sao Vicente, Cape Verde (VXE)","Sarajevo, Bosnia And Herzegovina (SJJ)","Sarasota, United States of America (SRQ)","Satu Mare, Romania (SUJ)","Savannah, United States of America (SAV)","Seattle, United States of America (SEA)","Seville, Spain (SVQ)","Shanghai - Hongqiao, People’s Republic of China (SHA)","Shanghai - Shanghai, People’s Republic of China (PVG)","Sharm El Sheik, Egypt (SSH)","Shenyang, People’s Republic of China (SHE)","Sibiu, Romania (SBZ)","Simferopol, Ukraine (SIP)","Singapore, Singapore (SIN)","Skelleftea, Sweden (SFT)","Skopje, Macedonia (SKP)","Sofia, Bulgaria (SOF)","Sonderborg, Denmark (SGD)","Split, Croatia (SPU)","Spokane, United States of America (GEG)","St Louis, United States of America (STL)","St. Petersburg, Russian Federation (LED)","Stavanger, Norway (SVG)","Stockholm, Sweden (ARN)","Strasbourg, France (SXB)","Stuttgart, Germany (STR)","Suceava, Romania (SCV)","Sundsvall, Sweden (SDL)","Sydney, Australia (SYD)","Syracuse, United States of America (SYR)","Szczecin, Poland (SZZ)","Tallinn, Estonia (TLL)","Tampa, United States of America (TPA)","Tampere, Finland (TMP)","Tangier, Morocco (TNG)","Tel Aviv, Israel (TLV)","Tenerife, Spain (TFN)","Terceira, Azores, Portugal (TER)","Teresina, Brazil (THE)","Tete, Mozambique (TET)","Thessaloniki, Greece (SKG)","Thira Island, Greece (JTR)","Timisoara, Romania (TSR)","Tirana, Albania (TIA)","Tirgu Mures, Romania (TGM)","Tokyo, Japan (NRT)","Toronto, Canada (YYZ)","Toulouse, France (TLS)","Trieste, Italy (TRS)","Tripoli, Libya (TIP)","Tromso, Norway (TOS)","Trondheim, Norway (TRD)","Tulsa, United States of America (TUL)","Turin, Italy (TRN)","Turku, Finland (TKU)","Uberaba, Brazil (UBA)","Uberlandia, Brazil (UDI)","Ufa, Russian Federation (UFA)","Umea, Sweden (UME)","Vaasa, Finland (VAA)","Valencia, Spain (VLC)","Vancouver, Canada (YVR)","Venice, Italy (VCE)","Verona, Italy (VRN)","Vienna, Austria (VIE)","Vilanculos, Mozambique (VNX)","Vilnius, Lithuania (VNO)","Vitoria, Brazil (VIX)","Warsaw, Poland (WAW)","Washington - Dulles, United States of America (IAD)","Washington - Ronald Reagan, United States of America (DCA)","Wenzhou, People’s Republic of China (WNZ)","West Palm Beach, United States of America (PBI)","Windhoek, Namibia (WDH)","Wroclaw, Poland (WRO)","Xiamen, People’s Republic of China (XMN)","Zadar, Croatia (ZAD)","Zagreb, Croatia (ZAG)","Zurich, Switzerland (ZRH)",];   
	    var termTemplate = "<span class='ui-autocomplete-term'>%s</span>";  
	    
	    //MC-ROUTE ARRDEP
	    if($("#arrivalsdepartures_flightsat_content_from"))
	    {
	    	$("#arrivalsdepartures_flightsat_content_from").customautocomplete({
				source:SEED3_URL+"getAptMatch.php?new2&language="+langId,
				minLength: 3,
				delay: 50,
				open: function(e,ui) {
					var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
					acData.menu.element.find('li a').each(function() {
						var me = $(this);
						me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );
					});
				}
		    });	
	    }
	    	    if($("#arrivalsdepartures_flightsat_content_to"))
	    {
	    	$("#arrivalsdepartures_flightsat_content_to").customautocomplete({
				source:SEED3_URL+"getAptMatch.php?new2&language="+langId,
				minLength: 3,
				delay: 50,
				open: function(e,ui) {
					var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
					acData.menu.element.find('li a').each(function() {
						var me = $(this);
						me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );
					});
				}
		    });	
	    }
	    
	    //MC-ROUTE ARRDEP
	    if($("#arrivalsdepartures_flightsat_content"))
	    {
	    	$("#arrivalsdepartures_flightsat_content").customautocomplete({
				/*source: availableAirports2,*/
				source:SEED3_URL+"getAptMatch.php?new2&language="+langId,
				minLength: 3,
				delay: 50,
				open: function(e,ui) {
					var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
					acData.menu.element.find('li a').each(function() {
						var me = $(this);
						me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );
					});
				}
		    });	
	    }
	    //MC
	    $("#arrivalsdepartures_select_airport").customautocomplete({
			source: availableAirports2,
			minLength: 3,
			delay: 50,
			open: function(e,ui) {
				var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
				acData.menu.element.find('li a').each(function() {
					var me = $(this);
					me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );
				});
			}
	    });	  
	    $("#arrivalsdepartures_select_airport_from").customautocomplete({
			source: availableAirports2,
			minLength: 3,
			delay: 50,
			open: function(e,ui) {
				var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
				acData.menu.element.find('li a').each(function() {
					var me = $(this);
					me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );
				});
			},
			close: function(e,ui) {
				bindAutoCompleteFlightArrDepTo();
			}
	    });
	    $("#arrivalsdepartures_select_airport_to").customautocomplete({
			source: SEED3_URL+"getAptMatch.php?new2&language="+langId+"&getDestinations="+$("#arrivalsdepartures_select_airport_from").val(),
			minLength: 3,
			delay: 50,
			open: function(e,ui) {
				var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
				acData.menu.element.find('li a').each(function() {
					var me = $(this);
					me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );
				});
			}
	    });
	    
	    var flights_from_selected = false;
	    var flights_to_selected = false;
	    
	    $("#flights_from").keydown(function()
	    {
	    	
	    	 if($('#flighttype_multicity').is(':checked')) {
				$('#flighttype_return').attr('checked','checked');	
	    	 }
	    	 
	    	 if($('#flighttype_powerchoice').is(':checked')) {
				$('#flighttype_return').attr('checked','checked');	
	    	 }
	    	
	    	 $('a.airports_flights_from').show();
	    	 if(flights_from_selected == true) {
		    	 $('#combo_airports_flights_to').html('');
				 $('div.container_airports_flights_to').find('ul.newList').html('');
				 $('span.combo_airports_flights_to').find('div.selectedTxt').html('');
		    	 $("#flights_to").val('');	 
	    	 }
	   	});
	    
	    $("#flights_from").customautocomplete({	    	
			source:SEED3_URL+"getAptMatch.php?new2&language="+langId,
			minLength: 3,
			delay: 50,		
			open: function(e,ui) {
				
				var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
				acData.menu.element.find('li a').each(function() {
					var me = $(this);
					me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );
	
				});
				// $('a.airports_flights_from').show();
			},
			select: function(){	flights_from_selected = true;},
			close: function(){			
				if(flights_from_selected == false) { return false; }
				flights_from_selected = false;
				var apt_name = 'language=en&getAptFromName=' + $('#flights_from').val();
				
				var aptString =  $('#flights_from').val(); 
				var apt_code = aptString.substring((aptString.length-4), (aptString.length-1));
				
				//$.get('http://www.flytap.com/IBEpost.php', apt_name, function(apt_code) { //fecha na linha 723
					$('#origin').val(apt_code);

//					alert("recebi: "+apt_code);	
					
					if(apt_code.length>0){
					$('#combo_airports_flights_from option[value=' + apt_code + ']').attr('selected','selected');
					}
					else{
					$('#combo_airports_flights_from option[value=' + apt_code + ']').attr('selected','selected').trigger('change');
					}					
					
					var newtext = $('#flights_from').val();					
				    newtext = newtext.substring(0,newtext.length-6);
					$('#flights_from').val(newtext);
					
					$('div.residents').hide();
					$('div.students').hide();
					
					$('#residents').attr('checked',false);
					$('#students').attr('checked',false);		
					
					$('a.airports_flights_from').hide();

					apt_code = $('#destination').val();
					var origin_code = $('#origin').val();	
					
					
					if(mymarket == 'pt') {
						
						
						if(residentArray[origin_code] != undefined) {
							for(var i = 0, l = residentArray[origin_code].length; i < l; i++) {
	//					alert(residentArray[origin_code][i] +'=='+ apt_code);							
								if(residentArray[origin_code][i] == apt_code) {
									if($('#flighttype_oneway').is(':checked')) {
									$('div.residents').show();
									$('#residents').attr('checked',false);
									$('#residents').attr('disabled', 'disabled');											
									} else{
									$('div.residents').show();
									}				
								}
							} 	
						}
						
						
						if(studentArray[origin_code] != undefined) {
							for(var i = 0, l = studentArray[origin_code].length; i < l; i++) {
								if(studentArray[origin_code][i] == apt_code) {
									if($('#flighttype_oneway').is(':checked')) {
									$('div.students').show();
									$('#students').attr('checked',false);
									$('#students').attr('disabled', 'disabled');											
									} else {
									$('div.students').show();
									}
								}
							} 
						}
						
						$('#flighttype_oneway').click(function(){
							$('#students').attr('checked', false);	
							$('#residents').attr('checked', false);	
							
							$('#students').attr('disabled', 'disabled');
							$('#residents').attr('disabled', 'disabled');
							
							$('div.people_age .middle').show();
							$('div.people_age .right').show();																
						});						
						
						$('#flighttype_oneway').click(function(){
							$('#students').attr('checked', false);	
							$('#residents').attr('checked', false);	
							
							$('#students').attr('disabled', 'disabled');
							$('#residents').attr('disabled', 'disabled');
							
							$('div.people_age .middle').show();
							$('div.people_age .right').show();																
						});
						
						$('#residents').click(function(){
							 $('#flighttype_return').attr('checked','checked');										
							$('div.people_age .middle').show();							
							$('div.people_age .right').show();										
							$('#students').attr('checked', false);

							if($('#residents').is(':checked')) {	
								$('#flighttype_oneway').attr('disabled','disabled');
							}
							else {	
								$('#flighttype_oneway').attr('disabled','');
							}

						});
						
						$('#students').click(function(){
							$('#flighttype_return').attr('checked','checked');							
							$('div.people_age .middle').show();
							$('div.people_age .right').show();
							$('#residents').attr('checked', false);

							if($('#students').is(':checked')) {	

								$("#departing_date").datepicker("option","minDate","3");
								$("#returning_date").datepicker("option","minDate","3");
								
							    var dMin = new Date();
							    dMin.setDate(dMin.getDate()+3);
							    nDep = new Date(dMin);
							    var dd = $("#departing_date").datepicker("getDate");
							    
							    if(dMin > dd){
							    	d7 = dMin;
							        d7.setDate(d7.getDate()+7);
							        var dRet = new Date(d7);
							        $("#departing_date").datepicker("setDate",nDep);
							        $("#returning_date").datepicker("setDate",dRet);
							    }

								$('div.people_age .middle').hide();
								$('div.people_age .right').hide();
								$('#flighttype_oneway').attr('disabled','disabled');
								$( "#std_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true;
							}

							else {
								$('#flighttype_oneway').attr('disabled','');

								$("#departing_date").datepicker("option","minDate","0");
								$("#returning_date").datepicker("option","minDate","0");
							}
						});	
						
						$('#flighttype_return, #flighttype_multicity, #flighttype_powerchoice').live('click', function(){
								$('#students').attr('disabled', '');
								$('#residents').attr('disabled', '');
								$('div.people_age .middle').show();
								$('div.people_age .right').show();	
								$('#flighttype_onway').attr('disabled','');																
						});						
	
					}	
					
			    	// if(danish_airport($('#origin').val())) { $( "#danish_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }
			    	
					// alert( $('#origin').val() );
					
					// alert( apt_code + ' - ' + $('#origin').val() );
					
					
//					alert('antes'+apt_code);
//					var data = 'language=enus&getDestinations=' + $('#origin').val();
//					var testedata = 'language='+enus+'&getDestinations=' + $('#origin').val();
//					alert('php returns:'+'enus');
					var lang='en';
					var testedata = 'language='+lang+'&getDestinations=' + $('#origin').val();
//					alert('chamada'+testedata );
					$.get('http://' + window.location.hostname + '/loadOriginDestination.php', testedata, function(destinations) { 	
//						alert( testedata )
						
//					alert('depois');
						var html = lis = '', x = 0;
						
						//Wingman IE7 speed up
				 		if (IS_IE_7 || IS_IE_8 || IS_MOBILE_BROWSER)
				 			html = '<option value="">Select airport</option>';
				 			
						availableAirports = new Array;
						$.each(destinations, function(i, v){
//							console.log(i+' '+v);
//							if(x == 0) {
//								$('option[value=' + i + ']', $('#combo_airports_flights_to')).attr('selected','selected');
//							}

							
							lis += '<li><a href="javascript:;" rel="' + i + '">' + v + '</a></li>';
							html += '<option value="' + i + '">' + v + '</option>';
							availableAirports[x] = v + ' (' + i + ')';
							x++;
						});

						$('#combo_airports_flights_to').html(html);
						$('div.container_airports_flights_to').find('ul.newList').html(lis);
						
				bindAutoCompleteFlightTo();						
										
								$('div.container_airports_flights_to').find('ul.newList li a').each(function(){
									$(this).click(function(){
										
										destinationCode = $(this).attr('rel');
										destinationText = $(this).text();
										
										$('#destination').val(destinationCode);
										
								    	
								    	// if(danish_airport(destinationCode)) { $( "#danish_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }						
										
										$('span.combo_airports_flights_to').find('div.selectedTxt').html(destinationText);
										$("option[value=" + destinationCode + "]", $('#combo_airports_flights_to')).attr('selected','selected');
										$('#flights_to').val(destinationText);
										$(this).parent().parent().hide();
										
										/* - */
										
									if(us_airport(destinationCode)) { $( "#us_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }
									if(ven_airport(destinationCode)) { $( "#ven_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }
									
										if(mymarket == 'pt') {
											originCode = $('#origin').val();
											if(residentArray[originCode] != undefined) {
												for(var i = 0, l = residentArray[originCode].length; i < l; i++) {
													if(residentArray[originCode][i] == destinationCode) {
														// $('div.residents').show();
														if($('#flighttype_oneway').is(':checked')) {
														$('div.students').show();
														$('#students').attr('checked',false);
														$('#students').attr('disabled', 'disabled');															
														} else {
														$('div.students').show();
														}																		
														break;
													}
												} 	
											}
											
											if(studentArray[originCode] != undefined) {
												for(var i = 0, l = studentArray[originCode].length; i < l; i++) {
													if(studentArray[originCode][i] == destinationCode) {
														// $('div.students').show();
														if($('#flighttype_oneway').is(':checked')) {
														$('div.residents').show();
														$('#residents').attr('checked',false);
														$('#residents').attr('disabled', 'disabled');															
														} else{
														$('div.residents').show();
														}																		
														break;
													}
												} 
											}
											
											$('#residents').click(function(){			
												$('#flighttype_return').attr('checked','checked');										
												$('div.people_age .middle').show();							
												$('div.people_age .right').show();										
												$('#students').attr('checked', false);
					
												if($('#residents').is(':checked')) {	
													$('#flighttype_oneway').attr('disabled','disabled');
												}
												else {	
													$('#flighttype_oneway').attr('disabled','');
												}
					
											});
											
											$('#students').click(function(){
												$('#flighttype_return').attr('checked','checked');							
												$('div.people_age .middle').show();
												$('div.people_age .right').show();
												$('#residents').attr('checked', false);
												
												if($('#students').is(':checked')) {								
													$('div.people_age .middle').hide();
													$('div.people_age .right').hide();
													$('#flighttype_oneway').attr('disabled','disabled');
													$( "#std_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true;
												}
					
												else {
													$('#flighttype_oneway').attr('disabled','');
												}
											});												
											
											$('#flighttype_return, #flighttype_multicity, #flighttype_powerchoice').live('click', function(){
													$('#students').attr('disabled', '');
													$('#residents').attr('disabled', '');
													$('div.people_age .middle').show();
													$('div.people_age .right').show();	
													$('#flighttype_onway').attr('disabled','');																
											});																
											
										}
										  
										/* - */
										
									});	
								});		
				
						
					}, 'json');		    	

			    	if(us_airport($('#origin').val())) { $( "#us_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }
			    	if(ven_airport($('#origin').val())) { $( "#ven_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }
					
				//});		
						
			}
	    });
	      
	    
	    $("#flights_to").keydown(function(){ 
	    	
	    	 if($('#flighttype_multicity').is(':checked')) {
				$('#flighttype_return').attr('checked','checked');	
	    	 }
	    	 
	    	 if($('#flighttype_powerchoice').is(':checked')) {
				$('#flighttype_return').attr('checked','checked');	
	    	 }
	    	 	
	    	$('a.airports_flights_to').show(); 
	    });	    
	    
	    $("#flights_to").customautocomplete({	    	
			source:SEED3_URL+"getAptMatch.php?new&language="+langId+"&getDestinations="+$("#origin").val(),
			minLength: 3,
			delay: 50,
			open: function(e,ui) {
				
				var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
				acData.menu.element.find('li a').each(function() {
					var me = $(this);
					me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );
				});
				
				// $('a.airports_flights_to').show();
			},			
			select: function(){	flights_to_selected = true;},
			close: function(){				
				if(flights_to_selected == false) { return false; }
				flights_to_selected = false;
				
				var apt_name = 'language=en&getAptFromName=' + $('#flights_to').val();
				
				var aptString =  $('#flights_to').val(); 
				var apt_code = aptString.substring((aptString.length-4), (aptString.length-1));
				
				var origin_code = $('#origin').val();
				//$.get('http://www.flytap.com/IBEpost.php', apt_name, function(apt_code) { //fecha na 839
					$('#combo_airports_flights_to option[value=' + apt_code + ']').attr('selected','selected').trigger('change');
					
					$('#destination').val(apt_code);
					
					var newtext = $('#flights_to').val();					
					newtext = newtext.substring(0,newtext.length-6);
					$('#flights_to').val(newtext);
					
//					alert(origin_code + '/' + apt_code);
					
					$('div.residents').hide();
					$('div.students').hide();
					$('a.airports_flights_to').hide();
					
					$('#residents').attr('checked',false);
					$('#students').attr('checked',false);
					
					if(mymarket == 'pt') {
					
						if(residentArray[origin_code] != undefined) {
							for(var i = 0, l = residentArray[origin_code].length; i < l; i++) {
	//					alert(residentArray[origin_code][i] +'=='+ apt_code);							
								if(residentArray[origin_code][i] == apt_code) {
									// $('div.residents').show();
									if($('#flighttype_oneway').is(':checked')) {
									$('div.residents').show();
									$('#residents').attr('checked',false);
									$('#residents').attr('disabled', 'disabled');
									} else{
									$('div.residents').show();
									}									
									
								}
							} 	
						}
						if(studentArray[origin_code] != undefined) {
							for(var i = 0, l = studentArray[origin_code].length; i < l; i++) {
								if(studentArray[origin_code][i] == apt_code) {
									// $('div.students').show();
									if($('#flighttype_oneway').is(':checked')) {
									$('div.students').show();
									$('#students').attr('checked',false);
									$('#students').attr('disabled', 'disabled');										
									} else{
									$('div.students').show();
									}									
								}
							} 
						}
						
						$('#flighttype_oneway').click(function(){
							$('#students').attr('checked', false);	
							$('#residents').attr('checked', false);	
							
							$('#students').attr('disabled', 'disabled');
							$('#residents').attr('disabled', 'disabled');
							
							$('div.people_age .middle').show();
							$('div.people_age .right').show();												
						});
						
						$('#residents').click(function(){			
							$('#flighttype_return').attr('checked','checked');										
							$('div.people_age .middle').show();							
							$('div.people_age .right').show();										
							$('#students').attr('checked', false);

							if($('#residents').is(':checked')) {	
								$('#flighttype_oneway').attr('disabled','disabled');
							}
							else {	
								$('#flighttype_oneway').attr('disabled','');
							}

						});
						
						$('#students').click(function(){
							$('#flighttype_return').attr('checked','checked');							
							$('div.people_age .middle').show();
							$('div.people_age .right').show();
							$('#residents').attr('checked', false);

							if($('#students').is(':checked')) {	

								$("#departing_date").datepicker("option","minDate","3");
								$("#returning_date").datepicker("option","minDate","3");
								
							    var dMin = new Date();
							    dMin.setDate(dMin.getDate()+3);
							    nDep = new Date(dMin);
							    var dd = $("#departing_date").datepicker("getDate");
							    
							    if(dMin > dd){
							    	d7 = dMin;
							        d7.setDate(d7.getDate()+7);
							        var dRet = new Date(d7);
							        $("#departing_date").datepicker("setDate",nDep);
							        $("#returning_date").datepicker("setDate",dRet);
							    }

								$('div.people_age .middle').hide();
								$('div.people_age .right').hide();
								$('#flighttype_oneway').attr('disabled','disabled');
								$( "#std_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true;
							}

							else {
								$('#flighttype_oneway').attr('disabled','');

								$("#departing_date").datepicker("option","minDate","0");
								$("#returning_date").datepicker("option","minDate","0");
							}
						});	
						
						$('#flighttype_return, #flighttype_multicity, #flighttype_powerchoice').live('click', function(){
								$('#students').attr('disabled', '');
								$('#residents').attr('disabled', '');
								$('div.people_age .middle').show();
								$('div.people_age .right').show();	
								$('#flighttype_onway').attr('disabled','');	
						});						
						
					}		
					
			    	if(us_airport($('#destination').val())) { $( "#us_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }
			    	if(ven_airport($('#destination').val())) { $( "#ven_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }
			    	// if(danish_airport($('#destination').val())) { $( "#danish_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }
												
				//});	
			}
	    });
  
	    
	});

	$('a.airports_flights_from').click(function(){	
		if( IS_IE_7 || IS_IE_8 || IS_MOBILE_BROWSER)
			$('#combo_airports_flights_from option:first').html("Select airport");  //Wingman IE7 speed up
		else
			$('span.combo_airports_flights_from').find('div.selectedTxt').html("Select airport");		
	});
	
	$('a.airports_flights_to').click(function(){	
		if( IS_IE_7 || IS_IE_8 || IS_MOBILE_BROWSER)
			$('#combo_airports_flights_to option:first').html("Select airport");  //Wingman IE7 speed up
		else
			$('span.combo_airports_flights_to').find('div.selectedTxt').html("Select airport");		
	});	
	
	/* -- */
	/*
	$('a.airports_flights_from, a.airports_flights_to').each(function(){
		$(this).click(function(){
			if($(this).hasClass('airports_flights_from') && ($('#flights_from').val() != '')) {
				var apt_name = 'language=en&getAptFromName=' + $('#flights_from').val();
				$.post('http://www.flytap.com/IBEpost.php', apt_name, function(apt_code) {
					$('#origin').val(apt_code);
					$('#combo_airports_flights_from option[value=' + apt_code + ']').attr('selected','selected');
					
					$('span.combo_airports_flights_from').find('div.selectedTxt').html($('#flights_from').val());
				});
			}
			
			if($(this).hasClass('airports_flights_to') && ($('#flights_to').val() != '')) {
				var apt_name = 'language=en&getAptFromName=' + $('#flights_to').val();
				$.post('http://www.flytap.com/IBEpost.php', apt_name, function(apt_code) { 
					$('#destination').val(apt_code);
					$('#combo_airports_flights_to option[value=' + apt_code + ']').attr('selected','selected');
					$('span.combo_airports_flights_to').find('div.selectedTxt').html($('#flights_to').val());
				});
			}
			
		});	
	});
	*/
	
	/* --- */
	
	function us_airport(airport) {
	
		for(i = 0;i <= airportsWarningUsa.length; i++) {
			if(airportsWarningUsa[i] == airport) {
				return true;
			}
		} 	
		return false;
	}

	function ven_airport(airport) {
	
		for(i = 0;i <= airportsWarningVen.length; i++) {
			if(airportsWarningVen[i] == airport) {
				return true;
			}
		} 	
		return false;
	}
	
	/*
	function danish_airport(airport) {
	
		for(i = 0;i <= airportsWarningDanish.length; i++) {
			if(airportsWarningDanish[i] == airport) {
				return true;
			}
		} 	
		return false;
	}
	*/	

	/* -- button click -- */
	
	$('#ibebutton').click(function(){
		if(validateSidebar('flights')) {
			$('#side_booking_flights').submit();				
			return true;	
		} else { return false; }
	});
	
	$('#flighttype_multicity').click(function(){
		/*
		var mlextra = (($('#origin').val() != '') && ($('#origin').val() != 'undefined')) ? '&origin=' + $('#origin').val() : '';
		multicity_link = multicity_link + mlextra;
		*/
		window.open(multicity_link,'blank');
		// console.log(multicity_link);
	});	
	
	/* ------------------	*/
	
	$('#flights_promocode').click(function(){ $(this).val(''); });
	$('#flights_promocode2').click(function(){ $(this).val(''); });
	
	/* ------------------	*/
	
	
});	

</script>

<script language="Javascript" type="text/javascript">

	
jQuery(document).ready(function() {
	//$('#country_arrival').val('0');
	
//MC cmportamento do calendário para a tab Seguro -> START
	
	    $( "#tab-insurance #insurance_date_departure, #tab-insurance #insurance_date_return" ).datepicker({minDate: "D",maxDate: "+361D", showOn: "both",buttonImage: icon_calendar,buttonImageOnly: true,showButtonPanel: true,dateFormat: "dd/mm/yy",showOtherMonths: true,selectOtherMonths: true,closeText: '',currentText: '',numberOfMonths: 2, showAnim: false
	    });
	
	$('#tab-insurance #insurance_date_departure').change(function() {
		var dataPartida = $(this).val();
		var dateparts = dataPartida.split("/");
		//new Date(year, month, day)
		var dataPartidaObj = new Date(dateparts[2], parseInt(dateparts[1],10) - 1, parseInt(dateparts[0],10));
		var dataPartidaTimestamp = dataPartidaObj.getTime();
		
		var today = new Date().getTime();
		var today354 = new Date(today + 354 * 24 * 60 * 60 * 1000);
		if(dataPartidaTimestamp >= today354)
			var today77 = new Date(today + 361 * 24 * 60 * 60 * 1000);
		else
			var today77 = new Date(dataPartidaTimestamp + 7 * 24 * 60 * 60 * 1000);
					
			today77 = (today77.format('d/m/Y'));
			$('#tab-insurance #insurance_date_return').val(today77);
	});

	$('#tab-insurance #insurance_date_return').change(function() {
		var today = new Date().getTime();
		var today354 = new Date(today + 354 * 24 * 60 * 60 * 1000);
		
		var dataPartida = $('#tab-insurance #insurance_date_departure').val();
		var dateparts = dataPartida.split("/");
		//new Date(year, month, day)
		var dataPartidaObj = new Date(dateparts[2], parseInt(dateparts[1],10) - 1, parseInt(dateparts[0],10));
		var dataPartidaTimestamp = dataPartidaObj.getTime();
		
		var dataRegresso = $(this).val();
		var dateparts = dataRegresso.split("/");
		//new Date(year, month, day)
		var dataRegressoObj = new Date(dateparts[2], parseInt(dateparts[1],10) - 1, parseInt(dateparts[0],10));
		var dataRegressoTimestamp = dataRegressoObj.getTime();

		if(dataPartidaTimestamp > dataRegressoTimestamp)
		{
			$('#tab-insurance #insurance_date_departure').val(dataRegresso);
		}
		
	});	
	
//MC cmportamento do calendário para a tab Seguro -> END
	
	$('#insuranceSubmit').click(function(){
		if ($('#country_residence').val() != 0) { $(".container_country_residence").removeClass('error');
		} else { flag = 1; $(".container_country_residence").addClass('error'); return false; }
		
		if ($('#country_departure').val() != 0) { $(".container_country_departure").removeClass('error'); } 
		else { flag = 1; $(".container_country_departure").addClass('error'); return false; }
		
		if ($('#country_arrival').val() != 0) { $(".container_country_arrival").removeClass('error'); } 
		else { flag = 1; $(".container_country_arrival").addClass('error'); return false; }
		
		if ($("#insurance_date_departure").val()) {
			if (isDate($("#insurance_date_departure").val())) { $(".container_insurance_departure").removeClass('error'); } 
			else { flag = 1; $(".container_insurance_departure").addClass('error'); return false; }
		} else { flag = 1; $(".container_insurance_departure").addClass('error'); return false; }
		
		if ($("#insurance_date_return").val()) {
			if (isDate($("#insurance_date_return").val())) { $(".container_insurance_return").removeClass('error'); } 
			else { flag = 1; $(".container_insurance_return").addClass('error'); return false; }
		} else { flag = 1; $(".container_insurance_return").addClass('error'); return false; }
		
		if($("#insurance_price_trip").val() == '0' || $("#insurance_price_trip").val() == '0,00' || $("#insurance_price_trip").val() == '0.00') {
			flag = 1; $(".insurance_price_trip_container").addClass('error'); return false;
		} else { $(".insurance_price_trip_container").removeClass('error'); }		
		
		var dparts = $('#insurance_date_departure').val();
		departure_parts = dparts.split('/');
		var rparts = $('#insurance_date_return').val();
		return_parts = rparts.split('/');		
		
		var departure_month = (departure_parts[1] != 10) ? departure_parts[1].replace(/0/g,'') : departure_parts[1];
		var return_month = (return_parts[1] != 10) ? return_parts[1].replace(/0/g,'') : return_parts[1];				
		
		$('#dia_partida').val(parseInt(departure_parts[0], 10));
		$('#mes_partida').val(parseInt(departure_parts[1], 10));
		$('#ano_partida').val(departure_parts[2]);
		
		$('#dia_chegada').val(parseInt(return_parts[0], 10));
		$('#mes_chegada').val(parseInt(return_parts[1], 10));
		$('#ano_chegada').val(return_parts[2]);	
		
		$('#magroupTravelInformations').submit();
		
	});
	
});	

</script>	
			                            <!-- http://book.flytap.com/r3air/tap/DeepLink.aspx  --->
                                <form action="http://www.flytap.com/IBEpost.php" name="side_booking_flights" id="side_booking_flights" target="_parent" method="post"> 
                                	<input type="hidden" name="goAnixe" value="true">
									<input type="hidden" name="Anixeurl" id="Anixeurl" value="http://book.flytap.com/r3air/tap/DeepLink.aspx">
									<input type="hidden" name="market" value="us">
									<input type="hidden" id="visualMarket" name="visualMarket" value="us">	
									<input type="hidden" name="language" value="en-us">
									<input type="hidden" name="origin" id="origin" value="">
									<input type="hidden" name="destination" id="destination" value="">
									<input type="hidden" name="promovalidation" value="Insert code">							
																	
                                    <div class="flighttype"> 
                                        <div class="left"> 
                                            <p class="value"><input class="radiobutton" type="radio" name="flighttype" id="flighttype_return" value="return" checked="checked"></p> 
                                            <p class="text" ss3_article_id="20"><label for="flighttype_return">Return Trip</label></p> 
                                            
                                            <p class="value"><input class="radiobutton" type="radio" name="flighttype" id="flighttype_oneway" value="single"></p> 
                                            <p class="text" ss3_article_id="22"><label for="flighttype_oneway">One Way </label></p> 
                                        </div><!-- end .left --> 
                                        <div class="right"> 
                                            <p class="value"><input class="radiobutton" type="radio" name="flighttype" id="flighttype_multicity" value="multi_city"></p> 
                                            <p class="text" ss3_article_id="21"><label for="flighttype_multicity">Multi-city</label></p> 
                                            
                                            <!--AMADEUS p class="value"><input class="radiobutton" type="radio" name="flighttype" id="flighttype_powerchoice" value="power_choice" /></p> 
                                            <p class="text" ss3_article_id="23"><label for="flighttype_powerchoice"><ss3_text id="text" noedit="1"/></label></p --> 
                                        </div><!-- end .right --> 
                                        <span class="clear">&nbsp;</span> 
                                    </div><!-- end .flighttype --> 
                                    
                                    <div class="from_to"> 
                                        <div class="airport_textbox ui-widget container_airports_flights_from"> 
                                            <p class="text" ss3_article_id="24"> 
                                                <label for="flights_from">From:</label> 
                                                <a class="search airports_flights_from" rel="autosearch" href="javascript:;" title="airports list"><span ss3_article_id="42">airports list</span></a> 
                                                <span class="clear">&nbsp;</span> 
                                            </p> 
                                            <p class="value airports_flights_from"> 
                                                <input id="flights_from" name="fromCity" class="text_autocomplete text" type="text" value="">
                                                <span class="combo_airports_flights_from">
                                
								<select class="combostyle airport_textbox hide combofix_ie78" id="combo_airports_flights_from">
								</select>
								                                                </span> 
                                            </p> 
                                        </div><!-- end .airport_textbox --> 
                                        
                                        
                                        <div class="airport_textbox ui-widget container_airports_flights_to"> 
                                            <p class="text" ss3_article_id="25"> 
                                                <label for="flights_to">To:</label> 
                                                <a class="search airports_flights_to" rel="autosearch" href="javascript:;" title="airports list" id="airports_flights_to"><span ss3_article_id="42">airports list</span></a> 
                                                <span class="clear">&nbsp;</span> 
                                            </p> 
                                            <p class="value airports_flights_to"> 
                                                <input id="flights_to" name="toCity" class="text_autocomplete text" type="text">
                                                <span class="combo_airports_flights_to"> 
                                                    <select class="combostyle airport_textbox hide combofix_ie78" id="combo_airports_flights_to">
                                                                                                        </select> 
                                                  </span> 
                                            </p> 
                                        </div><!-- end .airport_textbox --> 
                                    </div><!-- end .from_to --> 
                                    
                                    <div class="class_directflights"> 
                                        <div class="direct_flights"> 
                                            <p class="value"><input type="checkbox" class="checkbox" name="directflights" id="directflights" value="1"></p> 
                                            <p class="text" ss3_article_id="26"><label for="directflights">direct flights only</label></p> 
                                        </div><!-- .direct_flights --> 
                                        <span class="clear">&nbsp;</span> 
                                    </div><!-- end .class_directflights --> 
                                    
                                    
                                    <div class="departing_returning"> 
                                        <div class="date_selector container_departing"> 
                                            <p class="text" ss3_article_id="27"><label for="departing_date">Departing:</label></p> 
                                            <p class="value"> 
                                                <input type="text" class="date" name="data_partida" id="departing_date"> 
                                                <span class="clear">&nbsp;</span> 
                                            </p> 
                                        </div><!-- end .date_selector --> 
                                        <div class="date_selector container_returning"> 
                                            <p class="text" ss3_article_id="28"><label for="returning_date">Returning:</label></p> 
                                            <p class="value"> 
                                                <input type="text" class="date" name="data_regresso" id="returning_date"> 
                                                <span class="clear">&nbsp;</span> 
                                            </p> 
                                        </div><!-- end .date_selector --> 
                                        
                                                                            </div><!-- end .departing_returning --> 
                                    
                                    <div class="people_age"> 
                                        <div class="left"> 
                                            <p class="text" ss3_article_id="33"><label><span class="title" ss3_article_id="30">Adults:</span> (&gt;12 years)</label></p> 
                                            <p class="value combo_people_bookingtool"> 
                                                <select name="numberOfAdults" id="flight_adults" class="combostyle"> 
                                                    <option value="1">1</option> 
                                                    <option value="2">2</option> 
                                                    <option value="3">3</option> 
                                                    <option value="4">4</option> 
                                                    <option value="5">5</option> 
                                                    <option value="6">6</option> 
                                                    <option value="7">7</option> 
                                                    <option value="8">8</option> 
                                                    <option value="9">9</option> 
                                                </select> 
                                            </p> 
                                        </div><!-- end .left --> 
                                        <div class="middle"> 
                                            <p class="text" ss3_article_id="34"><label><span class="title" ss3_article_id="31">Children:</span> (2-11 years)</label></p> 
                                            <p class="value combo_people_bookingtool"> 
                                                <select name="numberOfChildren" id="flight_children" class="combostyle"> 
                                                    <option value="0">0</option> 
                                                    <option value="1">1</option> 
                                                    <option value="2">2</option> 
                                                    <option value="3">3</option> 
                                                    <option value="4">4</option> 
                                                    <option value="5">5</option> 
                                                    <option value="6">6</option> 
                                                    <option value="7">7</option> 
                                                    <option value="8">8</option> 
                                                    <option value="9">9</option> 
                                                </select> 
                                            </p> 
                                        </div><!-- end .middle --> 
                                        <div class="right"> 
                                            <p class="text" ss3_article_id="35"><label><span class="title" ss3_article_id="32">Infants:</span> (&lt;2 years)</label></p> 
                                            <p class="value combo_people_bookingtool"> 
                                                <select name="numberOfInfants" id="flight_babies" class="combostyle"> 
                                                    <option value="0">0</option> 
                                                    <option value="1">1</option> 
                                                    <option value="2">2</option> 
                                                    <option value="3">3</option> 
                                                    <option value="4">4</option> 
                                                    <option value="5">5</option> 
                                                    <option value="6">6</option> 
                                                    <option value="7">7</option> 
                                                    <option value="8">8</option> 
                                                    <option value="9">9</option> 
                                                </select> 
                                            </p> 
                                        </div><!-- end .right --> 
                                        <span class="clear">&nbsp;</span> 
                                    </div><!-- end .people_age --> 
                                    
                                    <div class="residents_students_executive"> 
                                        <div class="residents" style="display:none"> 
                                            <p class="value"><input type="checkbox" class="checkbox" name="residents" id="residents" value="1"></p> 
                                            <p class="text" ss3_article_id="36"><label for="residents">residents</label></p> 
                                        </div><!-- .direct_flights --> 
                                        
                                        <div class="students" style="display:none"> 
                                            <p class="value"><input type="checkbox" class="checkbox" name="students" id="students" value="1"></p> 
                                            <p class="text" ss3_article_id="37"><label for="students">students</label></p> 
                                        </div><!-- .direct_flights --> 
                                        
                                        <div class="executive"> 
                                            <p class="value"><input type="checkbox" class="checkbox" name="executive" id="executive" value="1"></p> 
                                            <p class="text" ss3_article_id="38"><label for="executive">tap|executive</label></p> 
                                        </div><!-- .direct_flights --> 
                                        <span class="clear">&nbsp;</span> 
                                    </div><!-- end .residents_students_executive --> 
                                    
                                    <!-- onclick="javascript:validateSidebar('flights');return false;" -->
				    
				
                                    <div class="airport_textbox ui-widget container_flights_promocode">
	                                    <p class="text" ss3_article_id="518"> 
	                                        <label for="flights_promocode">Promotion / Congress Code (optional)</label> 
	                                    </p>
	                                    <p class="value">
	                                        <input id="flights_promocode" name="flights_promocode" class="text" type="text" value="Insert code" rel="Insert code" maxlength="14">
	                                        <span class="clear">&nbsp;</span> 
	                                    </p> 
                                    </div>  
                                    
                                    <p>
                                    	<a title="Book Now" id="ibebutton" class="biggreenbutton" href="javascript:;">
	                                    	<span class="left">&nbsp;</span>
	                                    		                                    		<span class="text" ss3_article_id="39">Book Now<span class="arrow">&nbsp;</span></span>
	                                    		                                    	<span class="right">&nbsp;</span>
                                    	</a>
                                    </p> 

                                    <div class="advanced"> 
                                       
											
                                            <p class="advanced_search" ss3_article_id="40">
												<!-- LV alterado $post_language para $aid_language no office id - issue 1441 -->
                                            	<a href="http://book.flytap.com/r3air/tap/Deeplink.aspx?market=US&amp;language=EN-US&amp;_a=FTUSEN&amp;searchType=start" title="Advanced Search " target="_parent">
                                            		Advanced Search                                             	</a>
						                                            </p> 
                                   
                                    </div>
                                    
<br>                                
                                    <div id="std_alert" style="display:none;"> 
                                        <div class="alert"> 
                                            <span class="corner-top-left">&nbsp;</span><span class="corner-top-right">&nbsp;</span><span class="corner-bottom-left">&nbsp;</span><span class="corner-bottom-right">&nbsp;</span> 

                                            <div class="text" ss3_article_id="491">  
                                            	<h5></h5> <br>
                                                <p style="text-align:justify">
                                                	                                                </p> 
                                            </div> 
                                        </div> 
                                    </div><!-- end .modal_content -->

                                    <div id="us_alert"> 
                                        <div class="alert"> 
                                            <span class="corner-top-left">&nbsp;</span><span class="corner-top-right">&nbsp;</span><span class="corner-bottom-left">&nbsp;</span><span class="corner-bottom-right">&nbsp;</span> 
                                            <div class="text" ss3_article_id="216"> 
                                                <h5>Attention:</h5> 
                                                <p style="text-align:justify">
                                                <span style="font-weight:bold;">To travellers to, from and within the U.S.A. </span> <br><br>Visa exempt passengers intending to travel to the United States will have to apply for an electronic travel authorization in advance via the Electronic System for Travel Application. Click <a href="http://www.flytap.com/USA/enus/PlanBook/PrepareforTravel/travel-to-from-usa">here </a> to know more. <br><br>In compliance with requirements of the U.S. Government, TAP, allows U.S. Customs and Border Protection to access certain travel and reservation data (referred to as "Passenger Name Record" or "PNR") of passengers flying to, from or through the U.S. These data are used primarily for preventing and combating terrorism and other serious criminal offences. Further information can be obtained on this <a href="http://www.flytap.com/USA/enus/PlanBook/PrepareforTravel/travel-to-from-usa#t3">site</a> or upon request to TAP. We also inform that passengers on flights to the United States of America are not permitted to carry cigarette lighters in their hand luggage aswell as in their hold luggage and on one                                                </p> 
                                            </div> 
                                        </div> 
                                    </div><!-- end .modal_content -->

                                    <div id="ven_alert"> 
                                        <div class="alert"> 
                                            <span class="corner-top-left">&nbsp;</span><span class="corner-top-right">&nbsp;</span><span class="corner-bottom-left">&nbsp;</span><span class="corner-bottom-right">&nbsp;</span> 
                                            <div class="text" ss3_article_id="216"> 
                                                <h5>Attention:</h5> 
                                                <p style="text-align:justify">
                                                <span style="font-weight:bold;">To travellers to, from and within the U.S.A. </span> <br><br>Visa exempt passengers intending to travel to the United States will have to apply for an electronic travel authorization in advance via the Electronic System for Travel Application. Click <a href="http://www.flytap.com/USA/enus/PlanBook/PrepareforTravel/travel-to-from-usa">here </a> to know more. <br><br>In compliance with requirements of the U.S. Government, TAP, allows U.S. Customs and Border Protection to access certain travel and reservation data (referred to as "Passenger Name Record" or "PNR") of passengers flying to, from or through the U.S. These data are used primarily for preventing and combating terrorism and other serious criminal offences. Further information can be obtained on this <a href="http://www.flytap.com/USA/enus/PlanBook/PrepareforTravel/travel-to-from-usa#t3">site</a> or upon request to TAP. We also inform that passengers on flights to the United States of America are not permitted to carry cigarette lighters in their hand luggage aswell as in their hold luggage and on one                                                </p> 
                                            </div> 
                                        </div> 
                                    </div><!-- end .modal_content -->
				    <!--<div id="danish_alert"> 
                                        <div class="alert"> 
                                            <span class="corner-top-left">&nbsp;</span><span class="corner-top-right">&nbsp;</span><span class="corner-bottom-left">&nbsp;</span><span class="corner-bottom-right">&nbsp;</span> 
                                            <div class="text"> 
                                                <h5></h5> 
                                                <p></p> 
                                                <p></p> 
                                            </div> 
                                        </div> 
                                    </div>-->
                                    <div id="passenger_alert"> 
                                        <div class="alert"> 
                                            <span class="corner-top-left">&nbsp;</span>
                                            <span class="corner-top-right">&nbsp;</span>
                                            <span class="corner-bottom-left">&nbsp;</span>
                                            <span class="corner-bottom-right">&nbsp;</span> 
                                            <div class="text" ss3_article_id="217">                                          
                                                <p>Each adult can travel with 4 children or each adult can travel with one child and one infant.</p> 
                                            </div> 
                                        </div> 
                                    </div> 
                                    
                                    <div id="passenger_max_alert"> 
                                        <div class="alert"> 
                                            <span class="corner-top-left">&nbsp;</span>
                                            <span class="corner-top-right">&nbsp;</span>
                                            <span class="corner-bottom-left">&nbsp;</span>
                                            <span class="corner-bottom-right">&nbsp;</span> 
                                            <div class="text" ss3_article_id="281">                                        
                                                <p>Only 9 passengers are allowed for an online booking. Infants are not considered in the total.</p> 
                                            </div> 
                                        </div> 
                                    </div>                                                                

                                </form> 
           
				<script type="text/javascript">
				jQuery(document).ready(function() {                
					$('div.container_country_residence').find('div.newListSelected div.selectedTxt').bind('click', function(){
						$(this).next('ul').css('height','20px');
						return false;
					});
					var iframeAgents = getUrlVars("iframeAgents");
					iframeAgents = iframeAgents.toString();
					if(iframeAgents == "agents" && IS_IE_7)
					{
						//alert("Agents- IE7 ...---");
						jQuery("#ui-datepicker-div").css({"position":"absolute", "left":"10px", "top":"0px !important"});
						jQuery("BODY").css({ "line-height": "13px" });
						jQuery("#bookingtool .tab-flights .flighttype div.right").hide();
						//$(".departing_returning p.value").html($(".departing_returning p.value").html()+'<img class="ui-datepicker-trigger" src="images/icon_calendar.gif">')
						//$(".departing_returning img").attr("src","http://stagingflytap.fly-tap.com/prjdir/flytap/images/icon_calendar.gif");
						//alert($(".departing_returning img").attr("src"));
						//jQuery(".date_selector .value IMG.ui-datepicket-trigger").css({"position":"absolute !important", "left":"-10px! important", "top":"5px !important", "height":"19px !important"});
						//alert(jQuery(".date_selector .value IMG.ui-datepicket-trigger").css("height"));
						$(".departing_returning img").attr("height","19px");
						$(".departing_returning img").attr("width","14px");
						$(".header_title").css({ "line-height": "20px" });
					}
				});
				</script>                </div>
             </div>
         </div>
         <div class="bottombar"></div>
    </div>
        <div class="item position1 ">
        <div class="topbar"></div>
        <div class="header">
            <div class="icon hotel"></div>
            <div class="text"><span ss3_article_id="201">Hotel</span></div>
        </div>
        <div class="content">
            <div class="sidebar_container">
                <div class="tab-hotel" id="tab-hotel">
    <!--MC_objHotel2 Start-->
<form action="http://www.flytap.com/Hotelpost.php" name="side_booking_hotel" target="_blank" method="post" class="side_booking_hotel" id="side_booking_hotel">   
    <div class="airport_textbox ui-widget container_airports_hotel_destination"> 
        <p class="text" ss3_article_id="80"> 
            <label for="hotel_destination">To</label> 
            <!--RUIa class="search airports_hotel_destination" href="" title="search airports"><span ss3_article_id="42"><ss3_text id="text" noedit="1"/></span></a--> 
            <span class="clear">&nbsp;</span> 
        </p> 
        <p class="value airports_hotel_destination"> 
            <input id="hotel_destination" name="hotel_destination" class="text_autocomplete text" type="text"> 
            
            <span class="combo_airports_hotel_destination"> 
                <select class="combostyle airport_textbox hide"> 
                    <option value="0">-- Select airport --</option> 
                    <option value="Aalborg">Aalborg</option> 
                    <option value="Aalesund">Aalesund</option> 
                    <option value="Aarhus">Aarhus</option> 
                    <option value="Aberdeen">Aberdeen</option> 
                    <option value="A Corunha">A Corunha</option> 
                    <option value="Ajaccio">Ajaccio</option> 
                    <option value="Albany">Albany</option> 
                    <option value="Alghero">Alghero</option> 
                    <option value="Algiers">Algiers</option> 
                    <option value="Alicante">Alicante</option> 
                    <option value="Alta">Alta</option> 
                    <option value="Amsterdam">Amsterdam</option> 
                    <option value="Ancona">Ancona</option> 
                    <option value="Aracaju">Aracaju</option> 
                    <option value="Asuncion">Asuncion</option> 
                    <option value="Aswan">Aswan</option> 
                    <option value="Athens">Athens</option> 
                    <option value="Atlanta">Atlanta</option> 
                    <option value="Austin">Austin</option> 
                </select> 
            </span> 
        </p> 
    </div><!-- end .airport_textbox --> 
    
    <div class="hotel_checkindate departing_returning"> 
        <div class="date_selector container_checkin_date"> 
            <p class="text" ss3_article_id="81"><label for="checkin_date">Check-in date:</label></p> 
            <p class="value"> 
                <input type="text" class="date datepicker" name="checkin_date" id="checkin_date2"> 
                <span class="clear">&nbsp;</span> 
            </p> 
        </div><!-- end .date_selector --> 
        
        <div class="date_selector container_checkout_date"> 
            <p class="text" ss3_article_id="82"><label for="checkout_date">Check-out date:</label></p> 
            <p class="value"> 
                <input type="text" class="date datepicker" name="checkout_date" id="checkout_date2"> 
                <span class="clear">&nbsp;</span> 
            </p> 
        </div><!-- end .date_selector --> 
        <span class="clear">&nbsp;</span> 
    </div><!-- end .hotel_checkindate --> 
    <input type="hidden" name="HotelPost" value="true">
    <input type="hidden" name="htl_market" value="us">
    <input type="hidden" name="htl_lang" value="en-us">
<p ss3_article_id="234"><a title="" onclick="javascript:validateSidebar('hotel');return false;" class="biggreenbutton" href=""><span class="left">&nbsp;</span><span class="text">Book Now<span class="arrow">&nbsp;</span></span><span class="right">&nbsp;</span></a></p> 
</form>

<script>
// cmportamento do calend�rio para a tab Hotel -> START
jQuery(document).ready(function() {
    var myDate = new Date();var tomorrow = myDate.setDate(myDate.getDate());tomorrow = (myDate.format('d/m/Y'));$('#tab-hotel #checkin_date2').val(tomorrow);
    var myDate = new Date();var next_week = myDate.setDate(myDate.getDate() + 1);next_week = (myDate.format('d/m/Y'));$('#tab-hotel #checkout_date2').val(next_week);
	
    $('#checkin_date2').change(function() {
        var dataPartida = $(this).val();
        var dateparts = dataPartida.split("/");
        //new Date(year, month, day)
        var dataPartidaObj = new Date(dateparts[2], parseInt(dateparts[1],10) - 1, parseInt(dateparts[0],10));
        var dataPartidaTimestamp = dataPartidaObj.getTime();
        
        var today = new Date().getTime();
        var today354 = new Date(today + 354 * 24 * 60 * 60 * 1000);
        if(dataPartidaTimestamp >= today354)
            var today77 = new Date(today + 361 * 24 * 60 * 60 * 1000);
        else
            var today77 = new Date(dataPartidaTimestamp + 1 * 24 * 60 * 60 * 1000);
                    
            today77 = (today77.format('d/m/Y'));
            $('#checkout_date2').val(today77);
    });

    $(' #checkout_date2').change(function() {
        var today = new Date().getTime();
        var today354 = new Date(today + 354 * 24 * 60 * 60 * 1000);
        
        var dataPartida = $('#checkin_date2').val();
        var dateparts = dataPartida.split("/");
        //new Date(year, month, day)
        var dataPartidaObj = new Date(dateparts[2], parseInt(dateparts[1],10) - 1, parseInt(dateparts[0],10));
        var dataPartidaTimestamp = dataPartidaObj.getTime();
        
        var dataRegresso = $(this).val();
        var dateparts = dataRegresso.split("/");
        //new Date(year, month, day)
        var dataRegressoObj = new Date(dateparts[2], parseInt(dateparts[1],10) - 1, parseInt(dateparts[0],10));
        var dataRegressoTimestamp = dataRegressoObj.getTime();

        if(dataPartidaTimestamp > dataRegressoTimestamp)
        {
            $('#checkin_date2').val(dataRegresso);
        }
    });	
});	
// cmportamento do calend�rio para a tab Hotel -> END
</script>
<!--MC_objHotel2 End-->                </div>
            </div>
        </div>
        <div class="bottombar"></div>
    </div>
    <div class="item position2">
        <div class="topbar"></div>
        <div class="header">
            <div class="icon rentacar"></div>
            <div class="text"><span ss3_article_id="202">Rent-a-Car</span></div>
        </div>
        <div class="content">
            <div class="sidebar_container">
                <div class="tab-rent-a-car" id="tab-rent-a-car">
    <!--START objAvis.php-->

<!-- objAvis http://www.flytap.comavis/getAvisData.php?getCountryName=true&lang=pt&countryCode=us-->

<script type="text/javascript">

var SEED3_URL = "http://" + document.location.hostname + "/";
var termTemplate = "<span class='ui-autocomplete-term'>%s</span>"; 
var avisCountry = "PT";

$.widget("ui.customautocomplete", $.extend({}, $.ui.autocomplete.prototype, {

  _response: function(contents){
  	 if(contents == null ) contents = ["No match found"];
      $.ui.autocomplete.prototype._response.apply(this, arguments);
      $(this.element).trigger("autocompletesearchcomplete", [contents]);
  }
}));

var dwSTA = false;  // para saber se o user está a ver DW das estações
var dwILC = false;  // neste caso é necessário alterar opções delas se depois mudar de pais.

function reloadStationOptions(dwId)
{
	//alert($('#Country').val() + "---reloadStationOptions");
	 var options_ = $.ajax({
		  url: SEED3_URL+"avis/getAvisData.php?new2&getStations=true&f=reloadStationOptions&getOptions=true&lang="+js_lang+"&country="+$('#Country').val() ,
		  async: false
		 }).responseText;
		 
		var options = '<option value="0" disabled="disabled" selected="selected">Please select</option>' + options_;
	
		//$("#combo_lista_estacao_levantamento").append(options).resetSS();				
	 
		dwId.find('option').remove();
		dwId.append(options);
		// dwId.find('option[value=0]').remove();		
		
		if (!IS_IE_7 && !IS_IE_8 && !IS_MOBILE_BROWSER)
			dwId.resetSS();
}

function loadCountries() {
	var options_ = $.ajax({
		url: SEED3_URL+"avis/getAvisData.php?new2&getCountries=true&f=lista_paises_aluger&getOptions=true&lang="+js_lang,
		async: false
	}).responseText;
	
	var options = '<option value="0">Please select</option>' + options_;
	
	dwSTA = true;
	dwILC = true;
	
	$("#combo_lista_paises_aluger").append(options);
	
	if (!IS_IE_7 && !IS_IE_8 && !IS_MOBILE_BROWSER)
		$("#combo_lista_paises_aluger").resetSS();
	$("#paises_aluger").hide();	
	$('#Country').val("0");	
	$("#lista_estacao_devolucao").hide();
	$("#lista_estacao_levantamento").hide();
}

function loadResidenceCountry(){
	var options_ = $.ajax({
		  url: SEED3_URL+"avis/getAvisData.php?new2&getCountries=true&f=lista_paises_residencia&getOptions=true&lang="+js_lang,
		  async: false
		 }).responseText;
		 
		var options = '<option value="0">Please select</option>' + options_;			 
	
		//$("#combo_lista_estacao_levantamento").append(options).resetSS();
		$("#combo_lista_paises_residencia").append(options);
		if (!IS_IE_7 && !IS_IE_8 && !IS_MOBILE_BROWSER)
			$("#combo_lista_paises_residencia").resetSS();
		$("#paises_residencia").hide();		
}

function clearStations()
{
	$('#ILC').val("0");
	$('#STA').val("0");
	$('#estacao_devolucao').val("");
	$('#estacao_levantamento').val("");
	if(dwILC)
	{
		reloadStationOptions($("#combo_lista_estacao_devolucao"));
	}
	else
		$("#lista_estacao_devolucao").show();
	if(dwSTA)
	{
		reloadStationOptions($("#combo_lista_estacao_levantamento"));
	}
	else
		$("#lista_estacao_levantamento").show();	
}

function loadCarGroup()
{
	var options_ = $.ajax({
			url: SEED3_URL+"avis/getAvisData.php?new2&getCarGroup=true&f=loadCarGroup&getOptions=true&lang="+js_lang+"&countryName="+$('#Country').val()+"&station="+$('#STA').val(),
			async: false
	 }).responseText;
	 
	var options = '<option value="0" disabled="disabled" selected="selected">Please select</option>' + options_;	 
	 
	$('#GrupoCarro').find('option').remove();
	$("#GrupoCarro").append(options);
	if (!IS_IE_7 & !IS_IE_8 && !IS_MOBILE_BROWSER)
		$("#GrupoCarro").resetSS();	
}


</script>

<div class="tab-rentacar" id="tab-rentacar"> 
	<form name="avisInformations" id="avisTravelInformations" action="http://www.avis.com.pt/avisonline/pt/avis.nsf/c/TAP+More,Get_a_Quote" method="GET" target="_blank">

		<input type="hidden" name="IBEOwner" value="PT">
		<input type="hidden" name="currentPage" value="0">   <!--    -->                                
	                      
	    <!--MC start-->   
	    <input type="hidden" name="CLIENTDATE" id="CLIENTDATE" value="25/06/2014">           <!--  Current date from system settings  -->
	    <input type="hidden" name="CLIENTTIME" id="CLIENTTIME" value="923">           <!--  Current date from system settings  -->
		<input type="hidden" name="Country" id="Country" value="0">   <!-- Country of rental  -->
		<input type="hidden" name="STA" id="STA" value="0">           <!--  pickup rental station  -->
		<input type="hidden" name="CODATE" id="CODATE" value="0">     <!--  pickup date  -->
		<input type="hidden" name="COTIME" id="COTIME" value="0">     <!--  time at pickup location  -->
		<input type="hidden" name="Country2" id="Country2" value="0">  <!--  Country of rental  -->
		<input type="hidden" name="ILC" id="ILC" value="0">            <!--  return rental station  -->
		<input type="hidden" name="CIDATE" id="CIDATE" value="0">      <!--  return date   -->
		<input type="hidden" name="CITIME" id="CITIME" value="0">      <!--  time at return location  -->
		<input type="hidden" name="GRP" id="GRP" value="0">             <!--  Car Group  -->
		<input type="hidden" name="AWD" id="AWD" value="U849900">            <!--  AWD Number  -->
		<input type="hidden" name="CTR" id="CTR" value="US"> <!--  Flytap Market   -->
		<input type="hidden" name="LNG" id="LNG" value="GB"> <!--  Flytap lang  -->
		<input type="hidden" name="CCI" id="CCI" value="US"> <!--  Pais residencia  -->
		<!--MC end-->
		
	</form>
 <!--START Pais de Aluger-->                                   
<div class="class_directflights containerGrupoCarro container_paisDeAluguer" style="z-index: 650;"> 
	<p class="text" ss3_article_id="477"><label for="paises_aluger">Country of rental</label></p> 
	<p class="value combo_class_bookingtool_insurance">
	    <span class="combo_lista_paises_aluger">
			<select class="combostyle" id="combo_lista_paises_aluger" style="margin-top:12px;"></select>
		</span> 
	</p> 
</div><!-- end .airport_textbox --> 
 <!--END Pais de Aluger--> 
 
 <!--START Estação delevantamento-->
<div class="class_directflights containerGrupoCarro container_estacaoLevantemento" style="z-index: 630;"> 
	<p class="text" ss3_article_id="478"><label for="estacao_levantamento">Rental office: </label></p> 
	<p class="value combo_class_bookingtool_insurance"> 
        <span class="combo_lista_estacao_levantamento">
        	<select class="combostyle combofix_ie78" id="combo_lista_estacao_levantamento">
				<option value="0">Please select</option>        	
        	</select>
		</span> 
	</p> 
</div><!-- end .airport_textbox --> 

 <!--END Estação delevantamento-->                
                              
 <!--START Estação dedevolucao-->
<div class="class_directflights containerGrupoCarro container_estacaoDevolucao" style="z-index: 600; "> 
	<p class="text" ss3_article_id="479"><label for="estacao_devolucao">Return office:</label></p> 
	<p class="value combo_class_bookingtool_insurance"> 
        <span class="combo_lista_estacao_devolucao">
        	<select class="combostyle combofix_ie78" id="combo_lista_estacao_devolucao">
				<option value="0">Please select</option>        	
        	</select>
		</span> 
	</p>
</div><!-- end .airport_textbox --> 

 <!--END Estação dedevolucao--> 
                             
<div class="class_directflights containerGrupoCarro containerGrupoCarro_" style="z-index: 590;"> 
	<p class="text" ss3_article_id="482"><label for="country_arrival">Car group:</label></p> 
	<p class="value combo_class_bookingtool_insurance combofix_ie78"> 
		<select name="GrupoCarro" id="GrupoCarro" class="combostyle combofix_ie78">
			<option value="0">Please select</option> 
		</select> 
	</p> 
	<span class="clear">&nbsp;</span> 
</div><!-- end .class_directflights --> 
                                                                        <div class="insurance_checkindate departing_returning" style="z-index: 580; position: relative;"> 
                                        <div class="date_selector container_insurance_departure" style="width: 230px; z-index: 200; position: relative;"> 
                                        <div class="leftAvis">
                                            <p class="text" ss3_article_id="480"><label for="checkin_date">Start date:</label></p> 
                                            <p class="value"> 
                                                <input type="text" class="date datepicker" name="levantarEm" id="levantarEm" value="26/06/2014"> 
                                                <span class="clear">&nbsp;</span> 
                                            </p> 
                                       </div>
                                       <div class="middleAvis">
                                         	<p class="text" ss3_article_id="483"><label>Time:</label></p> 
                                            <p class="value combo_people_bookingtool"> 
												<select name="horaLevantar" id="horaLevantar" class="combostyle" style="width:46px;">
                                                    <option value="00">00</option><option value="01">01</option><option value="02">02</option><option value="03">03</option><option value="04">04</option><option value="05">05</option><option value="06">06</option><option value="07">07</option><option value="08">08</option><option value="09">09</option><option value="10" selected="selected">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option> 
                                                    
                                                </select> 
                                            </p> 
                                         </div> <!-- end .middle -->
                                         <div class="rightAvis">
                                         	<p class="text"><label>&nbsp;</label></p> 
                                            <p class="value combo_people_bookingtool"> 
												<select name="minLevantar" id="minLevantar" class="combostyle" style="width:46px;">
                                                    <option value="00">00</option><option value="10">10</option><option value="20">20</option><option value="30">30</option><option value="40">40</option><option value="50">50</option> 
                                                    
                                                </select> 
                                            </p> 
                                         </div> <!-- end .right -->
                                         <div style="clear:both"></div>
                                        </div><!-- end .date_selector --> 
                                        
                                        
                                        <div class="date_selector container_insurance_return" style="z-index: 100; position: relative;"> 
                                        <div class="leftAvis"> 
                                            <p class="text" ss3_article_id="481"><label for="checkout_date">End date: </label></p> 
                                            <p class="value"> 
                                                <input type="text" class="date datepicker" name="devolverEm" id="devolverEm" value="02/07/2014"> 
                                                <span class="clear">&nbsp;</span> 
                                            </p> 
                                         </div>
                                         <div class="middleAvis">
                                         	<p class="text" ss3_article_id="483"><label>Time:</label></p> 
                                            <p class="value combo_people_bookingtool"> 
												<select name="horaDevolver" id="horaDevolver" class="combostyle" style="width:46px;">
                                                    <option value="00">00</option><option value="01">01</option><option value="02">02</option><option value="03">03</option><option value="04">04</option><option value="05">05</option><option value="06">06</option><option value="07">07</option><option value="08">08</option><option value="09">09</option><option value="10" selected="selected">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option> 
                                                    
                                                </select> 
                                            </p> 
                                         </div> <!-- end .middle -->
                                         <div class="rightAvis">
                                         	<p class="text"><label>&nbsp;</label></p> 
                                            <p class="value combo_people_bookingtool"> 
												<select name="minDevolver" id="minDevolver" class="combostyle" style="width:46px;">
                                                    <option value="00">00</option><option value="10">10</option><option value="20">20</option><option value="30">30</option><option value="40">40</option><option value="50">50</option>
                                                </select> 
                                            </p> 
                                         </div> <!-- end .right -->
                                         <div style="clear:both"></div>
                                        </div><!-- end .date_selector --> 
                                    </div><!-- end .hotel_checkindate --> 
                                    
                                    
<!--START Pais de residencia-->                                   
<div class="class_directflights containerGrupoCarro container_paisDeResidencia" style="z-index: 560; "> 
    <p class="text" ss3_article_id="83"><label for="paises_residencia">Country of residence</label></p> 
    <p class="value lista_paises_residencia"> 
        <span class="combo_lista_paises_residencia">
        	<select class="combostyle combofix_ie78" id="combo_lista_paises_residencia"></select>
		</span> 
    </p> 
</div><!-- end .airport_textbox --> 
 <!--END Pais de residencia--> 
                                    
<div class="class_directflights containerAWD" style="z-index: 500; "> 
    <p class="text" ss3_article_id="484"><label for="country_arrival">AWD number:</label></p> 
    <p class="value combo_class_bookingtool_insurance">
	  <span class="combo_numeroDesconto">
		<select name="numeroDesconto" id="numeroDesconto" class="combostyle combofix_ie78">
			<!--<option value="U849901">Tap </option> 
			<option value="U032900">Victoria Miles</option> 
			<option value="U044000">Victoria Silver</option> 
			<option value="U044900">Victoria Gold</option> -->
			<option value="U849900">TAP Passenger</option> 
			<option value="U032900">Victoria Miles Member</option> 
			<option value="U044000">Victoria Silver Member</option> 
			<option value="U044900">Victoria Gold Member</option>
		</select>
	</span>
    </p> 
    <span class="clear">&nbsp;</span> 
</div><!-- end .class_directflights -->                                     

                                    <div class="regular_textbox insurance_price_trip_container"></div>
                                    
                                    <p ss3_article_id="235"><a title="Book Now" id="avisSubmit" class="biggreenbutton" href="javascript:;"><span class="left">&nbsp;</span><span class="text">Book Now<span class="arrow">&nbsp;</span></span><span class="right">&nbsp;</span></a></p> 
                                 
                            </div><!-- end .objAvis-->

<script type="text/javascript">

jQuery(document).ready(function() {
var today = new Date().getTime()

var today1 = new Date(today + 1 * 24 * 60 * 60 * 1000);
var thisDay1 = today1.getDate();
var thisMonth1 = today1.getMonth() +1 ;// + 1;
var thisYear1 = today1.getFullYear();
if(thisDay1 < 10){ thisDay1 = "0" + thisDay1;}
if(thisMonth1 <  10){ thisMonth1 = "0"+ thisMonth1; }

var today7 = new Date(today + 8 * 24 * 60 * 60 * 1000);
var thisDay7 = today7.getDate();
var thisMonth7 = today7.getMonth() +1 ;// + 1;
var thisYear7 = today7.getFullYear();
if(thisDay7 < 10){ thisDay7 = "0" + thisDay7;}
if(thisMonth7 <  10){ thisMonth7 = "0"+ thisMonth7; }
						
$("#levantarEm").datepicker("setDate" , thisDay1+"/"+thisMonth1+"/"+thisYear1);
$("#devolverEm").datepicker( "setDate" ,thisDay7+"/"+thisMonth7+"/"+thisYear7);

$('#horaLevantar, #minLevantar, #horaDevolver, #minDevolver').each(function(){
	$(this).next('div').css({'border-left':'1px solid #ABABAD', 'height':'22px', 'padding-top':'3px','background':'url(/prjdir/boflytap/images/combo.gif) right 0'});
});

if(IS_IE) {
	$('#levantarEm, #devolverEm').each(function(){
		$(this).css({'padding-top':'4px', 'padding-bottom':'4px'});
	});
}

$('div.middleAvis, div.rightAvis, div.leftAvis').each(function(){
	$(this).css({'padding':'0!important'});
});
	
$(".position2 .header").click(function(){
	loadCountries();	
	loadResidenceCountry();
});


	
//Pais de aluguer
$("#combo_lista_paises_aluger").change(function(){
	$('#Country').val($(this).val());	
	$('#Country2').val($(this).val());
	clearStations();	
	//loadCarGroup();
});

$('a.lista_paises_aluger').click(function(){	
	var options = $.ajax({
		  url: SEED3_URL+"avis/getAvisData.php?new2&getCountries=true&f=lista_paises_aluger&getOptions=true&lang="+js_lang,
		  async: false
		 }).responseText;
	
		$("#combo_lista_paises_aluger").append(options);
	
		//if (!$.browser.msie && !IS_MOBILE_BROWSER)
			//$("#combo_lista_paises_aluger").resetSS();
		$("#paises_aluger").hide();	
		$('#Country').val("0");	
		$("#lista_estacao_devolucao").hide();
		$("#lista_estacao_levantamento").hide();
});

$("#combo_lista_paises_residencia").change(function(){
	$('#CTR').val($(this).val());	
});

$("#combo_lista_estacao_levantamento").change(function(){
	$('#STA').val($(this).val());	
	dwSTA = true;
	loadCarGroup();
});


$("#combo_lista_estacao_devolucao").change(function(){
	$('#ILC').val($(this).val());
	dwILC = true;	
});

$('#avisSubmit').click(function(){	

	$('#CODATE').val($('#levantarEm').val());
	$('#COTIME').val($('#horaLevantar').val() + $('#minLevantar').val());
	$('#CITIME').val($('#horaDevolver').val() + $('#minDevolver').val());
	$('#CIDATE').val($('#devolverEm').val());
	$('#GRP').val($('#GrupoCarro').val());
	$('#AWD').val($('#numeroDesconto').val());
	
	$(".container_paisDeAluguer").removeClass("error");
	$(".container_estacaoLevantemento").removeClass("error");
	$(".container_estacaoDevolucao").removeClass("error");
	$(".containerGrupoCarro").removeClass("error");
	$(".container_paisDeResidencia").removeClass("error");
	$(".containerAWD").removeClass("error");
	
	if($('#Country').val() == "0") {
		$(".container_paisDeAluguer").addClass("error");
		return false;
	}
	if($('#STA').val() == "0")	{
		$(".container_estacaoLevantemento").addClass("error");
		return false;
	}
	if($('#ILC').val() == "0" || $('#ILC').val() == "" || $('#ILC').val() == null)	{
		$(".container_estacaoDevolucao").addClass("error");
		return false;
	}
	
	if($('#GRP').val() == "0" || $('#GRP').val() == undefined || $('#GRP').val() == "" || $('#GRP').val() == null)	{
		$(".containerGrupoCarro_").addClass("error");
		return false;
	}
	//Pais residenacia
	if($('#combo_lista_paises_residencia').val() == "0")  {
		$(".container_paisDeResidencia").addClass("error");
		return false;
	}

	if($('#AWD').val() == "0")  {
		$(".containerAWD").addClass("error");
		return false;
	}
	/*
	//MC - Backup 
	var params="http://www.avis.com.pt/avisonline/pt/avis.nsf/c/TAP+More,Get_a_Quote?OpenDocument&BODYPARAMS=";
	$("#avisTravelInformations").find('input').each(function() {
		var me = $(this);
			params = params +  me.attr("name") + "=" + me.val() + "*";
		});
	*/
	var params="http://www.avis.com.pt/avisonline/pt/ibe.nsf/PrefillQuote?OpenAgent&MST=828B8A33CC5B9555C125785E004F67AF&SOR=T/0183455L&";
	$("#avisTravelInformations").find('input').each(function() {
		var me = $(this);
			params = params +  me.attr("name") + "=" + me.val() + "&";
		});
	
		window.open(params);	
	
});	

	$('#Country').val("0");
	$('#STA').val("0");
	$('#CODATE').val("0");
	$('#Country2').val("0");	

	$('#ILC').val("0");	
	$('#CIDATE').val("0");	
	$('#GRP').val("0");
	$('#AWD').val("0");

});	
</script>
<!--END objAvis.php-->                                     </div>
            </div>
        </div>
        <div class="bottombar"></div>
    </div>
    <div class="item position3 hide">
        <div class="topbar"></div>
        <div class="header">
            <div class="icon insurance"></div>
            <div class="text"><span ss3_article_id="203">Insurance</span></div>
        </div>
        <div class="content">
            <div class="sidebar_container">
                <div class="tab-insurance" id="tab-insurance">
                       </div>
            </div>
        </div>
        <div class="bottombar"></div>
    </div>
        <span class="clear"></span>
        <span class="clear">&nbsp;</span>
        <div class="item position6">
            <div class="topbar"></div>
            <div class="header">
                <div class="icon cp"></div>
                <div class="text"><span ss3_article_id="68356">Trains</span></div>
            </div>
            <div class="content">
                <div class="sidebar_container">
                    <div class="tab-cp" id="tab-cp">
                        <style>
input { border: 1px solid #ababab; }
#cp-origem { text-transform: capitalize; }
#form-cp .error { border: 1px solid #C00000 !important; }
#form-cp label.error{display: none !important;}
#form-cp .class_directflights .error .newListSelected { border: 1px solid #C00000 !important; }
</style>

<form id="form-cp" target="_blank" name="form-cp" action="">
    <div class="class_directflights">
        <p class="text"><label for="cp-pianar"><span noedit="1" ss3_article_id="68349">TAP reservation code</span></label></p>
        <p class="value combo_class_bookingtool_insurance">
            <input type="text" class="required" name="cp-pianar" id="cp-pianar" value="" maxlength="6">
        </p>

        <span class="clear">&nbsp;</span>
    </div><!-- end .class_directflights -->
    
    <div class="departing_returning alt1" style="z-index: 4;">
        <div id="container_entry_day" class="class_directflights">
            <p class="text"><label for="cp-origem"><span noedit="1" ss3_article_id="68350">From:</span>:</label></p>
            <p class="value">
                <input type="text" class="required" name="cp-origem" id="cp-origem" value="">
                <input type="hidden" name="cp-origem-code" id="cp-origem-code" value="">
                <span class="clear">&nbsp;</span>
            </p>
        </div><!-- end .date_selector -->
    </div>
    <span class="clear">&nbsp;</span>
    <div class="departing_returning alt1" style="z-index: 4;">
        <div class="class_directflights">
            <p class="text"><label for="cp-destino"><span noedit="1" ss3_article_id="68351">Destination:</span>:</label></p>
            <p class="value">
                <input type="text" class="required" name="cp-destino" id="cp-destino" value="">
                <input type="hidden" name="cp-destino-code" id="cp-destino-code" value="">
                    
                <span class="clear">&nbsp;</span>
            </p>
        </div><!-- end .date_selector -->
        <span class="clear">&nbsp;</span>
    </div><!-- end .departing_returning -->
    
    <span class="clear">&nbsp;</span>
    
    <div class="departing_returning alt1">
        <div id="container_exit_day" class="date_selector container_departing">
            <p class="text"><label for="cp-data-partida"><span noedit="1" ss3_article_id="68352">Outward:</span>:</label></p>
            <p class="value">
                <input type="text" class="required date" name="cp-data-partida" id="cp-data-partida" value="">
                <span class="clear">&nbsp;</span>
            </p>
        </div><!-- end .date_selector -->
        <div class="date_selector container_returning">
            <p class="text"><label for="cp-data-volta"><span noedit="1" ss3_article_id="68353">Return: </span>:</label></p>
            <p class="value">
                <input type="text" class="date" name="cp-data-volta" id="cp-data-volta" value="">
                <span class="clear">&nbsp;</span>
            </p>
        </div><!-- end .date_selector -->
        
    </div><!-- end .departing_returning -->

    <span class="clear">&nbsp;</span>

    <div class="class_directflights container_parking_airport">
       <div id="container_exit_day" class="date_selector container_departing">
            <p class="text"><label for="cp-data-partida"><span noedit="1" ss3_article_id="68354">Number of passengers:</span>:</label></p>
            <p class="value" style="width: auto; z-index: 99999;">
                <select name="cp-numero-bilhetes" id="cp-numero-bilhetes" class="combostyle">
                    <option value="" ss3_article_id="68357">Choose number of tickets</option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                    </select>
                <span class="clear">&nbsp;</span>
            </p>
        </div><!-- end .date_selector -->

        <span class="clear">&nbsp;</span>
    </div><!-- end .class_directflights -->

    <span class="clear">&nbsp;</span>

    <div class="class_directflights container_parking_airport">
       <div class="date_selector container_returning">
            <p class="text"><label for="cp-data-volta"><span noedit="1" ss3_article_id="68355">Class:</span>:</label></p>
            <p class="value" style="width: auto; z-index: 9999;">
                 <select name="cp-classe" id="cp-classe" class="combostyle">
                    <option value="" ss3_article_id="68358">Select class</option>
                    <option value="1" ss3_article_id="68359">Comfort / First</option>
                    <option value="2" ss3_article_id="68360">Tourist / Standard</option>
                </select>
                <span class="clear">&nbsp;</span>
            </p>
        </div><!-- end .date_selector -->

        <span class="clear">&nbsp;</span>
    </div><!-- end .class_directflights -->

    <span class="clear">&nbsp;</span>

    <p style="margin-bottom: 10px;">
        <a id="cp-submit-form" title="Book Now" href="javascript:;" class="biggreenbutton">
            <span class="left">&nbsp;</span>
            <span class="text" ss3_article_id="1">
                Book Now             </span>
            <span class="arrow">&nbsp;</span>
            <span class="right">&nbsp;</span>
        </a>
    </p>
    <span class="clear"></span>

    <p class="advanced_search" ss3_article_id="68361">
         <a class="" href="http://www.flytap.com/USA/enus/PlanBook/Book/rail-and-fly-portugal" title="Rail &amp; Fly Portugal" target="_self" id="48b07c4f27bd63f0d00e2ead4b1ed115">Terms and conditions</a>
    </p> 

    <span class="clear"></span>

    <!--p class="advanced_search" ss3_article_id="68362">
         <ss3_link id="link"><ss3_text id="text" noedit="1"/></ss3_link>
    </p--> 
</form>

<script>
function ucwords(str,force){
  str=force ? str.toLowerCase() : str;  
  return str.replace(/(\b)([a-zA-Z])/g,
   function(firstLetter){
      return   firstLetter.toUpperCase();
   });
}

$('#cp-origem').keyup(function(evt){
    var cp_value= ucwords($(this).val(),true) ;
    $(this).val(cp_value );
});

$('#cp-destino').keyup(function(evt){
    var cp_value= ucwords($(this).val(),true) ;
    $(this).val(cp_value );
});

$("#cp-data-partida").change(function(){
    $("#cp-data-partida").removeClass("error");
});

$(document).ready(function() {

    /*$("#cp-numero-bilhetes").resetSS();
    $("#cp-classe").resetSS();*/

    $("#cp-origem, #cp-destino").customautocomplete({
        source: function(request, response) {
            var id = this.element.attr('id');

            $.ajax({
                url: 'http://www.flytap.com/templates/cp-form.php',
                type: 'post',
                dataType: 'json',
                data: {
                    action: 'get-stations',
                    term: $("#" + id).val()
                },
                success: function(data) {
                    response($.map(data, function(item) {
                        return {
                            id: item.code,
                            label: item.designation, 
                            value: item.designation
                         }
                    }));
                }
            });
        },
        select: function(event, ui) {
            var id = $(this).attr('id');
            $("#" + id + "-code").val(ui.item.id);
        }
    });

    $("#cp-data-partida").datepicker({
        minDate: "D",
        maxDate: "+62D", 
        showOn: "both",
        buttonImageOnly: true,
        showButtonPanel: true,
        buttonImage: icon_calendar,
        dateFormat: "yy-mm-dd",
        showOtherMonths: true,
        selectOtherMonths: true,
        closeText: '',
        currentText: '',
        numberOfMonths: 2,
        showAnim: false,
        onClose: function(selectedDate) {
            $("#cp-data-volta").datepicker("option", "minDate", selectedDate);
        }
    }); 

    $("#cp-data-volta").datepicker({
        minDate: "D",
        maxDate: "+62D", 
        showOn: "both",
        buttonImageOnly: true,
        showButtonPanel: true,
        buttonImage: icon_calendar,
        dateFormat: "yy-mm-dd",
        showOtherMonths: true,
        selectOtherMonths: true,
        closeText: '',
        currentText: '',
        numberOfMonths: 2,
        showAnim: false,
        onClose: function(selectedDate) {
            $("#cp-data-partida").datepicker("option", "maxDate", selectedDate);
        }
    }); 


    $("#form-cp").validate();

/*    $("#cp-submit-form").click(function(e) {
        e.preventDefault();
        $("#form-cp").submit();
    });
*/

    $("#cp-submit-form").click(function() {

        

        if ( $("#form-cp").valid() === true) {
            if($('#cp-numero-bilhetes').val() == "" && $('#cp-classe').val() == "") {
                $("#cp-numero-bilhetes").next(".newListSelected").addClass("error");
                $("#cp-classe").next(".newListSelected").addClass("error");
                return false;
            }

            else if($('#cp-numero-bilhetes').val() == "") {
                $("#cp-numero-bilhetes").next(".newListSelected").addClass("error");
                return false;
            }
            else if($('#cp-classe').val() == "") {
                $("#cp-classe").next(".newListSelected").addClass("error");
                return false;
            }
            
            $.ajax({
                async: false,
                url: 'http://www.flytap.com/templates/cp-form.php',
                type: 'post',
                dataType: 'json',
                data: {
                    action: 'get-request-id',
                    pianar: $("#cp-pianar").val(),
                    origem: $("#cp-origem-code").val(),
                    destino: $("#cp-destino-code").val(),
                    partida: $("#cp-data-partida").val(),
                    volta: $("#cp-data-volta").val(),
                    bilhetes: $("#cp-numero-bilhetes").val(),
                    classe: $("#cp-classe").val()
                },
                success: function(data) {
                    if (data.success === true) {
                        window.open("https://venda.cp.pt/ticketing/travelsearch.do?reference=" + data.id);
                    } else {
                        console.log(data);
                    }
                }
            });
        }else{
            if($('#cp-numero-bilhetes').val() == "" && $('#cp-classe').val() == "") {
                $("#cp-numero-bilhetes").next(".newListSelected").addClass("error");
                $("#cp-classe").next(".newListSelected").addClass("error");
                return false;
            }

            else if($('#cp-numero-bilhetes').val() == "") {
                $("#cp-numero-bilhetes").next(".newListSelected").addClass("error");
                return false;
            }
            else if($('#cp-classe').val() == "") {
                $("#cp-classe").next(".newListSelected").addClass("error");
                return false;
            }
        }

        return false;
    });

});
</script>
                    </div> &nbsp; &nbsp;&nbsp;
                </div> &nbsp; &nbsp;
            </div>
            <div class="bottombar"></div>
        </div>
    <span class="clear">&nbsp;</span>
</div>
<!--objIBE2 With CRUISE AND PARKING - end-->				<div id="slidingmenu"> 
			<!--objSideBarCheckin.php-->

				<h3><a href="javascript:;" title="Check-in Online" noedit="1" ss3_article_id="101">Check-in Online <span class="triangle">&nbsp;</span></a></h3> 
                    <div class="checkin_online"> 
                        <div class="bottom">&nbsp;</div> 
                        <div class="slidingmenu_container"> 
                            <p noedit="1" ss3_article_id="102">Carry out your own check-in and print your boarding pass before going to the airport.</p> 
                            
                            <div class="airport_textbox ui-widget container_airports_checkin_from"> 
                                <p class="text"> 
                                    <label for="checkin_online_from" noedit="1" ss3_article_id="103">I am flying from:</label> 
                                    <a class="search airports_checkin_online_from asd" href="javascript:;" title="airports list" noedit="1" ss3_article_id="42">airports list</a> 
                                    <span class="clear">&nbsp;</span> 
                                </p> 
                                <p class="value airports_checkin_online_from"> 
                                    <input id="checkin_online_from" class="text_autocomplete text" type="text">
                                    <input id="checkin_online_from_code" type="hidden">
                                    <input id="checkin_online_service_code" type="hidden">                                    
                                    <span class="combo_airports_checkin_online_from"> 
                                    <select class="combostyle airport_textbox hide" id="combo_checkin_airports">
</select>
                                    </span> 
                                </p> 
                            </div><!-- end .airport_textbox -->
                                                        
                            <!-- reservation number -->
							
							<div class="airport_textbox container_reservation_number checkin_online_rn"> 
								<p class="text"><label for="checkin_online_rn" noedit="1" ss3_article_id="114">Booking reference:</label></p> 
								<span class="clear">&nbsp;</span>
								<p class="value">
									<input id="checkin_online_reservation" name="checkin_online_reservation" class="checkin_online_reservation text" type="text" value="" maxlength="6">
								</p>
							</div>
														
                            <!-- ffn -->
                            
                            <div class="airport_textbox container_checkin_online_ffn checkin_online_ffn"> 
								<p class="text"><label for="checkin_online_ffn" noedit="1" ss3_article_id="104">Frequent Flyer Number (optional):</label></p> 
								<span class="clear">&nbsp;</span>
								<p class="value">
									<input id="checkin_online_ffn" name="checkin_online_ffn" class="checkin_online_ffn text" type="text" value="TP">
								</p>
							</div>
																					
                            <div class="airport_textbox container_checkin_online_date"> 
								<p class="text"><label for="checkin_online_date" noedit="1" ss3_article_id="233">Date</label></p> 
								<span class="clear">&nbsp;</span>
                                <p class="value combo_slidingmenu_checkin"> 
									<input id="checkin_online_date_time" type="hidden">
                                    <select name="checkin_online_date" id="checkin_online_date" class="combostyle">
                                    </select>
								</p>
							</div>							
                             
                            <!-- ffn -->
                            <!-- 
                            <div class="airport_textbox container_airports_checkin_to"> 
                                <p class="text"><label for="checkin_online_to">And I want to:</label></p> 
                                <span class="clear">&nbsp;</span> 
                                <p class="value combo_slidingmenu_checkin"> 
                                    <select name="checkin_online_to" id="checkin_online_to" class="combostyle"> 
                                        <option value="">-- Please select an option --</option> 
                                        <option value="checkin">Check-in for my flight</option> 
                                        <option value="change">Change/Cancel my check-in</option> 
                                    </select> 
                                </p>
                            </div>
                            -->
                            <!-- end .airport_textbox --> 
                            
                            <p><a title="Check-in Online" id="checkin_online_button" class="checkin_blue_button" href="javascript:;"><span class="left">&nbsp;</span><span class="text" noedit="1" ss3_article_id="101">Check-in Online</span><span class="right">&nbsp;</span></a></p> 
                            
                            <ul class="learn"> 
                                <li noedit="1" ss3_article_id="105">
                                   	<a target="" title="Learn how check-in online works" href="http://www.flytap.com/USA/enus/PlanBook/PrepareforTravel/Checkin/CheckinOnline" class=""> Learn how check-in online works</a>
								</li> 
                            </ul> 
                        </div><!-- end .slidingmenu_container --> 
                    </div><!-- end .checkin_online --> 
			<!--MC objSideBarMBooking.php START-->
					<h3><a href="javascript:;" title="Manage Booking" noedit="1" ss3_article_id="112">Manage Booking <span class="triangle">&nbsp;</span></a></h3> 
                    <div class="manage_booking"> 
                        <div class="bottom">&nbsp;</div> 
                        <div class="slidingmenu_container"> 
                            
                            <form action="http://www.flytap.com/IBEpost.php" name="sidebar_manager" id="sidebar_manager" target="_blank" method="post"> 
                               	<input type="hidden" name="manageBooking" value="true">
                               	<input type="hidden" name="manageBookingSite" value="us">
                               	<input type="hidden" name="manageBookingLang" value="enus">

                                
                                <p class="info" noedit="1" ss3_article_id="116">Select one action:</p> 
                                <div class="manage_choices">
				    <br style="clear:both;">
                                    <p class="value"><input type="radio" name="opt_booking" id="opt_manage_booking" value="manage_booking" checked="checked"></p> 
                                    <p class="text" noedit="1" ss3_article_id="117"><label for="opt_manage_booking">View booking</label></p> 
                                    <br style="clear:both;">
								    
                                     <div class="manage_booking_details"> 
					<div class="regular_textbox container_booking_ref">
						<p style="width:200px;" class="info info_booking_details" noedit="1" ss3_article_id="113">Insert your booking details.</p>
						<p class="text" noedit="1" ss3_article_id="114">
						<label for="manage_booking_reference">Booking reference:</label> 
						</p>
						<br style="clear:both;">
						<p class="value"><input class="text" type="text" name="manage_booking_reference" id="manage_booking_reference" value="" maxlength="6"></p> 
						<br style="clear:both;">
					</div><!-- end .airport_textbox --> 
                                    <div class="regular_textbox container_booking_last_name">
					
                                        <p class="text" noedit="1" ss3_article_id="115"> 
                                            <label for="manage_booking_last_name">Last name:</label> 
                                        </p>
					<br style="clear:both;">
                                        <p class="value"><input class="text" type="text" name="manage_booking_last_name" id="manage_booking_last_name" value=""></p> 
					<br style="clear:both;">
				    </div><!-- end .airport_textbox --> 
                                </div><!-- end .manage_booking_details -->
				
                                    <p class="value"><input type="radio" name="opt_booking" id="opt_print_receipt" value="print_receipt"></p> 
                                    <p class="text" noedit="1" ss3_article_id="118"><label for="opt_print_receipt">Print receipt</label></p> 
                                    <br style="clear:both;">                                    
                                    <p class="value hide"><input type="radio" name="opt_booking" id="opt_reimbursement" value="opt_reimbursement"></p> 
                                    <p class="text hide" noedit="1" ss3_article_id="616"><label for="opt_reimbursement">Request / Check refund</label></p>                                     
                                    <br style="clear:both;">
                                  
                                    <span class="clear">&nbsp;</span> 
                                </div><!-- end .arrival_choices --> 
                                
                                <p noedit="1" ss3_article_id="119"><a title="Proceed" id="ManageBooking" class="checkin_blue_button" href="javascript:;"><span class="left">&nbsp;</span><span class="text">Proceed</span><span class="right">&nbsp;</span></a></p> 
                            </form> 
                            
                        </div><!-- end .slidingmenu_container --> 
                    </div><!-- end .manage_booking -->
<!--MC objSideBarMBooking.php END-->						                    <h3><a href="javascript:;" title="Departures &amp; Arrivals" noedit="1" ss3_article_id="106">Departures &amp; Arrivals<span class="triangle">&nbsp;</span></a></h3> 
                    <div class="arrival_departures"> 
                        <div class="bottom">&nbsp;</div> 
                        <div class="slidingmenu_container"> 
                            <form action="http://www.flytap.com/USA/enus/PlanBook/Tools/DeparturesArrivals" name="sidebar_departures" method="POST" id="sidebar_departures"> 

                                <div class="select_board">    
                                    <label ss3_article_id="67797">Search flights:</label>
                                    <div class="arrival_choices">
                                        <p class="value"><input type="radio" class="checkbox-departures" name="arrivalsdepartures_content" id="airport" value="airport" checked="checked"></p>
                                        <p class="text" ss3_article_id="67794"><label class="big-label-checkbox" for="airport">by airport</label></p>
                                    </div>
                                    <span class="clear">&nbsp;</span>
                                    <div class="more-options" id="searchByAirport" style="display:block;">
	<!--AIRPORT SEARCH - START-->
                                        <div class="airport_textbox ui-widget container_airports_departures_arrivals" id="sidebar_container_from">
                                            <p class="text">
                                                <label for="arrivalsdepartures_select_airport" ss3_article_id="67799">Departing from: </label>
                                                <a id="sidebar_arrivalsdepartures_load_drop" class="search airports_arrivalsdepartures_flightsat sidebar_arrivalsdepartures_load_drop_a" href="http://www.flytap.com/USA/enus/PlanBook/Tools/DeparturesArrivals" title="airports list" noedit="1" ss3_article_id="42">airports list</a> 
                                                <span class="clear">&nbsp;</span>
                                            </p>
                                            <p class="value airports_arrivalsdepartures_flightsat">
                                                <input id="arrivalsdepartures_select_airport" class="text_autocomplete text" type="text" name="aptCode">
                                                <span class="combo_arrivalsdepartures_flightsat" style="width:60px; position:relative">
                                                    <select class="combostyle airport_textbox hide" id="sidebar_arrivalsdepartures_drop"> 
                                                        <option value="0" noedit="1" ss3_article_id="107">-- Select airport: --</option> 
                                                    </select>
                                                </span>
                                            </p>
                                        </div><!-- end .airport_textbox -->
                                        
                                        <div class="select-small airport_textbox ui-widget container_airports_departures_arrivals">
                                            <p class="text" ss3_article_id="138">
                                                <label for="arrivalsdepartures_select_airport">That:</label>
                                                <span class="clear">&nbsp;</span>
                                            </p>
                                            
                                            <select name="arrivalsdepartures" id="arrivalsdepartures_airport_that_flight1" class="combostyle">
                                                <option value="DEP" ss3_article_id="473">Departs</option>
                                                <option value="ARR" ss3_article_id="474">Arrives</option>
                                            </select>
                                            <span class="clear">&nbsp;</span>   
                                        </div><!-- end .airport_textbox -->
        <!-- AIRPORT SEARCH - END -->
    	<!-- ROUTE SEARCH - START -->
                                        <div class="select-large airport_textbox ui-widget container_airports_departures_arrivals">
                                            <p class="text" ss3_article_id="139">
                                                <label for="arrivalsdepartures_select_airport">On:</label>
                                                <span class="clear">&nbsp;</span>
                                            </p>
                                            
                                            <select name="arrivalsdepartures_date" id="arrivalsdepartures_airport_on_airport" class="combostyle">
                                                <option value="0">June 24,  2014</option>
                                                <option value="1" selected="SELECTED">June 25,  2014</option>
                                                <option value="2">June 26,  2014</option>
                                            </select>
                                            <span class="clear">&nbsp;</span>   
                                        </div><!-- end .airport_textbox -->
                                        <span class="clear">&nbsp;</span>   
                                    </div>
                                    <span class="clear">&nbsp;</span>
                                    <div class="arrival_choices">
                                        <p class="value"><input type="radio" class="checkbox-departures" name="arrivalsdepartures_content" id="origin_destination" value="route"></p>
                                        <p class="text" ss3_article_id="67795"><label class="big-label-checkbox" for="origin_destination">by origin &amp; destination</label></p>
                                    </div>
                                    <span class="clear">&nbsp;</span>
                                    <div class="more-options" id="searchByOriginDestination" style="display:none;">
                                        <div class="airport_textbox ui-widget container_airports_departures_arrivals_routeFrom" id="sidebar_container_route_from">
                                            <p class="text" ss3_article_id="24">
                                                <label for="arrivalsdepartures_select_airport">From:</label>
                                                <a id="sidebar_arrivalsdepartures_load_drop_rf" class="search sidebar_arrivalsdepartures_load_drop_a" rel="autosearch" href="javascript:;" title="airports list"><span ss3_article_id="42">airports list</span></a>
                                                <span class="clear">&nbsp;</span>
                                            </p>
                                            <p class="value airports_departures_arrivals_flights_from">
                                                <input id="arrivalsdepartures_select_airport_from" class="text_autocomplete text" type="text" name="aptCodeFrom">
                                                
                                                <span class="combo_arrivalsdepartures_flightsat" style="width:60px; position:relative">
                                                    <select class="combostyle airport_textbox hide" id="sidebar_arrivalsdepartures_drop_rf"> 
                                                        <option value="0" noedit="1" ss3_article_id="107">-- Select airport: --</option> 
                                                    </select>
                                                </span>
                                            </p>
                                        </div><!-- end .airport_textbox -->
                                        <div class="airport_textbox ui-widget container_airports_departures_arrivals" id="sidebar_container_route_to">
                                            <p class="text" ss3_article_id="25">
                                                <label for="arrivalsdepartures_select_airport">To:</label>
                                                <a id="sidebar_arrivalsdepartures_load_drop_rt" class="search sidebar_arrivalsdepartures_load_drop_a" rel="autosearch" href="javascript:;" title="airports list"><span ss3_article_id="42">airports list</span></a>
                                                <span class="clear">&nbsp;</span>
                                            </p>
                                            <p class="value airports_departures_arrivals_flights_to">
                                                <input id="arrivalsdepartures_select_airport_to" class="text_autocomplete text" type="text" name="aptCodeTo">
                                                
                                                <span class="combo_arrivalsdepartures_flightsat" style="width:60px; position:relative">
                                                    <select class="combostyle airport_textbox hide" id="sidebar_arrivalsdepartures_drop_rt"> 
                                                        <option value="0" noedit="1" ss3_article_id="107">-- Select airport: --</option> 
                                                    </select>
                                                </span>
                                            </p>
                                        </div><!-- end .airport_textbox -->
                                        <div class="select-small airport_textbox ui-widget container_airports_departures_arrivals">
                                            <p class="text" ss3_article_id="138">
                                                <label for="arrivalsdepartures_select_airport">That:</label>
                                                <span class="clear">&nbsp;</span>
                                            </p>
                                            
                                            <select name="arrivalsdepartures2" id="arrivalsdepartures_airport_that2" class="combostyle">
                                                <option value="DEP" ss3_article_id="469">Departe</option>
                                                <option value="ARR" ss3_article_id="470">Arrive</option>
                                            </select>
                                        </div><!-- end .airport_textbox -->
                                        <div class="select-large airport_textbox ui-widget container_airports_departures_arrivals">
                                            <p class="text" ss3_article_id="139">
                                                <label for="arrivalsdepartures_select_airport">On:</label>
                                                <span class="clear">&nbsp;</span>
                                            </p>
                                            
                                            <select name="arrivalsdepartures_date2" id="arrivalsdepartures_airport_on2" class="combostyle">
                                                <option value="0">June 24,  2014</option>
                                                <option value="1" selected="SELECTED">June 25,  2014</option>
                                                <option value="2">June 26,  2014</option>
                                            </select>
                                        </div><!-- end .airport_textbox -->
            <!-- ROUTE SEARCH - END -->
            <!-- FLIGHT SEARCH - START -->
                                        <span class="clear">&nbsp;</span>
                                    </div>
                                    <span class="clear">&nbsp;</span>
                                     <div class="arrival_choices">
                                        <p class="value"><input type="radio" class="checkbox-departures" name="arrivalsdepartures_content" id="flight" value="number"></p>
                                        <p class="text" ss3_article_id="67796"><label class="big-label-checkbox" for="flight">by flight number</label></p>
                                    </div>
                                    <span class="clear">&nbsp;</span>
                                    <div class="more-options" id="searchByFlight" style="display:none;">
                                        <div class="airport_textbox ui-widget container_airports_departures_arrivals">
                                            <p class="text" ss3_article_id="67800">
                                                <label for="arrivalsdepartures_select_airport"></label>
                                                <span class="clear">&nbsp;</span>
                                            </p>
                                            <p class="special-input value airports_arrivalsdepartures_flightsat">
                                                <span class="letters">TP</span>
                                                <input class="text tp" type="text" name="arrivalsdepartures_tp" id="arrivalsdepartures_tp" value="" maxlength="4">
                                            </p>
                                        </div><!-- end .airport_textbox -->
                                        <div class="select-small airport_textbox ui-widget container_airports_departures_arrivals">
                                            <p class="text" ss3_article_id="138">
                                                <label for="arrivalsdepartures_select_airport">That:</label>
                                                <span class="clear">&nbsp;</span>
                                            </p>
                                            <select name="arrivalsdepartures_trk" id="arrivalsdepartures_airport_that_flight2" class="combostyle">
                                                <option value="DEP" ss3_article_id="473">Departs</option>
                                                <option value="ARR" ss3_article_id="474">Arrives</option>
                                            </select>
                                        </div><!-- end .airport_textbox -->
                                        <div class="select-large airport_textbox ui-widget container_airports_departures_arrivals">
                                            <p class="text" ss3_article_id="139">
                                                <label for="arrivalsdepartures_select_airport">On:</label>
                                                <span class="clear">&nbsp;</span>
                                            </p>
                                            
                                            <select name="arrivalsdepartures_date_trk" id="arrivalsdepartures_airport_on_flight" class="combostyle">
                                                <option value="0">June 24,  2014</option>
                                                <option value="1" selected="SELECTED">June 25,  2014</option>
                                                <option value="2">June 26,  2014</option>
                                            </select>
                                        </div><!-- end .airport_textbox -->
            <!-- FLIGHT SEARCH - END -->
                                        <span class="clear">&nbsp;</span>
                                    </div>
                                </div>                               
                                <p><a title="Display flights" class="checkin_blue_button" onclick="javascript:validateSidebarNew('departures_arrivals');return false;" href="http://www.flytap.com/USA/enus/PlanBook/Tools/DeparturesArrivals"><span class="left">&nbsp;</span><span class="text" noedit="1" ss3_article_id="111">Display flights</span><span class="triangle"></span><span class="right">&nbsp;</span></a></p> 
                            </form> 
                        </div><!-- end .slidingmenu_container --> 
                    </div><!-- end .arrival_departures --> 
					</div>
		<span class="clear">&nbsp;</span> 
		<div id="slidingmenuX"> 
            <h3 ss3_article_id="100"><a class="" href="http://www.flytap.com/USA/enus/PlanBook/PrepareforTravel/luggage" title="Luggage" target="" id="3d850fab553699b098955097541c1795">Baggage</a></h3>
        </div>
                        <div id="slidingmenuFC"> 
            <h3 ss3_article_id="162"><a class="" href="http://www.flytap.com/USA/enus/Others/Footer/FaleConnosco" title="" target="" id="b7aa0b860d49ca2cda3c7b1e3527910d"></a></h3>
        </div> 
     </div><!-- end #sidebar --> 
     <span class="clear">&nbsp;</span> 

		 
        </div><!-- end #container -->
        <div id="footer_container"> 
	<!-- footer_open -->
            <div id="shortcuts"> 
                <div class="footer_content"> 
                    <div class="left"> 
                        <div class="callcenter" ss3_article_id="153">
								<div class="goLeft">
				    <span class="icon">&nbsp;</span> 
				    <span class="telf" ss3_article_id="55038">800 221 7370</span>
				    <!--br-->
				    <span style="margin-left: 3px;" class="telf" ss3_article_id="55041"> </span> 
								<span class="skype">tap.contact.center</span>
				</div>
				<div class="goRight">
						<span ss3_article_id="154">
						    <a class="contacts infoContacts" href="http://www.flytap.com/Info/en/Other/ContactUs" title="+ contacts" target="_blank" id="3425bd32a503e76b39f1ba1fe8c4534a">							<span class="left">&nbsp;</span><span class="text">+   contacts</span>
							<span class="right">&nbsp;</span>
						    
</a>
						 						</span>
				</div>                   
				
			</div> 
		    </div><!-- end .left -->
		    
                    <div class="right"> 
                        <ul> 
                            <li class="talkWithUs" ss3_article_id="162">
                            	<a href="http://www.flytap.com/USA/enus/Others/Footer/FaleConnosco">
                            		<span class="icon">&nbsp;</span>
                            		<span class="title">Talk to us</span>
                            	</a>
                            </li> 
						
						
                            <li class="newsletter" ss3_article_id="155"> 
                                <!--ss3_link id="link" noedit="1"--> 
								<a href="http://www.flytap.com/USA/enus/Others/Footer/Newsletter">
                                    <span class="icon">&nbsp;</span> 
                                    <span class="title">Newsletter</span> 
                                    subscribe								</a>
                                <!--/ss3_link--> 
                            </li>
						
                                                        <li class="iphone" ss3_article_id="156"> 
                                <a class="" href="http://www.flytap.com/USA/enus/Others/Footer/tap-mobile" title="TAP Mobile" target="" id="5e0541645c7a8ad3aa1a145586ba2031"> 
                                    <span class="icon">&nbsp;</span> 
                                    <span class="title">TAP Mobile</span> 
                                    get connected	                             
</a> 
                            </li> 
							 
                          	
                            <li class="instagram" ss3_article_id="67821"> 
                                <a class="" href="http://instagram.com/Tapportugal" title="Tap Instagram" target="_blank" id="9f54c120e4fde285841fbaeea9a96209"> 
                                    <span class="icon">&nbsp;</span> 
                                    <span class="title">Instagram</span> 
                                    see us                                
</a>
                            </li>
                            
                            <!--li class="mobile" ss3_article_id="156"> 
								<a href="">
                                    <span class="icon">&nbsp;</span> 
                                    <span class="title"><ss3_text id="title" noedit="1"/></span> 
                                    <ss3_text id="text" noedit="1"/>
								</a>
                            </li-->
                            
			                                <li class="facebook" ss3_article_id="157"> 
                                <a class="" href="http://www.facebook.com/pages/TAP-PORTUGAL/376807926448" title="Facebook" target="_blank" id="836a95311cea35069fd087316c79b4d5"> 
                                    <span class="icon">&nbsp;</span> 
                                    <span class="title">Facebook</span> 
                                    be a fan                                
</a> 
                            </li> 
                                            <li class="twitter" ss3_article_id="158"> 
                                <a class="" href="http://www.twitter.com/taportugal" title="Twitter" target="_blank" id="9edb23a808573a502311cf7fbbae75b7">                                    <span class="icon">&nbsp;</span> 
                                    <span class="title">Twitter</span> 
                                    follow us                                
</a> 
                            </li> 
                            <li class="youtube" ss3_article_id="159"> 
                                <a class="" href="http://www.youtube.com/tap" title="Youtube" target="_blank" id="5b4b5ce38c00c30bc121facb7dbc2a35"> 
                                    <span class="icon">&nbsp;</span> 
                                    <span class="title">YouTube</span> 
                                    latest videos                                
</a> 
                            </li> 
							                            <li class="magazine last" ss3_article_id="161"> 
                                <a class="" href="http://upmagazine-tap.com/en/" title="UP Magazine" target="_blank" id="9ce5f4821e7b55dce035520b8f3450d1"> 
                                    <span class="icon">&nbsp;</span> 
                                    <span class="title">UP Magazine</span> 
                                    latest news                                
</a> 
                            </li> 
                        </ul> 
                    </div><!-- end .right --> 
                    <span class="clear">&nbsp;</span> 
                </div><!-- end footer_content. --> 
            </div><!-- end #shortcuts --> 
            <div id="bottomlinks"> 
                <div class="footer_content"> 
                    <div class="left"> 
                        <ul> 
                             <li ss3_article_id="163"><a href="http://www.flytap.com/USA/enus/others/footer/privacy">Privacy Policy</a></li>                             <li ss3_article_id="164">
<a href="http://www.flytap.com/USA/enus/Others/Footer/ConditionsofCarriage">                                                      
                            Conditions of Carriage</a></li> 
                          	<li ss3_article_id="165"><a href="http://www.flytap.com/USA/enus/Others/Footer/sitemap">Site Map</a></li> 
                        </ul> 
                        <span class="clear">&nbsp;</span> 
                        <div class="copyright" ss3_article_id="168"> 
                            <span class="title" ss3_article_id="167">© 2014 TAP.</span> All Rights Reserved                        </div><!-- end .copyright --> 
                        <!--div class="copyright" ss3_article_id="598" style="margin-top: 5px;"> 
                            <span style="float: left; color: #666; font-size: 11px;">
                            	<ss3_text id="text" noedit="1"/>
                            </span>
                            <span style="float: left;">
                            	<ss3_link id="link" noedit="1">
                            	<img src="images/wingman_pequeno.jpg" alt="wingman" style="padding: 2px 0px 0px 5px;"/>
                            	</ss3_link>
                            </span>
                            <span class="clear">&nbsp;</span> 
                        </div--><!-- end logo wingman -->                         
						<div class="wngmn" ss3_article_id="598">
							<span>Web Consultant and Designer&nbsp;</span>
							<a class="" href="http://www.wingman.pt/" title="Wingman" target="_blank" id="9f7aebafddf1de7467539672cc4c32fc">								<img src="http://www.flytap.com/prjdir/flytap/images/wingman-logo.png" alt="Wingman" title="Wingman">
							
</a>
						</div> 

                    </div><!-- end .left --> 
                    <div class="right" ss3_article_id="169"> 
                        <a class="" href="http://www.staralliance.com/en" title="Star Alliance" target="_blank" id="1cc254719dd4238ce56b18c5ab3c316b"><span class="title">A STAR ALLIANCE MEMBER</span>
</a>
			<div class="roundTheWorld" ss3_article_id="68372"> 
			    <a class="" href="http://www.staralliance.com/en/booking/book-and-fly/" title="Star Alliance Round the World Fare" target="_BLANK" id="73e908311f0ae17ff01a4a7a901ccc11"><span class="title" style="text-indent: 0px;">Round the World Fare</span>
</a>
			</div>
                    </div><!-- end .right -->
		    
                    <span class="clear">&nbsp;</span> 
                </div><!-- .footer_content --> 
            </div><!-- end #bottomlinks --> 
	<!-- footer_close -->
</div><!-- end #footer_container  -->
 
		 
	<!--XS:192.168.128.76 20140313 16:36:28-->
	<!--MC issue 1548 script type="text/javascript">
	  (function() {
	    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();
	</script-->
	<!-- Google Code for Remarketing tag -->
	<!-- Remarketing tags may not be associated with personally identifiable information or placed on pages related to sensitive categories. 
	For instructions on adding this tag and more information on the above requirements, read the setup guide: google.com/ads/remarketingsetup -->
	<script type="text/javascript">
		/* <![CDATA[ */
		var google_conversion_id = 1018188436;
		var google_conversion_label = "jFC4CMzomAUQlKXB5QM";
		var google_custom_params = window.google_tag_params;
		var google_remarketing_only = true;
		/* ]]> */
	</script>
	<script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js"></script>
	<noscript>
		<div style="display:inline;">
			<img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/1018188436/?value=0&label=jFC4CMzomAUQlKXB5QM&guid=ON&script=0"/>
		</div>
	</noscript>
	
	    
    <!-- LV - issue 1408 -->
        
    

		<form id="inst_contacts_form" method="post" action="http://www.tapportugal.com/Info/en/Other/contact-us" style="display:none" target="_blank">
<input name="contact_site" type="hidden" value="us">
<input name="contact_lang" type="hidden" value="enus">							
</form>	
<script type="text/javascript">
$(document).ready(function() {
	$('a.infoContacts').click(function(event){
		event.preventDefault();
		$('#inst_contacts_form').submit();
	});
});
</script>
<script>var newOfficeId ='FTUSENUS';var tempOfficeId = getUrlVars("officeID");
tempOfficeId = tempOfficeId.toString();
if(tempOfficeId.length > 4) newOfficeId = tempOfficeId;

		jQuery(document).ready(function() {
			
			$('#modules a').each(function(){
		      var href = $(this).attr('href');
		      if(href != undefined )
		      {
			      var hrefNew = href.replace(/__officeID__/i,newOfficeId);
			      $(this).attr('href',hrefNew);
		      }
			});
		});
	</script>


		

<script src="http://d2ztnnzhp7o4xl.cloudfront.net/tt-115446a736618b89c9b72fe8b9b4e68fbad0c693c07346a8e7513d7761364ff3.js"></script>





<!-- script HP Alemanha - issue 1535 -->
		<!--MC ss3_url_anixe_params.php - START -->
<script type="text/javascript" src="http://www.flytap.com/javascript/flytap/jquery.cookie.js"></script>
<script>

function timeStamp(increment) {
    // Create a date object with the current time
    var now = new Date();
    if (increment != undefined) {
        now.setDate(now.getDate()+increment);
    }
    
    // Create an array with the current month, day and time
    var date = [now.getMonth() + 1, now.getDate(), now.getFullYear()];

    // Create an array with the current hour, minute and second
    var time = [now.getHours(), now.getMinutes(), now.getSeconds()];

    // Determine AM or PM suffix based on the hour
    var suffix = (time[0] < 12 ) ? "AM" : "PM";

    // Convert hour from military time
    time[0] = (time[0] < 12 ) ? time[0] : time[0] - 12;

    // If hour is 0, set it to 12
    time[0] = time[0] || 12;

    // If seconds and minutes are less than 10, add a zero
    for (var i = 1; i < 3; i++) {
            if (time[i] < 10) {
                    time[i] = "0" + time[i];
            }
    }

    // Return the formatted string
    return date.join("/") + " " + time.join(":") + " " + suffix;
}
                        
var track_A = getUrlVars("_a");
var track_B = getUrlVars("_b");
var track_C = getUrlVars("_c");
var ANETWORK = getUrlVars("anetwork");
var ANETID = getUrlVars("anetid");
var domain = '.flytap.com';
if(track_A.length >0)
{
    setCookie("track_A", track_A, null, null,domain);
}
if(track_B.length >0)
{
    setCookie("track_B", track_B, null, null,domain);
}
if(track_C.length >0)
{
    setCookie("track_C", track_C, null, null,domain);
}
/*
if(ANETWORK.length >0)
{
    setCookie("ANETWORK", ANETWORK, null, null,domain);
}
if(ANETID.length >0)
{
    setCookie("ANETID", ANETID, null, null,domain);
}
*/
var track_A = getCookie("track_A");
var track_B = getCookie("track_B");
var track_C = getCookie("track_C");
//var ANETWORK = getCookie("ANETWORK");
//var ANETID = getCookie("ANETID");

if(track_B.length > 4) newOfficeId = tempOfficeId;

jQuery(document).ready(function() {
    $('a').each(function(){
        var href = $(this).attr('href');
        if(href != undefined && href.indexOf("book.flytap.com") !== -1)
        {
            if(track_A.length >0)
            {
                var href = $(this).attr('href');
                var hrefNew = addMyParam(href,"_a",track_A);
                $(this).attr('href',hrefNew);
            }
            if(track_B.length >0)
            {
                var href = $(this).attr('href');
                var hrefNew = addMyParam(href,"_b",track_B);
                $(this).attr('href',hrefNew);
            }
            if(track_C.length >0)
            {
                var href = $(this).attr('href');
                var hrefNew = addMyParam(href,"_c",track_C);
                $(this).attr('href',hrefNew);
            }
            /*
            if(ANETWORK.length >0)
            {
                var href = $(this).attr('href');
                var hrefNew = addMyParam(href,"anetwork",ANETWORK);
                $(this).attr('href',hrefNew);
            }
            if(ANETID.length >0)
            {
                var href = $(this).attr('href');
                var hrefNew = addMyParam(href,"anetid",ANETID);
                $(this).attr('href',hrefNew);
            }
            */
        }
    });
    
    var host = 'flytap.com';        var AffiliateNetworkCookie = "";
        if(ANETWORK.length >0 && (ANETWORK == 'ZANOX' || ANETWORK == 'TRADEDOUBLER' || ANETWORK == 'AWINDOW'))
        {
            AffiliateNetworkCookie = ANETWORK + "&creationDate=" + timeStamp();
    
            if(ANETID.length >0)
            {
                AffiliateNetworkCookie = 'AffiliateNetwork=' + AffiliateNetworkCookie + "&anetid=" + ANETID;
            }
            else
            {
                AffiliateNetworkCookie = 'AffiliateNetwork=' + AffiliateNetworkCookie + "&anetid=undefined";
            }
            $.cookie.raw = true;
	    AffiliateNetworkCookie = AffiliateNetworkCookie + '&expirationDate=' + timeStamp(30);
            $.cookie('AffiliateNetworkCookie', AffiliateNetworkCookie, {
                    expires : 30,
                    path : '/',
                    domain : host
            });
        }
    
    });
var count =0;

function addMyParam(href, paramName, paramValue)
{
    paramValue = decodeURIComponent(paramValue);   
    paramValue = paramValue.replace(/[^a-z0-9\_]/gi,'');
    //console.log("antes "+href);
    if(paramName == "_a")
    {
        my_a=getHrefParam(href,"_a");
        href = href.replace("&_a=" + my_a ,"");
        //href = href.replace("&_a=" + newOfficeId ,"");
    }   
        
    //console.log("depois _"+newOfficeId+"_ "+href);    
    var newHref = "";

    if(href.indexOf("?"))
    {
        newHref = href + "&" + paramName + "=" + paramValue;
    }
    else
    {
        newHref = href + "?" + paramName + "=" + paramValue;
    }
    
    return newHref;
}

function getHrefParam(myhref,param)
{
    var vars = new Array(); var hash;
    var hashes = myhref.slice(myhref.indexOf('?') + 1).split('&');
    for(var i = 0; i < hashes.length; i++)
    {
        if(param != undefined)
        {
                    var teste = hashes[i].toString();
                    testeArr = teste.split("=");
                    if (testeArr[0] == param) {
                            return testeArr[1];
                    }
        }
        hash = hashes[i].split('=');
        vars[hash[0]] = hash[1];
    }
    if(param == undefined)
        return vars;
    else
        return "";
}
                
</script>
<!--MC ss3_url_anixe_params.php - END -->
<!--SS3 SSF01 --></body></html>