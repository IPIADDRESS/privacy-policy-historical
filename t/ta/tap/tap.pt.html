<!--The following is the downloaded HTML source of the tap.pt privacy policy that was archived on 2016-10-16.
 Please check the original snapshot on the Wayback Machine (https://web.archive.org/web/20161016074158id_/http%3A//www.flytap.com/Canada/enus/Others/Footer/Privacy) for the most accurate reproduction.-->

<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en-us" xmlns:fb="http://www.facebook.com/2008/fbml"><head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<base href="http://www.flytap.com/prjdir/flytap/">
	<!--PRD-->		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Privacy | TAP Portugal</title><meta property="og:title" content="Privacy">
<meta name="keywords" content="">
<meta name="description" property="og:description" content="Safety Conditions, Privacy Policy and Use of Cookies in the TAP Portugal website.    ">
<link rel="canonical" href="http://www.flytap.com/Canada/enus/Others/Footer/Privacy">
		
				<link rel="alternate" media="only screen and (max-width: 640px)" href="http://www.flytap.com/Canada/enus/Others/Footer/Privacy?mobile=1">
					<link rel="alternate" hreflang="en-pt" href="http://www.flytap.com/Portugal/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-pt" href="http://www.flytap.com/Portugal/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="en-gb" href="http://www.flytap.com/UnitedKingdom/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-gb" href="http://www.flytap.com/UnitedKingdom/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="en-be" href="http://www.flytap.com/Belgium/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-be" href="http://www.flytap.com/Belgium/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="fr-be" href="http://www.flytap.com/Belgium/fr/Autres/BasDePage/Confidentialite">
						<link rel="alternate" hreflang="en-br" href="http://www.flytap.com/Brasil/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-br" href="http://www.flytap.com/Brasil/PTBR/Outros/Rodape/Privacidade">
						<link rel="alternate" hreflang="en-ch" href="http://www.flytap.com/Switzerland/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-ch" href="http://www.flytap.com/Switzerland/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="fr-ch" href="http://www.flytap.com/Switzerland/fr/Autres/BasDePage/Confidentialite">
						<link rel="alternate" hreflang="de-ch" href="http://www.flytap.com/Switzerland/de/Sonstiges/Fussnote/Datenschutz">
						<link rel="alternate" hreflang="en-de" href="http://www.flytap.com/Deutschland/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-de" href="http://www.flytap.com/Deutschland/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="de-de" href="http://www.flytap.com/Deutschland/de/Sonstiges/Fussnote/Datenschutz">
						<link rel="alternate" hreflang="en-es" href="http://www.flytap.com/Espana/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-es" href="http://www.flytap.com/Espana/pt/Outros/Rodape/Privacidade">
						<link rel="alternate" hreflang="es-es" href="http://www.flytap.com/Espana/es/Otros/PieDePagina/Privacidad">
						<link rel="alternate" hreflang="pt-fr" href="http://www.flytap.com/France/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="fr-fr" href="http://www.flytap.com/France/fr/Autres/BasDePage/Confidentialite">
						<link rel="alternate" hreflang="en-it" href="http://www.flytap.com/Italia/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-it" href="http://www.flytap.com/Italia/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="it-it" href="http://www.flytap.com/Italia/it/Altri/PieDiPagina/Privacy">
						<link rel="alternate" hreflang="en-nl" href="http://www.flytap.com/Nederland/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-nl" href="http://www.flytap.com/Nederland/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="pt-us" href="http://www.flytap.com/USA/pt/Outros/Rodape/Privacidade">
						<link rel="alternate" hreflang="es-us" href="http://www.flytap.com/USA/es/Outros/Rodape/Privacidade">
						<link rel="alternate" hreflang="en-us" href="http://www.flytap.com/USA/enus/others/footer/privacy">
						<link rel="alternate" hreflang="en-ao" href="http://www.flytap.com/Angola/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-ao" href="http://www.flytap.com/Angola/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="en-lu" href="http://www.flytap.com/Luxembourg/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-lu" href="http://www.flytap.com/Luxembourg/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="fr-lu" href="http://www.flytap.com/Luxembourg/fr/Autres/BasDePage/Confidentialite">
						<link rel="alternate" hreflang="en-dk" href="http://www.flytap.com/Danmark/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-dk" href="http://www.flytap.com/Danmark/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="en-se" href="http://www.flytap.com/Sverige/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-se" href="http://www.flytap.com/Sverige/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="en-no" href="http://www.flytap.com/Norge/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-no" href="http://www.flytap.com/Norge/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="en-fi" href="http://www.flytap.com/Suomi/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-fi" href="http://www.flytap.com/Suomi/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="en-gr" href="http://www.flytap.com/Greece/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-gr" href="http://www.flytap.com/Greece/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="en-cz" href="http://www.flytap.com/CeskaRepublika/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-cz" href="http://www.flytap.com/CeskaRepublika/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="en-hu" href="http://www.flytap.com/Magyarorszag/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-hu" href="http://www.flytap.com/Magyarorszag/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="pt-ar" href="http://www.flytap.com/Argentina/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="es-ar" href="http://www.flytap.com/Argentina/es/Otros/PieDePagina/Privacidad">
						<link rel="alternate" hreflang="pt-ve" href="http://www.flytap.com/Latinoamerica/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="es-ve" href="http://www.flytap.com/Latinoamerica/es/Otros/PieDePagina/Privacidad">
						<link rel="alternate" hreflang="en-ve" href="http://www.flytap.com/Latinoamerica/enus/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-cl" href="http://www.flytap.com/Chile/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="es-cl" href="http://www.flytap.com/Chile/es/Otros/PieDePagina/Privacidad">
						<link rel="alternate" hreflang="en-ro" href="http://www.flytap.com/Romania/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-ro" href="http://www.flytap.com/Romania/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="pt-dz" href="http://www.flytap.com/Algerie/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="fr-dz" href="http://www.flytap.com/Algerie/fr/Autres/BasDePage/Confidentialite">
						<link rel="alternate" hreflang="en-at" href="http://www.flytap.com/Osterreich/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-at" href="http://www.flytap.com/Osterreich/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="de-at" href="http://www.flytap.com/Osterreich/de/Sonstiges/Fussnote/Datenschutz">
						<link rel="alternate" hreflang="en-cv" href="http://www.flytap.com/CaboVerde/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-cv" href="http://www.flytap.com/CaboVerde/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="pt-ca" href="http://www.flytap.com/Canada/pt/Outros/Rodape/Privacidade">
						<link rel="alternate" hreflang="en-cn" href="http://www.flytap.com/China/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-cn" href="http://www.flytap.com/China/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="zh-cn" href="http://www.flytap.com/China/cn/Others/Footer/Privacy">
						<link rel="alternate" hreflang="en-eg" href="http://www.flytap.com/Egypt/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-eg" href="http://www.flytap.com/Egypt/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="en-si" href="http://www.flytap.com/Slovensko/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-si" href="http://www.flytap.com/Slovensko/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="en-gn" href="http://www.flytap.com/GuineBissau/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-gn" href="http://www.flytap.com/GuineBissau/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="en-ie" href="http://www.flytap.com/Ireland/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-ie" href="http://www.flytap.com/Ireland/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="pt-ma" href="http://www.flytap.com/Maroc/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="fr-ma" href="http://www.flytap.com/Maroc/fr/Autres/BasDePage/Confidentialite">
						<link rel="alternate" hreflang="en-mz" href="http://www.flytap.com/Mocambique/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-mz" href="http://www.flytap.com/Mocambique/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="en-st" href="http://www.flytap.com/SaoTome/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-st" href="http://www.flytap.com/SaoTome/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="pt-sn" href="http://www.flytap.com/Senegal/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="fr-sn" href="http://www.flytap.com/Senegal/fr/Autres/BasDePage/Confidentialite">
						<link rel="alternate" hreflang="en-tr" href="http://www.flytap.com/Turkiye/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-tr" href="http://www.flytap.com/Turkiye/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="en-ua" href="http://www.flytap.com/Ukraine/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-ua" href="http://www.flytap.com/Ukraine/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="en-ru" href="http://www.flytap.com/Russia/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-ru" href="http://www.flytap.com/Russia/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="ru-ru" href="http://www.flytap.com/Russia/ru/Others/Footer/Privacy">
						<link rel="alternate" hreflang="en-hr" href="http://www.flytap.com/Hrvatska/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-hr" href="http://www.flytap.com/Hrvatska/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="en-pl" href="http://www.flytap.com/Polska/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-pl" href="http://www.flytap.com/Polska/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="pl-pl" href="http://www.flytap.com/Polska/pl/Others/Footer/Privacy">
						<link rel="alternate" hreflang="en-za" href="http://www.flytap.com/SouthAfrica/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-za" href="http://www.flytap.com/SouthAfrica/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="en-rs" href="http://www.flytap.com/Serbia/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-rs" href="http://www.flytap.com/Serbia/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="en-ee" href="http://www.flytap.com/Eesti/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-ee" href="http://www.flytap.com/Eesti/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="en-lt" href="http://www.flytap.com/Lietuva/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-lt" href="http://www.flytap.com/Lietuva/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="en-lv" href="http://www.flytap.com/Latvija/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-lv" href="http://www.flytap.com/Latvija/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="en-gh" href="http://www.flytap.com/Ghana/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-gh" href="http://www.flytap.com/Ghana/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="fr-gh" href="http://www.flytap.com/Ghana/fr/Autres/BasDePage/Confidentialite">
						<link rel="alternate" hreflang="pt-mx" href="http://www.flytap.com/Mexico/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="es-mx" href="http://www.flytap.com/Mexico/es/Otros/PieDePagina/Privacidad">
						<link rel="alternate" hreflang="en-mx" href="http://www.flytap.com/Mexico/enus/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-co" href="http://www.flytap.com/Colombia/pt/Outros/Rodape/Privacidade">
						<link rel="alternate" hreflang="es-co" href="http://www.flytap.com/Colombia/es/Otros/PieDePagina/Privacidad">
						<link rel="alternate" hreflang="en-ml" href="http://www.flytap.com/Mali/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-ml" href="http://www.flytap.com/Mali/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="fr-ml" href="http://www.flytap.com/Mali/fr/Autres/BasDePage/Confidentialite">
						<link rel="alternate" hreflang="pt-pa" href="http://www.flytap.com/Panama/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="es-pa" href="http://www.flytap.com/Panama/es/Otros/PieDePagina/Privacidad">
						<link rel="alternate" hreflang="en-pa" href="http://www.flytap.com/Panama/enus/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-uy" href="http://www.flytap.com/Uruguay/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="es-uy" href="http://www.flytap.com/Uruguay/es/Otros/PieDePagina/Privacidad">
						<link rel="alternate" hreflang="en-uy" href="http://www.flytap.com/Uruguay/enus/Others/Footer/Privacy">
						<link rel="alternate" hreflang="en-hk" href="http://www.flytap.com/HongKong/en/Others/Footer/Privacy">
						<link rel="alternate" hreflang="pt-hk" href="http://www.flytap.com/HongKong/pt/outros/rodape/privacidade">
						<link rel="alternate" hreflang="zh-hk" href="http://www.flytap.com/HongKong/cn/Others/Footer/Privacy">
				
	<meta property="og:url" content="http://www.flytap.com/Canada/enus/Others/Footer/Privacy">
	<meta property="og:image" content="http://www.flytap.com/mediaRep/editors/logos/logo_tap_pt.png">
	<meta property="og:site_name" content="http://www.flytap.com"> 
	<meta id="MetaAuthor" name="AUTHOR" content="TAP Portugal">

	

	<!-- tag pinterest -->
	<meta name="p:domain_verify" content="3dd62297ce9de2d2f27367445b05f26d">


        <!-- MOREINFO   link href="css/general.css?231" rel="stylesheet" media="all" / --> 
        <link href="css/main.css" rel="stylesheet" media="all">
	<!--link href="http://bo-victoria.tap.pt/bb.css" rel="stylesheet" media="all" /--> 
        <!--[if IE 7]><link href="css/ie7.css" rel="stylesheet" media="all" /><![endif]--> 
        <!--[if IE 8]><link href="css/ie8.css" rel="stylesheet" media="all" /><![endif]--> 
        <link href="css/print.css" rel="stylesheet" media="print"> 
        <link rel="shortcut icon" type="image/ico" href="http://www.flytap.com/favicon.ico"> 
	<link href="css/jquery-ui.css?1" rel="stylesheet" media="all">        
	
<script src="//static.connect.travelaudience.com/tac.js" async=""></script><script id="facebook-jssdk" src="//connect.facebook.net/en_GB/sdk.js#xfbml=1&amp;version=v2.3&amp;appId=748866225233333"></script><script type="text/javascript" async="" src="https://apis.google.com/js/plusone.js"></script><script id="twitter-wjs" src="//platform.twitter.com/widgets.js"></script><script async="" src="//www.googletagmanager.com/gtm.js?id=GTM-MD8C3Q"></script><script async="" src="//connect.facebook.net/en_US/fbds.js"></script><script>var js_site='CA';var js_lang='enus';</script>
<script type="text/javascript" src="http://www.flytap.com/ajaxLoad.js"></script>
<script type="text/javascript" src="http://www.flytap.com/javascript/jquery-1.4.4.min.js"></script>
<script type="text/javascript" src="http://www.flytap.com/javascript/submission.js"></script>
<script type="text/javascript" src="http://www.flytap.com/getObject.php?12"></script>
<script type="text/javascript" src="http://www.flytap.com/javascript/seed3.js?123"></script><script type="text/javascript" src="http://www.flytap.com/javascript/jqueryUI-1.8.10.min.js"></script>
	<!--script type="text/javascript" src="http://www.flytap.com/javascript/flytap/AC_RunActiveContent.js"--><!--/script--> 
	
		    <!--script type="text/javascript" src="http://www.flytap.com/javascript/round/jquery.curvycorners.min.js"></script-->


                       <link href="css/victoria-stopover.css?29092016" rel="stylesheet" media="all">
        
	<style>.banners-dialog-terms, .slideshow-dialog-terms, .megadrop-dialog-terms {height: 265px; width:575px;font-size 12px;}
    .slideshow-dialog-terms{margin-left:-175px !important;}
    .megadrop-dialog-terms{margin-left:-75px !important; }
    .banners-dialog-terms{margin-left:-175px !important;}

    </style>
	<script type="text/javascript" src="http://www.flytap.com/javascript/flytap/jqueries.min.js?abc"></script>
	<script type="text/javascript" src="http://www.flytap.com/javascript/flytap/jquery_multiselect/jquery.multiselect.js"></script>
	<link href="http://www.flytap.com/javascript/flytap/jquery_multiselect/jquery.multiselect.css" rel="stylesheet" media="all">

		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.10/jquery-ui.min.js"></script>
<script>var errodata='Invalid date format.';var errodata2='Departure date cannot be before today.';var errodata3='Return date must be within one year.';var errodata4='Return date must be after departure.';var errodata5='Departure date must be within one year.';var errodata6='The departure date cannot be more than two months from now.';var errodata7='The return date cannot be more than two months from now.';var errodata8='The return date cannot be earlier than today.';var select='-- Select airport --';var strNum='Use numbers only';var strAlpha='Use only letters';var errorequired='Required field';</script>
    <script type="text/javascript" src="http://www.flytap.com/javascript/flytap/jquery.carouFredSel-6.2.1-packed.js?info_7"></script>
    <script type="text/javascript" src="http://www.flytap.com/javascript/flytap/my_scripts.js?info_14_06_2016_v3"></script><script type="text/javascript" src="http://www.flytap.com/javascript/flytap/jquery-placeholder-min.js"></script><script type="text/javascript" src="http://www.flytap.com/javascript/jquery-validate/jquery.validate.min.js"></script>
<script type="text/javascript" src="http://www.flytap.com/javascript/flytap/languages/jquery.ui.datepicker-enus.js"></script>
<script type="text/javascript" src="http://www.flytap.com/javascript/flytap/cookieFunctions.js"></script>

<script>
var SEED3_URL = window.location.protocol+"//" + document.location.hostname + "/";

var recaptchaCallbackSuccess = function(response) {
        $("#recaptchaResponse").val(response);
        $("#recaptchaResponse").trigger('change');
};

var recaptchaCallback = function() {
    grecaptcha.render('vic_captcha', {
      'sitekey' : '6LeUWQMTAAAAAOOOZPHxPUb_pAVL5SIQJXHcHcPs',
      'callback' : recaptchaCallbackSuccess,
      'expired-callback': expRecaptchaCallback
    });

    /* CAPTCHA HACK : TEXTAREA */

    $("#g-recaptcha-response").focusout(function() {
    console.log("entrei"); $("#recaptchaResponse").val($(this).val()); $("#recaptchaResponse").trigger('change') });

};

var expRecaptchaCallback = function() {
    $("#recaptchaResponse").val('');
};


</script>

<script>
				if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
					var windowLocation = window.location.href;
					if(windowLocation.indexOf("?") == -1) var newLocation = windowLocation + "?mobile=1";
					else var newLocation = windowLocation + "&mobile=1";
					//console.log(newLocation);
					window.location = newLocation;
				}
			</script><!-- Mercado Montenegro - issue 1288 -->




	<!-- script fb -->
	<script>(function() {
		var _fbq = window._fbq || (window._fbq = []);
		  	if (!_fbq.loaded) {
		    	var fbds = document.createElement('script');
		    	fbds.async = true;
		    	fbds.src = '//connect.facebook.net/en_US/fbds.js';
		    	var s = document.getElementsByTagName('script')[0];
		    	s.parentNode.insertBefore(fbds, s);
		    	_fbq.loaded = true;
		  	}
		  	_fbq.push(['addPixelId', '1413553652241869']);
		})();
		window._fbq = window._fbq || [];
		window._fbq.push(['track', 'PixelInitialized', {}]);
	</script>
	<noscript><img height="1" width="1" border="0" alt="" style="display:none" src="https://www.facebook.com/tr?id=1413553652241869&ev=NoScript"/></noscript>


	<!-- scripts assistente virtual -->
	
	<script>(function() {
		  var _fbq = window._fbq || (window._fbq = []);
		  if (!_fbq.loaded) {
		    var fbds = document.createElement('script');
		    fbds.async = true;
		    fbds.src = '//connect.facebook.net/en_US/fbds.js';
		    var s = document.getElementsByTagName('script')[0];
		    s.parentNode.insertBefore(fbds, s);
		    _fbq.loaded = true;
		  }
		  _fbq.push(['addPixelId', '342850782578627']);
		})();
		window._fbq = window._fbq || [];
		window._fbq.push(['track', 'PixelInitialized', {}]);
	</script>
	<noscript><img height="1" width="1" alt="" style="display:none" src="https://www.facebook.com/tr?id=342850782578627&amp;ev=PixelInitialized" /></noscript>



	
	
	
	
		<script async="true" type="text/javascript" src="https://s.adroll.com/j/roundtrip.js"></script></head>
	<body class="alert"><!--
NOTA:
Quando usares este template, tens que colocar class="alert" no body
-->

<!--Acessibilidade-->
			   	<div id="header-alert-bar" class="alert-bar" role="alert">
					<div class="center">
						<div class="alert-icon"></div>
						<div class="alert-items-3"> 
						<!-- cada item com limit maximo de 45 caracteres -->
							<div class="alert-item">
<a href="http://www.flytap.com/Canada/enus/Informationandservices/informations/informations" target="_self"><span>Border Control in France. + INFO</span></a>

							</div>
									<span class="separator"></span>
							<div class="alert-item">
<a href="http://www.flytap.com/Canada/enus/Informationandservices/informations/information" target="_self"><span>Recommendations for the transport of Samsung Galaxy Note 7 cell phones.</span></a>
							</div>
				<!--Acessibilidade fim 
		adicionei o role alert, retirei atributo title e alterei os target para "_self"-->
						</div>
					</div>
				</div>
<script>
    $(document).ready( function() {
        var userData = jQuery.parseJSON(getCookie('victoria_user_data'));
        var tierLevel = '';
        var imageTier = 'default';
        var userName = '';

     	//logged in
        if( userData != null && userData != undefined ) {
        	var js = document.createElement('script');
			js.src = "https://tag.yieldoptimizer.com/ps/ps?t=s&p=2095&pg=ot" + "&u=" + userData['MembershipIDcode'];
			document.getElementsByTagName('head')[0].appendChild(js);
        }
        //not logged in
        else{
        	var js = document.createElement('script');
			js.src = "https://tag.yieldoptimizer.com/ps/ps?t=s&p=2095&pg=ot";
			document.getElementsByTagName('head')[0].appendChild(js);
        }
    });
</script>

<script type="text/javascript">
	 dataLayer = [{
                "language": "enus",
                "market": "CA",
                "pageName": "/Outros/Rodape/Privacidade"
            }];
     //console.log(dataLayer);
</script>
<!--MC issue 1548 Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MD8C3Q"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MD8C3Q');</script>
<!-- End Google Tag Manager -->

<div id="browsers-bar-container" style="display: none; background: #FFF; width: 100%; clear:both; height: 45px;" role="alert">
		<div style="max-width: 1121px; margin: 0 auto; position: relative; padding-top: 7px;">
			<div id="browser_container">
				<div id="browserBar1" class="browser-bar-label" style="float: left; padding-top: 10px;">
					<div class="bold title" style="float: left; font-weight: bold;" ss3_article_id="67760">You are using an older version of your browser.</div>
					<div class="title" style="float: left;" ss3_article_id="67783">&nbsp;Please update it for a better user experience.</div>
				</div>
				<div id="items" class="items" style="float: left;">
					<div class="item" style="float: left; margin: 0 6px 0 24px; position: relative;" ss3_article_id="67758">
						<a class="" href="http://windows.microsoft.com/en-US/internet-explorer/downloads/ie " title="Link para download" target="_blank" id="a960aa3ddfaacb9141d7271cb4d6c4e0">							<img src="mediaRep/editors/Contentimages/ICONS/update-browser-button.gif" alt="Internet Explorer">
							<div style="position: absolute; min-width: 104px; top: 10px; left: 31px; cursor: pointer; text-decoration: none; font-weight: bold; color: #000;" ss3_article_id="67784">
							Update now</div>
						
</a>
					</div>
					<div class="item" style="float: left; margin-left: 6px; padding-top: 8px;" ss3_article_id="67763">
						<a class="" href="https://www.google.com/chrome" title="download google chrome" target="_blank" id="0d4a75f4d982547940be168b25807b87">							<img src="mediaRep/editors/Contentimages/ICONS/icon-small-chrome.gif" alt="Mozilla Firefox">
						
</a>
					</div>
					<div class="item" style="float: left; margin-left: 6px; padding-top: 9px;" ss3_article_id="67764">
						<a class="" href="http://www.mozilla.org/firefox/new/" title="download firefox" target="_blank" id="8e57853f02a76ada74be0bb4b6054df9">							<img src="/mediaRep/editors/Contentimages/ICONS/icon-small-firefox.gif" alt="Google Chrome">
						
</a>
					</div>
					<div class="item" style="float: left; margin-left: 6px; padding-top: 9px;" ss3_article_id="67765">
						<a class="" href="http://www.opera.com/download/" title="download opera" target="_blank" id="d3614aafe0cc911ed7b11cf664ad3301">							<img src="mediaRep/editors/Contentimages/ICONS/icon-small-opera.gif" alt="Opera">
						
</a>
					</div>
					<div class="item" style="float: left; margin-left: 6px; padding-top: 8px;" ss3_article_id="67766">
						<a class="" href="http://www.apple.com/safari/" title="download safari" target="_blank" id="4e3a30469d95acefada97e42c94bdc42">							<img src="mediaRep/editors/Contentimages/ICONS/icon-small-safari.gif" alt="Safari">
						
</a>
					</div>
					<div class="dont-update-button" style="float: left; margin-left: 24px; padding-top: 10px;">
						 <button id="ie7Dont">
						<img src="mediaRep/editors/Contentimages/ICONS/icon-topbar-close.gif" alt="Close"></button>					</div>
				</div>
			</div>
			<span class="clear">&nbsp;</span>
		</div>		
</div>
<script>

	jQuery(document).ready(function() {
		var siteID='CA';		
		var cookiesOK = getCookie("cookiesOK");
		var oldBrowser = getCookie("ie7_old_browser");
		
		if(($.browser.msie && parseInt($.browser.version, 10) == 7) || ($.browser.msie && parseInt($.browser.version, 10) == 8)) {
	
            $('#browsers-bar-container').show();

            var w1 = $('#browserBar1').width();
            var w2 = $('#items').width();
            var tot = w1 + 303;
            $("#browser_container").css('margin', 'auto');
            $("#browser_container").width(tot + 5);

     							
		}

		 $('#ie7Dont').click(function () {
            if (siteID != "gb") {
                //setCookie("ie7_old_browser","dont update",30, "/", document.domain)
            }
            else {
                if (cookiesOK != undefined) {
                    //setCookie("ie7_old_browser", "dont update", 30, "/", document.domain);
                }
            }

            $('#browsers-bar-container').hide();

            $("#focus-content").focus();

        });

	});


</script>
 <!-- html que gera janela modal -->

		  <div class="modal-becomeamember" id="modal-becomeamember" style="display:none;">
		 	<div class="victoria-modal-overlay" tabindex="-1"></div>
		  </div>

		  <div class="modal-window">
            <div class="modal-overlay" tabindex="-1"></div>
            <div class="modal-content banners-dialog-terms" tabindex="0"></div>

        </div>

         <div class="modal-victoria-container" id="modal-victoria-container" style="display:none;">
		 	<div class="victoria-modal-overlay" tabindex="-1"></div>
		 	 <div class="modal-content victoria-dialog" tabindex="0"></div>
		  </div>

		  <div class="otherServices-overlay" id="modal-voucher" style="display:none;">
		  </div>





        <div id="container">

			<img src="images/logo_tap_print.gif" width="99" height="47" alt="TAP Portugal" class="logo_print">
			
<script>
$(document).ready(function() {
    $(".language-select").click(function() {
        var url = $(this).attr('href');
        setCookie("userpage", base64_encode(serialize(url)), 1);
    });
});
</script>

            <div id="header" role="banner">
           <div class="skiplinks" role="navigation">
	<ul>
		<li ss3_article_id="68720"><a id="focus-content" href="javascript:">Skip to Content</a></li>
		<li ss3_article_id="68720"><a id="focus-nav" href="javascript:">Skip to Navigation</a></li>
		<li ss3_article_id="68720"><a id="focus-booking" href="javascript:">Skip to Booking</a></li>
		<li ss3_article_id="68720"><a id="focus-checkin" href="javascript:">Skip to Check-in</a></li>
		<li ss3_article_id="68720"><a href="http://www.flytap.com/Canada/enus/support/contacts">Go to Contacts</a></li> <!-- Inserir link para página de contactos -->
		<li ss3_article_id="68720"><a href="http://www.flytap.com/Canada/enus/Others/Footer/sitemap">Go to Sitemap</a></li> <!-- Inserir link para página de Mapa do Site -->
		<li ss3_article_id="68720"><a id="focus-search" href="javascript:">Skip to Search</a></li> <!-- Necessário dar ID ao input.input-ask-sofia -->
	</ul>
</div>



<!-- JS -->
<script type="text/javascript">
	$(document).ready(function(){
		$("#focus-content").click(function(){
			document.location.hash='#homepage';
			$("#homepage").focus();
		});
		$("#focus-nav").click(function(){
			document.location.hash='#megadropdown';
			$("#megadropdown").find("li:first-child a").focus();
		});
		$("#focus-booking").click(function(){
			document.location.hash='#bookingtool';
			$("#bookingtool").focus();
		});
		$("#focus-checkin").click(function(){
			document.location.hash='#tab1';
		$("#slidingmenu").find("li:first-child a").focus();

		});
		$("#focus-search").click(function(){
			document.location.hash="#searchtoken"; $("#searchtoken").focus();
		});
	});
</script>
                   <div id="logo">
                    <a class="logo" href="http://www.flytap.com/Canada/enus/Homepage" title="Homepage">

                    	<img src="http://www.flytap.com/mediaRep/editors/logos/new/logo_tap_enus.png" alt="TAP Portugal">
                        <!--img src="http://www.flytap.com/mediaRep/editors/logos/new/logo70flytap.png" alt="TAP Portugal"/-->
                    </a>
                </div><!-- end #logo -->
                <!--h1 style="font-size:400%;">TESTES</h1-->
    			<style>
    			#showHideInsuranceTab{
					left: 127px;
					position: absolute;
					top: 143px;
					width: 150px;
    			}
				</style>
                <div id="showHideInsuranceTab" ss3_article_id="218">
					                </div>

                <div id="countries_toplinks">
                    <div id="countries_languages">
                        <div id="countries_select">
                            <p><label for="countries" class="hide">Countries</label></p>
                            <p class="combo_topcountries">
                            <select name="countries" id="countries" class="combostyle">
<option value="DZ" title="images/flags/dz.png">Algérie</option>
<option value="com" title="images/flags/com.gif">Angola</option>
<option value="ar" title="images/flags/ar.png">Argentina</option>
<option value="be" title="images/flags/be.png">Belgium</option>
<option value="br" title="images/flags/br.png">Brasil</option>
<option value="CV" title="images/flags/cv.png">Cabo Verde</option>
<option value="CA" title="images/flags/ca.png" selected="selected" style="display:block;" rel="Canada">Canada</option>
<option value="cz" title="images/flags/cz.png">Česká Republika</option>
<option value="cl" title="images/flags/cl.png">Chile</option>
<option value="CN" title="images/flags/cn.png">中国</option>
<option value="CO" title="images/flags/co.png">Colombia</option>
<option value="dk" title="images/flags/dk.png">Danmark</option>
<option value="de" title="images/flags/de.png">Deutschland</option>
<option value="EE" title="images/flags/ee.png">Eesti</option>
<option value="EG" title="images/flags/eg.png">Egypt</option>
<option value="es" title="images/flags/es.png">España</option>
<option value="fr" title="images/flags/fr.png">France</option>
<option value="GH" title="images/flags/gh.png">Ghana</option>
<option value="gr" title="images/flags/gr.png">Ελλάδα</option>
<option value="GN" title="images/flags/gn.png">Guiné Bissau</option>
<option value="hk" title="images/flags/hk.png">香港</option>
<option value="HR" title="images/flags/hr.png">Hrvatska</option>
<option value="IE" title="images/flags/ie.png">Ireland</option>
<option value="it" title="images/flags/it.png">Italia</option>
<option value="ve" title="images/flags/ve.png">Latinoamérica</option>
<option value="LV" title="images/flags/lv.png">Latvija</option>
<option value="LT" title="images/flags/lt.png">Lietuva</option>
<option value="lu" title="images/flags/lu.png">Luxembourg</option>
<option value="hu" title="images/flags/hu.png">Magyarország</option>
<option value="ML" title="images/flags/ml.png">Mali</option>
<option value="MA" title="images/flags/ma.png">Maroc</option>
<option value="MX" title="images/flags/mx.png">Mexico</option>
<option value="MZ" title="images/flags/mz.png">Moçambique</option>
<option value="nl" title="images/flags/nl.png">Nederland</option>
<option value="no" title="images/flags/no.png">Norge</option>
<option value="AT" title="images/flags/at.png">Österreich</option>
<option value="pa" title="images/flags/pa.png">Panama</option>
<option value="pl" title="images/flags/pl.png">Polska</option>
<option value="pt" title="images/flags/pt.png">Portugal</option>
<option value="ro" title="images/flags/ro.png">România</option>
<option value="RU" title="images/flags/ru.png">Россия</option>
<option value="ST" title="images/flags/st.png">São Tomé</option>
<option value="SN" title="images/flags/sn.png">Sénégal</option>
<option value="rs" title="images/flags/rs.png">Serbia</option>
<option value="SI" title="images/flags/si.png">Slovensko</option>
<option value="za" title="images/flags/za.png">South Africa</option>
<option value="fi" title="images/flags/fi.png">Suomi</option>
<option value="se" title="images/flags/se.png">Sverige</option>
<option value="ch" title="images/flags/ch.png">Switzerland</option>
<option value="TR" title="images/flags/tr.png">Türkiye</option>
<option value="us" title="images/flags/us.png">USA</option>
<option value="UA" title="images/flags/ua.png">Україна</option>
<option value="gb" title="images/flags/gb.png">United Kingdom</option>
<option value="uy" title="images/flags/uy.png">Uruguay</option>
</select>
                            </p>
                        </div><!-- end #countries_select -->

                        <!--<div id="languages_select">
                            <p><label for="countries" class="hide">Languages</label></p>
                            <p class="combo_topcountries">-->
							<div class="languages" aria-label="Language selection">
 <a class="active" lang="enus" href="http://www.flytap.com/Canada/enus/Others/Footer/Privacy">EnglishUS</a><span>|</span> <a class="language-select" lang="pt" href="http://www.flytap.com/Canada/pt/Outros/Rodape/Privacidade">Português</a><span><span></span></span></div>                            <!--</p>
                        </div>--><!-- end #languages_select -->
                    </div><!-- end #countries_languages -->
					<script language="Javascript" type="text/javascript">
							var marketUrls = new Array();
                            var dotLang = new Array();


marketUrls['pt']='http://www.flytap.com/Portugal/pt/Homepage'; dotLang['pt']='pt'; marketUrls['gb']='http://www.flytap.com/UnitedKingdom/en/Homepage'; dotLang['gb']='en'; marketUrls['be']='http://www.flytap.com/Belgium/en/Homepage'; dotLang['be']='en'; marketUrls['br']='http://www.flytap.com/Brasil/PTBR/Homepage'; dotLang['br']='PTBR'; marketUrls['ch']='http://www.flytap.com/Switzerland/de/Homepage'; dotLang['ch']='de'; marketUrls['de']='http://www.flytap.com/Deutschland/de/Homepage'; dotLang['de']='de'; marketUrls['es']='http://www.flytap.com/Espana/es/Inicio'; dotLang['es']='es'; marketUrls['fr']='http://www.flytap.com/France/fr/PageDAccueil'; dotLang['fr']='fr'; marketUrls['it']='http://www.flytap.com/Italia/it/Homepage'; dotLang['it']='it'; marketUrls['nl']='http://www.flytap.com/Nederland/en/Homepage'; dotLang['nl']='en'; marketUrls['us']='http://www.flytap.com/USA/enus/Homepage'; dotLang['us']='enus'; marketUrls['com']='http://www.flytap.com/Angola/pt/Homepage'; dotLang['com']='pt'; marketUrls['lu']='http://www.flytap.com/Luxembourg/pt/Homepage'; dotLang['lu']='pt'; marketUrls['dk']='http://www.flytap.com/Danmark/en/Homepage'; dotLang['dk']='en'; marketUrls['se']='http://www.flytap.com/Sverige/en/Homepage'; dotLang['se']='en'; marketUrls['no']='http://www.flytap.com/Norge/en/Homepage'; dotLang['no']='en'; marketUrls['fi']='http://www.flytap.com/Suomi/en/Homepage'; dotLang['fi']='en'; marketUrls['gr']='http://www.flytap.com/Greece/en/Homepage'; dotLang['gr']='en'; marketUrls['ru']=''; dotLang['ru']='en'; marketUrls['pl']='http://www.flytap.com/Polska/pl/Homepage'; dotLang['pl']='pl'; marketUrls['cz']='http://www.flytap.com/CeskaRepublika/en/Homepage'; dotLang['cz']='en'; marketUrls['hu']='http://www.flytap.com/Magyarorszag/en/Homepage'; dotLang['hu']='en'; marketUrls['ar']='http://www.flytap.com/Argentina/es/Inicio'; dotLang['ar']='es'; marketUrls['ve']='http://www.flytap.com/Latinoamerica/es/Homepage'; dotLang['ve']='es'; marketUrls['cl']='http://www.flytap.com/Chile/es/Homepage'; dotLang['cl']='es'; marketUrls['ro']='http://www.flytap.com/Romania/en/Homepage'; dotLang['ro']='en'; marketUrls['DZ']='http://www.flytap.com/Algerie/fr/PageDAccueil'; dotLang['DZ']='fr'; marketUrls['AT']='http://www.flytap.com/Osterreich/de/Homepage'; dotLang['AT']='de'; marketUrls['CV']='http://www.flytap.com/CaboVerde/pt/Homepage'; dotLang['CV']='pt'; marketUrls['CA']='http://www.flytap.com/Canada/enus/Homepage'; dotLang['CA']='enus'; marketUrls['CN']='http://www.flytap.com/China/cn/Homepage'; dotLang['CN']='cn'; marketUrls['HR']='http://www.flytap.com/Hrvatska/en/Homepage'; dotLang['HR']='en'; marketUrls['EG']='http://www.flytap.com/Egypt/en/Homepage'; dotLang['EG']='en'; marketUrls['SI']='http://www.flytap.com/Slovensko/en/Homepage'; dotLang['SI']='en'; marketUrls['GN']='http://www.flytap.com/GuineBissau/pt/Homepage'; dotLang['GN']='pt'; marketUrls['IE']='http://www.flytap.com/Ireland/en/Homepage'; dotLang['IE']='en'; marketUrls['MA']='http://www.flytap.com/Maroc/fr/PageDAccueil'; dotLang['MA']='fr'; marketUrls['MZ']='http://www.flytap.com/Mocambique/pt/Homepage'; dotLang['MZ']='pt'; marketUrls['RU']='http://www.flytap.com/Russia/ru/Homepage'; dotLang['RU']='ru'; marketUrls['rs']='http://www.flytap.com/Serbia/en/Homepage'; dotLang['rs']='en'; marketUrls['ST']='http://www.flytap.com/SaoTome/pt/Homepage'; dotLang['ST']='pt'; marketUrls['SN']='http://www.flytap.com/Senegal/fr/PageDAccueil'; dotLang['SN']='fr'; marketUrls['TR']='http://www.flytap.com/Turkiye/en/Homepage'; dotLang['TR']='en'; marketUrls['UK']=''; dotLang['UK']='en'; marketUrls['UA']='http://www.flytap.com/Ukraine/en/Homepage'; dotLang['UA']='en'; marketUrls['222']=''; dotLang['222']='en'; marketUrls['00']='http://www.flytap.com/Info/pt/home'; dotLang['00']='pt'; marketUrls['za']='http://www.flytap.com/SouthAfrica/en/Homepage'; dotLang['za']='en'; marketUrls['ba']='http://www.flytap.com/BosniaHerzegovina/en/Homepage'; dotLang['ba']='en'; marketUrls['me']='http://www.flytap.com/Montenegro/en/Homepage'; dotLang['me']='en'; marketUrls['md']='http://www.flytap.com/Moldova/en/Homepage'; dotLang['md']='en'; marketUrls['master']='http://www.flytap.com/Master/pt/Homepage'; dotLang['master']='pt'; marketUrls['EE']='http://www.flytap.com/Eesti/en/Homepage'; dotLang['EE']='en'; marketUrls['LT']='http://www.flytap.com/Lietuva/en/Homepage'; dotLang['LT']='en'; marketUrls['LV']='http://www.flytap.com/Latvija/en/Homepage'; dotLang['LV']='en'; marketUrls['GH']='http://www.flytap.com/Ghana/en/Homepage'; dotLang['GH']='en'; marketUrls['CO']='http://www.flytap.com/Colombia/es/Inicio'; dotLang['CO']='es'; marketUrls['MX']='http://www.flytap.com/Mexico/es/Homepage'; dotLang['MX']='es'; marketUrls['ML']='http://www.flytap.com/Mali/fr/PageDAccueil'; dotLang['ML']='fr'; marketUrls['hk']='http://www.flytap.com/HongKong/cn/Homepage'; dotLang['hk']='cn'; marketUrls['pa']='http://www.flytap.com/Panama/es/Homepage'; dotLang['pa']='es'; marketUrls['uy']='http://www.flytap.com/Uruguay/es/Homepage'; dotLang['uy']='es'; marketUrls['au']='http://www.flytap.com/Australia/en/Homepage'; dotLang['au']='en'; 

					jQuery(document).ready(function() {

                           /* Label para selector de região */
    var currentRegion = $('.combo_topcountries .selectedTxt').text();
    $('.combo_topcountries .newListSelected').attr('aria-label', 'Region selection: ' + currentRegion);
    $('.combo_topcountries .selectedTxt').attr('aria-live', 'polite');
											// $('#languages_select').find('div.selectedTxt').html('');
						if( IS_IE_7 == false)
						{
						$('#languages_select').find('ul.newList li a').each(function(){
							$(this).click(function(){
								$("option[value=" + $(this).attr('rel') + "]", $('#languages_select')).attr('selected','selected');
								$(this).parent().parent().css('display','none');
								$('#languages_select').find('div.selectedTxt').html($(this).text());
//								var market='Uruguay';
//								alert(market);
								/*
								var gotourl = 'http://www.flytap.com/' + $('#countries :selected').attr('rel') + '/' + $('#languages_select :selected').val() + '/Homepage';
								*/

								var gotourl = $('#languages_select :selected').attr('rel');
								window.location.replace(gotourl);
							});
						});
						}
						$('#countries').change(function(){
                            /* Alteração para permitir navegação por setas. Apenas selecciona elemento com click ou enter. */
        //Esta função já existe, o código da mesma deverá substituir a linha window.location = marketUrls[M], para que passe a executar em click ou keydown.

							var M = $(this).val();
                            setCookie("userpage", base64_encode(serialize(marketUrls[M])), 1);
                        $('.newListSelected').keydown(function(e){
                            if(e.which === 13){
                              window.location = marketUrls[M];
                                }


            });
                                if( IS_IE_7 || IS_MOBILE_BROWSER) {
                                   window.location = marketUrls[M];
                                }
            $('.newListSelected').click(function(e){
                window.location = marketUrls[M];
            });
							return false;
							var data = 'getCountryLanguages=' + M + '&top=true&translation=';

							$("option[value=" + M + "]", $(this)).attr('selected','selected');

							$.post('http://' + window.location.hostname + '/getMarketLanguages.php', data, function(languages) {

								var html = lis = default_option = default_option_text = '', x = 0;


								$.each(languages, function(i, v){
									if(i == 'enus') {
										var extr = ' class="hilite"';
										var esel = ' selected="selected"';
									} else { var extr = esel = ''; }


									html += '<option value="' + i + '"' + esel + ' rel="' + i + '">' + v + '</option>';
									lis += '<li><a href="javascript:;"' + extr + ' rel="' + i + '">' + v + '</a></li>';

																		if(x == 0 && i != '') {
										default_option_code = i;
										default_option_text = v;
									}
									
									x++;
								});


							if( IS_IE_7 || IS_MOBILE_BROWSER)
							{
								$('#languages').html(html);
								if($("#languages option:selected").length==0)
								{
								window.location.replace($("#languages option:first").attr('rel'));
								}
								else
								{
								window.location.replace($("#languages option:selected").attr('rel'));
								}
							}
							else
							{

								$('#languages_select').find('div.selectedTxt').html('Please select');
								$('#languages').html(html);

								$('#languages_select ul.newList').html(lis);
								$('#languages_select').find('div.newListSelected').click(function(){
									$('#languages_select ul.newList').css('display','inline-table');
								});

								$('#languages_select').find('ul.newList li a').each(function(){
									$(this).click(function(){
										$("option[value=" + $(this).attr('rel') + "]", $('#languages_select')).attr('selected','selected');
										$('#languages_select').find('div.selectedTxt').html($(this).text());
										$('#languages_select').find('ul.newList').addClass('hide');

										window.location.replace($(this).attr('rel'));
									});
								});

																if(default_option_code != '') {
									$("option[value=" + default_option + "]", $('#languages_select')).attr('selected','selected');
									$('#languages_select').find('div.selectedTxt').html(default_option_text);
									$('#languages_select').find('ul.newList').addClass('hide');
								}
								// console.log("NOT IE 7 ..."+ $("#languages_select option:selected").length);
								// console.log($("#languages_select option:first").attr('rel'));
								// console.log($("#languages_select option:selected").attr('rel'));
								if($("#languages_select option:selected").length==0)
								window.location.replace($("#languages_select option:first").attr('rel'));
								else window.location.replace($("#languages_select option:selected").attr('rel'));
															}
							}, 'json');

							return false;

						});

					});
					</script>
                    <span class="clear">&nbsp;</span>
                    <div id="toplinks">
                        <ul>
                            <!--li ss3_article_id="205"><ss3_link id="link" noedit="1"><span class="title" ss3_article_id="204"><ss3_text id="text" type="varchar" noedit="1"/></span> <ss3_text id="text" type="varchar" noedit="1"/></ss3_link></li-->
                                                        <li ss3_article_id="209"><a class="" href="http://www.tapportugal.com/Info/en/home" title="About TAP" target="_blank" id="a9d3a46da31114dab47defeca04b8d5f">About <span class="title" target="_blank" ss3_article_id="204">TAP</span>
</a></li>

                            
                                                        <!--<li class="last" ss3_article_id="209"><a id='strangeBug' href='http://www.tapportugal.com' target='_blank'><ss3_text id="text" type="varchar" noedit="1"/> <span class="title" target="_blank" ss3_article_id="204"><ss3_text id="text" type="varchar" noedit="1"/></span></a></li> -->
                        </ul>

                    </div><!-- end #toplinks -->
                </div><!-- end #countries_toplinks -->

                

<div class="current_topsearch" id="topsearch" role="search" style="margin-top:0px"> 
    <div class="top">&nbsp;</div> 
    <div id="topsearch_container"> 
        <form method="post" action="http://www.flytap.com/Canada/enus/search" name="formSearch" id="formSearch" onsubmit="changeSearchAction();"> 
            <p class="hide" ss3_article_id="211"><label for="searchtoken">Search</label></p> 
            <p><input id="searchtoken" aria-label="search" tabindex="0" name="searchtoken" value="Search" class="text" type="text" onmouseover="window.status='Search'; return true;" onmouseout="window.status=''; return true;" onfocus="if (this.value == 'Search') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search';}"></p> 
            <p ss3_article_id="211"><button type="submit" value="" class="submitSearchImage" style="background:url('images/input_submit_search.gif') no-repeat top left; width:20px; height:20px; position:absolute; top:3px; right:10px;border:0;"><span class="offscreen">Search</span></button></p> 
        </form> 
    </div>
    <div class="bottom">&nbsp;</div> 
</div>

  
 <script>
    function changeSearchAction()
    {
        var tmp = 'http://www.flytap.com/Canada/enus/search';
        $("#formSearch").attr('action', tmp + '?searchBox=' + $("#searchtoken").val());
    }
 </script>

                <!-- VICTORIA - Caixa com link para login ou caso o utilizador esteja logado, com link para logout -->
                                <div id="loginTopContainer">
	<div class="vnotloggedin" id="logintopo" style="width: 200px; background: transparent none repeat scroll 0% 0%;">
        <img style="margin-left:30px; margin-top:20px;" alt="Loading..." src="images/victoria/ajax-loader.gif">
    </div>
</div>

<script>


    $(document).ready( function() {


        var user_lang2 = getCookie('victoria_user_data');

        if( user_lang2 == -1) user_lang2 = 'enus';        

        if(user_lang2 != 'pt' && user_lang2 != 'PTBR' && user_lang2 != 'en' && user_lang2 != 'es' && user_lang2 != 'de' && user_lang2 != 'fr') user_lang2='en';

        
        $.ajax({
                type: 'GET',
                url: window.location.protocol+"//"+window.location.hostname + "/master/"+user_lang2+"/"+ "templates/victoria/homepage/obj_login_topo.php/___voPageId=6104___voLangId=enus___voSiteId=CA",
                
                success:function(data) {
                    $("#loginTopContainer").html(data);
                }
        });

    });

</script>
                

                                       <div id="content-megadropdown">

    <div id="megadropdown" role="navigation" aria-presentation="true" aria-label="site Navigation" tabindex="0">

    <ul class="menu">

        <!-- Menu 1 -->
        <li ss3_article_id="43" class="destinations level1">
            <a href="http://destinos.flytap.com/en/?market=CA&amp;ml=enus" title="External Link" target="_blank" aria-haspopup="true" aria-expanded="false">
                <span class="title" ss3_article_id="43">Destinations &amp; Promotions	</span>
                <span ss3_article_id="44">Places, experiences, opportunities.</span>
                <span class="separator">&nbsp;</span>
            </a>
            <div class="mega_container">

                <div id="destinations_container" class="destinations-promotions-menu megadrop">
                    <span class="corner_top_right">&nbsp;</span>
                    <span class="bottom">&nbsp;</span>
                    <span class="clear">&nbsp;</span>

                    <!-- Content From Here Down-->
                    <div class="left">
                        <h2 ss3_article_id="45">Destinations</h2>
                        <span ss3_article_id="47">
                            <a class="world-map-link" target="_blank" href="http://destinos.flytap.com/en/Where-we-fly/?market=CA&amp;ml=enus"><span class="offscreen" ss3_article_id="45">DestinationsExternal Link</span></a>
                        </span>
                    </div>

                    <div class="right">
                        <span class="title" ss3_article_id="50">Top Destinations</span>
                        <span class="list-destinations">
                            <ul>
                                <li><a href="https://flights.flytap.com/en-ca/flights-to-lisbon" target="_blank"><strong>#1.</strong>&nbsp;Lisbon</a></li><li><a href="https://flights.flytap.com/en-ca/flights-to-paris" target="_blank"><strong>#2.</strong>&nbsp;Paris</a></li><li><a href="https://flights.flytap.com/en-ca/flights-to-ponta-delgada" target="_blank"><strong>#3.</strong>&nbsp;Ponta Delgada</a></li><li><a href="https://flights.flytap.com/en-ca/flights-to-amsterdam" target="_blank"><strong>#4.</strong>&nbsp;Amsterdam</a></li><li><a href="https://flights.flytap.com/en-ca/flights-to-barcelona" target="_blank"><strong>#5.</strong>&nbsp;Barcelona</a></li><li><a href="https://flights.flytap.com/en-ca/flights-to-faro" target="_blank"><strong>#6.</strong>&nbsp;Faro</a></li><li><a href="///en-ca/" target="_blank"><strong>#7.</strong>&nbsp;Seville</a></li><li><a href="https://flights.flytap.com/en-ca/flights-to-zurich" target="_blank"><strong>#8.</strong>&nbsp;Zurich</a></li><li><a href="https://flights.flytap.com/en-ca/flights-to-brussels" target="_blank"><strong>#9.</strong>&nbsp;Brussels</a></li><li><a href="https://flights.flytap.com/en-ca/flights-to-milan" target="_blank"><strong>#10.</strong>&nbsp;Milan</a></li>                            </ul>
                        </span>
                        <div ss3_article_id="68423">
                            <a class="blue-button goRight" href="https://flights.flytap.com/en-ca/flights-from-canada">
                                All destinations                            </a>
                        </div>
                    </div><!-- end .right -->

                    <div ss3_article_id="198">
                                            </div>
                    

                    <span class="clear">&nbsp;</span>
                </div>
            </div>
        </li>

        <!-- Menu 2 -->
        <li class="plan level1">
            <a href="http://www.flytap.com/Canada/enus/PlanBook" aria-haspopup="true" aria-expanded="false">
                <span class="title" ss3_article_id="68">Plan &amp; Book</span>
                <span ss3_article_id="63">Prepare for Travel,<br> Book, Tools</span>
                <span class="separator">&nbsp;</span>
            </a>
            <div class="mega_container">
                <div id="plan_container" class="megadrop">
                    <span class="corner_top_left_right">&nbsp;</span><span class="bottom">&nbsp;</span><span class="clear">&nbsp;</span>
                    <div class="left">
                        <h2 class="prepare" ss3_article_id="64">Prepare for Travel<span class="icon">&nbsp;</span></h2>
                        <ul class="simplelist" id="megaMenuPlanBook_leftList_CA" name=""><li><a href="http://www.flytap.com/Canada/enus/PlanBook/PrepareforTravel/travel-to-from-usa">Travel to United States</a></li><li><a href="http://www.flytap.com/Canada/enus/PlanBook/PrepareforTravel/baggage">Baggage</a></li><li><a href="http://www.flytap.com/Canada/enus/PlanBook/PrepareforTravel/check-in">Check-in</a></li><li><a href="http://www.flytap.com/Canada/enus/PlanBook/PrepareforTravel/AirTravelParticularMediConditions">Air travel and particular medical conditions</a></li><li><a href="http://www.flytap.com/Canada/enus/PlanBook/PrepareforTravel/tap-products">TAP Products</a></li><li><a href="http://www.flytap.com/Canada/enus/PlanBook/PrepareforTravel/TicketInfo">All information about Tickets</a></li><li><a href="http://www.flytap.com/Canada/enus/PlanBook/PrepareforTravel/SpecialNeeds">Special needs</a></li><li class="kids"><a href="http://www.flytap.com/Canada/enus/PlanBook/PrepareforTravel/InfantsAndChildren">Babies and children</a></li><li class="kids"><a href="http://www.flytap.com/Canada/enus/PlanBook/PrepareforTravel/UnaccompaniedMinors">Unaccompanied Minors</a></li><li><a href="http://www.flytap.com/Canada/enus/PlanBook/PrepareforTravel/kiosk">Digital kiosk</a></li></ul>                    </div><!-- end .left -->

                    <div class="middle">
                        <h2 class="booking" ss3_article_id="65">Book<span class="icon">&nbsp;</span></h2>
                        <ul class="simplelist" id="megaMenuPlanBook_centerList_CA" name=""><li class="_blank"><a target="_blank" title="Open a new window" href="http://book.flytap.com/r3air/TAPCA/AirStart.aspx?market=CA&amp;_l=en&amp;">Flight</a></li><li class="_blank"><a target="_blank" title="Open a new window" href="http://www.flytap.com/CA/en/templates/hotel.php/nocache=1">Hotel</a></li><li class="_blank"><a target="_blank" title="Open a new window" href="http://www.villas.com/?aid=394725;sid=bc9c07b37ef75d2071fefffa92cd9dce;dcid=4;selected_currency=CAD">Villas</a></li><li class="_blank"><a target="_blank" title="Open a new window" href="https://cars.flytap.com/en-us/?clientId=644693">Rent-a-Car</a></li><li class="_blank"><a target="_blank" title="Open a new window" href="https://transport.flytap.com/en-us/?clientId=644710">Transfers</a></li><li><a href="http://www.flytap.com/Canada/enus/PlanBook/Book/TAPPersonalisedAssistance">TAP Personalised Assistance</a></li><li><a href="http://www.flytap.com/Canada/enus/PlanBook/book/Copy-of-upgrades">Upgrades</a></li><li class="_blank"><a href="http://www.partner.viator.com/en/11164">Tours and activities</a></li></ul>                    </div><!-- end .middle -->

                    <div class="right">
                        <h2 class="tools" ss3_article_id="66">Tools<span class="icon">&nbsp;</span></h2>
                        <ul class="simplelist" id="megaMenuPlanBook_rightList_CA" name=""><li><a href="http://www.flytap.com/Canada/enus/PlanBook/PrepareforTravel/check-in/online-check-in">Check-in</a></li><li><a href="http://www.flytap.com/Canada/enus/PlanBook/Book/manage-booking">View Booking</a></li><li class="_blank"><a target="_blank" title="Open a new window" href="http://receipts.flytap.com/wps/portal/PaxReceipts/!ut/p/c1/04_SB8K8xLLM9MSSzPy8xBz9CP0os3hjA38DA3dLP193PzdDA89gd1dvt2BvQwsTQ30_j_zcVP2CbEdFAHH1AnM!/dl2/d1/L0lDUmlTUSEhL3dHa0FKRnNBL1lCUlp3QSEhL2Vu/">Print Receipt</a></li><li><a href="http://www.flytap.com/Canada/enus/PlanBook/Tools/DeparturesArrivals">Departures &amp; Arrivals</a></li><li><a href="http://www.flytap.com/Canada/enus/PlanBook/Tools/disability-assistance-request">Book additional services</a></li></ul>                    </div><!-- end .right -->

                    <span class="clear">&nbsp;</span>

                    <span ss3_article_id="196" id="myplanBook" style="margin-left: 20px;">
                                                                    </span>

                                        <div class="footer">
                        <span class="top">&nbsp;</span><span class="bottom">&nbsp;</span>
                        <h2 ss3_article_id="75">Flight Alerts<span class="icon">&nbsp;</span></h2>
                        <ul class="simplelist" id="megaMenuPlanAndBook_listFooter_CA" name=""><li><a href="http://www.flytap.com/Canada/enus/PlanBook/Book/notifications-service">Automatic notifications via email and SMS: keep up to date about your next flights.</a></li><li><a href="http://www.flytap.com/Canada/enus/PlanBook/PrepareforTravel/check-in">Online Check-in and Mobile Check-in: now you can check in for your flight 36 hours to 1½ hours before departure.</a></li><li>For security reasons and in case of any flight irregularities, it is requested to all passengers to provide an updated phone number and/or email address during the booking process.</li></ul><script>
      $(document).ready(function() {
			highlightMenu('http://www.flytap.com/')
      });
      </script>                        <span class="clear">&nbsp;</span>
                    </div><!-- end .footer -->
                                    </div><!-- end #plan_container -->
            </div>
        </li>

        <!-- Menu 3 -->
        <li class="information level1">
            <a href="http://www.flytap.com/Canada/enus/Informationandservices" aria-haspopup="true" aria-expanded="false">
                <span class="title" ss3_article_id="70">Information<br>&amp; Services</span>
                <span ss3_article_id="71">At the Airport, On Board,<br>Conventions</span>
                <span class="separator">&nbsp;</span>
            </a>
            <div class="mega_container">
                <div id="information_container" class="megadrop">
                    <span class="corner_top_left_right">&nbsp;</span><span class="bottom">&nbsp;</span><span class="clear">&nbsp;</span>

                    <div class="left">
                        <h2 class="airport" ss3_article_id="72">At the Airport<span class="icon">&nbsp;</span></h2>
                        <ul class="simplelist" id="megaMenuInformation_leftList_CA" name=""><li><a href="http://www.flytap.com/Canada/enus/PlanBook/PrepareforTravel/check-in/check-in-at-the-airport">Check-in at the airport</a></li><li><a href="http://www.flytap.com/Canada/enus/Informationandservices/Attheairport/PremiumBoarding">Premium boarding</a></li><li><a href="http://www.flytap.com/Canada/enus/Informationandservices/Attheairport/FreeParkingValetXpress">Parking &amp; ValetXpress</a></li><li><a href="http://www.flytap.com/Canada/enus/Informationandservices/Attheairport/GreenWay">Green Way / Fast Track</a></li><li><a href="http://www.flytap.com/Canada/enus/Informationandservices/Attheairport/ElectronicPassport">Electronic Passport</a></li></ul>                    </div><!-- end .left -->

                    <div class="middle">
                        <h2 class="onboard" ss3_article_id="73">On Board<span class="icon">&nbsp;</span></h2>
                        <ul class="simplelist" id="megaMenuInformation_centerList_CA" name=""><li><a href="http://www.flytap.com/Canada/enus/Informationandservices/Onboard/Executive">Executive</a></li><li><a href="http://www.flytap.com/Canada/enus/Informationandservices/Onboard/economy">Economy</a></li><li><a href="http://www.flytap.com/Canada/enus/Informationandservices/Onboard/Entertainment">Entertainmnet</a></li><li class="kids"><a href="http://www.flytap.com/Canada/enus/Informationandservices/Onboard/babies-and-children">Babies and children</a></li><li><a href="http://www.flytap.com/Canada/enus/Informationandservices/Onboard/electronic-devices-on-board">Electronic Devices on Board</a></li></ul>                    </div><!-- end .middle -->

                    <div class="right">
                        <h2 class="congresses" ss3_article_id="74">Conventions<span class="icon">&nbsp;</span></h2>
                        <ul class="simplelist" id="megaMenuInformation_rightList_CA" name=""><li><a href="http://www.flytap.com/Canada/enus/Informationandservices/Conventions/Calendar">Calendar</a></li><li><a href="http://www.flytap.com/Canada/enus/Informationandservices/Conventions/tap-meetings">TAP Meetings</a></li><li><a href="http://www.flytap.com/Canada/enus/Informationandservices/Conventions/ConventionsPlus">Convention Plus</a></li><li><a href="http://www.flytap.com/Canada/enus/Informationandservices/Conventions/MeetingsPlus">Meetings Plus</a></li></ul>                    </div><!-- end .right -->

                    <span class="clear">&nbsp;</span>

                    <span ss3_article_id="197" id="myinfo" style="margin-left: 20px;">
                                                                    </span>
                                        <div class="footer">
                        <span class="top">&nbsp;</span><span class="bottom">&nbsp;</span>
                        <h2 ss3_article_id="67">TAP Premium<span class="icon">&nbsp;</span></h2>
                        <ul class="simplelist" id="megaMenuInfoAndServ_listFooter_CA" name=""><li><a href="http://www.flytap.com/Canada/enus/Informationandservices/Attheairport/lounges">Discover the benefits of travelling tap|executive.</a></li></ul>                    </div><!-- end .footer -->
                                    </div><!-- end #information_container -->
            </div>
        </li>


        <!-- Menu 4 -->
        <li class="promotions level1">

            <a href="http://www.flytap.com/Canada/enus/support/welcome" aria-haspopup="true" aria-expanded="false">
                <span class="title" ss3_article_id="68596">Support </span>
                <span ss3_article_id="68597">Do Ask. We'll Answer.</span>
                <span class="separator">&nbsp;</span>
            </a>

            <div class="mega_container">
                <div id="promotions_container" class="support-menu megadrop">
                    <span class="corner_top_left_right">&nbsp;</span>
                    <span class="bottom">&nbsp;</span>
                    <span class="clear">&nbsp;</span>

                    <!-- Content From Here Down-->
                                        <div class="left" style="width:300px">
                        <h2 ss3_article_id="68598">Need help?</h2>

                        <div class="columns">
                                                <div class="support-menu-content">
                                <span class="title" ss3_article_id="68602">Contacts </span>
                                <p ss3_article_id="68603">
                                    Via Contact Center, Facebook or Twitter, we are at your disposal.                                </p>
                                <span ss3_article_id="68604">
                                    <a class="blue-button" href="http://www.flytap.com/Canada/enus/support/contacts">
                                        See all                                    </a>
                                </span>
                            </div>
                        </div>
                    </div>

                    <div class="right">
                        <h2 ss3_article_id="68605">TOP Frequently Asked Questions</h2>
                                                <ul>
                                                                                            <li><a href="http://www.flytap.com/Canada/enus/support/topics/plan-your-trip/flights-and-permits" title=""><strong>#1</strong><span>What destinations does TAP fly to?</span></a></li>
                                                                                            <li><a href="http://www.flytap.com/Canada/enus/support/topics/booking/book-a-flight" title=""><strong>#2</strong><span>How do I book a flight?</span></a></li>
                                                                                            <li><a href="http://www.flytap.com/Canada/enus/support/topics/luggage/weight-and-size" title=""><strong>#3</strong><span>How much checked luggage am I allowed to take?</span></a></li>
                                                    </ul>
                        <span class="clear">&nbsp;</span>
                    </div>
                    <span class="clear">&nbsp;</span>

                    <div class="support-menu-footer">
                        <div class="related-topics">
                            <h2 ss3_article_id="68606">Questions by Topics</h2>
                            <div class="topics">
                                <span ss3_article_id="68607">
                                    <a class="item" href="http://www.flytap.com/Canada/enus/support/topics/plan-your-trip/flights-and-permits">
                                        <span class="icon "><img src="mediaRep/editors/Contentimages/ICONS/SupportHub/TOPICOS/DESKTOP/SUPPORTHUB-MENUAPOIO/1.png" alt=""></span>
                                        <span class="text">
                                            Flights &amp; Permits                                        </span>
                                    </a>
                                </span>
                                <span ss3_article_id="68608">
                                    <a class="item" href="http://www.flytap.com/Canada/enus/support/topics/plan-your-trip/transports-and-hotels">
                                        <span class="icon "><img src="mediaRep/editors/Contentimages/ICONS/SupportHub/TOPICOS/DESKTOP/SUPPORTHUB-MENUAPOIO/2.png" alt=""></span>
                                        <span class="text">
                                            Transports &amp; Hotels                                        </span>
                                    </a>
                                </span>
                                <span ss3_article_id="68609">
                                    <a class="item" href="http://www.flytap.com/Canada/enus/support/topics/special-needs/health-and-personalised-assistance">
                                        <span class="icon "><img src="mediaRep/editors/Contentimages/ICONS/SupportHub/TOPICOS/DESKTOP/SUPPORTHUB-MENUAPOIO/4.png" alt=""></span>
                                        <span class="text">
                                            Health &amp; Personalised Assistance                                        </span>
                                    </a>
                                </span>
                                <span ss3_article_id="68610">
                                    <a class="item" href="http://www.flytap.com/Canada/enus/support/topics/special-needs/animals">
                                        <span class="icon "><img src="mediaRep/editors/Contentimages/ICONS/SupportHub/TOPICOS/DESKTOP/SUPPORTHUB-MENUAPOIO/5.png" alt=""></span>
                                        <span class="text">
                                            Animals                                         </span>
                                    </a>
                                </span>
                                <span ss3_article_id="68611">
                                    <a class="item" href="http://www.flytap.com/Canada/enus/support/topics/booking/book-a-flight">
                                        <span class="icon "><img src="mediaRep/editors/Contentimages/ICONS/SupportHub/TOPICOS/DESKTOP/SUPPORTHUB-MENUAPOIO/6.png" alt=""></span>
                                        <span class="text">
                                            Book a Flight                                        </span>
                                    </a>
                                </span>
                                <span ss3_article_id="68612">
                                    <a class="item" href="http://www.flytap.com/Canada/enus/support/topics/booking/payment">
                                        <span class="icon "><img src="mediaRep/editors/Contentimages/ICONS/SupportHub/TOPICOS/DESKTOP/SUPPORTHUB-MENUAPOIO/8.png" alt=""></span>
                                        <span class="text">
                                            Payment                                        </span>
                                    </a>
                                </span>
                                <span class="clear">&nbsp;</span>
                            </div>
                            <span ss3_article_id="68613">

                                <a class="blue-button" href="http://www.flytap.com/Canada/enus/support/topics">
                                    See all                                </a>
                            </span>

                            <span class="clear"></span>
                        </div>
                    </div>
                    <span class="megadrop-dialog-terms"></span>
                </div>
            </div>
        </li>


        <!-- Menu 5 - VICTORIA -->
                <li class="victoria level1" id="VictoriaMegaMenu">

  <a href="http://www.flytap.com/Canada/enus/Victoria/promotions-and-highlights?29" title="Victoria - Promoções, Ofertas Especiais, Passatempos">
    <span class="title" ss3_article_id="34"></span>
    <span ss3_article_id="35"></span>
  </a>
</li>
<script>
    var userData = jQuery.parseJSON(getCookie('victoria_user_data')); 
    
    var tierLevel = '';
    var tierClass = '';

    //Menu Lateral

    if( userData != null && userData != undefined ) {
        
        tierLevel = userData['tierLevel'];

        if(tierLevel == 'FS' || tierLevel == 'SW' || tierLevel == 'HS') tierClass = 'silver';
        else if(tierLevel == 'FG' || tierLevel == 'GW' || tierLevel == 'HG') tierClass = 'gold';
        else if(tierLevel == 'FM' || tierLevel == 'MW') tierClass = 'miles';
        else tierClass = '';
    
    }
    
    $(document).ready( function() {

        //$("#topbarlogin").addClass(tierClass);
        //$("#contentmenulogin").addClass(tierClass);
        //$("#logovictoriasubmenu").addClass(tierClass);

        //var user_lang2 = getCookie('victoria_user_data');
        var user_lang2 = getCookie('victoria_lang');

        if( user_lang2 == -1) user_lang2 = 'enus';        

        if(user_lang2 != 'pt' && user_lang2 != 'PTBR' && user_lang2 != 'en' && user_lang2 != 'es' && user_lang2 != 'de' && user_lang2 != 'fr') user_lang2='en';


        $.ajax({
                type: 'GET',
                url: window.location.protocol+"//"+window.location.hostname + "/master/"+user_lang2+"/"+ "templates/victoria/forms/form_login_megamenu.php/___voPageId=6104___voTier="+tierClass+"___voLangId=enus___voSiteId=CA______",
                
                success:function(data) {
                    //console.log(data);
                    $("#VictoriaMegaMenu").html(data);
                    
                }
        });

    });

</script>
        
        <li class="stopOver level1" id="stopOverMenu" ss3_article_id="95336">
            <a class="" href="http://www.flytap.com/Canada/enus/stopover " title="" target="" id="056445eef74bc9a4210f5857676d5b93">                <span class="title">Portugal Stopover</span>
                <span>Discover Portugal on the way</span>
            
</a>
        </li>

    </ul>

    <span class="clear">&nbsp;</span>

</div><!-- end #megadropdown -->
</div><!-- end #content #megadropdown -->

<span class="banners-dialog-terms"></span>
<span class="slideshow-dialog-terms"></span>

<script type="text/javascript">

$(window).ready(function(){


    var elements_list = $('#megaMenuPlanBook_centerList_CA li');
    

    var link = "";
    //console.log(elements_list_url);
    elements_list.each(function(index,element) {

        var elements_list_url = element.children;
        link = element.innerHTML;
        index_str = link.indexOf("www.villas.com");


        if(index_str > 0){
            link = elements_list_url[0].href;
            elements_list_url[0].setAttribute("href", link + "&label=airtap-vl-navtab-homepage-CAENUS");

        }
    });
    //ADD to scripts: close the more info popup for banners in the TAB 1 of mega menu
    $('.dialog-terms-close').live('click',function(e){
        $('.dialogTerms').remove();
    });

    //Add to script: init the carrousel in the TAB 1 of the mege menu


    if ( $('.promo-carousel').length) {

        

        //ADD to scripts: open banner to show more info in the banners of TAB 1 in the mega menu
        $('.paypal-banner .info, .promo-banner .info').click(function(e){
            e.preventDefault();

            if ($('.dialogTerms').length)
                $('.dialogTerms').remove();

            $('<div class="dialogTerms"><span class="dialog-terms-close">X</span><div class="dialogTerms-content"/></div>').appendTo('body');

            $('.dialogTerms-content').html($(this).children('.dialogContent').html()).show();;
        });

    }

});
</script>
                
            </div><!-- end #header -->
            <span class="clear">&nbsp;</span>

<script>

$(document).ready(function() {
    //Função para alterar código de língua (atributo lang) em alteração de região
    function changelang(){
        $(".combo_topcountries .newListSelected ul li a.hiLite").each(function() {
            var tmpDOTLang = dotLang[$(this).parent().attr("class")];
            var LANGID = 'enus';
            if(LANGID != tmpDOTLang) {
                $(this).attr("lang",tmpDOTLang);
            }

            $('.combo_topcountries .selectedTxt').attr("lang",tmpDOTLang);
        });
    }
    $("#strangeBug").attr('href','http://www.tap'+'portugal.com');

    changelang();


    $('.combo_topcountries .selectedTxt').bind("DOMSubtreeModified",function(){
      var tmpClass = $(this).attr("class");
     /* console.log(tmpClass);*/
      var tmpArrClass = tmpClass.split(" ");
      //alert(tmpArrClass[1] +" - " + tmpArrClass[0]);
      $(this).attr("lang",dotLang[tmpArrClass[1]]);
    });
    //Fim



});
</script>

            <div id="content">


                 <div id="body">
                    <div class="top">&nbsp;</div><div class="bottom">&nbsp;</div>
					<div id="homepage" role="main" tabindex="0">

						 

                    <div id="breadcrumbs"> 
                        <ul> 
							<li><a href="http://www.flytap.com/Canada/enus/Homepage">Homepage</a></li><li><a href="http://www.flytap.com/Canada/enus/Others">Others</a></li>
<li><a href="http://www.flytap.com/Canada/enus/Others/Footer">Footer</a></li>
<li><span aria-label="Current Page">Privacy</span></li>
                        </ul> 
                    </div><!-- end #breadcrumbs --> 
                    <span class="clear">&nbsp;</span> 


<!--script>
	$(document).ready(function(){

		var userData = jQuery.parseJSON(getCookie('victoria_user_data'));
  		
  		if(userData != null && userData != undefined ) {
  			$(".victoriaLinkBread").attr("href","");
  		} 


  	});

</script-->

	
		<div class="modules-wrapper modules-wrapper-relative" id="modules-wrapper-form">

						<!-- content_open -->
						<!-- crisis banner start -->

						<!-- crisis banner end -->
<div id="modules" template="CA/enus/Others/Footer/Privacy.php">
<div class="module" id="10d2b69efdb3efe20753f1f460bee5ad_bb76c6ed823e130325da2b4147cd07c7">	<div class="heading basic" ss3_article_id="#1">
		<h1 id="top_h1"><span class="icon none">&nbsp;</span>Privacy &amp; Security Policy  </h1>
	</div></div>
<div class="module" id="f367fc8a9e70ad164a3238914f40472d_50afb0bb0385fd3ffd96743947c73ee8"><div class="free_area"><div class="simple_content">
	<div class="bodyBasicText formatedUlli" ss3_article_id="#1">
		<h2><strong>Safety Conditions</strong></h2>
<p>We are aware that exchanging personal information is a great concern for Internet users.</p>
<p>We will only request information about your credit card if you wish to make a reservation.</p>
<p>The security offered by the application is through the SSL (Secure Socket Layer) technology, based on encrypting the communications exchanged between your PC and our server, so that these cannot be intercepted.</p>
<h2><strong>Privacy Policy</strong></h2>
<p>TAP will collect all possible information concerning its clients, with he aim of offering a personalised service and allow an easy navigation.</p>
<p>TAP will assure the best possible customer relation, and for that purpose will follow the principles of data protection.</p>
<p>Our customer's personal data will not be made available to a third party, and will only be used, with the authorisation of the client, in marketing campaigns or newsletters.</p>
<p>Should the client wish not to receive more marketing information, he/she will notify TAP accordingly.</p>
<p>Your navigation on this site will be monitored for statistical purposes.</p>
<h2><strong>Use of Cookies</strong></h2>
<p>Cookies are small information files placed in your PC, thus allowing Web Sites to remember your past choices, dates and paths on the site.</p>
<p>These files are also used to prevent that you have to repeat your personal data and password every time you use TAP Services.</p>
<p>The user is entitled to configure his browser to inform him every time a cookie is received, or even to deactivate its acceptance. However, TAP alerts that this will prevent the use of some of our services.</p>
<br>		<div style="clear:both; float:none; display:hidden; height:0;"></div>
	</div>
</div></div></div>
</div>						<!-- content_close -->
						<!-- quando colocar o share não esquecer colocar o if contentOnly-->

						<div id="sharepage_new">

<!--<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>-->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

<script type="text/javascript">
function validateEmail(field) {
    var regex=/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b/i;
    //var pattern = /^[a-zA-Z][\w\.-]*[a-zA-Z0-9]@[a-zA-Z0-9][\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]$/;
    return (regex.test(field)) ? true : false;
}

function validateMultipleEmailsCommaSeparated(value) {
    if(value == undefined || value == "") return false;
    var value2 = value.replace(";",",");
    var result = value2.split(",");
    for(var i = 0;i < result.length;i++)
    if(!validateEmail(result[i])) 
            return false;               
    return true;
}

function validateSendfriend()
{
	$("#div_email").removeClass("error");
	$("#div_my_email").removeClass("error");
	var pattern = /^[a-zA-Z][\w\.-]*[a-zA-Z0-9]@[a-zA-Z0-9][\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]$/;
	if(!validateMultipleEmailsCommaSeparated($('#sendfriend_email').val()))
	{
		$('.error_msg').removeClass('hide');
		$('.fill_valid_email').removeClass('hide');
		$('.container_info_email').addClass('error'); 
		flagSmile = 0;
		$("#div_email").addClass("error");
		return false;
	}
	if(!validateMultipleEmailsCommaSeparated($('#sendfriend_my_email').val()))
	{
		$("#div_my_email").addClass("error");
		return false;
	}
	return true;
}

  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
  $(document).ready(function() {
    $('.print').click(function(){window.print();});
    //$('#sharepage li.email a').click(function(){$( "#sendfriend" ).dialog({resizable: false, dialogClass: 'shareit', title: 'Share with friends', width: 310});});
    //$('#sharepage_new li.email a').click(function(){$( "#sendfriend" ).dialog({resizable: false, dialogClass: 'shareit', title: 'Share With a friend', width: 310});});
    //$('#sendfriend a.close').click(function(){$('#sendfriend label+input').attr('value',' ');$('#sendfriend textarea').attr('value',' ');$('#sendfriend').hide();});
  });
</script>
<!---->
<div id="fb-root"></div>
<script>(function(d, s, id) {
	var js, fjs = d.getElementsByTagName(s)[0];
	if (d.getElementById(id)) return;
	js = d.createElement(s); js.id = id;
	js.src = "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.3&appId=748866225233333";
	fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



<!---->
<!--<style>
.fblike iframe {width: 107px !important; } acessibilidade
</style>-->
	<div>
		<ul class="share-menubar printless">
			<!--<li class="email"><a href="javascript:" title="E-mail" class="email"><span class="title">&nbsp;</span></a></li>-->
			<li class="print-area">
				<button class="print" title="Print this page"><span>Print</span></button>
			</li>
		    <li class="google1"><g:plusone size="medium" annotation="none"></g:plusone></li>

		    <li class="tweetbtn"><a href="https://twitter.com/share" class="twitter-share-button" data-count="none" data-lang="en" data-hashtags="flytap"></a></li>

			<!--li class="tweetbtn"><a href="https://twitter.com/share" class="twitter-share-button" data-via="maechec" data-lang="pt" data-hashtags="Flytap">Tweetar</a></li-->

		    <li class="fblike"><iframe title="Like us on Facebook" src="//www.facebook.com/plugins/like.php?href=http://www.flytap.com/Canada/enus/Others/Footer/Privacy&amp;send=false&amp;layout=button_count&amp;width=90&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font=arial&amp;height=21&amp;locale=en_US" scrolling="no" frameborder="0" allowtransparency="true"></iframe></li>
		    <!--<li class="fblike" style="margin-left:10px; float: right;"><div class="fb-like" data-width="500px" data-layout="standard" data-action="like" data-show-faces="false" data-share="true"></div></li>-->
		    <li class="fbshare"><div class="fb-share-button" data-href="http://www.flytap.com/Canada/enus/Others/Footer/Privacy" data-layout="button_count"></div></li>
		</ul>

	  
	</div>
	<span class="clear">&nbsp;</span>	
</div>
<span class="clear">&nbsp;</span>
						</div>
					</div>
                </div><!-- end #body -->
            </div><!-- end #content -->
				<!--MC objSideBarDOT.php-->
<script type="text/javascript" src="http://www.flytap.com/javascript/flytap/cryptoJS-MD5.js"></script>
<script language="Javascript" type="text/javascript">

/* checin online code */

jQuery(document).ready(function() {
	
	$( "#atc_alert" ).dialog({autoOpen: false,modal: true,resizable: false,draggable: false,width: 546,buttons: {"Ok": function() {$( this ).dialog( "close" ); document.sidebar_manager.submit(); }}});

	var checkinServices = new Array;
	var services_data = new Array;
	
	
	checkinServices["AMS"] = "AMADEUS:48";
checkinServices["ARN"] = "AMADEUS:48";
checkinServices["BCN"] = "AMADEUS:48";
checkinServices["BLQ"] = "AMADEUS:48";
checkinServices["BRU"] = "AMADEUS:48";
checkinServices["BSB"] = "AMADEUS:48";
checkinServices["CNF"] = "AMADEUS:48";
checkinServices["DKR"] = "AMADEUS:48";
checkinServices["EWR"] = "AMADEUS:24";
checkinServices["FCO"] = "AMADEUS:48";
checkinServices["FNC"] = "AMADEUS:48";
checkinServices["FOR"] = "AMADEUS:48";
checkinServices["GIG"] = "AMADEUS:48";
checkinServices["GRU"] = "AMADEUS:48";
checkinServices["GVA"] = "AMADEUS:48";
checkinServices["HOR"] = "AMADEUS:48";
checkinServices["LAD"] = "AMADEUS:48";
checkinServices["LGW"] = "AMADEUS:48";
checkinServices["LHR"] = "AMADEUS:48";
checkinServices["LIS"] = "AMADEUS:48";
checkinServices["MAD"] = "AMADEUS:48";
checkinServices["MPM"] = "AMADEUS:48";
checkinServices["MXP"] = "AMADEUS:48";
checkinServices["NAT"] = "AMADEUS:48";
checkinServices["OPO"] = "AMADEUS:48";
checkinServices["ORY"] = "AMADEUS:48";
checkinServices["OSL"] = "AMADEUS:48";
checkinServices["PDL"] = "AMADEUS:48";
checkinServices["PIX"] = "AMADEUS:48";
checkinServices["PXO"] = "AMADEUS:48";
checkinServices["REC"] = "AMADEUS:48";
checkinServices["SSA"] = "AMADEUS:48";
checkinServices["TER"] = "AMADEUS:48";
checkinServices["TMS"] = "AMADEUS:48";
checkinServices["VCE"] = "AMADEUS:48";
checkinServices["VCP"] = "AMADEUS:48";
checkinServices["ZRH"] = "AMADEUS:48";
checkinServices["LYS"] = "AMADEUS:48";
checkinServices["TLS"] = "AMADEUS:48";
checkinServices["CPH"] = "AMADEUS:48";
checkinServices["WAW"] = "AMADEUS:48";
checkinServices["VIE"] = "AMADEUS:48";
checkinServices["MAN"] = "AMADEUS:48";
checkinServices["PRG"] = "AMADEUS:48";
checkinServices["BUD"] = "AMADEUS:48";
checkinServices["MIA"] = "AMADEUS:24";
checkinServices["POA"] = "AMADEUS:48";
checkinServices["NCE"] = "AMADEUS:48";
checkinServices["BOD"] = "AMADEUS:48";
checkinServices["MRS"] = "AMADEUS:48";
checkinServices["CMN"] = "AMADEUS:48";
checkinServices["BIO"] = "AMADEUS:48";
checkinServices["SVQ"] = "AMADEUS:48";
checkinServices["RAK"] = "AMADEUS:48";
checkinServices["LUX"] = "AMADEUS:48";
checkinServices["HEL"] = "AMADEUS:48";
checkinServices["CCS"] = "AMADEUS:48";
checkinServices["OTP"] = "AMADEUS:48";
checkinServices["VLC"] = "AMADEUS:48";
checkinServices["FAO"] = "AMADEUS:48";
checkinServices["MOW"] = "AMADEUS:48";
checkinServices["DME"] = "AMADEUS:48";
checkinServices["ALG"] = "AMADEUS:48";
checkinServices["AGP"] = "AMADEUS:48";
checkinServices["ACC"] = "AMADEUS:48";
checkinServices["SXF"] = "AMADEUS:48";
checkinServices["BEL"] = "AMADEUS:48";
checkinServices["MAO"] = "AMADEUS:48";
checkinServices["SID"] = "AMADEUS:48";
checkinServices["TNG"] = "AMADEUS:48";
checkinServices["BEG"] = "AMADEUS:48";
checkinServices["HAJ"] = "AMADEUS:48";
checkinServices["TLL"] = "AMADEUS:48";
checkinServices["NTE"] = "AMADEUS:48";
checkinServices["GOT"] = "AMADEUS:48";
checkinServices["LED"] = "AMADEUS:48";
checkinServices["PTY"] = "AMADEUS:48";
checkinServices["BOG"] = "AMADEUS:48";
checkinServices["BVC"] = "AMADEUS:48";
checkinServices["VXE"] = "AMADEUS:48";
checkinServices["RAI"] = "AMADEUS:48";
checkinServices["DUS"] = "AMADEUS:48";
checkinServices["HAM"] = "AMADEUS:48";
checkinServices["FRA"] = "AMADEUS:48";
checkinServices["MUC"] = "AMADEUS:48";
checkinServices["OVD"] = "AMADEUS:48";
checkinServices["BOS"] = "AMADEUS:24";
checkinServices["JFK"] = "AMADEUS:24";
var newAPT ="";  var newAptDate ="";	
	/* -- */
	
	$.widget("ui.customautocomplete", $.extend({}, $.ui.autocomplete.prototype, {
		_response: function(contents){
			if(contents == null || contents == '') contents = ["No match found"];
			$.ui.autocomplete.prototype._response.apply(this, arguments);
			$(this.element).trigger("autocompletesearchcomplete", [contents]);
		}
	}));	
	
	/*  --  */

	
	
	$('div.container_airports_checkin_to').hide();
	$('div.container_checkin_online_ffn').hide();
	$('div.container_checkin_online_date').hide();
	$('div.container_reservation_number').hide();

	$('#combo_checkin_airports').change(function(){
		

		var from_code = $(this).val();
		var checkinService = "";

		$('#checkin_online_to option:first').attr("selected","selected");
		$('#checkin_online_from_code').val(from_code);
		
		if(typeof(checkinServices[from_code]) != 'undefined'){			

			var services_data = checkinServices[from_code];
			services_data = services_data.split(':');
			checkinService = services_data[0];
			
			$('#checkin_online_date_time').val(services_data[1]);
			$('#checkin_online_service_code').val(checkinService);
			
			var cctime = services_data[1];
			var c_days      = 0;
			var c_days_name = '';
			var c_opt		= '';												
			var c_extra 	= 0;
			
			var time4now = new Date().getTime();
			var split = checkinServices[from_code].split(':');
			if(split[2]){
				var date4newAPT = new Date(split[2]).getTime();
			}
			else{
				var date4newAPT = 0;
			}
			
			if(split[2] && IS_IE)
			{ 
				date4newAPT = new Date(split[2].replace("-",",")).getTime();
				
			}
			var time4newAPT = date4newAPT - time4now;
			var hours4newAPT = Math.floor(time4newAPT/1000/60/60);
			
			while(c_extra <= cctime) {
				
				switch(c_extra) {
					case 0:  c_days = 0; c_days_name = "Today"; break;								
					case 24:  c_days = 1; c_days_name = "Tomorrow"; break;
					case 48:  c_days = 2; c_days_name = ""; break;
					case 72:  c_days = 3; c_days_name = "In the next 72 hours"; break;
					case 96:  c_days = 4; c_days_name = "In the next 96 hours"; break;	
					case 120: c_days = 5; c_days_name = "In the next 120 hours"; break;
				}
		
				var myDate = new Date();							
				var datenow = myDate.setDate(myDate.getDate() + c_days);
				datenow = (myDate.format('d/m/Y'));
				
				//MC Excepção para ocultar o primeiro dia dropdown
				if(split[2] && time4now < date4newAPT)
				{		
					if(parseInt(c_extra, 10) > parseInt(hours4newAPT, 10))
					{

						c_opt += '<option value="' + datenow + '">' + c_days_name + ' - ' + datenow + '</option>';	
						
					}
				}
				else{
					c_opt += '<option value="' + datenow + '">' + c_days_name + ' - ' + datenow + '</option>';																			
				}
																		
				c_extra += 24;
			}
			
			$('#checkin_online_date').html(c_opt);
			//$('p.combo_slidingmenu_checkin').find('div.selectedTxt').html('Please select');
			//$('#checkin_online_date').resetSS();						
			
			if(checkinService == 'TAP') {						
				$('div.container_checkin_online_ffn').show();
				$('div.container_checkin_online_date').hide();						
				$('div.container_reservation_number').hide();
				$("div.container_checkin_online_ffn").attr("aria-hidden", "false");
     		    $("div.container_checkin_online_date").attr("aria-hidden", "true");
        		$("div.container_reservation_number").attr("aria-hidden", "true");
			} else if(checkinService == 'AMADEUS') {
				$('div.container_checkin_online_ffn').show();
				$('div.container_checkin_online_date').show();
				$('div.container_reservation_number').show();
				$("div.container_checkin_online_ffn").attr("aria-hidden", "false");
        		$("div.container_checkin_online_date").attr("aria-hidden", "false");
        		$("div.container_reservation_number").attr("aria-hidden", "false");
			} else {
				$('div.container_checkin_online_ffn').hide();
				$('div.container_checkin_online_date').hide();					
				$('div.container_reservation_number').hide();
				$("div.container_checkin_online_ffn").attr("aria-hidden", "true");
        		$("div.container_checkin_online_date").attr("aria-hidden", "true");
        		$("div.container_reservation_number").attr("aria-hidden", "true");
			}
			
		}		
		
		
	});
	
	$('#checkin_online_ffn').focus(function(){
		var thisval	= $(this).val();
		$('#checkin_online_ffn').val(thisval);
	});
	
	/* -- */
	
	$(function() {
	    //var checkinAvailableAirports = [];   
	    var termTemplate = "<span class='ui-autocomplete-term'>%s</span>";
	    
	    $("#checkin_online_from").keydown(function(){
			$('div.container_checkin_online_ffn').hide();
			$('div.container_checkin_online_date').hide();
			$('div.container_reservation_number').hide(); 
				
		});

	    $("#checkin_online_from").customautocomplete({
			//source: checkinAvailableAirports,
			source: "http://www.flytap.com/getAptMatch.php?new12345678&language=enus&checkinOnline",
			//source: "http://www.flytap.com/getWCI.php?",
			minLength: 3,
			delay: 50,
			open: function(e,ui) {
				var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
				var contentElem= $('.ui-menu-item a:first').text();
                
	            var numElem = acData.menu.element.find('li ').length;

	            if (numElem == 1  )
	            {

	                var textResults = "Result found, use the up and down keys to navigate.";

	            } 

	            else 
	            {

	                var textResults = "Results found, use the up and down keys to navigate. ";
	            }
	            var num_elem = numElem + ' ' + textResults;
	            var elemntNoMatch = "No results found.";

				acData.menu.element.find('li a').each(function() {
					var me = $(this);
					me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );
	
				});

				if(contentElem != 'No match found'){
                
                $('#checkin_online_from_num_elem').html(num_elem);

	            }

	            if(contentElem == 'No match found'){
	                
	                $('#checkin_online_from_num_elem').html(elemntNoMatch);
	              
	                
	            }
				$('a.airports_checkin_online_from').show();

			},
			close: function(){
				var checkinService = '';
				var apt_name = "language=enus&getAptFromName=" + $('#checkin_online_from').val();	
				//console.log(apt_name);
				$.post('http://www.flytap.com/IBEpost.php', apt_name, function(apt_code) {
					
					//console.log(apt_code);
					$('#checkin_online_from_code').val(apt_code);
					
					var newtext = $('#checkin_online_from').val();					
				    newtext = newtext.substring(0,newtext.length-6);
					$('#checkin_online_from').val(newtext);
					
					if(typeof(checkinServices[apt_code]) != 'undefined'){							
						
						var services_data = checkinServices[apt_code];
						services_data = services_data.split(':');
						checkinService = services_data[0];
						
						$('#checkin_online_date_time').val(services_data[1]);
						$('#checkin_online_service_code').val(checkinService);
						
						var cctime = services_data[1];
						var c_days      = 0;
						var c_days_name = '';
						var c_opt		= '';												
						var c_extra 	= 0;
						
						var time4now = new Date().getTime();
						var split = checkinServices[apt_code].split(':');
						if(split[2]){
							var date4newAPT = new Date(split[2]).getTime();
						}
						else{
							var date4newAPT = 0;
						}
						
						if(split[2] && IS_IE)
						{ 
							date4newAPT = new Date(split[2].replace("-",",")).getTime();
							
						}
						var time4newAPT = date4newAPT - time4now;
						var hours4newAPT = Math.floor(time4newAPT/1000/60/60);
								
								
						
						while(c_extra <= cctime) {
							switch(c_extra) {
								case 0:  c_days = 0; c_days_name = "Today"; break;								
								case 24:  c_days = 1; c_days_name = "Tomorrow"; break;
								case 48:  c_days = 2; c_days_name = ""; break;
								case 72:  c_days = 3; c_days_name = "In the next 72 hours"; break;
								case 96:  c_days = 4; c_days_name = "In the next 96 hours"; break;	
								case 120: c_days = 5; c_days_name = "In the next 120 hours"; break;
							}

							var myDate = new Date();							
							var datenow = myDate.setDate(myDate.getDate() + c_days);
							datenow = (myDate.format('d/m/Y'));
							
							if(split[2] && time4now < date4newAPT)
							{
								//console.log(cctime+"--"+c_extra+"---"+c_days_name);
								//alert("c_extra"+c_extra+" - time4now - "+time4now+ "date4newAPT = "+date4newAPT+"  hours4newAPT ="+hours4newAPT);
								//console.log( parseInt(c_extra, 10)+"> "+parseInt(hours4newAPT, 10));
								
								if(parseInt(c_extra, 10) > parseInt(hours4newAPT, 10))
								{
									c_opt += '<option value="' + datenow + '">' + c_days_name + ' - ' + datenow + '</option>';										
								}
							}
							else{
								c_opt += '<option value="' + datenow + '">' + c_days_name + ' - ' + datenow + '</option>';				
							}
								
							c_extra += 24;
						}
						
						$('#checkin_online_date').html(c_opt);
						$('p.combo_slidingmenu_checkin').find('div.selectedTxt').html('Please select');
						//$('#checkin_online_date').resetSS();						
						$('#checkin_online_date').show();
						if(checkinService == 'TAP') {						
							$('div.container_checkin_online_ffn').show();
							$("div.container_checkin_online_ffn").attr("aria-hidden", "false");
							$('div.container_checkin_online_date').hide();						
							$('div.container_reservation_number').hide();
							$("div.container_checkin_online_date").attr("aria-hidden", "true");
              				$("div.container_reservation_number").attr("aria-hidden", "true");
						} else if(checkinService == 'AMADEUS') {
							$('div.container_checkin_online_ffn').show();
							$('div.container_checkin_online_date').show();
							$('div.container_reservation_number').show();
							$("div.container_checkin_online_ffn").attr("aria-hidden", "false");
              				$("div.container_checkin_online_date").attr("aria-hidden", "false");
              				$("div.container_reservation_number").attr("aria-hidden", "false");							
						} else {
							$('div.container_checkin_online_ffn').hide();
							$('div.container_checkin_online_date').hide();					
							$('div.container_reservation_number').hide();
							$("div.container_checkin_online_ffn").attr("aria-hidden", "true");
              				$("div.container_checkin_online_date").attr("aria-hidden", "true");
              				$("div.container_reservation_number").attr("aria-hidden", "true");
						}
						
					}
					
					$('a.airports_checkin_online_from').show();
					$('div.container_airports_checkin_to').show();
				});
				
			}
	    });    
	});	 
	
	/*---*/
$('.errTextDOT').hide();
	$('#checkin_online_button').click(function(){


		
		var checkin_lang = 'enus';
		if(checkin_lang == "PTBR"){
			checkin_lang = "pt";
		}
		
		var c_service	= $('#checkin_online_service_code').val();
		var c_from		= $('#checkin_online_from_code').val();
		// var c_to		= $("#checkin_online_to").val();
		var c_ffn		= $('#checkin_online_ffn').val();
		var c_date		= $('#checkin_online_date').val();
		var c_time		= $('#checkin_online_date_time').val();		
		var c_url		= '';
		var c_rn		= $('#checkin_online_reservation').val(); //LV - issue 1278

		var flag = 0,
        strAlpha = "Use only letters",
        checkinFromHidden = $('#checkin_online_from').css("visibility") == "hidden";

    $('input').removeAttr("aria-invalid");

    	function isAlpha(strAlpha){
     	 var alphaNum = /^[a-zA-ZÀ-ÿ()\s.,-]*$/i;
      	 var re = $(strAlpha).val();
      	 return alphaNum.test(re);
   	    }

   	    if($("#checkin_online_from").val() == '' || $("#combo_checkin_airports").val() == '' || $("#combo_checkin_airports").val() == 0){

    if(checkinFromHidden && $("#combo_checkin_airports").val() == 0 || checkinFromHidden && $("#combo_checkin_airports").val() == "0"){

        if(!isAlpha($("#checkin_online_from"))){
            $("#combo_checkin_airports").addClass('error');
            $("#checkin_online_from-error").addClass("error-class");
            flag ++;
            // return false;


        }else{

            $("#combo_checkin_airports").addClass('error');
            $("#checkin_online_from-error").addClass("error-class");
            flag ++;
             // return false;


        }


    }

    else if(!checkinFromHidden){

       if(!isAlpha($("#checkin_online_from"))){
            $("#checkin_online_from").addClass('error');
            $("#combo_checkin_airports").addClass('error');
            $("#checkin_online_from").attr("aria-invalid", "true");
            $("#checkin_online_from-error").addClass("error-class");
             $("#checkin_online_from-error").text(strAlpha);
            flag++;
             // return false;

        }
        if($("#checkin_online_from").val() == ""){
        // else{

            $("#checkin_online_from").addClass('error');
            $("#combo_checkin_airports").addClass('error');
            $("#checkin_online_from").attr("aria-invalid", "true");
            $("#checkin_online_from-error").addClass("error-class");
            $("#checkin_online_from-error").text("Required field");
            flag++;
       
             // return false;

            
        }


    }

  }

		if($("div.container_checkin_online_date").is(":visible")){
			c_date_split  	= c_date.split("/");
			c_date_pixel 	= c_date_split[2] + "-" + c_date_split[1] + "-" + c_date_split[0];	
		}
		
		if((c_from == "DUS" || c_from == "HAM") && (c_date == "27/02/2015" || c_date == "28/02/2015")){
			c_service = "LH";
		}

		if((c_from == "FRA" || c_from == "MUC") && (c_date == "19/03/2015" || c_date == "20/03/2015" || c_date == "21/03/2015" || c_date == "22/03/2015" || c_date == "23/03/2015")){
			c_service = "LH";
		}

		if(c_from == "VIE" && (c_date == "06/04/2015" || c_date == "07/04/2015" )){
			c_service = "AUS";
		}

		if(c_from == "GVA" && (c_date == "11/04/2016")){
			c_service = "SP";
		}

		/*-*/
	
		//if(c_from != '') { $(".container_airports_checkin_from").removeClass('error'); } 
		//else { flag = 1; $(".container_airports_checkin_from").addClass('error'); return false; }
		
		//LV - issue 1278
		if(c_rn.length != 6 && c_rn.length != 0 && c_ffn.length <= 2 ) { 
			//flag = 1;
			 $(".container_reservation_number").addClass('error');
			  return false;
			   }
		else { 
			$(".container_reservation_number").removeClass('error');
			 } 
				
		/*-*/
		
		if(c_service != '' && c_service != 'undefined') {
			
			if(c_service == 'TAP') {
								
				var x_checkin_lang = (checkin_lang != "pt" && checkin_lang != "en") ? "en" : checkin_lang;
				
				if(c_ffn == 'TP' || c_ffn == '') {
					c_url = "http://checkin2.flytap.com/CheckIn2WAR/index.jsp?lang=" + x_checkin_lang + "&cidade=" + c_from;					
				} else {
					var new_c_ffn = c_ffn.replace(/TP/g,"");
					c_url = "http://checkin2.flytap.com/CheckIn2WAR/index.jsp?lang=" + x_checkin_lang + "&cidade=" + c_from + "&fqtv=" + new_c_ffn;
				}
			
			} else if (c_service == 'AMADEUS') {

					//LV - issue 1278: adicionado codigo de reserva c_rn
					var c_url_prefix = 'https://checkin.si.amadeus.net/1ASIHSSCWEBTP/sscwtp/';
				
					if(c_ffn == 'TP' || c_ffn == '') {
						if(c_rn == '' || c_rn == 'undefined')
							c_url = c_url_prefix + "checkin?ln=" + checkin_lang + "&IDepartureDate=" + c_date;
						else
							c_url = c_url_prefix + "checkindirect?ln=" + checkin_lang + "&IDepartureDate=" + c_date + "&IFormOfIdentification=PNR&IIdentification=" + c_rn;
					} else {
						/*if(c_rn == '' || c_rn == 'undefined')
							c_url = c_url_prefix + "checkindirect?ln=" + checkin_lang + "&IFormOfIdentification=FFTP&IIdentification=" + c_ffn + "&IDepartureDate=" + c_date;
						else*/
						c_url = c_url_prefix + "checkindirect?ln=" + checkin_lang + "&IDepartureDate=" + c_date + "&IFormOfIdentification=FFTP&IIdentification=" + c_ffn;
					}
				// }
			} else if (c_service == 'SP') {
				c_url = 'https://www.web-check-in.com/checkin.php?al=TP&lang=' + checkin_lang;	
			} else if (c_service == 'LH') {
				c_url = "http://www.lufthansa.com/xx/en/Online-Check-in?source=web";
			}
			else if (c_service == 'AUS') {
				//c_url = "https://checkin.austrian.com/webcki2/spring/main?LANG=" + checkin_lang;
				c_url = "https://wci.austrian.com?l=" + checkin_lang;				
			} else {
				c_url = 'http://checkintst.flytap.com/';				
			}
			
			// alert(c_url);

			
			
			
			
		} 
		 if(flag > 0){
		 	
		 	// $(".errTextDOT").attr("tabindex", "0");

         $('.errTextDOT').show();
         $(".errTextDOT").attr("aria-hidden", "false");
         $('.errTextDOT').focus();
         $('.errTextDOT').find('.errTitleDOT').text("Errors were found in the form");
         $('.errTextDOT').find('.errTxtDOT').text(flag + ((flag==1)?" error":(" errors")) + ".");
          
      }
			if(flag == 0){
        $('.errTextDOT').hide();
			window.open(
				c_url,
				'checkin',
				'location=yes,toolbar=yes,menubar=yes,directories=yes,status=yes,resizable=yes,scrollbars=yes',
				false
			);	
			}

return false;	
	});
	
	/*---*/
	
});

</script>

<script language="Javascript" type="text/javascript">
/* manage your booking */
jQuery(document).ready(function() {
	

	 function hiddenFields(stra){
    $(stra).removeClass("error");
    $(stra).parent().children('.span-add-error').removeClass('error-class');
    $(stra).parent().children('.span-add-error').empty();
    $(stra).css("visibility", "hidden");
  }  

  function visibilityFields(stra){
    $(stra).removeClass("error");
    $(stra).parent().children('.span-add-error').removeClass('error-class');
    $(stra).parent().children('.span-add-error').empty();
    $(stra).css("visibility", "");
  }



	$('#opt_print_receipt, #opt_reimbursement, #opt_services').click(function(){
		$('div.manage_booking_details').hide();
		$('div.manage_booking_details').attr("aria-hidden", "true");
		$('p.info_booking_details').hide();
		$('#manage_booking_reference').val('           ');
		$('#manage_booking_last_name').val('           ');

	 hiddenFields('#manage_booking_reference', '#manage_booking_reference-error');
    hiddenFields('#manage_booking_last_name', '#manage_booking_last_name-error');

    $('.errTextDOT').hide();
    $('.errTitleDOT').empty();
    $('.errTxtDOT').empty();
	});
	
	$('#manage_booking_reference').click(function(){ $(this).val(''); });	
	$('#manage_booking_last_name').click(function(){ $(this).val(''); });		

	$('#opt_manage_booking').click(function(){
		$('p.info_booking_details').show();		
		$('div.manage_booking_details').show();
		$('div.manage_booking_details').attr("aria-hidden", "false");		
		$('#manage_booking_reference').val('');
		$('#manage_booking_last_name').val('');

		visibilityFields('#manage_booking_reference', '#manage_booking_reference-error');
    visibilityFields('#manage_booking_last_name', '#manage_booking_last_name-error');
	});
	
	$('#ManageBooking').click(function(){
		var flag = 0,
    referenceHidden = $('#manage_booking_reference').css("visibility") == "hidden",
    lastNameHidden = $('#manage_booking_last_name').css("visibility") == "hidden";
    $('input').removeAttr("aria-invalid");

    var strNum = "<=$erroalfnum?>"
        strAlpha = "Use only letters";
        strNumAlpha = "Use only letters and numbers";

    function isNumeric(strNum){
        var alphaNum = /^[a-z0-9]*$/i;
        var re = $(strNum).val();
        return alphaNum.test(re);
    }
    //numeros e letras
function isAlphaNumeric(alpha){
	var alphaNum = /^[a-z0-9]*$/i;
    var re = $(alpha).val();
    return alphaNum.test(re);
    }


    function isAlpha(strAlpha){
        //LETRAS, LETRAS ACENTUADAS, ESPAÇO EM BRANCO, . E ,
        var alphaNum = /^[a-zA-ZÀ-ÿ]*$/i;
        var re = $(strAlpha).val();
        return alphaNum.test(re);
    }

    function valid(stra, strb, valFunc, text){
      if($(stra).val() == ""){
          $(stra).addClass("error");
          $(stra).attr("aria-invalid", "true");
          $(strb).addClass("error-class");
          $(strb).text("Required field");

           flag++;
           // console.log('flag 1: ' + flag);

      }
      if(!valFunc(stra)){
          $(stra).addClass("error");
          $(stra).attr("aria-invalid", "true");
          $(strb).addClass("error-class");
          $(strb).text(text);

           flag++;
           // console.log('flag 2: ' + flag);
      }
      if(referenceHidden && lastNameHidden){
        $('.errTextDOT').hide();
        $('.errTitleDOT').empty();
        $('.errTxtDOT').empty();
        flag = 0;
        // console.log('flag 3: ' + flag);
      }
    }

    valid($('#manage_booking_reference'), $("#manage_booking_reference-error"), isAlphaNumeric, strNumAlpha);
    valid($('#manage_booking_last_name'), $("#manage_booking_last_name-error"), isAlpha, strAlpha);

   // console.log((referenceHidden && lastNameHidden));


    if(flag > 0){
      $('.errTextDOT').show();
      $(".errTextDOT").attr("aria-hidden", "false");
      $('.errTextDOT').focus();
      $('.errTextDOT').find('.errTitleDOT').text("Errors were found in the form");
      $('.errTextDOT').find('.errTxtDOT').text(flag + ((flag==1)?" error":(" errors")) + ".");
    }

    if(flag == 0){
      $('.errTextDOT').hide();
        if(validateSidebar('manage_booking')) {
         //$( "#atc_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open");
         return true;
        } else { 
          return false; 
        }
    }

    return false;

	});

$('#btn_check_voos').click(function(){

    var flag = 0,
        strAlpha = "Use only letters",
        arrivalsDeparturesHidden = $('#arrivalsdepartures_select_airport').css("visibility") == "hidden",
        arrivalsOriginHidden = $('#arrivalsdepartures_select_airport_from').css("visibility") == "hidden",
        arrivalsDestinyHidden = $('#arrivalsdepartures_select_airport_to').css("visibility") == "hidden";

    $('input').removeAttr("aria-invalid");

    function isAlpha(strAlpha){
      var alphaNum = /^[a-zA-ZÀ-ÿ()\s.,-]*$/i;
      var re = $(strAlpha).val();
      return alphaNum.test(re);
    }

  function isNumeric(strNum){
        var alphaNum = /^[a-z0-9]*$/i;
        var re = $(strNum).val();
        return alphaNum.test(re);
    } 

    function valid(stra, strb, valFunc, text){
      if($(stra).val() == ""){
          $(stra).addClass("error");
          $(stra).attr("aria-invalid", "true");
          $(strb).addClass("error-class");
          $(strb).text("Required field");

           flag++;
           // console.log('flag 1: ' + flag);

      }
      else if(!valFunc(stra)){
          $(stra).addClass("error");
          $(stra).attr("aria-invalid", "true");
          $(strb).addClass("error-class");
          $(strb).text(text);

           flag++;
           // console.log('flag 2: ' + flag);
      }
    }


function selectInput(stra, strb, strc, strd){
  if($(stra).val() == '' || $(strb).val() == '' || $(strb).val() == 0){

  if(strc && $(strb).val() == 0 || strc && $(strb).val() == "0"){

      if(!isAlpha($(stra))){
          $(strb).addClass('error');
          $(strd).addClass("error-class");
          flag ++;

      }else{

          $(strb).addClass('error');
          $(strd).addClass("error-class");
          flag ++;
       }
  }

  else if(!strc){

     if(!isAlpha($(stra))){
          $(stra).addClass('error');
          $(strb).addClass('error');
          $(stra).attr("aria-invalid", "true");
          $(strd).addClass("error-class");
           $(strd).text(strAlpha);
          flag++;
       }
      else if($(stra).val() == ""){
      // else{

          $(stra).addClass('error');
          // $(strb).addClass('error');
          $(stra).attr("aria-invalid", "true");
          $(strd).addClass("error-class");
          $(strd).text("Required field");
          flag++;
      }

  }

  }

  // return false;
}


  if($('#searchByAirport').hasClass('open')){
  	
    selectInput("#arrivalsdepartures_select_airport", "#sidebar_arrivalsdepartures_drop", arrivalsDeparturesHidden, "#arrivalsdepartures_select_airport-error");
  }  

  if($('#searchByOriginDestination').hasClass('open')){
    selectInput("#arrivalsdepartures_select_airport_from", "#sidebar_arrivalsdepartures_drop_rf", arrivalsOriginHidden, "#arrivalsdepartures_select_airport_from-error");
    selectInput("#arrivalsdepartures_select_airport_to", "#sidebar_arrivalsdepartures_drop_rt", arrivalsDestinyHidden, "#arrivalsdepartures_select_airport_to-error");
  

  }

  if($('#searchByFlight').hasClass('open')){
    valid($('#arrivalsdepartures_tp'), $("#arrivalsdepartures_tp-error"), isNumeric, strNum);

  }
    

  if(flag > 0){
    // console.log("entrei 6");
    $('.errTextDOT').show();
    $(".errTextDOT").attr("aria-hidden", "false");
    $('.errTextDOT').focus();
    $('.errTextDOT').find('.errTitleDOT').text("Errors were found in the form");
    $('.errTextDOT').find('.errTxtDOT').text(flag + ((flag==1)?" error":(" errors")) + ".");
  }


  if(flag == 0){
    $('.errTextDOT').hide();
    $("#sidebar_departures").submit();

    // validateSidebarNew('departures_arrivals');
  }
  
  return false;
  });


});
</script>

      <div id="sidebar" role="complementary"> 

                	        			<!--objIBE2 With CRUISE AND PARKING - start-->
<span class="clear"></span>
<ul id="bookingtool" class="bookingToolSidebar" role="tablist" aria-label="Booking Tool" tabindex="0">
    <li id="GA_voos" role="presentation" onclick="return true;" class="item position0 open">
        <div class="topbar"></div>
        <div class="header" id="tab-1" aria-controls="panel-1" aria-selected="true" aria-expanded="true" role="tab" tabindex="0">
            <div class="icon airplane"></div>
            <div class="text"><span ss3_article_id="200">Flights</span></div>
        </div>
        <div class="content" id="panel-1" aria-labelledby="tab-1" aria-hidden="false" role="tabpanel">
                        <div class="sidebar_container">
                <div class="tab-flights" id="tab-flights">
        <!-- objIBE-->
<script language="Javascript" type="text/javascript">

$.widget("ui.customautocomplete", $.extend({}, $.ui.autocomplete.prototype, {
		_response: function(contents){
			if(contents == null || contents == '')
			contents = ["No match found"];
			$.ui.autocomplete.prototype._response.apply(this, arguments);
			$(this.element).trigger("autocompletesearchcomplete", [contents]);
		}
	}));
var termTemplate = "<span class='ui-autocomplete-term'>%s</span>";

function bindAutoCompleteFlightTo()
{
	$("#flights_to").customautocomplete({
		source:SEED3_URL+"getAptMatch.php?new149&language="+langId+"&getDestinations="+$("#origin").val(),
		minLength: 3,
		delay: 50,
		open: function(e,ui) {
			$("#flights_to_num_elem").html('');
		var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
		var uiactive =  acData.menu.element.find('li a:first');

        var contentElem= uiactive.text();


		var numElem = acData.menu.element.find('li ').length;
		if (numElem == 1  ) {

			var textResults = "Result found, use the up and down keys to navigate.";

			} else {
			var textResults = "Results found, use the up and down keys to navigate. ";
			}
		var num_elem = numElem + " "  + textResults;

		var elemntNoMatch = "No results found.";

		acData.menu.element.find('li a').each(function() {
			var me = $(this);
			me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );

		});

		if(contentElem != "No match found"){

		$('#flights_to_num_elem').html(num_elem);
		}
		if(contentElem == "No match found"){

		$("#flights_to_num_elem").html(elemntNoMatch);

		}

		}
	});
}
function bindAutoCompleteFlightArrDepTo()
{
	var mySelectedAirp = $("#arrivalsdepartures_select_airport_from").val();
	if (mySelectedAirp.length != 3 && mySelectedAirp.length > 5)
		fromSelectedAirp = mySelectedAirp.substring(mySelectedAirp.length-4, mySelectedAirp.length-1);

	$("#arrivalsdepartures_select_airport_to").customautocomplete({
		source: SEED3_URL+"getAptMatch.php?new168&language="+langId+"&getDestinations="+fromSelectedAirp,
		minLength: 3,
		delay: 50,
		open: function(e,ui) {
				var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
				var uiactive =  acData.menu.element.find('li a:first');

		        var contentElem= uiactive.text();


				var numElem = acData.menu.element.find('li ').length;
				if (numElem == 1  ) {

					var textResults = "Result found, use the up and down keys to navigate.";

					} else {
					var textResults = "Results found, use the up and down keys to navigate. ";
					}
				var num_elem = numElem + " "  + textResults;

				var elemntNoMatch = "No results found.";

				acData.menu.element.find('li a').each(function() {
					var me = $(this);
					me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );

				});

				if(contentElem != "No match found"){

				$('#arrivalsdepartures_select_airport_to_num_elem').html(num_elem);
				}
				if(contentElem == "No match found"){

				$("#arrivalsdepartures_select_airport_to_num_elem").html(elemntNoMatch);

				}
		}
	});
}

//LV alterado $post_language para $aid_language no office id - issue 1441
multicity_link = "https://book.flytap.com/r3air/tap/DeepLink.aspx?_a=FTCAEN&language=EN-US&market=CA&searchType=multi";
powerchoice_link = powerchoice_link + '?market=CA&language=en-us&_l=EN-US&_a=FTCAEN';

var mymarket ='CA';
var langId = "enus";

jQuery(document).ready(function() {


	$('#destination').val("");



	//Maxmind geoLocation - START
	var geo_location_market = "CA";
	var office_id = "FTCAenus";
	var langId = "enus";
	var currentMarket = "CA";
	var redirectAPT = "";
	var originCode  = "AAA";

	var my_url = "http://www.flytap.com/maxmind/getLocation.php";
	$.get(my_url,function(data){
		var mySplitResult = data.split("_____");
		redirectAPT = mySplitResult[3];
		if(redirectAPT.length == 3)
		{
			getAptName_url = "http://www.flytap.com/loadOriginDestination.php?new22&language="+langId+"&getAptString="+redirectAPT;
			$.get(getAptName_url,function(data){
				$('#flights_from').val(data);
				$('#origin').val(redirectAPT);
				$("#combo_airports_flights_from").val(redirectAPT);
				originCode = redirectAPT;
			});
			$('#origin').val(redirectAPT);
			<!--.-->

			var lang='en';
			var testedata = 'language='+lang+'&getDestinations=' + redirectAPT;
			$.get('http://www.flytap.com/loadOriginDestination.php?new227', testedata, function(destinations) {

				var html = lis = '', x = 0;

					//Wingman IE7 speed up
					if (IS_IE_7 || IS_IE_8 || IS_MOBILE_BROWSER)
						html = '<option value="0">Select airport</option>';
					availableAirports = new Array;
					$.each(destinations, function(i, v){
                       // lis += '<li><a href="javascript:;" rel="' + i + '">' + v + '</a></li>';
                       html += '<option value="' + i + '">' + v + '</option>';
                       availableAirports[x] = v + ' (' + i + ')';
                       x++;
                   });

					$('#combo_airports_flights_to').html(html);

						//$('#combo_airports_flights_to').prepend("<option value='0'>-- Select airport --</option>");
						//$('#combo_airports_flights_to').val("0");
       // $('div.container_airports_flights_to').find('ul.newList').html(lis);
			}, 'json');
		bindAutoCompleteFlightTo();
		}
	});
	//Maxmind geoLocation - END

	       $('#combo_airports_flights_to').change(function(){

       // $(this).find('option:selected').each(function(){
    // $('div.container_airports_flights_to').find('ul.newList li a').each(function(){
    // $(this).click(function(){

	    	var optionSelected = $(this).find("option:selected");
	        // optionSelected.val("");
	        destinationCode = optionSelected.val();
	        destinationText = optionSelected.text();

	        $('#destination').val(destinationCode);

	        $("option[value=" + destinationCode + "]", $('#combo_airports_flights_to')).attr('selected','selected');
	       // $('span.combo_airports_flights_to').find('div.selectedTxt').html(destinationText);


	       $('#flights_to').val(destinationText);

	       //if(us_airport(destinationCode)) { $( "#us_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }

	       if(ven_airport(destinationCode)) { $( "#ven_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }

	        //$(this).parent().parent().hide();

        /* - */

        	if(mymarket == 'pt') {

        		if(residentArray[key] != undefined) {
        			for(var i = 0, l = residentArray[redirectAPT].length; i < l; i++) {
        				if(residentArray[redirectAPT][i] == destinationCode) {
                    	// $('div.residents').show();
	                    if($('#flighttype_oneway').is(':checked')) {
	                    	$('div.residents').show();
	                    	$('div.residents').attr('aria-hidden',"false");
	                    	$('#residents').attr('checked',false);
	                    	$('#residents').attr('disabled', 'disabled');
		                    } else {
		                    	$('div.residents').show();
		                    	$('div.residents').attr('aria-hidden',"false");
		                    }
		                    break;
	                	}
            		}
    			}
		    	if(studentArray[redirectAPT] != undefined) {
		    		for(var i = 0, l = studentArray[redirectAPT].length; i < l; i++) {
		    			if(studentArray[redirectAPT][i] == destinationCode) {
		                    // $('div.students').show();
		                    if($('#flighttype_oneway').is(':checked')) {
		                    	$('div.students').show();
		                    	$('div.students').attr('aria-hidden',"false");
		                    	$('#students').attr('checked',false);
		                    	$('#students').attr('disabled', 'disabled');
		                    } else{
		                    	$('div.students').show();
		                    	$('div.students').attr('aria-hidden',"false");
		                    }
		                    break;
	                	}
	            	}
	    		}
			    $('#flighttype_oneway').click(function(){
			    	$('#students').attr('checked', false);
			    	$('#residents').attr('checked', false);

			    	$('#students').attr('disabled', 'disabled');
			    	$('#residents').attr('disabled', 'disabled');

			    	$('div.people_age .middle').show();
			    	$('div.people_age .right').show();
			    });

			    $('#residents').click(function(){
			    	$('#flighttype_return').attr('checked','checked');
			    	$('div.people_age .middle').show();
			    	$('div.people_age .right').show();
			    	$('#students').attr('checked', false);

			    	if($('#residents').is(':checked')) {
			    		$('#flighttype_oneway').attr('disabled','disabled');
			    	}
			    	else {
			    		$('#flighttype_oneway').attr('disabled','');
			    	}

			    });

			    $('#students').click(function(){
			    	$('#flighttype_return').attr('checked','checked');
			    	$('div.people_age .middle').show();
			    	$('div.people_age .right').show();
			    	$('#residents').attr('checked', false);
			    	if($('#students').is(':checked')) {
			    		$('div.people_age .middle').hide();
			    		$('div.people_age .right').hide();
			    		$('#flighttype_oneway').attr('disabled','disabled');
			    		$( "#std_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true;
			    	}

			    	else {
			    		$('#flighttype_oneway').attr('disabled','');
			    	}
			    });

			    $('#flighttype_return, #flighttype_multicity, #flighttype_powerchoice').live('click', function(){
			    	$('#students').attr('disabled', '');
			    	$('#residents').attr('disabled', '');
			    	$('div.people_age .middle').show();
			    	$('div.people_age .right').show();
			    	$('#flighttype_onway').attr('disabled','');
			    });
			}
		});

	$('select.airport_textbox').change(function(){
		$('#arrivalsdepartures_select_airport').val( $('option:selected', $(this)).text() );
	});

	var lastAdultVal = 1;

	$('#flight_adults.newComboStyle').change(function(){

		/* ADULTS COMBOBOX CORRECTIONS - 25/7/2012 */
		var babies = $('#flight_babies').val();
		var children = $('#flight_children').val();
		var total = parseInt($(this).val()) + parseInt(children);
		var error = false;

		if(total > 9){
			$(this).val(0);
			error = true;
			$("#passenger_max_alert").parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open");
		}

		if(!(total > 9) && ($(this).val() < babies) ){
			error = true;
			$("#passenger_alert").parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open");
		}

		if(!(total > 9) && ($(this).val() > babies)){
			var maxChildren = parseInt(($(this).val()-babies)*4) + parseInt(babies);
			if(children > maxChildren){
				error = true;
				$("#passenger_alert").parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open");
			}
		}

		if(!(total > 9) && ($(this).val() == babies)){
			if(children>$(this).val()){
				error = true;
				$("#passenger_alert").parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open");
			}
		}

		if(error)
			$(this).val(lastAdultVal);
		else
			lastAdultVal = $(this).val();
		/* END OF CORRECTIONS */

		/*if (!IS_IE_7 && !IS_IE_8 && !IS_MOBILE_BROWSER)
			$('#flight_children').resetSS();

		if (!IS_IE_7 && !IS_IE_8 && !IS_MOBILE_BROWSER)
			$('#flight_babies').resetSS();
		if (!IS_IE_7 && !IS_IE_8 && !IS_MOBILE_BROWSER)
			$(this).resetSS();*/
	});

$('#flight_babies.newComboStyle').change(function(){

	var adults = $('#flight_adults').val();
	var children = $('#flight_children').val();

	if( $(this).val() > adults ){
		$(this).val(adults);
		$('#flight_babies').next('div').html('<div class="selectedTxt">' + adults + '</div>');
		$("#passenger_alert").parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open");
	}

	if($(this).val() == adults){
		if(children>adults)
		{
			var max=$(this).val();
			while( max>-1)
			{
				max--;
					//alert(max);
					if(children<=(adults - max)*4+(adults-max))
					{
						//alert('Got it '+max);
						$(this).val(max);
						$('#flight_babies').next('div').html('<div class="selectedTxt">' + max + '</div>');
						$("#passenger_alert").parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open");
						break;
					}
				}
			}
		}

		if($(this).val() < adults){
			var maxChildren = parseInt((adults-$(this).val())*4) + parseInt($(this).val());

			if(children > maxChildren)
			{
				$("#passenger_alert").parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open");
				$(this).val(0);
			}
		}
		/*if (!IS_IE_7 && !IS_IE_8 && !IS_MOBILE_BROWSER)
		$(this).resetSS();*/

	});


$('#flight_children.newComboStyle').change(function(){

	var adults = $('#flight_adults').val();
	var babies = $('#flight_babies').val();
	var total = parseInt($(this).val()) + parseInt(adults);

	if(total > 9){
			// $('#flight_adults').val(0);
	    	// $('#flight_adults').resetSS();
	    	$(this).val(0);
	    	$("#passenger_max_alert").parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open");
	    }

	    if(  babies<adults ){

	    	var maxChildren = parseInt((adults-babies)*4) + parseInt(babies);

	    	if( $(this).val() > maxChildren ){
	    		$(this).val( maxChildren );
	    		$('#flight_children').next('div').html('<div class="selectedTxt">' + (adults - babies)*4 + '</div>');
	    		$("#passenger_alert").parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open");
	    	}

	    }
	    if(babies==adults){

	    	if( $(this).val() > adults  ){
	    		$(this).val(adults);
	    		$('#flight_children').next('div').html('<div class="selectedTxt">' + adults + '</div>');
	    		$("#passenger_alert").parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open");
	    	}
	    }
		/*if (!IS_IE_7 && !IS_IE_8 && !IS_MOBILE_BROWSER)
			$(this).resetSS();
			*/
		});


/**/

var airportsWarningUsa = new Array();

/* danish */

airportsWarningUsa[0]    = 'PHL';
airportsWarningUsa[1]    = 'HFD';
airportsWarningUsa[2]    = 'ALB';
airportsWarningUsa[3]    = 'PVD';
airportsWarningUsa[4]    = 'BWI';
airportsWarningUsa[5]    = 'BOS';
airportsWarningUsa[6]    = 'WAS';
airportsWarningUsa[7]    = 'MHT';
airportsWarningUsa[8]    = 'SYR';
airportsWarningUsa[9]    = 'ROC';
airportsWarningUsa[10]   = 'BTV';
airportsWarningUsa[11]   = 'PWM';
airportsWarningUsa[12]   = 'RIC';
airportsWarningUsa[13]   = 'ORF';
airportsWarningUsa[14]   = 'BUF';
airportsWarningUsa[15]   = 'PIT';
airportsWarningUsa[16]   = 'ROA';
airportsWarningUsa[17]   = 'CLE';
airportsWarningUsa[18]   = 'RDU';
airportsWarningUsa[19]   = 'DCA';
airportsWarningUsa[20]   = 'GSO';
airportsWarningUsa[21]   = 'CMH';
airportsWarningUsa[22]   = 'DTT';
airportsWarningUsa[23]   = 'CLT';
airportsWarningUsa[24]   = 'MYR';
airportsWarningUsa[25]   = 'DAY';
airportsWarningUsa[26]   = 'CVG';
airportsWarningUsa[27]   = 'CAE';
airportsWarningUsa[28]   = 'GSP';
airportsWarningUsa[29]   = 'GRR';
airportsWarningUsa[30]   = 'CHS';
airportsWarningUsa[31]   = 'TYS';
airportsWarningUsa[32]   = 'SDF';
airportsWarningUsa[33]   = 'IND';
airportsWarningUsa[34]   = 'SAV';
airportsWarningUsa[35]   = 'CHI';
airportsWarningUsa[36]   = 'MKE';
airportsWarningUsa[37]   = 'ATL';
airportsWarningUsa[38]   = 'BNA';
airportsWarningUsa[39]   = 'JAX';
airportsWarningUsa[40]   = 'HSV';
airportsWarningUsa[41]   = 'MSN';
airportsWarningUsa[42]   = 'STL';
airportsWarningUsa[43]   = 'DAB';
airportsWarningUsa[44]   = 'ORL';
airportsWarningUsa[45]   = 'MEM';
airportsWarningUsa[46]   = 'TPA';
airportsWarningUsa[47]   = 'MSP';
airportsWarningUsa[48]   = 'DSM';
airportsWarningUsa[49]   = 'PBI';
airportsWarningUsa[50]   = 'SRQ';
airportsWarningUsa[51]   = 'FLL';
airportsWarningUsa[52]   = 'FMY';
airportsWarningUsa[53]   = 'RSW';
airportsWarningUsa[54]   = 'LIT';
airportsWarningUsa[55]   = 'MIA';
airportsWarningUsa[56]   = 'MKC';
airportsWarningUsa[57]   = 'OMA';
airportsWarningUsa[58]   = 'MSY';
airportsWarningUsa[59]   = 'BTR';
airportsWarningUsa[60]   = 'TUL';
airportsWarningUsa[61]   = 'OKC';
airportsWarningUsa[62]   = 'DFW';
airportsWarningUsa[63]   = 'HOU';
airportsWarningUsa[64]   = 'AUS';
airportsWarningUsa[65]   = 'SAT';
airportsWarningUsa[66]   = 'DEN';
airportsWarningUsa[67]   = 'ABQ';
airportsWarningUsa[68]   = 'ELP';
airportsWarningUsa[69]   = 'PHX';
airportsWarningUsa[70]   = 'BOI';
airportsWarningUsa[71]   = 'GEG';
airportsWarningUsa[72]   = 'LAS';
airportsWarningUsa[73]   = 'SLC';
airportsWarningUsa[74]   = 'SEA';
airportsWarningUsa[75]   = 'SAN';
airportsWarningUsa[76]   = 'PDX';
airportsWarningUsa[77]   = 'FAT';
airportsWarningUsa[78]   = 'LAX';
airportsWarningUsa[79]   = 'SAC';
airportsWarningUsa[80]   = 'OAK';
airportsWarningUsa[81]   = 'SJC';
airportsWarningUsa[82]   = 'SFO';
airportsWarningUsa[83]   = 'ANC';
airportsWarningUsa[84]   = 'HNL';
airportsWarningUsa[85]   = 'ORD';
airportsWarningUsa[86]   = 'IAH';
airportsWarningUsa[87]   = 'EWR';
airportsWarningUsa[88]   = 'IAD';

/* Venezuela */
var airportsWarningVen = new Array();

//MC issue 1536 - syncar my scripts
//airportsWarningVen[0]   = 'OPO';

/* danish */

/*
var airportsWarningDanish = new Array();

airportsWarningDanish[0]    = 'AAL';
airportsWarningDanish[1]    = 'AAR';
airportsWarningDanish[2]    = 'BLL';
airportsWarningDanish[3]    = 'RNN';
airportsWarningDanish[4]    = 'CPH';
airportsWarningDanish[5]    = 'KRP';
airportsWarningDanish[6]    = 'SGD';
*/

/**/

var residentArray = new Array();
residentArray['CVU']=new Array("FAO","FNC","LIS","OPO");
residentArray['FLW']=new Array("FAO","FNC","LIS","OPO");
residentArray['GRW']=new Array("FAO","FNC","LIS","OPO");
residentArray['HOR']=new Array("FAO","FNC","LIS","OPO");
residentArray['PDL']=new Array("FAO","FNC","LIS","OPO");
residentArray['PIX']=new Array("FAO","FNC","LIS","OPO");
residentArray['SJZ']=new Array("FAO","FNC","LIS","OPO");
residentArray['SMA']=new Array("FAO","FNC","LIS","OPO");
residentArray['TER']=new Array("FAO","FNC","LIS","OPO");
residentArray['FNC']=new Array("CVU","FLW","GRW","HOR","PDL","PIX","SJZ","SMA","TER");

var studentArray = new Array();
studentArray['LIS'] = new Array("HOR", "GRW", "FLW", "CVU", "PIX", "PDL", "SMA", "SJZ", "TER");
studentArray['OPO'] = new Array("HOR", "GRW", "FLW", "CVU", "PIX", "PDL", "SMA", "SJZ", "TER");
studentArray['FAO'] = new Array("HOR", "GRW", "FLW", "CVU", "PIX", "PDL", "SMA", "SJZ", "TER");
studentArray['FNC'] = new Array("HOR", "GRW", "FLW", "CVU", "PIX", "PDL", "SMA", "SJZ", "TER");
studentArray['HOR'] = new Array("LIS", "OPO", "FAO", "FNC");
studentArray['GRW'] = new Array("LIS", "OPO", "FAO", "FNC");
studentArray['FLW'] = new Array("LIS", "OPO", "FAO", "FNC");
studentArray['CVU'] = new Array("LIS", "OPO", "FAO", "FNC");
studentArray['PIX'] = new Array("LIS", "OPO", "FAO", "FNC");
studentArray['PDL'] = new Array("LIS", "OPO", "FAO", "FNC");
studentArray['SMA'] = new Array("LIS", "OPO", "FAO", "FNC");
studentArray['SJZ'] = new Array("LIS", "OPO", "FAO", "FNC");
studentArray['TER'] = new Array("LIS", "OPO", "FAO", "FNC");

$("#combo_airports_flights_from").change(function(){
	originCode = $(this).val();
	var originText = $(this, ':selected').text();
	var data = 'language=en&getDestinations=' + originCode;
	var destinationCode = destinationText = '';


	$('div.residents').hide();
	$('div.residents').attr('aria-hidden','true');
	$('div.students').hide();
	$('div.students').attr('aria-hidden','true');

	$('#origin').val(originCode);

	bindAutoCompleteFlightTo();

	$("option[value=" + originCode + "]", $('#combo_airports_flights_from')).attr('selected','selected');
			//$('span.combo_airports_flights_from').find('div.selectedTxt').html(originText);

			$('#flights_from').val(originText);

			// BUG ME
			//$('#flights_from').html(originText);



			//if(us_airport(originCode)) { $( "#us_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); }

			if(ven_airport(originCode)) { $( "#ven_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); }
	    	// if(danish_airport(originCode)) { $( "#danish_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); }

//	alert( $('#origin').val() );

$.get(window.location.protocol+'//' + window.location.hostname + '/loadOriginDestination.php?bbb', data, function(destinations) {
	var html = lis = '', x = 0;

				 //Wingman IE7 speed up
				 if (IS_IE_7 || IS_IE_8 || IS_MOBILE_BROWSER)
				 	html = '<option value="0">Select airport</option>';

                    // availableAirports = new Array;
                    $.each(destinations, function(i, v){
                        //                  alert(i);
                        //if(x == 0) {
                        //$('option[value=' + i + ']', $('#combo_airports_flights_to')).attr('selected','selected');
                        //}

                        //                  lis += '<li><a href="javascript:;" rel="' + i + '">' + v + ' (' + i + ')</a></li>';
                        //lis += '<li><a href="javascript:;" rel="' + i + '">' + v + '</a></li>';
                        html += '<option value="' + i + '">' + v + '</option>';


                        // availableAirports[x] = v + ' (' + i + ')';
                        x++;
                    });
                    //$('#combo_airports_flights_to').html('');
                    $('#combo_airports_flights_to').html(html);

                    $('#combo_airports_flights_to ').prepend("<option value='0'>-- Select airport --</option>");
                    $('#combo_airports_flights_to ').val("0");
                    // $('#combo_airports_flights_to').val('0');
                    $('#destination').val("0");
                    var optionSelected = $("#combo_airports_flights_from").find("option:selected");

                    destinationCode = optionSelected.val();
                    destinationText = optionSelected.text();


                           /* $('#destination').val(destinationCode);

                            $("option[value=" + destinationCode + "]", $('#combo_airports_flights_from')).attr('selected','selected');

                            $('span.combo_airports_flights_from').find('div.selectedTxt').html(destinationText);
                            // console.log("teste: " + $('span.combo_airports_flights_from').find('div.selectedTxt').html(destinationText));
                            $('#flights_from').val(destinationText); */

                            //if(us_airport(destinationCode)) { $( "#us_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }
                            if(ven_airport(destinationCode)) { $( "#ven_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }

                            // $(this).parent().parent().hide();

                            /* - */

                            if(mymarket == 'pt') {
                            	originCode = $('#origin').val();
                            	if(residentArray[originCode] != undefined) {
                            		for(var i = 0, l = residentArray[originCode].length; i < l; i++) {
                            			if(residentArray[originCode][i] == destinationCode) {
										// $('div.residents').show();
										if($('#flighttype_oneway').is(':checked')) {
											$('div.residents').show();
											$('div.residents').removeAttr('aria-hidden');
											$('#residents').attr('checked',false);
											$('#residents').attr('disabled', 'disabled');
										} else {
											$('div.residents').show();
											$('div.residents').removeAttr('aria-hidden');
										}
										break;

									}
								}
							}

							if(studentArray[originCode] != undefined) {
								for(var i = 0, l = studentArray[originCode].length; i < l; i++) {
									if(studentArray[originCode][i] == destinationCode) {
										// $('div.students').show();
										if($('#flighttype_oneway').is(':checked')) {
											$('div.students').show();
											$('div.students').removeAttr('aria-hidden');
											$('#students').attr('checked',false);
											$('#students').attr('disabled', 'disabled');
										} else{
											$('div.students').show();
											$('div.students').removeAttr('aria-hidden');
										}
										break;
									}
								}
							}

							$('#flighttype_oneway').click(function(){
								$('#students').attr('checked', false);
								$('#residents').attr('checked', false);

								$('#students').attr('disabled', 'disabled');
								$('#residents').attr('disabled', 'disabled');

								$('div.people_age .middle').show();
								$('div.people_age .right').show();
							});

							$('#residents').click(function(){
								$('#flighttype_return').attr('checked','checked');
								$('div.people_age .middle').show();
								$('div.people_age .right').show();
								$('#students').attr('checked', false);

								if($('#residents').is(':checked')) {
									$('#flighttype_oneway').attr('disabled','disabled');
								}
								else {
									$('#flighttype_oneway').attr('disabled','');
								}

							});

							$('#students').click(function(){
								$('#flighttype_return').attr('checked','checked');
								$('div.people_age .middle').show();
								$('div.people_age .right').show();
								$('#residents').attr('checked', false);

								if($('#students').is(':checked')) {
									$('div.people_age .middle').hide();
									$('div.people_age .right').hide();
									$('#flighttype_oneway').attr('disabled','disabled');
									$( "#std_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true;
								}

								else {
									$('#flighttype_oneway').attr('disabled','');
								}
							});

							$('#flighttype_return, #flighttype_multicity, #flighttype_powerchoice').live('click', function(){
								$('#students').attr('disabled', '');
								$('#residents').attr('disabled', '');
								$('div.people_age .middle').show();
								$('div.people_age .right').show();
								$('#flighttype_onway').attr('disabled','');
							});


						}

						/* - */

					//});
/*	});*/

}, 'json');

return false;
});

/* --- */

	/*

	$('div.container_airports_flights_from').find('ul.newList li a').each(function(){
		$(this).click(function(){
			var apt_name = 'language=en&getAptFromName=' + $(this).text();
			$.post('http://www.flytap.com/IBEpost.php', apt_name, function(apt_code) {
				$('#origin').val(apt_code);
				$('#combo_airports_flights_from option[value=' + apt_code + ']').attr('selected','selected');
				$('span.combo_airports_flights_from').find('div.selectedTxt').html($('#flights_from').val());
			});
		});
	});

*/

$(function() {
	var availableAirports = ["A Coruña, Spain (LCG)","Aalborg, Denmark (AAL)","Aalesund, Norway (AES)","Aarhus, Denmark (AAR)","Aberdeen, United Kingdom (ABZ)","Abu Dhabi, United Arab Emirates (AUH)","Accra, Ghana (ACC)","Adana, Turkey (ADA)","Addis Ababa, Ethiopia (ADD)","Adler Sochi, Russian Federation (AER)","Albany, United States of America (ALB)","Albuquerque, United States of America (ABQ)","Alghero, Italy (AHO)","Algiers, Algeria (ALG)","Alta, Norway (ALF)","Altamira, Brazil (ATM)","Amarillo, United States of America (AMA)","Amsterdam, Netherlands (AMS)","Anchorage, United States of America (ANC)","Ancona, Italy (AOI)","Ankara - Esenboga, Turkey (ESB)","Ankara - all airports, Turkey (ANK)","Annaba, Algeria (AAE)","Antalya, Turkey (AYT)","Aracaju, Brazil (AJU)","Aracatuba, Brazil (ARU)","Armenia, Colombia (AXM)","Asuncion, Paraguay (ASU)","Aswan, Egypt (ASW)","Athens, Greece (ATH)","Atlanta, United States of America (ATL)","Austin, United States of America (AUS)","Bacau, Romania (BCM)","Baia Mare, Romania (BAY)","Baltimore, United States of America (BWI)","Bamako, Mali (BKO)","Bangkok, Thailand (BKK)","Barcelona, Spain (BCN)","Bari, Italy (BRI)","Barranquilla, Colombia (BAQ)","Barreiras, Brazil (BRA)","Basel, Switzerland (BSL)","Batna, Algeria (BLJ)","Baton Rouge, United States of America (BTR)","Beijing, People’s Republic of China (PEK)","Beira, Mozambique (BEW)","Bejaia, Algeria (BJA)","Belem, Brazil (BEL)","Belfast, United Kingdom (BHD)","Belgrade, Serbia (BEG)","Belo Horizonte, Brazil (CNF)","Bergen, Norway (BGO)","Berlin - Schoenefeld, Germany (SXF)","Berlin - Tegel, Germany (TXL)","Berlin - all airports, Germany (BER)","Bilbao, Spain (BIO)","Billund, Denmark (BLL)","Birmingham, United Kingdom (BHX)","Biskra, Algeria (BSK)","Bissau, Guinea-Bissau (OXB)","Boa Vista, Brazil (BVB)","Boa Vista, Cape Verde (BVC)","Bodo, Norway (BOO)","Bogota, Colombia (BOG)","Boise, United States of America (BOI)","Bologna, Italy (BLQ)","Bordeaux, France (BOD)","Bornholm, Denmark (RNN)","Boston, United States of America (BOS)","Brasilia, Brazil (BSB)","Bremen, Germany (BRE)","Brindisi, Italy (BDS)","Bristol, United Kingdom (BRS)","Brussels, Belgium (BRU)","Bucaramanga, Colombia (BGA)","Bucharest - Baneasa Airport, Romania (BBU)","Bucharest - Bucharest, Romania (OTP)","Bucharest - all airports, Romania (BUH)","Budapest, Hungary (BUD)","Buenos Aires - Buenos Aires, Argentina (EZE)","Buenos Aires - Jorge Newbery, Argentina (AEP)","Buenos Aires - all airports, Argentina (BUE)","Buffalo, United States of America (BUF)","Burlington, United States of America (BTV)","Bydgoszcz, Poland (BZG)","Cagliari, Italy (CAG)","Cairo, Egypt (CAI)","Calgary, Canada (YYC)","Cali, Colombia (CLO)","Campina Grande, Brazil (CPV)","Campinas, Brazil (CPQ)","Campo Grande, Brazil (CGR)","Campos, Brazil (CAW)","Cancun, Mexico (CUN)","Cape Town, South Africa (CPT)","Caracas, Venezuela (CCS)","Cartagena, Colombia (CTG)","Cartago, Colombia (CRC)","Casablanca - Casablanca, Morocco (CMN)","Casablanca - all airports, Morocco (CAS)","Cascavel, Brazil (CAC)","Catania - Sigonella, Italy (NSY)","Catania - all airports, Italy (CTA)","Caxias Do Sul, Brazil (CXJ)","Changchun, People’s Republic of China (CGQ)","Chania, Greece (CHQ)","Chapeco, Brazil (XAP)","Charleston, United States of America (CHS)","Charlotte, United States of America (CLT)","Chengdu, People’s Republic of China (CTU)","Chicago, United States of America (ORD)","Chimoio, Mozambique (VPY)","Chisinau, Moldova (KIV)","Cincinnati, United States of America (CVG)","Cleveland, United States of America (CLE)","Cluj, Romania (CLJ)","Cologne, Germany (CGN)","Columbia, United States of America (CAE)","Columbus, United States of America (CMH)","Constantine, Algeria (CZL)","Copenhagen, Denmark (CPH)","Cordoba, Argentina (COR)","Corumba, Brazil (CMG)","Corvo Island, Azores, Portugal (CVU)","Criciuma, Brazil (CCM)","Cucuta, Colombia (CUC)","Cuiaba, Brazil (CGB)","Curacao, Netherlands Antilles (CUR)","Curitiba, Brazil (CWB)","Dakar, Senegal (DKR)","Dalian, People’s Republic of China (DLC)","Dallas, United States of America (DFW)","Dayton, United States of America (DAY)","Daytona Beach, United States of America (DAB)","Denver, United States of America (DEN)","Des Moines, United States of America (DSM)","Detroit, United States of America (DTW)","Dresden, Germany (DRS)","Dubai, United Arab Emirates (DXB)","Dublin, Ireland (DUB)","Dubrovnik, Croatia (DBV)","Dundo, Angola (DUE)","Durban, South Africa (DUR)","Dusseldorf, Germany (DUS)","East London, South Africa (ELS)","Edinburgh, United Kingdom (EDI)","Edmonton, Canada (YEG)","Ekaterinburg, Russian Federation (SVX)","El Paso, United States of America (ELP)","Erevan, Armenia (EVN)","Essen, Germany (ESS)","Exeter, United Kingdom (EXT)","Faro, Algarve, Portugal (FAO)","Fayetteville, United States of America (XNA)","Fernando De Noronha, Brazil (FEN)","Florence Amerigo V., Italy (FLR)","Flores Island, Azores, Portugal (FLW)","Florianopolis, Brazil (FLN)","Fort Myers - Regional Southwest, United States of America (RSW)","Fort Myers - all airports, United States of America (FMY)","Fortaleza, Brazil (FOR)","Frankfurt, Germany (FRA)","Fresno, United States of America (FAT)","Friedrichshafen, Germany (FDH)","Ft Lauderdale, United States of America (FLL)","Fuerteventura, Spain (FUE)","Funchal, Madeira, Portugal (FNC)","Gdansk, Poland (GDN)","Geneva, Switzerland (GVA)","Genoa, Italy (GOA)","Glasgow, United Kingdom (GLA)","Goiania, Brazil (GYN)","Gothenburg, Sweden (GOT)","Governador Valadares, Brazil (GVR)","Graciosa Island, Azores, Portugal (GRW)","Grand Rapids, United States of America (GRR)","Graz, Austria (GRZ)","Greensboro, United States of America (GSO)","Greenville - Downtown Memorial, United States of America (SPA)","Greenville - all airports, United States of America (GSP)","Guangzhou, People’s Republic of China (CAN)","Guatemala City, Guatemala (GUA)","Guayaquil, Ecuador (GYE)","Hamburg, Germany (HAM)","Hangzhou, People’s Republic of China (HGH)","Hannover, Germany (HAJ)","Harare, Zimbabwe (HRE)","Harstad Narvik, Norway (EVE)","Hartford - Bradley Intl, United States of America (BDL)","Hartford - Brainard, United States of America (HFD)","Haugesund, Norway (HAU)","Havana, Cuba (HAV)","Helsinki, Finland (HEL)","Heraklion, Greece (HER)","Hong Kong, Hong Kong (HKG)","Honolulu, United States of America (HNL)","Horta, Azores, Portugal (HOR)","Houston - George Bush, United States of America (IAH)","Houston - all airports, United States of America (HOU)","Huntsville, United States of America (HSV)","Hurghada, Egypt (HRG)","Iasi, Romania (IAS)","Ibiza, Spain (IBZ)","Iguassu Falls, Brazil (IGU)","Ilheus, Brazil (IOS)","Imperatriz, Brazil (IMP)","Indianapolis, United States of America (IND)","Inhambane, Mozambique (INH)","Innsbruck, Austria (INN)","Inverness, United Kingdom (INV)","Ipatinga, Brazil (IPN)","Isle Of Man, United Kingdom (IOM)","Istanbul, Turkey (IST)","Ithaca, United States of America (ITH)","Ivalo, Finland (IVL)","Izmir, Turkey (ADB)","Jacksonville, United States of America (JAX)","Jerez de la Frontera, Spain (XRY)","Jersey, United Kingdom (JER)","Ji Parana, Brazil (JPR)","Joao Pessoa, Brazil (JPA)","Joensuu, Finland (JOE)","Johannesburg, South Africa (JNB)","Joinville, Brazil (JOI)","Juazeiro Do Norte, Brazil (JDO)","Jyvaskyla, Finland (JYV)","Kalmar, Sweden (KLR)","Kansas City, United States of America (MCI)","Karup, Denmark (KRP)","Katowice, Poland (KTW)","Kayseri, Turkey (ASR)","Kazan, Russian Federation (KZN)","Kerkyra, Greece (CFU)","Kiev, Ukraine (KBP)","Kirkenes, Norway (KKN)","Kiruna, Sweden (KRN)","Kittila, Finland (KTT)","Klagenfurt, Austria (KLU)","Knoxville, United States of America (TYS)","Kosice, Slovakia (KSC)","Krakow, Poland (KRK)","Krasnodar, Russian Federation (KRR)","Kristiansand, Norway (KRS)","Kristiansund, Norway (KSU)","Kuala Lumpur, Malaysia (KUL)","Kuopio, Finland (KUO)","Kuusamo, Finland (KAO)","La Paz, Bolivia (LPB)","Lamezia Terme, Italy (SUF)","Lanzarote, Spain (ACE)","Larnaca, Cyprus (LCA)","Las Palmas, Spain (LPA)","Las Vegas, United States of America (LAS)","Leipzig/Halle, Germany (LEJ)","Lencois, Brazil (LEC)","Lichinga, Mozambique (VXC)","Lima, Peru (LIM)","Linkoping, Sweden (LPI)","Linz, Austria (LNZ)","Lisbon, Portugal (LIS)","Little Rock, United States of America (LIT)","London - Gatwick, United Kingdom (LGW)","London - Heathrow, United Kingdom (LHR)","London - all airports, United Kingdom (LON)","Londrina, Brazil (LDB)","Los Angeles, United States of America (LAX)","Louisville, United States of America (SDF)","Luanda, Angola (LAD)","Lubbock, United States of America (LBB)","Lugano, Switzerland (LUG)","Lulea, Sweden (LLA)","Luxembourg, Luxembourg (LUX)","Luxor, Egypt (LXR)","Lyon, France (LYS)","Macapa, Brazil (MCP)","Macau, Macao (MFM)","Maceio, Brazil (MCZ)","Madison, United States of America (MSN)","Madrid, Spain (MAD)","Maio, Cape Verde (MMO)","Malaga, Spain (AGP)","Malta, Malta (MLA)","Managua, Nicaragua (MGA)","Manaus, Brazil (MAO)","Manchester, United Kingdom (MAN)","Manchester, United States of America (MHT)","Manheim, Germany (MHG)","Maputo, Mozambique (MPM)","Maraba, Brazil (MAB)","Maracaibo, Venezuela (MAR)","Marilia, Brazil (MII)","Maringa, Brazil (MGF)","Marrakech, Morocco (RAK)","Marseille, France (MRS)","Maturin, Venezuela (MUN)","Medellin, Colombia (MDE)","Memphis, United States of America (MEM)","Menorca, Spain (MAH)","Mexico City, Mexico (MEX)","Miami, United States of America (MIA)","Milan - Linate, Italy (LIN)","Milan - Malpensa, Italy (MXP)","Milan - all airports, Italy (MIL)","Milwaukee, United States of America (MKE)","Minneapolis, United States of America (MSP)","Molde, Norway (MOL)","Monterrey, Mexico (MTY)","Montes Claros, Brazil (MOC)","Montevideo, Uruguay (MVD)","Montreal, Canada (YUL)","Moscow - Domodedovo, Russian Federation (DME)","Muenster, Germany (FMO)","Munich, Germany (MUC)","Mykonos, Greece (JMK)","Myrtle Beach, United States of America (MYR)","Nampula, Mozambique (APL)","Nanjing, People’s Republic of China (NKG)","Nantes, France (NTE)","Naples, Italy (NAP)","Nashville, United States of America (BNA)","Natal, Brazil (NAT)","Navegantes, Brazil (NVT)","New Orleans, United States of America (MSY)","New York - John F Kennedy, United States of America (JFK)","New York - Newark, United States of America (EWR)","New York - all airports, United States of America (NYC)","Newcastle, United Kingdom (NCL)","Newquay, United Kingdom (NQY)","Nice, France (NCE)","Nizhniy Novgorod, Russian Federation (GOJ)","Norfolk Newport News, United States of America (ORF)","Norrkoping, Sweden (NRK)","Norwich, United Kingdom (NWI)","Novosibirsk, Russian Federation (OVB)","Nuremberg, Germany (NUE)","Oakland, United States of America (OAK)","Oklahoma City, United States of America (OKC)","Olbia, Italy (OLB)","Omaha, United States of America (OMA)","Oradea, Romania (OMR)","Oran, Algeria (ORN)","Orlando, United States of America (MCO)","Orsta Volda, Norway (HOV)","Oslo, Norway (OSL)","Ostersund, Sweden (OSD)","Ostrava, Czech Republic (OSR)","Ottawa, Canada (YOW)","Oulu, Finland (OUL)","Oviedo – Asturias, Spain (OVD)","Paderborn, Germany (PAD)","Palermo, Italy (PMO)","Palma de Mallorca, Spain (PMI)","Palmas, Brazil (PMW)","Panama City, Panama (PTY)","Paris, France (ORY)","Parnaiba, Brazil (PHB)","Passo Fundo, Brazil (PFB)","Pelotas, Brazil (PET)","Pemba, Mozambique (POL)","Pereira, Colombia (PEI)","Perm, Russian Federation (PEE)","Petrolina, Brazil (PNZ)","Philadelphia, United States of America (PHL)","Phoenix, United States of America (PHX)","Pico, Azores, Portugal (PIX)","Pisa, Italy (PSA)","Pittsburgh, United States of America (PIT)","Podgorica, Montenegro (TGD)","Ponta Delgada, Azores, Portugal (PDL)","Porlamar, Venezuela (PMV)","Port Elizabeth, South Africa (PLZ)","Portland, Maine, United States of America (PWM)","Portland, Oregon, United States of America (PDX)","Porto Alegre, Brazil (POA)","Porto Santo, Madeira, Portugal (PXO)","Porto Seguro, Brazil (BPS)","Porto Velho, Brazil (PVH)","Porto, Portugal (OPO)","Poznan, Poland (POZ)","Prague, Czech Republic (PRG)","Praia, Cape Verde (RAI)","Presidente Prudente, Brazil (PPB)","Pristina, Kosovo (PRN)","Providence, United States of America (PVD)","Punta Cana, Dominican Republic (PUJ)","Qingdao, People’s Republic of China (TAO)","Quebec, Canada (YQB)","Quelimane, Mozambique (UEL)","Quito, Ecuador (UIO)","Raleigh, United States of America (RDU)","Recife, Brazil (REC)","Reggio Calabria, Italy (REG)","Reykjavik, Iceland (KEF)","Rhodes, Greece (RHO)","Ribeirao Preto, Brazil (RAO)","Richmond, United States of America (RIC)","Riga, Latvia (RIX)","Rimini, Italy (RMI)","Rio Branco, Brazil (RBR)","Rio De Janeiro - Galeao Antonio Carlos Jobim, Brazil (GIG)","Rio De Janeiro - Santos Dumont, Brazil (SDU)","Rio De Janeiro - all airports, Brazil (RIO)","Roanoke, United States of America (ROA)","Rochester, United States of America (ROC)","Rome, Italy (FCO)","Ronneby, Sweden (RNB)","Rosario, Argentina (ROS)","Rostov, Russian Federation (ROV)","Rovaniemi, Finland (RVN)","Rzeszow, Poland (RZE)","Sacramento, United States of America (SAC)","Sal, Cape Verde (SID)","Salt Lake City, United States of America (SLC)","Salvador, Brazil (SSA)","Salzburg, Austria (SZG)","Samara, Russian Federation (KUF)","San Andres, Colombia (ADZ)","San Antonio, United States of America (SAT)","San Diego, United States of America (SAN)","San Francisco, United States of America (SFO)","San Jose, Costa Rica (SJO)","San Jose, United States of America (SJC)","San Juan, United States of America (SJU)","San Pedro Sula, Honduras (SAP)","San Salvador, El Salvador (SAL)","San Sebastian, Spain (EAS)","Santa Ana, United States of America (SNA)","Santa Cruz, Bolivia (VVI)","Santa Maria, Azores, Portugal (SMA)","Santa Maria, Brazil (RIA)","Santa Marta, Colombia (SMR)","Santarem, Brazil (STM)","Santiago de Chile, Chile (SCL)","Santo Domingo, Dominican Republic (SDQ)","Santo Domingo, Venezuela (STD)","Sao Filipe, Cape Verde (SFL)","Sao Jorge, Azores, Portugal (SJZ)","Sao Jose Do Rio Preto, Brazil (SJP)","Sao Luiz, Brazil (SLZ)","Sao Nicolau, Cape Verde (SNE)","Sao Paulo - Congonhas, Brazil (CGH)","Sao Paulo - Guarulhos, Brazil (GRU)","Sao Paulo - Viracopos, Brazil (VCP)","Sao Paulo - all airports, Brazil (SAO)","Sao Tome, Sao Tome and Principe (TMS)","Sao Vicente, Cape Verde (VXE)","Sarajevo, Bosnia And Herzegovina (SJJ)","Sarasota, United States of America (SRQ)","Satu Mare, Romania (SUJ)","Savannah, United States of America (SAV)","Seattle, United States of America (SEA)","Seville, Spain (SVQ)","Shanghai - Hongqiao, People’s Republic of China (SHA)","Shanghai - Shanghai, People’s Republic of China (PVG)","Sharm El Sheik, Egypt (SSH)","Shenyang, People’s Republic of China (SHE)","Sibiu, Romania (SBZ)","Singapore, Singapore (SIN)","Skelleftea, Sweden (SFT)","Skopje, Macedonia (SKP)","Sofia, Bulgaria (SOF)","Sonderborg, Denmark (SGD)","Southampton, United Kingdom (SOU)","Split, Croatia (SPU)","Spokane, United States of America (GEG)","St Louis, United States of America (STL)","St. Petersburg, Russian Federation (LED)","Stavanger, Norway (SVG)","Stockholm, Sweden (ARN)","Strasbourg, France (SXB)","Stuttgart, Germany (STR)","Suceava, Romania (SCV)","Sundsvall, Sweden (SDL)","Syracuse, United States of America (SYR)","Szczecin, Poland (SZZ)","Tabatinga, Brazil (TBT)","Tallinn, Estonia (TLL)","Tampa, United States of America (TPA)","Tampere, Finland (TMP)","Tangier, Morocco (TNG)","Tefe, Brazil (TFF)","Tegucigalpa, Honduras (TGU)","Tel Aviv, Israel (TLV)","Tenerife, Spain (TFN)","Terceira, Azores, Portugal (TER)","Teresina, Brazil (THE)","Tete, Mozambique (TET)","Thessaloniki, Greece (SKG)","Thira Island, Greece (JTR)","Timisoara, Romania (TSR)","Tirana, Albania (TIA)","Tirgu Mures, Romania (TGM)","Tlemcen, Algeria (TLM)","Tokyo, Japan (NRT)","Toronto, Canada (YYZ)","Toulouse, France (TLS)","Trieste, Italy (TRS)","Tripoli, Libya (TIP)","Tromso, Norway (TOS)","Trondheim, Norway (TRD)","Tulsa, United States of America (TUL)","Turin, Italy (TRN)","Turku, Finland (TKU)","Uberaba, Brazil (UBA)","Uberlandia, Brazil (UDI)","Ufa, Russian Federation (UFA)","Umea, Sweden (UME)","Vaasa, Finland (VAA)","Valencia, Spain (VLC)","Vancouver, Canada (YVR)","Venice, Italy (VCE)","Verona, Italy (VRN)","Vienna, Austria (VIE)","Vigo, Spain (VGO)","Vilanculos, Mozambique (VNX)","Vilnius, Lithuania (VNO)","Vitoria Da Conquista, Brazil (VDC)","Vitoria, Brazil (VIX)","Warsaw, Poland (WAW)","Washington - Dulles, United States of America (IAD)","Washington - Ronald Reagan, United States of America (DCA)","Washington - all airports, United States of America (WAS)","Wenzhou, People’s Republic of China (WNZ)","West Palm Beach, United States of America (PBI)","Windhoek, Namibia (WDH)","Wroclaw, Poland (WRO)","Xiamen, People’s Republic of China (XMN)","Zadar, Croatia (ZAD)","Zagreb, Croatia (ZAG)","Zurich, Switzerland (ZRH)",];
	var availableAirports2 = ["A Coruña, Spain (LCG)","Aalborg, Denmark (AAL)","Aalesund, Norway (AES)","Aarhus, Denmark (AAR)","Aberdeen, United Kingdom (ABZ)","Abu Dhabi, United Arab Emirates (AUH)","Accra, Ghana (ACC)","Adana, Turkey (ADA)","Addis Ababa, Ethiopia (ADD)","Adler Sochi, Russian Federation (AER)","Albany, United States of America (ALB)","Albuquerque, United States of America (ABQ)","Alghero, Italy (AHO)","Algiers, Algeria (ALG)","Alta, Norway (ALF)","Altamira, Brazil (ATM)","Amarillo, United States of America (AMA)","Amsterdam, Netherlands (AMS)","Anchorage, United States of America (ANC)","Ancona, Italy (AOI)","Ankara - Esenboga, Turkey (ESB)","Ankara - all airports, Turkey (ANK)","Annaba, Algeria (AAE)","Antalya, Turkey (AYT)","Aracaju, Brazil (AJU)","Aracatuba, Brazil (ARU)","Armenia, Colombia (AXM)","Asuncion, Paraguay (ASU)","Aswan, Egypt (ASW)","Athens, Greece (ATH)","Atlanta, United States of America (ATL)","Austin, United States of America (AUS)","Bacau, Romania (BCM)","Baia Mare, Romania (BAY)","Baltimore, United States of America (BWI)","Bamako, Mali (BKO)","Bangkok, Thailand (BKK)","Barcelona, Spain (BCN)","Bari, Italy (BRI)","Barranquilla, Colombia (BAQ)","Barreiras, Brazil (BRA)","Basel, Switzerland (BSL)","Batna, Algeria (BLJ)","Baton Rouge, United States of America (BTR)","Beijing, People’s Republic of China (PEK)","Beira, Mozambique (BEW)","Bejaia, Algeria (BJA)","Belem, Brazil (BEL)","Belfast, United Kingdom (BHD)","Belgrade, Serbia (BEG)","Belo Horizonte, Brazil (CNF)","Bergen, Norway (BGO)","Berlin - Schoenefeld, Germany (SXF)","Berlin - Tegel, Germany (TXL)","Berlin - all airports, Germany (BER)","Bilbao, Spain (BIO)","Billund, Denmark (BLL)","Birmingham, United Kingdom (BHX)","Biskra, Algeria (BSK)","Bissau, Guinea-Bissau (OXB)","Boa Vista, Brazil (BVB)","Boa Vista, Cape Verde (BVC)","Bodo, Norway (BOO)","Bogota, Colombia (BOG)","Boise, United States of America (BOI)","Bologna, Italy (BLQ)","Bordeaux, France (BOD)","Bornholm, Denmark (RNN)","Boston, United States of America (BOS)","Brasilia, Brazil (BSB)","Bremen, Germany (BRE)","Brindisi, Italy (BDS)","Bristol, United Kingdom (BRS)","Brussels, Belgium (BRU)","Bucaramanga, Colombia (BGA)","Bucharest - Baneasa Airport, Romania (BBU)","Bucharest - Bucharest, Romania (OTP)","Bucharest - all airports, Romania (BUH)","Budapest, Hungary (BUD)","Buenos Aires - Buenos Aires, Argentina (EZE)","Buenos Aires - Jorge Newbery, Argentina (AEP)","Buenos Aires - all airports, Argentina (BUE)","Buffalo, United States of America (BUF)","Burlington, United States of America (BTV)","Bydgoszcz, Poland (BZG)","Cagliari, Italy (CAG)","Cairo, Egypt (CAI)","Calgary, Canada (YYC)","Cali, Colombia (CLO)","Campina Grande, Brazil (CPV)","Campinas, Brazil (CPQ)","Campo Grande, Brazil (CGR)","Campos, Brazil (CAW)","Cancun, Mexico (CUN)","Cape Town, South Africa (CPT)","Caracas, Venezuela (CCS)","Cartagena, Colombia (CTG)","Cartago, Colombia (CRC)","Casablanca - Casablanca, Morocco (CMN)","Casablanca - all airports, Morocco (CAS)","Cascavel, Brazil (CAC)","Catania - Sigonella, Italy (NSY)","Catania - all airports, Italy (CTA)","Caxias Do Sul, Brazil (CXJ)","Changchun, People’s Republic of China (CGQ)","Chania, Greece (CHQ)","Chapeco, Brazil (XAP)","Charleston, United States of America (CHS)","Charlotte, United States of America (CLT)","Chengdu, People’s Republic of China (CTU)","Chicago, United States of America (ORD)","Chimoio, Mozambique (VPY)","Chisinau, Moldova (KIV)","Cincinnati, United States of America (CVG)","Cleveland, United States of America (CLE)","Cluj, Romania (CLJ)","Cologne, Germany (CGN)","Columbia, United States of America (CAE)","Columbus, United States of America (CMH)","Constantine, Algeria (CZL)","Copenhagen, Denmark (CPH)","Cordoba, Argentina (COR)","Corumba, Brazil (CMG)","Corvo Island, Azores, Portugal (CVU)","Criciuma, Brazil (CCM)","Cucuta, Colombia (CUC)","Cuiaba, Brazil (CGB)","Curacao, Netherlands Antilles (CUR)","Curitiba, Brazil (CWB)","Dakar, Senegal (DKR)","Dalian, People’s Republic of China (DLC)","Dallas, United States of America (DFW)","Dayton, United States of America (DAY)","Daytona Beach, United States of America (DAB)","Denver, United States of America (DEN)","Des Moines, United States of America (DSM)","Detroit, United States of America (DTW)","Dresden, Germany (DRS)","Dubai, United Arab Emirates (DXB)","Dublin, Ireland (DUB)","Dubrovnik, Croatia (DBV)","Dundo, Angola (DUE)","Durban, South Africa (DUR)","Dusseldorf, Germany (DUS)","East London, South Africa (ELS)","Edinburgh, United Kingdom (EDI)","Edmonton, Canada (YEG)","Ekaterinburg, Russian Federation (SVX)","El Paso, United States of America (ELP)","Erevan, Armenia (EVN)","Essen, Germany (ESS)","Exeter, United Kingdom (EXT)","Faro, Algarve, Portugal (FAO)","Fayetteville, United States of America (XNA)","Fernando De Noronha, Brazil (FEN)","Florence Amerigo V., Italy (FLR)","Flores Island, Azores, Portugal (FLW)","Florianopolis, Brazil (FLN)","Fort Myers - Regional Southwest, United States of America (RSW)","Fort Myers - all airports, United States of America (FMY)","Fortaleza, Brazil (FOR)","Frankfurt, Germany (FRA)","Fresno, United States of America (FAT)","Friedrichshafen, Germany (FDH)","Ft Lauderdale, United States of America (FLL)","Fuerteventura, Spain (FUE)","Funchal, Madeira, Portugal (FNC)","Gdansk, Poland (GDN)","Geneva, Switzerland (GVA)","Genoa, Italy (GOA)","Glasgow, United Kingdom (GLA)","Goiania, Brazil (GYN)","Gothenburg, Sweden (GOT)","Governador Valadares, Brazil (GVR)","Graciosa Island, Azores, Portugal (GRW)","Grand Rapids, United States of America (GRR)","Graz, Austria (GRZ)","Greensboro, United States of America (GSO)","Greenville - Downtown Memorial, United States of America (SPA)","Greenville - all airports, United States of America (GSP)","Guangzhou, People’s Republic of China (CAN)","Guatemala City, Guatemala (GUA)","Guayaquil, Ecuador (GYE)","Hamburg, Germany (HAM)","Hangzhou, People’s Republic of China (HGH)","Hannover, Germany (HAJ)","Harare, Zimbabwe (HRE)","Harstad Narvik, Norway (EVE)","Hartford - Bradley Intl, United States of America (BDL)","Hartford - Brainard, United States of America (HFD)","Haugesund, Norway (HAU)","Havana, Cuba (HAV)","Helsinki, Finland (HEL)","Heraklion, Greece (HER)","Hong Kong, Hong Kong (HKG)","Honolulu, United States of America (HNL)","Horta, Azores, Portugal (HOR)","Houston - George Bush, United States of America (IAH)","Houston - all airports, United States of America (HOU)","Huntsville, United States of America (HSV)","Hurghada, Egypt (HRG)","Iasi, Romania (IAS)","Ibiza, Spain (IBZ)","Iguassu Falls, Brazil (IGU)","Ilheus, Brazil (IOS)","Imperatriz, Brazil (IMP)","Indianapolis, United States of America (IND)","Inhambane, Mozambique (INH)","Innsbruck, Austria (INN)","Inverness, United Kingdom (INV)","Ipatinga, Brazil (IPN)","Isle Of Man, United Kingdom (IOM)","Istanbul, Turkey (IST)","Ithaca, United States of America (ITH)","Ivalo, Finland (IVL)","Izmir, Turkey (ADB)","Jacksonville, United States of America (JAX)","Jerez de la Frontera, Spain (XRY)","Jersey, United Kingdom (JER)","Ji Parana, Brazil (JPR)","Joao Pessoa, Brazil (JPA)","Joensuu, Finland (JOE)","Johannesburg, South Africa (JNB)","Joinville, Brazil (JOI)","Juazeiro Do Norte, Brazil (JDO)","Jyvaskyla, Finland (JYV)","Kalmar, Sweden (KLR)","Kansas City, United States of America (MCI)","Karup, Denmark (KRP)","Katowice, Poland (KTW)","Kayseri, Turkey (ASR)","Kazan, Russian Federation (KZN)","Kerkyra, Greece (CFU)","Kiev, Ukraine (KBP)","Kirkenes, Norway (KKN)","Kiruna, Sweden (KRN)","Kittila, Finland (KTT)","Klagenfurt, Austria (KLU)","Knoxville, United States of America (TYS)","Kosice, Slovakia (KSC)","Krakow, Poland (KRK)","Krasnodar, Russian Federation (KRR)","Kristiansand, Norway (KRS)","Kristiansund, Norway (KSU)","Kuala Lumpur, Malaysia (KUL)","Kuopio, Finland (KUO)","Kuusamo, Finland (KAO)","La Paz, Bolivia (LPB)","Lamezia Terme, Italy (SUF)","Lanzarote, Spain (ACE)","Larnaca, Cyprus (LCA)","Las Palmas, Spain (LPA)","Las Vegas, United States of America (LAS)","Leipzig/Halle, Germany (LEJ)","Lencois, Brazil (LEC)","Lichinga, Mozambique (VXC)","Lima, Peru (LIM)","Linkoping, Sweden (LPI)","Linz, Austria (LNZ)","Lisbon, Portugal (LIS)","Little Rock, United States of America (LIT)","London - Gatwick, United Kingdom (LGW)","London - Heathrow, United Kingdom (LHR)","Londrina, Brazil (LDB)","Los Angeles, United States of America (LAX)","Louisville, United States of America (SDF)","Luanda, Angola (LAD)","Lubbock, United States of America (LBB)","Lugano, Switzerland (LUG)","Lulea, Sweden (LLA)","Luxembourg, Luxembourg (LUX)","Luxor, Egypt (LXR)","Lyon, France (LYS)","Macapa, Brazil (MCP)","Macau, Macao (MFM)","Maceio, Brazil (MCZ)","Madison, United States of America (MSN)","Madrid, Spain (MAD)","Maio, Cape Verde (MMO)","Malaga, Spain (AGP)","Malta, Malta (MLA)","Managua, Nicaragua (MGA)","Manaus, Brazil (MAO)","Manchester, United Kingdom (MAN)","Manchester, United States of America (MHT)","Manheim, Germany (MHG)","Maputo, Mozambique (MPM)","Maraba, Brazil (MAB)","Maracaibo, Venezuela (MAR)","Marilia, Brazil (MII)","Maringa, Brazil (MGF)","Marrakech, Morocco (RAK)","Marseille, France (MRS)","Maturin, Venezuela (MUN)","Medellin, Colombia (MDE)","Memphis, United States of America (MEM)","Menorca, Spain (MAH)","Mexico City, Mexico (MEX)","Miami, United States of America (MIA)","Milan - Linate, Italy (LIN)","Milan - Malpensa, Italy (MXP)","Milwaukee, United States of America (MKE)","Minneapolis, United States of America (MSP)","Molde, Norway (MOL)","Monterrey, Mexico (MTY)","Montes Claros, Brazil (MOC)","Montevideo, Uruguay (MVD)","Montreal, Canada (YUL)","Moscow - Domodedovo, Russian Federation (DME)","Muenster, Germany (FMO)","Munich, Germany (MUC)","Mykonos, Greece (JMK)","Myrtle Beach, United States of America (MYR)","Nampula, Mozambique (APL)","Nanjing, People’s Republic of China (NKG)","Nantes, France (NTE)","Naples, Italy (NAP)","Nashville, United States of America (BNA)","Natal, Brazil (NAT)","Navegantes, Brazil (NVT)","New Orleans, United States of America (MSY)","New York - John F Kennedy, United States of America (JFK)","New York - Newark, United States of America (EWR)","New York - all airports, United States of America (NYC)","Newcastle, United Kingdom (NCL)","Newquay, United Kingdom (NQY)","Nice, France (NCE)","Nizhniy Novgorod, Russian Federation (GOJ)","Norfolk Newport News, United States of America (ORF)","Norrkoping, Sweden (NRK)","Norwich, United Kingdom (NWI)","Novosibirsk, Russian Federation (OVB)","Nuremberg, Germany (NUE)","Oakland, United States of America (OAK)","Oklahoma City, United States of America (OKC)","Olbia, Italy (OLB)","Omaha, United States of America (OMA)","Oradea, Romania (OMR)","Oran, Algeria (ORN)","Orlando, United States of America (MCO)","Orsta Volda, Norway (HOV)","Oslo, Norway (OSL)","Ostersund, Sweden (OSD)","Ostrava, Czech Republic (OSR)","Ottawa, Canada (YOW)","Oulu, Finland (OUL)","Oviedo – Asturias, Spain (OVD)","Paderborn, Germany (PAD)","Palermo, Italy (PMO)","Palma de Mallorca, Spain (PMI)","Palmas, Brazil (PMW)","Panama City, Panama (PTY)","Paris, France (ORY)","Parnaiba, Brazil (PHB)","Passo Fundo, Brazil (PFB)","Pelotas, Brazil (PET)","Pemba, Mozambique (POL)","Pereira, Colombia (PEI)","Perm, Russian Federation (PEE)","Petrolina, Brazil (PNZ)","Philadelphia, United States of America (PHL)","Phoenix, United States of America (PHX)","Pico, Azores, Portugal (PIX)","Pisa, Italy (PSA)","Pittsburgh, United States of America (PIT)","Podgorica, Montenegro (TGD)","Ponta Delgada, Azores, Portugal (PDL)","Porlamar, Venezuela (PMV)","Port Elizabeth, South Africa (PLZ)","Portland, Maine, United States of America (PWM)","Portland, Oregon, United States of America (PDX)","Porto Alegre, Brazil (POA)","Porto Santo, Madeira, Portugal (PXO)","Porto Seguro, Brazil (BPS)","Porto Velho, Brazil (PVH)","Porto, Portugal (OPO)","Poznan, Poland (POZ)","Prague, Czech Republic (PRG)","Praia, Cape Verde (RAI)","Presidente Prudente, Brazil (PPB)","Pristina, Kosovo (PRN)","Providence, United States of America (PVD)","Punta Cana, Dominican Republic (PUJ)","Qingdao, People’s Republic of China (TAO)","Quebec, Canada (YQB)","Quelimane, Mozambique (UEL)","Quito, Ecuador (UIO)","Raleigh, United States of America (RDU)","Recife, Brazil (REC)","Reggio Calabria, Italy (REG)","Reykjavik, Iceland (KEF)","Rhodes, Greece (RHO)","Ribeirao Preto, Brazil (RAO)","Richmond, United States of America (RIC)","Riga, Latvia (RIX)","Rimini, Italy (RMI)","Rio Branco, Brazil (RBR)","Rio De Janeiro - Galeao Antonio Carlos Jobim, Brazil (GIG)","Rio De Janeiro - Santos Dumont, Brazil (SDU)","Rio De Janeiro - all airports, Brazil (RIO)","Roanoke, United States of America (ROA)","Rochester, United States of America (ROC)","Rome, Italy (FCO)","Ronneby, Sweden (RNB)","Rosario, Argentina (ROS)","Rostov, Russian Federation (ROV)","Rovaniemi, Finland (RVN)","Rzeszow, Poland (RZE)","Sacramento, United States of America (SAC)","Sal, Cape Verde (SID)","Salt Lake City, United States of America (SLC)","Salvador, Brazil (SSA)","Salzburg, Austria (SZG)","Samara, Russian Federation (KUF)","San Andres, Colombia (ADZ)","San Antonio, United States of America (SAT)","San Diego, United States of America (SAN)","San Francisco, United States of America (SFO)","San Jose, Costa Rica (SJO)","San Jose, United States of America (SJC)","San Juan, United States of America (SJU)","San Pedro Sula, Honduras (SAP)","San Salvador, El Salvador (SAL)","San Sebastian, Spain (EAS)","Santa Ana, United States of America (SNA)","Santa Cruz, Bolivia (VVI)","Santa Maria, Azores, Portugal (SMA)","Santa Maria, Brazil (RIA)","Santa Marta, Colombia (SMR)","Santarem, Brazil (STM)","Santiago de Chile, Chile (SCL)","Santo Domingo, Dominican Republic (SDQ)","Santo Domingo, Venezuela (STD)","Sao Filipe, Cape Verde (SFL)","Sao Jorge, Azores, Portugal (SJZ)","Sao Jose Do Rio Preto, Brazil (SJP)","Sao Luiz, Brazil (SLZ)","Sao Nicolau, Cape Verde (SNE)","Sao Paulo - Congonhas, Brazil (CGH)","Sao Paulo - Guarulhos, Brazil (GRU)","Sao Paulo - Viracopos, Brazil (VCP)","Sao Tome, Sao Tome and Principe (TMS)","Sao Vicente, Cape Verde (VXE)","Sarajevo, Bosnia And Herzegovina (SJJ)","Sarasota, United States of America (SRQ)","Satu Mare, Romania (SUJ)","Savannah, United States of America (SAV)","Seattle, United States of America (SEA)","Seville, Spain (SVQ)","Shanghai - Hongqiao, People’s Republic of China (SHA)","Shanghai - Shanghai, People’s Republic of China (PVG)","Sharm El Sheik, Egypt (SSH)","Shenyang, People’s Republic of China (SHE)","Sibiu, Romania (SBZ)","Singapore, Singapore (SIN)","Skelleftea, Sweden (SFT)","Skopje, Macedonia (SKP)","Sofia, Bulgaria (SOF)","Sonderborg, Denmark (SGD)","Southampton, United Kingdom (SOU)","Split, Croatia (SPU)","Spokane, United States of America (GEG)","St Louis, United States of America (STL)","St. Petersburg, Russian Federation (LED)","Stavanger, Norway (SVG)","Stockholm, Sweden (ARN)","Strasbourg, France (SXB)","Stuttgart, Germany (STR)","Suceava, Romania (SCV)","Sundsvall, Sweden (SDL)","Syracuse, United States of America (SYR)","Szczecin, Poland (SZZ)","Tabatinga, Brazil (TBT)","Tallinn, Estonia (TLL)","Tampa, United States of America (TPA)","Tampere, Finland (TMP)","Tangier, Morocco (TNG)","Tefe, Brazil (TFF)","Tegucigalpa, Honduras (TGU)","Tel Aviv, Israel (TLV)","Tenerife, Spain (TFN)","Terceira, Azores, Portugal (TER)","Teresina, Brazil (THE)","Tete, Mozambique (TET)","Thessaloniki, Greece (SKG)","Thira Island, Greece (JTR)","Timisoara, Romania (TSR)","Tirana, Albania (TIA)","Tirgu Mures, Romania (TGM)","Tlemcen, Algeria (TLM)","Tokyo, Japan (NRT)","Toronto, Canada (YYZ)","Toulouse, France (TLS)","Trieste, Italy (TRS)","Tripoli, Libya (TIP)","Tromso, Norway (TOS)","Trondheim, Norway (TRD)","Tulsa, United States of America (TUL)","Turin, Italy (TRN)","Turku, Finland (TKU)","Uberaba, Brazil (UBA)","Uberlandia, Brazil (UDI)","Ufa, Russian Federation (UFA)","Umea, Sweden (UME)","Vaasa, Finland (VAA)","Valencia, Spain (VLC)","Vancouver, Canada (YVR)","Venice, Italy (VCE)","Verona, Italy (VRN)","Vienna, Austria (VIE)","Vigo, Spain (VGO)","Vilanculos, Mozambique (VNX)","Vilnius, Lithuania (VNO)","Vitoria Da Conquista, Brazil (VDC)","Vitoria, Brazil (VIX)","Warsaw, Poland (WAW)","Washington - Dulles, United States of America (IAD)","Washington - Ronald Reagan, United States of America (DCA)","Wenzhou, People’s Republic of China (WNZ)","West Palm Beach, United States of America (PBI)","Windhoek, Namibia (WDH)","Wroclaw, Poland (WRO)","Xiamen, People’s Republic of China (XMN)","Zadar, Croatia (ZAD)","Zagreb, Croatia (ZAG)","Zurich, Switzerland (ZRH)",];
	var termTemplate = "<span class='ui-autocomplete-term'>%s</span>";

	    //MC-ROUTE ARRDEP
	    if($("#arrivalsdepartures_flightsat_content_from"))
	    {
	    	$("#arrivalsdepartures_flightsat_content_from").customautocomplete({
	    		source:SEED3_URL+"getAptMatch.php?new882&language="+langId,
	    		minLength: 3,
	    		delay: 50,
	    		open: function(e,ui) {
	    			var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
	    			acData.menu.element.find('li a').each(function() {
	    				var me = $(this);
	    				me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );
	    			});
	    		}
	    	});
	    }
	    if($("#arrivalsdepartures_flightsat_content_to"))
	    {
	    	$("#arrivalsdepartures_flightsat_content_to").customautocomplete({
	    		source:SEED3_URL+"getAptMatch.php?new234&language="+langId,
	    		minLength: 3,
	    		delay: 50,
	    		open: function(e,ui) {
	    			var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
	    			acData.menu.element.find('li a').each(function() {
	    				var me = $(this);
	    				me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );
	    			});
	    		}
	    	});
	    }

	    //MC-ROUTE ARRDEP
	    if($("#arrivalsdepartures_flightsat_content"))
	    {
	    	$("#arrivalsdepartures_flightsat_content").customautocomplete({
	    		/*source: availableAirports2,*/
	    		source:SEED3_URL+"getAptMatch.php?new34&language="+langId,
	    		minLength: 3,
	    		delay: 50,
	    		open: function(e,ui) {
	    			var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
	    			acData.menu.element.find('li a').each(function() {
	    				var me = $(this);
	    				me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );
	    			});
	    		}
	    	});
	    }
	    //MC
	    $("#arrivalsdepartures_select_airport").customautocomplete({
	    	source: availableAirports2,
	    	minLength: 3,
	    	delay: 50,
	    	open: function(e,ui) {
	    		var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
				var uiactive =  acData.menu.element.find('li a:first');

		        var contentElem= uiactive.text();


				var numElem = acData.menu.element.find('li ').length;
				if (numElem == 1  ) {

					var textResults = "Result found, use the up and down keys to navigate.";

					} else {
					var textResults = "Results found, use the up and down keys to navigate. ";
					}
				var num_elem = numElem + " "  + textResults;

				var elemntNoMatch = "No results found.";

				acData.menu.element.find('li a').each(function() {
					var me = $(this);
					me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );

				});

				if(contentElem != "No match found"){

				$('#arrivalsdepartures_select_airport_num_elem').html(num_elem);
				}
				if(contentElem == "No match found"){

				$("#arrivalsdepartures_select_airport_num_elem").html(elemntNoMatch);

				}
	    	}
	    });
	    $("#arrivalsdepartures_select_airport_from").customautocomplete({
	    	source: availableAirports2,
	    	minLength: 3,
	    	delay: 50,
	    	open: function(e,ui) {
	    		var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
				var uiactive =  acData.menu.element.find('li a:first');

		        var contentElem= uiactive.text();


				var numElem = acData.menu.element.find('li ').length;
				if (numElem == 1  ) {

					var textResults = "Result found, use the up and down keys to navigate.";

					} else {
					var textResults = "Results found, use the up and down keys to navigate. ";
					}
				var num_elem = numElem + " "  + textResults;

				var elemntNoMatch = "No results found.";

				acData.menu.element.find('li a').each(function() {
					var me = $(this);
					me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );

				});

				if(contentElem != "No match found"){

				$('#arrivalsdepartures_select_airport_from_num_elem').html(num_elem);
				}
				if(contentElem == "No match found"){

				$("#arrivalsdepartures_select_airport_from_num_elem").html(elemntNoMatch);

				}
	    	},
	    	close: function(e,ui) {
	    		bindAutoCompleteFlightArrDepTo();
	    	}
	    });
	    $("#arrivalsdepartures_select_airport_to").customautocomplete({
	    	source: SEED3_URL+"getAptMatch.php?new456&language="+langId+"&getDestinations="+$("#arrivalsdepartures_select_airport_from").val(),
	    	minLength: 3,
	    	delay: 50,
	    	open: function(e,ui) {
	    		var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
				var uiactive =  acData.menu.element.find('li a:first');

		        var contentElem= uiactive.text();


				var numElem = acData.menu.element.find('li ').length;
				if (numElem == 1  ) {

					var textResults = "Result found, use the up and down keys to navigate.";

					} else {
					var textResults = "Results found, use the up and down keys to navigate. ";
					}
				var num_elem = numElem + " "  + textResults;

				var elemntNoMatch = "No results found.";

				acData.menu.element.find('li a').each(function() {
					var me = $(this);
					me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );

				});

				if(contentElem != "No match found"){

				$('#arrivalsdepartures_select_airport_to_num_elem').html(num_elem);
				}
				if(contentElem == "No match found"){

				$("#arrivalsdepartures_select_airport_to_num_elem").html(elemntNoMatch);

				}
	    	}
	    });

	    var flights_from_selected = false;
	    var flights_to_selected = false;

	    $("#flights_from").keydown(function()
	    {

	    	if($('#flighttype_multicity').is(':checked')) {
	    		$('#flighttype_return').attr('checked','checked');
	    	}

	    	if($('#flighttype_powerchoice').is(':checked')) {
	    		$('#flighttype_return').attr('checked','checked');
	    	}

	    	$('a.airports_flights_from').show();
	    	if(flights_from_selected == true) {
	    		$('#combo_airports_flights_to').html('');
	    		$('div.container_airports_flights_to').find('ul.newList').html('');
	    		$('span.combo_airports_flights_to').find('div.selectedTxt').html('');
	    		$("#flights_to").val('');
	    	}
	    });

	    $("#flights_from").customautocomplete({
	    	source:SEED3_URL+"getAptMatch.php?new4&language="+langId,
	    	minLength: 3,
	    	delay: 50,
	    	open: function(e,ui) {

	    		var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
	    		var contentElem= $('.ui-menu-item a:first').text();

	    		var numElem = acData.menu.element.find('li ').length;
				if (numElem == 1  ) {

					var textResults = "Result found, use the up and down keys to navigate.";

					} else {
					var textResults = "Results found, use the up and down keys to navigate. ";
					}
				var num_elem = numElem + " "  + textResults;
				var elemntNoMatch = "No results found.";

				acData.menu.element.find('li a').each(function() {
	    			var me = $(this);
	    			me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );

	    		});

	    		if(contentElem != "No match found"){

	    		$('#flights_from_num_elem').html(num_elem);
	    		}
	    		if(contentElem == "No match found"){

	    		$("#flights_from_num_elem").html(elemntNoMatch);
    		 	// setTimeout(function() {
		      //      $('#flights_from').val('');
		      //   }, 500);

	    		}
				// $('a.airports_flights_from').show();
			},
			select: function(){	flights_from_selected = true;},
			close: function(){

				if(flights_from_selected == false) { return false; }
				flights_from_selected = false;
				var apt_name = 'language=en&getAptFromName=' + $('#flights_from').val();

				var aptString =  $('#flights_from').val();
				var apt_code = aptString.substring((aptString.length-4), (aptString.length-1));

				//$.get('http://www.flytap.com/IBEpost.php', apt_name, function(apt_code) { //fecha na linha 723
					$('#origin').val(apt_code);

//					alert("recebi: "+apt_code);

if(apt_code.length>0){
	$('#combo_airports_flights_from option[value=' + apt_code + ']').attr('selected','selected');
}
else{
	$('#combo_airports_flights_from option[value=' + apt_code + ']').attr('selected','selected').trigger('change');
}

var newtext = $('#flights_from').val();
newtext = newtext.substring(0,newtext.length-6);
$('#flights_from').val(newtext);

$('div.residents').hide();
$('div.residents').attr('aria-hidden','true');

$('div.students').hide();
$('div.students').attr('aria-hidden','true');

$('#residents').attr('checked',false);
$('#students').attr('checked',false);

$('a.airports_flights_from').hide();

apt_code = $('#destination').val();
var origin_code = $('#origin').val();


if(mymarket == 'pt') {


	if(residentArray[origin_code] != undefined) {
		for(var i = 0, l = residentArray[origin_code].length; i < l; i++) {
	//					alert(residentArray[origin_code][i] +'=='+ apt_code);
	if(residentArray[origin_code][i] == apt_code) {
		if($('#flighttype_oneway').is(':checked')) {
			$('div.residents').show();
			$('div.residents').removeAttr('aria-hidden');
			$('#residents').attr('checked',false);
			$('#residents').attr('disabled', 'disabled');
		} else{
			$('div.residents').show();
			$('div.residents').removeAttr('aria-hidden');
		}
	}
}
}


if(studentArray[origin_code] != undefined) {
	for(var i = 0, l = studentArray[origin_code].length; i < l; i++) {
		if(studentArray[origin_code][i] == apt_code) {
			if($('#flighttype_oneway').is(':checked')) {
				$('div.students').show();
				$('div.students').removeAttr('aria-hidden');
				$('#students').attr('checked',false);
				$('#students').attr('disabled', 'disabled');
			} else {
				$('div.students').show();
				$('div.students').removeAttr('aria-hidden');
			}
		}
	}
}

$('#flighttype_oneway').click(function(){
	$('#students').attr('checked', false);
	$('#residents').attr('checked', false);

	$('#students').attr('disabled', 'disabled');
	$('#residents').attr('disabled', 'disabled');

	$('div.people_age .middle').show();
	$('div.people_age .right').show();
});

$('#flighttype_oneway').click(function(){
	$('#students').attr('checked', false);
	$('#residents').attr('checked', false);

	$('#students').attr('disabled', 'disabled');
	$('#residents').attr('disabled', 'disabled');

	$('div.people_age .middle').show();
	$('div.people_age .right').show();
});

$('#residents').click(function(){
	$('#flighttype_return').attr('checked','checked');
	$('div.people_age .middle').show();
	$('div.people_age .right').show();
	$('#students').attr('checked', false);

	if($('#residents').is(':checked')) {
		$('#flighttype_oneway').attr('disabled','disabled');
	}
	else {
		$('#flighttype_oneway').attr('disabled','');
	}

});

$('#students').click(function(){
	$('#flighttype_return').attr('checked','checked');
	$('div.people_age .middle').show();
	$('div.people_age .right').show();
	$('#residents').attr('checked', false);

	if($('#students').is(':checked')) {

		$("#departing_date").datepicker("option","minDate","3");
		$("#returning_date").datepicker("option","minDate","3");

		var dMin = new Date();
		dMin.setDate(dMin.getDate()+3);
		nDep = new Date(dMin);
		var dd = $("#departing_date").datepicker("getDate");

		if(dMin > dd){
			d7 = dMin;
			d7.setDate(d7.getDate()+7);
			var dRet = new Date(d7);
			$("#departing_date").datepicker("setDate",nDep);
			$("#returning_date").datepicker("setDate",dRet);
		}

		$('div.people_age .middle').hide();
		$('div.people_age .right').hide();
		$('#flighttype_oneway').attr('disabled','disabled');
		$( "#std_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true;
	}

	else {
		$('#flighttype_oneway').attr('disabled','');

		$("#departing_date").datepicker("option","minDate","0");
		$("#returning_date").datepicker("option","minDate","0");
	}
});

$('#flighttype_return, #flighttype_multicity, #flighttype_powerchoice').live('click', function(){
	$('#students').attr('disabled', '');
	$('#residents').attr('disabled', '');
	$('div.people_age .middle').show();
	$('div.people_age .right').show();
	$('#flighttype_onway').attr('disabled','');
});

}

			    	// if(danish_airport($('#origin').val())) { $( "#danish_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }

					// alert( $('#origin').val() );

					// alert( apt_code + ' - ' + $('#origin').val() );


//					alert('antes'+apt_code);
//					var data = 'language=enus&getDestinations=' + $('#origin').val();
//					var testedata = 'language='+enus+'&getDestinations=' + $('#origin').val();
//					alert('php returns:'+'enus');
var lang='en';
var testedata = 'language='+lang+'&getDestinations=' + $('#origin').val();
//					alert('chamada'+testedata );
$.get(window.location.protocol+'//'  + window.location.hostname + '/loadOriginDestination.php?', testedata, function(destinations) {
//						alert( testedata )

//					alert('depois');
var html = lis = '', x = 0;

						//Wingman IE7 speed up
						if (IS_IE_7 || IS_IE_8 || IS_MOBILE_BROWSER)
							html = '<option value="">Select airport</option>';

						availableAirports = new Array;
						$.each(destinations, function(i, v){
//							console.log(i+' '+v);
//							if(x == 0) {
//								$('option[value=' + i + ']', $('#combo_airports_flights_to')).attr('selected','selected');
//							}


lis += '<li><a href="javascript:;" rel="' + i + '">' + v + '</a></li>';
html += '<option value="' + i + '">' + v + '</option>';
availableAirports[x] = v + ' (' + i + ')';
x++;
});

						$('#combo_airports_flights_to').html('<option value="">Select airport</option>'+html);
						$('div.container_airports_flights_to').find('ul.newList').html(lis);

						bindAutoCompleteFlightTo();

						$('div.container_airports_flights_to').find('ul.newList li a').each(function(){
							$(this).click(function(){

								destinationCode = $(this).attr('rel');
								destinationText = $(this).text();

								$('#destination').val(destinationCode);


    	// if(danish_airport(destinationCode)) { $( "#danish_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }

    	$('span.combo_airports_flights_to').find('div.selectedTxt').html(destinationText);
    	$("option[value=" + destinationCode + "]", $('#combo_airports_flights_to')).attr('selected','selected');
    	$('#flights_to').val(destinationText);
    	$(this).parent().parent().hide();

    	/* - */

    	//if(us_airport(destinationCode)) { $( "#us_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }
    	if(ven_airport(destinationCode)) { $( "#ven_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }

    	if(mymarket == 'pt') {
    		originCode = $('#origin').val();
    		if(residentArray[originCode] != undefined) {
    			for(var i = 0, l = residentArray[originCode].length; i < l; i++) {
    				if(residentArray[originCode][i] == destinationCode) {
						// $('div.residents').show();
						if($('#flighttype_oneway').is(':checked')) {
							$('div.students').show();
							$('div.students').removeAttr('aria-hidden');
							$('#students').attr('checked',false);
							$('#students').attr('disabled', 'disabled');
						} else {
							$('div.students').show();
							$('div.students').removeAttr('aria-hidden');
						}
						break;
					}
				}
			}

			if(studentArray[originCode] != undefined) {
				for(var i = 0, l = studentArray[originCode].length; i < l; i++) {
					if(studentArray[originCode][i] == destinationCode) {
						// $('div.students').show();
						if($('#flighttype_oneway').is(':checked')) {
							$('div.residents').show();
							$('div.residents').removeAttr('aria-hidden');
							$('#residents').attr('checked',false);
							$('#residents').attr('disabled', 'disabled');
						} else{
							$('div.residents').show();
							$('div.residents').removeAttr('aria-hidden');
						}
						break;
					}
				}
			}

			$('#residents').click(function(){
				$('#flighttype_return').attr('checked','checked');
				$('div.people_age .middle').show();
				$('div.people_age .right').show();
				$('#students').attr('checked', false);

				if($('#residents').is(':checked')) {
					$('#flighttype_oneway').attr('disabled','disabled');
				}
				else {
					$('#flighttype_oneway').attr('disabled','');
				}

			});

			$('#students').click(function(){
				$('#flighttype_return').attr('checked','checked');
				$('div.people_age .middle').show();
				$('div.people_age .right').show();
				$('#residents').attr('checked', false);

				if($('#students').is(':checked')) {
					$('div.people_age .middle').hide();
					$('div.people_age .right').hide();
					$('#flighttype_oneway').attr('disabled','disabled');
					$( "#std_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true;
				}

				else {
					$('#flighttype_oneway').attr('disabled','');
				}
			});

			$('#flighttype_return, #flighttype_multicity, #flighttype_powerchoice').live('click', function(){
				$('#students').attr('disabled', '');
				$('#residents').attr('disabled', '');
				$('div.people_age .middle').show();
				$('div.people_age .right').show();
				$('#flighttype_onway').attr('disabled','');
			});

		}

		/* - */

	});
});


}, 'json');

//if(us_airport($('#origin').val())) { $( "#us_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }
if(ven_airport($('#origin').val())) { $( "#ven_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }

				//});

}
});


$("#flights_to").keydown(function(){

	if($('#flighttype_multicity').is(':checked')) {
		$('#flighttype_return').attr('checked','checked');
	}

	if($('#flighttype_powerchoice').is(':checked')) {
		$('#flighttype_return').attr('checked','checked');
	}

	$('a.airports_flights_to').show();
});

$("#flights_to").customautocomplete({
	source:SEED3_URL+"getAptMatch.php?new1343&language="+langId+"&getDestinations="+$("#origin").val(),
	minLength: 3,
	delay: 50,
	open: function(e,ui) {
		$("#flights_to_num_elem").html('');
		var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
		var uiactive =  acData.menu.element.find('li a:first');

        var contentElem= uiactive.text();


		var numElem = acData.menu.element.find('li ').length;
		if (numElem == 1  ) {

			var textResults = "Result found, use the up and down keys to navigate.";

			} else {
			var textResults = "Results found, use the up and down keys to navigate. ";
			}
		var num_elem = numElem + " "  + textResults;

		var elemntNoMatch = "No results found.";

		acData.menu.element.find('li a').each(function() {
			var me = $(this);
			me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );

		});

		if(contentElem != "No match found"){

		$('#flights_to_num_elem').html(num_elem);
		}
		if(contentElem == "No match found"){

		$("#flights_to_num_elem").html(elemntNoMatch);

		}

		//$("#flights_to_num_elem").html(num_elem);

				// $('a.airports_flights_to').show();
			},
			select: function(){	flights_to_selected = true;},
			close: function(){
				if(flights_to_selected == false) { return false; }
				flights_to_selected = false;

				var apt_name = 'language=en&getAptFromName=' + $('#flights_to').val();

				var aptString =  $('#flights_to').val();
				var apt_code = aptString.substring((aptString.length-4), (aptString.length-1));

				var origin_code = $('#origin').val();
				//$.get('http://www.flytap.com/IBEpost.php', apt_name, function(apt_code) { //fecha na 839
					$('#combo_airports_flights_to option[value=' + apt_code + ']').attr('selected','selected').trigger('change');

					$('#destination').val(apt_code);

					/*var newtext = $('#flights_to').val();
					newtext = newtext.substring(0,newtext.length-6);
					$('#flights_to').val(newtext);*/

//					alert(origin_code + '/' + apt_code);
$('#flights_to').val();
$('div.residents').hide();
$('div.residents').attr('aria-hidden', "true");
$('div.students').hide();
$('div.students').attr('aria-hidden',"true");
$('a.airports_flights_to').hide();

$('#residents').attr('checked',false);
$('#students').attr('checked',false);

if(mymarket == 'pt') {

	if(residentArray[origin_code] != undefined) {
		for(var i = 0, l = residentArray[origin_code].length; i < l; i++) {
	//					alert(residentArray[origin_code][i] +'=='+ apt_code);
	if(residentArray[origin_code][i] == apt_code) {
									// $('div.residents').show();
									if($('#flighttype_oneway').is(':checked')) {
										$('div.residents').show();
										$('div.residents').removeAttr('aria-hidden');
										$('#residents').attr('checked',false);
										$('#residents').attr('disabled', 'disabled');
									} else{
										$('div.residents').show();
										$('div.residents').removeAttr('aria-hidden');
									}

								}
							}
						}
						if(studentArray[origin_code] != undefined) {
							for(var i = 0, l = studentArray[origin_code].length; i < l; i++) {
								if(studentArray[origin_code][i] == apt_code) {
									// $('div.students').show();
									if($('#flighttype_oneway').is(':checked')) {
										$('div.students').show();
										$('div.students').removeAttr('aria-hidden');
										$('#students').attr('checked',false);
										$('#students').attr('disabled', 'disabled');
									} else{
										$('div.students').show();
										$('div.students').removeAttr('aria-hidden');
									}
								}
							}
						}

						$('#flighttype_oneway').click(function(){
							$('#students').attr('checked', false);
							$('#residents').attr('checked', false);

							$('#students').attr('disabled', 'disabled');
							$('#residents').attr('disabled', 'disabled');

							$('div.people_age .middle').show();
							$('div.people_age .right').show();
						});

						$('#residents').click(function(){
							$('#flighttype_return').attr('checked','checked');
							$('div.people_age .middle').show();
							$('div.people_age .right').show();
							$('#students').attr('checked', false);

							if($('#residents').is(':checked')) {
								$('#flighttype_oneway').attr('disabled','disabled');
							}
							else {
								$('#flighttype_oneway').attr('disabled','');
							}

						});

						$('#students').click(function(){
							$('#flighttype_return').attr('checked','checked');
							$('div.people_age .middle').show();
							$('div.people_age .right').show();
							$('#residents').attr('checked', false);

							if($('#students').is(':checked')) {

								$("#departing_date").datepicker("option","minDate","3");
								$("#returning_date").datepicker("option","minDate","3");

								var dMin = new Date();
								dMin.setDate(dMin.getDate()+3);
								nDep = new Date(dMin);
								var dd = $("#departing_date").datepicker("getDate");

								if(dMin > dd){
									d7 = dMin;
									d7.setDate(d7.getDate()+7);
									var dRet = new Date(d7);
									$("#departing_date").datepicker("setDate",nDep);
									$("#returning_date").datepicker("setDate",dRet);
								}

								$('div.people_age .middle').hide();
								$('div.people_age .right').hide();
								$('#flighttype_oneway').attr('disabled','disabled');
								$( "#std_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true;
							}

							else {
								$('#flighttype_oneway').attr('disabled','');

								$("#departing_date").datepicker("option","minDate","0");
								$("#returning_date").datepicker("option","minDate","0");
							}
						});

$('#flighttype_return, #flighttype_multicity, #flighttype_powerchoice').live('click', function(){
	$('#students').attr('disabled', '');
	$('#residents').attr('disabled', '');
	$('div.people_age .middle').show();
	$('div.people_age .right').show();
	$('#flighttype_onway').attr('disabled','');
});

}

//if(us_airport($('#destination').val())) { $( "#us_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }
if(ven_airport($('#destination').val())) { $( "#ven_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }
			    	// if(danish_airport($('#destination').val())) { $( "#danish_alert" ).parent().css({position:"fixed", top:"0px",left:"30px"}).end().dialog("open"); return true; }

				//});
}
});


});

/*	$('a.airports_flights_from').click(function(){
		if( IS_IE_7 || IS_IE_8 || IS_MOBILE_BROWSER)
			$('#combo_airports_flights_from option:first').html("Select airport");  //Wingman IE7 speed up
		else
			$('span.combo_airports_flights_from').find('div.selectedTxt').html("Select airport");
	});

	$('a.airports_flights_to').click(function(){
		if( IS_IE_7 || IS_IE_8 || IS_MOBILE_BROWSER)
			$('#combo_airports_flights_to option:first').html("Select airport");  //Wingman IE7 speed up
		else
			$('span.combo_airports_flights_to').find('div.selectedTxt').html("Select airport");
	});
*/

/*fim Bloco Yasmine*/
/* -- */
	/*
	$('a.airports_flights_from, a.airports_flights_to').each(function(){
		$(this).click(function(){
			if($(this).hasClass('airports_flights_from') && ($('#flights_from').val() != '')) {
				var apt_name = 'language=en&getAptFromName=' + $('#flights_from').val();
				$.post('http://www.flytap.com/IBEpost.php', apt_name, function(apt_code) {
					$('#origin').val(apt_code);
					$('#combo_airports_flights_from option[value=' + apt_code + ']').attr('selected','selected');

					$('span.combo_airports_flights_from').find('div.selectedTxt').html($('#flights_from').val());
				});
			}

			if($(this).hasClass('airports_flights_to') && ($('#flights_to').val() != '')) {
				var apt_name = 'language=en&getAptFromName=' + $('#flights_to').val();
				$.post('http://www.flytap.com/IBEpost.php', apt_name, function(apt_code) {
					$('#destination').val(apt_code);
					$('#combo_airports_flights_to option[value=' + apt_code + ']').attr('selected','selected');
					$('span.combo_airports_flights_to').find('div.selectedTxt').html($('#flights_to').val());
				});
			}

		});
	});
*/

/* --- */



function us_airport(airport) {

	for(i = 0;i <= airportsWarningUsa.length; i++) {
		if(airportsWarningUsa[i] == airport) {
			return true;
		}
	}
	return false;
}

function ven_airport(airport) {

	for(i = 0;i <= airportsWarningVen.length; i++) {
		if(airportsWarningVen[i] == airport) {
			return true;
		}
	}
	return false;
}

/*bloco Yasmine */





var strAlpha = "Use only letters";

function isAlpha(alpha){
	var re = /^[a-zA-ZÀ-ÿ()\s.,-]*$/i;
	return re.test(alpha.value);
}

function valid(stra, valFunc, text){

	if(!valFunc(stra)){
		$(stra).addClass("error");
		$(stra).parent().children('.span-add-error').addClass('error-class');
		$(stra).parent().children('.span-add-error').text(text);
		return false;

	}else if(valFunc(stra)){
		$(stra).removeClass("error");
		$(stra).parent().children('.span-add-error').removeClass('error-class');
		$(stra).parent().children('.span-add-error').empty();
		return false;
	}
	return false;

}


function validClick(stra){
	$(stra).removeClass("error");
	$(stra).parent().children('.span-add-error').removeClass('error-class');
	$(stra).parent().children('.span-add-error').empty();
	$(stra).css("visibility", "hidden");

	$('.errText').hide();
	$('.errTitle').empty();
	$('.errTxt').empty();

                // return false;
            }

            $("#flights_to").keyup(function(){
            	valid(this, isAlpha, strAlpha);
            });

            $("#flights_from").keyup(function(){
            	valid(this, isAlpha, strAlpha);
            });

			/*$('#flights_to').keyup(function (e) {
                valid(this, isAlpha, strAlpha);
                $(this).one('keydown', function(e) {
                    if(e.keyCode == 9) {
                        if($('#destination').val() != "" && isAlpha(this)){
                            $(this).removeClass("error");
                            $(this).parent().children('.span-add-error').removeClass('error-class');
                            $(this).parent().children('.span-add-error').empty();
                        }
                    }
                });
            });


            $('#flights_from').keyup(function (e) {
                valid(this, isAlpha, strAlpha);
                $(this).one('keydown', function(e) {
                    if(e.keyCode == 9) {
                        if($('#origin').val() != "" && isAlpha(this)){
                            $(this).removeClass("error");
                            $(this).parent().children('.span-add-error').removeClass('error-class');
                            $(this).parent().children('.span-add-error').empty();
                        }
                    }
                });
});*/

$('#flights_from').blur(function(){
	if(!isAlpha(this)){
		$(this).addClass("error");
	}
});

$('#flights_to').blur(function(){
	if(!isAlpha(this)){
		$(this).addClass("error");
	}
});


$("#combo_airports_flights_to").change(function(){
	$(this).removeClass('error');
});

$("#combo_airports_flights_from").change(function(){
	$(this).removeClass('error');
});


/*yasmine*/
$('#combo_airports_flights_from').hide();
$('a#airports_flights_from').click(function(){

	$('div.residents').hide();
	$('div.residents').attr('aria-hidden', "true");
	$('div.students').hide();
	$('div.students').attr('aria-hidden',"true");
	$('#combo_airports_flights_from').show();
	$(this).hide();
	$('#combo_airports_flights_to').html('');
	//$('#combo_airports_flights_from ').prepend("<option value='0'>-- Select airport --</option>");
	//$('#combo_airports_flights_from ').val("0");


	if($('#flights_from').hasClass('error')){
		validClick("#flights_from");
	}else{
		$("#flights_from").css("visibility", "hidden");
	}
	return false;

});

$('#combo_airports_flights_to').hide();


$('a#airports_flights_to').click(function(){
	$('#combo_airports_flights_to').show();
	$(this).hide();

	$('#combo_airports_flights_to ').prepend("<option value='0'>-- Select airport --</option>");
	$('#combo_airports_flights_to ').val("0");
	if($('#flights_to').hasClass('error')){
		validClick("#flights_to");
	}else{
		$("#flights_to").css("visibility", "hidden");
	}
	return false;

});

$('a#airports_flights_from').keydown(function(e){

	var key = e.keyCode;

	if(key =='13'){
			$('div.residents').hide();
	$('div.residents').attr('aria-hidden', "true");
	$('div.students').hide();
	$('div.students').attr('aria-hidden',"true");

		$('#combo_airports_flights_from').show().focus();
		$(this).hide();
		$('#combo_airports_flights_to').html('');
		 var options = "<option value='0'>"+select+"</option>";
		 options += $.ajax({
			 url: SEED3_URL+"getDeparturesArrivals.php?lang="+js_lang,
			async: false
		}).responseText;

//Wingman ie7 speedup
if (IS_IE_7 || IS_IE_8 || IS_MOBILE_BROWSER)
	options = '<option value=""></option>' + options;
$('#combo_airports_flights_from').append(options);
//$('#combo_airports_flights_from ').prepend("<option value='0'>-- Select airport --</option>");
//$('#combo_airports_flights_from ').val("0");

if($('#flights_from').hasClass('error')){
	validClick("#flights_from");
}else{
	$("#flights_from").css("visibility", "hidden");
}

e.preventDefault();
return false;
}

});

$('a#airports_flights_to').keydown(function(e){

	var key = e.keyCode;

	if(key =='13'){
		$('#combo_airports_flights_to').show().focus();
		$(this).hide();
		$('#combo_airports_flights_to ').prepend("<option value='0'>-- Select airport --</option>");
		$('#combo_airports_flights_to ').val("0");

		if($('#flights_to').hasClass('error')){
			validClick("#flights_to");
		}else{
			$("#flights_to").css("visibility", "hidden");
		}

		e.preventDefault();
		return false;
	}

});


  //


  /* -- button click -- */

  $('#ibebutton').click(function(){

  	var flag = 0,
  	strAlpha = "Use only letters",
  	flighToHidden = $('#flights_to').css("visibility") == "hidden",
  	flighFromHidden = $('#flights_from').css("visibility") == "hidden";

  	$('input').removeAttr("aria-invalid");


  	function isAlpha(strAlpha){
  		var alphaNum = /^[a-zA-ZÀ-ÿ()\s.,-]*$/i;
  		var re = $(strAlpha).val();
  		return alphaNum.test(re);
  	}

  	if($("#flights_from").val() == '' || $("#combo_airports_flights_from").val() == '' || $("#origin").val() == '' || $("#origin").val() == 0 || $("#combo_airports_flights_from").val() == 0){


  		if(flighFromHidden && $("#combo_airports_flights_from").val() == 0){

  			if(!isAlpha($("#flights_from"))){
  				$("#combo_airports_flights_from").addClass('error');
  				$("#flights_from-error").addClass("error-class");
                    // $("#flights_from-error").text(strAlpha);
                    flag ++;

                    // console.log("flighFromHidden 2");
                    // console.log("flighFromHidden 2 flag: " + flag);

            }else{

            	$("#combo_airports_flights_from").addClass('error');
            	$("#flights_from-error").addClass("error-class");
            	flag ++;

                // console.log("flighFromHidden 2.1");
                // console.log("flighFromHidden 2.1 flag: " + flag);

            }

            // return false;

        }

        else if(!flighFromHidden){

        	if(!isAlpha($("#flights_from"))){
        		$("#flights_from").addClass('error');
        		$("#combo_airports_flights_from").addClass('error');
        		$("#flights_from").attr("aria-invalid", "true");
        		$("#flights_from-error").addClass("error-class");
        		$("#flights_from-error").text(strAlpha);
                // $("#flights_from-error").text("Campo obrigatório");
                flag++;

                // console.log("!flighFromHidden");
                // console.log("!flighFromHidden flag: " + flag);

            }else{

            	$("#flights_from").addClass('error');
            	$("#combo_airports_flights_from").addClass('error');
            	$("#flights_from").attr("aria-invalid", "true");
            	$("#flights_from-error").addClass("error-class");
            	$("#flights_from-error").text("Required field");
            	flag++;

                // console.log("!flighFromHidden");
                // console.log("!flighFromHidden flag: " + flag);

            }

            // return false;

        }

    }

 if($("#flights_to").val() == '' || $("#combo_airports_flights_to").val() == '' || $("#destination").val() == '' || $("#destination").val() == 0 || $("#combo_airports_flights_to").val() == 0){



	if(flighToHidden && $("#combo_airports_flights_to").val() == 0 || flighToHidden && $("#combo_airports_flights_to").val() == ''){
		if(!isAlpha($("#flights_to"))){
			$("#combo_airports_flights_to").addClass('error');
			$("#flights_to-error").addClass("error-class");
			flag ++;

            // console.log("flighToHidden 2");
            // console.log("flighToHidden 2 flag: " + flag);

        }else{

        	$("#combo_airports_flights_to").addClass('error');
        	$("#flights_to-error").addClass("error-class");
        	flag ++;

            // console.log("flighToHidden 2.1");
            // console.log("flighToHidden 2.1 flag: " + flag);

        }


        // return false;

    }

    else if(!flighToHidden){
    	if(!isAlpha($("#flights_to"))){
    		$("#flights_to").addClass('error');
    		$("#combo_airports_flights_to").addClass('error');
    		$("#flights_to").attr("aria-invalid", "true");
    		$("#flights_to-error").addClass("error-class");
    		$("#flights_to-error").text(strAlpha);
            // $("#flights_to-error").text("Campo obrigatório");
            flag++;

            // console.log("!flighToHidden");
            // console.log("!flighToHidden flag: " + flag);

        }
        // else{
        	if($("#flights_to").val() == "" || $("#destination").val() == ""){

        		$("#flights_to").addClass('error');
        		$("#combo_airports_flights_to").addClass('error');
        		$("#flights_to").attr("aria-invalid", "true");
        		$("#flights_to-error").addClass("error-class");
        		$("#flights_to-error").text("Required field");
        		flag++;

            // console.log("!flighToHidden");
            // console.log("!flighToHidden flag: " + flag);

        }


    }

}

      //dani - código para validar a existência de erros na data de partida e chegada
   if ($('#departing_date_msg_error').hasClass('error-class')) {flag++;}
    if ($('#returning_date_msg_error').hasClass('error-class')) {flag++;}

        if(flag > 0){
            // console.log("entrei 6");
            $('.errText').show();
            $(".errText").attr("aria-hidden", "false");
            $('.errText').focus();
            $('.errText').find('.errTitle').text("Errors were found in the form");
            $('.errText').find('.errTxt').text(flag + ((flag==1)?" error":(" errors")) + ".");
        }

        if(flag == 0){
            // console.log("entrei 7");
            $('.errText').hide();
            // dataLayer.push({'event': 'bookNowClick'});
            // if(validateSidebar('flights')) {
            	$('#side_booking_flights').submit();
            // return true;
            // }else{
            //    return false;
            // }
        }

        return false;

    });
/* fim alteração Yasmine*/

$('#flighttype_multicity').click(function(){
		/*
		var mlextra = (($('#origin').val() != '') && ($('#origin').val() != 'undefined')) ? '&origin=' + $('#origin').val() : '';
		multicity_link = multicity_link + mlextra;
		*/
		window.open(multicity_link,'blank');
		// console.log(multicity_link);
	});

/* ------------------	*/

$('#flights_promocode').click(function(){ $(this).val(''); });
$('#flights_promocode2').click(function(){ $(this).val(''); });

/* ------------------	*/


});

</script>

<script language="Javascript" type="text/javascript">


jQuery(document).ready(function() {
	//$('#country_arrival').val('0');

//MC cmportamento do calendário para a tab Seguro -> START

// $( "#tab-insurance #insurance_date_departure, #tab-insurance #insurance_date_return" ).datepicker({buttonText: "", minDate: "D",maxDate: "+361D", showOn: "button",buttonImage: icon_calendar,buttonImageOnly: true,showButtonPanel: true,dateFormat: "dd/mm/yy",showOtherMonths: true,selectOtherMonths: true,closeText: '',currentText: '',numberOfMonths: 2, showAnim: false
// });

// $('#tab-insurance #insurance_date_departure').change(function() {
// 	var dataPartida = $(this).val();
// 	var dateparts = dataPartida.split("/");
// 		//new Date(year, month, day)
// 		var dataPartidaObj = new Date(dateparts[2], parseInt(dateparts[1],10) - 1, parseInt(dateparts[0],10));
// 		var dataPartidaTimestamp = dataPartidaObj.getTime();

// 		var today = new Date().getTime();
// 		var today354 = new Date(today + 354 * 24 * 60 * 60 * 1000);
// 		if(dataPartidaTimestamp >= today354)
// 			var today77 = new Date(today + 361 * 24 * 60 * 60 * 1000);
// 		else
// 			var today77 = new Date(dataPartidaTimestamp + 7 * 24 * 60 * 60 * 1000);

// 		today77 = (today77.format('d/m/Y'));
// 		$('#tab-insurance #insurance_date_return').val(today77);
// 	});

// $('#tab-insurance #insurance_date_return').change(function() {
// 	var today = new Date().getTime();
// 	var today354 = new Date(today + 354 * 24 * 60 * 60 * 1000);

// 	var dataPartida = $('#tab-insurance #insurance_date_departure').val();
// 	var dateparts = dataPartida.split("/");
// 		//new Date(year, month, day)
// 		var dataPartidaObj = new Date(dateparts[2], parseInt(dateparts[1],10) - 1, parseInt(dateparts[0],10));
// 		var dataPartidaTimestamp = dataPartidaObj.getTime();

// 		var dataRegresso = $(this).val();
// 		var dateparts = dataRegresso.split("/");
// 		//new Date(year, month, day)
// 		var dataRegressoObj = new Date(dateparts[2], parseInt(dateparts[1],10) - 1, parseInt(dateparts[0],10));
// 		var dataRegressoTimestamp = dataRegressoObj.getTime();

// 		if(dataPartidaTimestamp > dataRegressoTimestamp)
// 		{
// 			$('#tab-insurance #insurance_date_departure').val(dataRegresso);
// 		}

// 	});

// //MC cmportamento do calendário para a tab Seguro -> END

$('#insuranceSubmit').click(function(){
	if ($('#country_residence').val() != 0) { $(".container_country_residence").removeClass('error');
} else { flag = 1; $(".container_country_residence").addClass('error'); return false; }

if ($('#country_departure').val() != 0) { $(".container_country_departure").removeClass('error'); }
else { flag = 1; $(".container_country_departure").addClass('error'); return false; }

if ($('#country_arrival').val() != 0) { $(".container_country_arrival").removeClass('error'); }
else { flag = 1; $(".container_country_arrival").addClass('error'); return false; }
//Seixo CODE TO CHANGE - validation not correct
// if ($("#insurance_date_departure").val()) {
// 	if (isDate($("#insurance_date_departure").val())) { $(".container_insurance_departure").removeClass('error'); }
// 	else { flag = 1; $(".container_insurance_departure").addClass('error'); return false; }
// } else { flag = 1; $(".container_insurance_departure").addClass('error'); return false; }

// if ($("#insurance_date_return").val()) {
// 	if (isDate($("#insurance_date_return").val())) { $(".container_insurance_return").removeClass('error'); }
// 	else { flag = 1; $(".container_insurance_return").addClass('error'); return false; }
// } else { flag = 1; $(".container_insurance_return").addClass('error'); return false; }

if($("#insurance_price_trip").val() == '0' || $("#insurance_price_trip").val() == '0,00' || $("#insurance_price_trip").val() == '0.00') {
	flag = 1; $(".insurance_price_trip_container").addClass('error'); return false;
} else { $(".insurance_price_trip_container").removeClass('error'); }

//seixo - código provavelmente desnecessário? ou será para outro tipo de formato de data?
var dparts = $('#insurance_date_departure').val();
departure_parts = dparts.split('/');
var rparts = $('#insurance_date_return').val();
return_parts = rparts.split('/');

var departure_month = (departure_parts[1] != 10) ? departure_parts[1].replace(/0/g,'') : departure_parts[1];
var return_month = (return_parts[1] != 10) ? return_parts[1].replace(/0/g,'') : return_parts[1];

$('#dia_partida').val(parseInt(departure_parts[0], 10));
$('#mes_partida').val(parseInt(departure_parts[1], 10));
$('#ano_partida').val(departure_parts[2]);

$('#dia_chegada').val(parseInt(return_parts[0], 10));
$('#mes_chegada').val(parseInt(return_parts[1], 10));
$('#ano_chegada').val(return_parts[2]);

$('#magroupTravelInformations').submit();

});

});

</script>


<!-- http://book.flytap.com/r3air/tap/DeepLink.aspx  -->
<form action="http://www.flytap.com/IBEpost.php" name="side_booking_flights" id="side_booking_flights" target="_parent" method="post">
	<div tabindex="-1" class="errText" aria-live="assertive" aria-hidden="true" style="display:none;">
		<div class="errTitle"></div>
		<p class="errTxt"></p>
	</div>

	<input type="hidden" name="goAnixe" value="true">
	<input type="hidden" name="Anixeurl" id="Anixeurl" value="https://book.flytap.com/r3air/tap/DeepLink.aspx">
	<input type="hidden" name="market" value="CA">
	<input type="hidden" id="visualMarket" name="visualMarket" value="CA">
	<input type="hidden" name="language" value="en-us">
	<input type="hidden" name="origin" id="origin" value="">
	<input type="hidden" name="destination" id="destination" value="">
	<input type="hidden" name="promovalidation" value="Insert code">

	<div class="flighttype">
		<fieldset>
			<legend class="offscreen">Type of flight</legend>
			<div class="contentFlight">
				<p class="value"><input class="radiobutton" type="radio" name="flighttype" id="flighttype_return" value="return" checked="checked"></p>
				<p class="text" ss3_article_id="20"><label for="flighttype_return">Return Trip</label></p>

				<p class="value"><input class="radiobutton" type="radio" name="flighttype" id="flighttype_oneway" value="single"></p>
				<p class="text" ss3_article_id="22"><label for="flighttype_oneway">One Way </label></p>
			</div><!-- end .left -->

			<div class="contentFlight other"><span>OR </span>
			</div>
			<div class="contentFlight multicity">
				<p class="textMultiCity" ss3_article_id="21">
				<a href="https://book.flytap.com/r3air/tap/DeepLink.aspx?_a=FTCAEN&amp;language=EN-US&amp;market=CA&amp;searchType=multi" id="flightype_multicity" target="_blank" value="multi_city" title="Open a new window">Multi-city</a>
				</p>
				<p class="textMultiCity" style="margin-top: 7px;">
					<a href="http://book.flytap.com/air/TAPCA/SearchStopover.aspx?_l=EN-US&amp;market=CA" id="flightype_stopover" target="_blank" value="stopover" title="Open a new window">Stopover</a>
				</p>


                                            <!--AMADEUS p class="value"><input class="radiobutton" type="radio" name="flighttype" id="flighttype_powerchoice" value="power_choice" /></p>
                                            <p class="text" ss3_article_id="23"><label for="flighttype_powerchoice"><ss3_text id="text" noedit="1"/></label></p -->
                                            </div><!-- end .right -->
            		</fieldset>
                                            <span class="clear">&nbsp;</span>

                                    </div><!-- end .flighttype -->

                                    <div class="from_to">
                                    	<div class="airport_textbox ui-widget container_airports_flights_from">
                                    		<p class="text" ss3_article_id="24">
                                    			<label for="flights_from">From:<span class="offscreen">Write to filter and choose your option from the list below.</span></label>
                                    			<a class="search airports_flights_from" rel="autosearch" href="javascript:;" id="airports_flights_from" aria-hidden="true" tabindex="-1"><span ss3_article_id="42">airports list</span></a>
                                    			<span class="clear">&nbsp;</span>
                                    		</p>
                                    		<p class="value airports_flights_from">
                                    			<input id="flights_from" name="fromCity" class="text_autocomplete text" type="text" value="" aria-describedby="flights_from-error">
                                    			<span id="flights_from_num_elem" class="autocomplete_hidden_count" role="alert" aria-live="assertive" aria-atomic="true"></span>
                                    			<span role="alert" aria-atomic="true" id="flights_from-error" class="span-add-error"></span>
                                    			<span class="combo_airports_flights_from comboLarge">
                                    				<label for="combo_airports_flights_from" ss3_article_id="24" class="offscreen">From:</label>
                                    				<select class="newComboStyle combo_airports_flights_from_select" id="combo_airports_flights_from" required="">
                                    				</select>
                                    			</span>
                                    		</p>
                                    	</div><!-- end .airport_textbox -->


                                    	<div class="airport_textbox ui-widget container_airports_flights_to">
                                    		<p class="text" ss3_article_id="25">
                                    			<label for="flights_to">To:<span class="offscreen">Write to filter and choose your option from the list below.</span></label>
                                    			<a class="search airports_flights_to" rel="autosearch" href="javascript:;" aria-hidden="true" tabindex="-1" id="airports_flights_to"><span ss3_article_id="42">airports list</span></a>
                                    			<span class="clear">&nbsp;</span>
                                    		</p>
                                    		<p class="value airports_flights_to">
                                    			<input id="flights_to" name="toCity" class="text_autocomplete text" type="text" aria-describedby="flights_to-error" required="">
                                    			<span id="flights_to_num_elem" class="autocomplete_hidden_count" role="alert" aria-live="assertive" aria-atomic="true"></span>
                                    			<span role="alert" aria-atomic="true" id="flights_to-error" class="span-add-error"></span>
                                    			<span class="combo_airports_flights_to comboLarge">
                                    				<label for="combo_airports_flights_to" class="offscreen" ss3_article_id="25">To:</label>
                                    				<select class="newComboStyle combo_airports_flights_to_select" id="combo_airports_flights_to" required="">
                                    				</select>
                                    			</span>
                                    		</p>
                                    	</div><!-- end .airport_textbox -->
                                    </div><!-- end .from_to -->

                                    <div class="class_directflights">
                                    	<div class="direct_flights">
                                    		<p class="value"><input type="checkbox" class="checkbox" name="directflights" id="directflights" value="1"></p>
                                    		<p class="text" ss3_article_id="26"><label for="directflights">direct flights only</label></p>
                                    	</div><!-- .direct_flights -->
                                    	<span class="clear">&nbsp;</span>
                                    </div><!-- end .class_directflights -->


                                    <div class="departing_returning">
                                    	<div class="date_selector container_departing">
                                    		<p class="text" ss3_article_id="27"><label for="departing_date">Departing:</label></p>
                                    		<p class="value">
                                    			<input type="text" class="date" name="data_partida" id="departing_date" aria-describedby="departing_date_msg_error" required="">

                                    			<span class="clear">&nbsp;</span>
                                    		</p>
                                    	</div><!-- end .date_selector -->
                                    	<div class="date_selector container_returning">
                                    		<p class="text" ss3_article_id="28"><label for="returning_date">Returning:</label></p>
                                    		<p class="value">
                                    			<input type="text" class="date" name="data_regresso" id="returning_date" aria-describedby="returning_date_msg_error">
                                    			<span class="clear">&nbsp;</span>
                                    		</p>
                                    	</div><!-- end .date_selector -->
                                    	<div class="date_errors_content">
    <span role="alert" aria-atomic="true" id="departing_date_msg_error" class="span-add-error"></span>
    <span role="alert" aria-atomic="true" id="returning_date_msg_error" class="span-add-error"></span>
</div>
<style>
.date_errors_content {
padding-bottom: 10px;
}
.date_selector.container_departing .value,
.date_selector.container_returning .value {
min-height: 20px;
height: auto;
}

/* Autocomplete 26/01/2016 */
.autocomplete_hidden_count {
	font-size: 1px;
	line-height: 1px;
	text-indent: -99999px;
	display: inline-block;
	overflow: hidden;
	position: absolute;
}
/* END Autocomplete 26/01/2016 */

</style>

                                    	                                    </div><!-- end .departing_returning -->

                                    <div class="people_age">
                                    	<div class="left">
                                    		<p class="text" ss3_article_id="33"><label for="flight_adults"><span class="title" ss3_article_id="30">Adults:</span> (&gt;12 years)</label></p>
                                    		<p class="value comboSmall combo_people_bookingtool">
                                    			<select name="numberOfAdults" id="flight_adults" class="newComboStyle">
                                    				<option value="1">1</option>
                                    				<option value="2">2</option>
                                    				<option value="3">3</option>
                                    				<option value="4">4</option>
                                    				<option value="5">5</option>
                                    				<option value="6">6</option>
                                    				<option value="7">7</option>
                                    				<option value="8">8</option>
                                    				<option value="9">9</option>
                                    			</select>
                                    		</p>
                                    	</div><!-- end .left -->
                                    	<div class="middle">
                                    		<p class="text" ss3_article_id="34"><label for="flight_children"><span class="title" ss3_article_id="31">Children:</span> (2-11 years)</label></p>
                                    		<p class="value comboSmall combo_people_bookingtool">
                                    			<select name="numberOfChildren" id="flight_children" class="newComboStyle">
                                    				<option value="0">0</option>
                                    				<option value="1">1</option>
                                    				<option value="2">2</option>
                                    				<option value="3">3</option>
                                    				<option value="4">4</option>
                                    				<option value="5">5</option>
                                    				<option value="6">6</option>
                                    				<option value="7">7</option>
                                    				<option value="8">8</option>
                                    				<option value="9">9</option>
                                    			</select>
                                    		</p>
                                    	</div><!-- end .middle -->
                                    	<div class="right">
                                    		<p class="text" ss3_article_id="35"><label for="flight_babies"><span class="title" ss3_article_id="32">Infants:</span> (&lt;2 years)</label></p>
                                    		<p class="value comboSmall combo_people_bookingtool">
                                    			<select name="numberOfInfants" id="flight_babies" class="newComboStyle">
                                    				<option value="0">0</option>
                                    				<option value="1">1</option>
                                    				<option value="2">2</option>
                                    				<option value="3">3</option>
                                    				<option value="4">4</option>
                                    				<option value="5">5</option>
                                    				<option value="6">6</option>
                                    				<option value="7">7</option>
                                    				<option value="8">8</option>
                                    				<option value="9">9</option>
                                    			</select>
                                    		</p>
                                    	</div><!-- end .right -->
                                    	<span class="clear">&nbsp;</span>
                                    </div><!-- end .people_age -->

                                    <div class="residents_students_executive">
                                    	<div class="residents" style="display:none">
                                    		<p class="value"><input type="checkbox" class="checkbox" name="residents" id="residents" value="1"></p>
                                    		<p class="text" ss3_article_id="36"><label for="residents">residents</label></p>
                                    	</div><!-- .direct_flights -->

                                    	<div class="students" style="display:none">
                                    		<p class="value"><input type="checkbox" class="checkbox" name="students" id="students" value="1"></p>
                                    		<p class="text" ss3_article_id="37"><label for="students">students</label></p>
                                    	</div><!-- .direct_flights -->

                                    	<!--div class="executive">
                                    		<p class="value"><input type="checkbox" class="checkbox" name="executive" id="executive" value="1" /></p>
                                    		<p class="text" ss3_article_id="38"><label for="executive"><ss3_text id="text" noedit="1"/></label></p>
                                    	</div--><!-- .direct_flights -->
                                    	<span class="clear">&nbsp;</span>
                                    </div><!-- end .residents_students_executive -->

                                    <!-- onclick="javascript:validateSidebar('flights');return false;" -->

                                    
                                    <div class="airport_textbox ui-widget container_flights_promocode">
                                    	<p class="text" ss3_article_id="518">
                                    		<label for="flights_promocode">Promotion / Congress Code (optional)</label>
                                    	</p>
                                    	<p class="value">
                                    		<input id="flights_promocode" name="flights_promocode" class="text" type="text" value="Insert code" rel="Insert code" maxlength="14">
                                    		<span class="clear">&nbsp;</span>
                                    	</p>
                                    </div>

                                    <p>
                                    	<!--<a title="Book Now" id="ibebutton" class="biggreenbutton" href="javascript:;">-->
                                    	<button id="ibebutton" class="biggreenbutton" type="submit" title="Open a new window">
                                    		<span class="left">&nbsp;</span>
                                    		                                    		<span class="text" ss3_article_id="39">Book Now<span class="arrow">&nbsp;</span></span>
                                    		                                    		<span class="right">&nbsp;</span>
                                    	</button>
                                    </p>

                                    <div class="advanced">

                                    	                                    	<p class="advanced_search" ss3_article_id="40">
                                    									<!-- LV alterado $post_language para $aid_language no office id - issue 1441 -->
							<a href="https://book.flytap.com/r3air/tap/Deeplink.aspx?market=CA&amp;language=EN-US&amp;_a=FTCAEN&amp;searchType=start" target="_parent">
								Advanced Search 							</a>
													</p>

					</div>

					<br>
					<div id="std_alert" style="display:none;">
						<div class="alert">
							<span class="corner-top-left">&nbsp;</span><span class="corner-top-right">&nbsp;</span><span class="corner-bottom-left">&nbsp;</span><span class="corner-bottom-right">&nbsp;</span>

							<div class="text" ss3_article_id="491">
								<div style="color: #fe7e00;line-height: 28px;font-size: 16px; font-weight: normal;margin-bottom: 0;"></div> <br>
								<p style="text-align:justify">
																	</p>
							</div>
						</div>
					</div><!-- end .modal_content -->

<!-- 					<div id="us_alert" role="alert" >
						<div class="alert">
							<span class="corner-top-left">&nbsp;</span><span class="corner-top-right">&nbsp;</span><span class="corner-bottom-left">&nbsp;</span><span class="corner-bottom-right">&nbsp;</span>
							<div class="text" ss3_article_id="216">
								<div style="color: #fe7e00;line-height: 28px;font-size: 16px; font-weight: normal;margin-bottom: 0;" ><ss3_text id="title" noedit="1"/></div>
								<p  style="text-align:justify">
									<span style="font-weight:bold;">To travellers to, from and within the U.S.A. </span> <br><br>Visa exempt passengers intending to travel to the United States will have to apply for an electronic travel authorization in advance via the Electronic System for Travel Application. Click <a href='http://www.flytap.com/Canada/enus/PlanBook/PrepareforTravel/travel-to-from-usa'>here </a> to know more. <br><br>In compliance with requirements of the U.S. Government, TAP, allows U.S. Customs and Border Protection to access certain travel and reservation data (referred to as "Passenger Name Record" or "PNR") of passengers flying to, from or through the U.S. These data are used primarily for preventing and combating terrorism and other serious criminal offences. Further information can be obtained on this <a href='http://www.flytap.com/Canada/enus/PlanBook/PrepareforTravel/travel-to-from-usa#t3'>site</a> or upon request to TAP. We also inform that passengers on flights to the United States of America are not permitted to carry cigarette lighters in their hand luggage aswell as in their hold luggage and on one								</p>
							</div>
						</div>
					</div> -->

					<div id="ven_alert">
						<div class="alert">
							<span class="corner-top-left">&nbsp;</span><span class="corner-top-right">&nbsp;</span><span class="corner-bottom-left">&nbsp;</span><span class="corner-bottom-right">&nbsp;</span>
							<div class="text" ss3_article_id="216">
								<h5>Attention:</h5>
								<p style="text-align:justify">
									<span style="font-weight:bold;">To travellers to, from and within the U.S.A. </span> <br><br>Visa exempt passengers intending to travel to the United States will have to apply for an electronic travel authorization in advance via the Electronic System for Travel Application. Click <a href="http://www.flytap.com/Canada/enus/PlanBook/PrepareforTravel/travel-to-from-usa">here </a> to know more. <br><br>In compliance with requirements of the U.S. Government, TAP, allows U.S. Customs and Border Protection to access certain travel and reservation data (referred to as "Passenger Name Record" or "PNR") of passengers flying to, from or through the U.S. These data are used primarily for preventing and combating terrorism and other serious criminal offences. Further information can be obtained on this <a href="http://www.flytap.com/Canada/enus/PlanBook/PrepareforTravel/travel-to-from-usa#t3">site</a> or upon request to TAP. We also inform that passengers on flights to the United States of America are not permitted to carry cigarette lighters in their hand luggage aswell as in their hold luggage and on one								</p>
							</div>
						</div>
					</div><!-- end .modal_content -->
				    <!--<div id="danish_alert">
                                        <div class="alert">
                                            <span class="corner-top-left">&nbsp;</span><span class="corner-top-right">&nbsp;</span><span class="corner-bottom-left">&nbsp;</span><span class="corner-bottom-right">&nbsp;</span>
                                            <div class="text">
                                                <h5></h5>
                                                <p></p>
                                                <p></p>
                                            </div>
                                        </div>
                                    </div>-->
                                    <div id="passenger_alert">
                                    	<div class="alert">
                                    		<span class="corner-top-left">&nbsp;</span>
                                    		<span class="corner-top-right">&nbsp;</span>
                                    		<span class="corner-bottom-left">&nbsp;</span>
                                    		<span class="corner-bottom-right">&nbsp;</span>
                                    		<div class="text" ss3_article_id="217">
                                    			<p>Each adult can travel with 4 children or each adult can travel with one child and one infant.</p>
                                    		</div>
                                    	</div>
                                    </div>

                                    <div id="passenger_max_alert">
                                    	<div class="alert">
                                    		<span class="corner-top-left">&nbsp;</span>
                                    		<span class="corner-top-right">&nbsp;</span>
                                    		<span class="corner-bottom-left">&nbsp;</span>
                                    		<span class="corner-bottom-right">&nbsp;</span>
                                    		<div class="text" ss3_article_id="281">
                                    			<p>Only 9 passengers are allowed for an online booking. Infants are not considered in the total.</p>
                                    		</div>
                                    	</div>
                                    </div>

                                </form>

                                <script type="text/javascript">
                                jQuery(document).ready(function() {
                                	$('div.container_country_residence').find('div.newListSelected div.selectedTxt').bind('click', function(){
                                		$(this).next('ul').css('height','20px');
                                		return false;
                                	});
                                	var iframeAgents = getUrlVars("iframeAgents");
                                	iframeAgents = iframeAgents.toString();
                                	if(iframeAgents == "agents" && IS_IE_7)
                                	{
						//alert("Agents- IE7 ...---");
						jQuery("#ui-datepicker-div").css({"position":"absolute", "left":"10px", "top":"0px !important"});
						jQuery("BODY").css({ "line-height": "13px" });
						jQuery("#bookingtool .tab-flights .flighttype div.right").hide();
						//$(".departing_returning p.value").html($(".departing_returning p.value").html()+'<img class="ui-datepicker-trigger" src="images/icon_calendar.gif">')
						//$(".departing_returning img").attr("src","http://stagingflytap.fly-tap.com/prjdir/flytap/images/icon_calendar.gif");
						//alert($(".departing_returning img").attr("src"));
						//jQuery(".date_selector .value IMG.ui-datepicket-trigger").css({"position":"absolute !important", "left":"-10px! important", "top":"5px !important", "height":"19px !important"});
						//alert(jQuery(".date_selector .value IMG.ui-datepicket-trigger").css("height"));
						$(".departing_returning img").attr("height","19px");
						$(".departing_returning img").attr("width","14px");
						$(".header_title").css({ "line-height": "20px" });
					}
				});
</script>
                </div>
             </div>
         </div>
         <div class="bottombar"></div>
    </li>
                    <li id="GA_bookWithMiles" role="presentation" onclick="return true;" class="item position2 ">
                <div class="topbar"></div>
                <!--<div class="header" id="headerBookWithMiles">-->
                <div class="header" id="tab-2" aria-controls="panel-2" aria-selected="false" aria-expanded="false" role="tab" tabindex="-1">
                    <div class="icon bookmiles"></div>
                    <div class="text">Book With Miles</div>
                </div>
                <div class="content" id="panel-2" aria-labelledby="tab-2" aria-hidden="true" role="tabpanel">
                    <div class="sidebar_container">
                <div class="tab-flights" id="tab-bookWithMiles">
                    <div style="padding:40px;"><img alt="Loading..." src="images/victoria/ajax-loader.gif"></div>

                        </div>
                <script>
    var LANGID ="enus";
    var SITEID ="CA";
    var user_lang = getCookie2('victoria_lang');  if(user_lang == '' || user_lang == -1) user_lang = LANGID;
    
   

 
    jQuery(document).ready(function() {
        $("#tab-2").click(function(){
            $.ajax({
                    type: 'GET',
                    url: window.location.protocol+"//"+window.location.hostname + "/master/" + user_lang +"/"+ "templates/victoria/forms/IBE_FORM_VICTORIA.php/___volangid="+LANGID+"___bbb=24___vositeid="+SITEID,
                    
                    success:function(data) {
                        //console.log(data);
                        $("#tab-bookWithMiles").html(data);
                        
                    }
            });
        });

            $("#tab-2").keydown(function(e){
                var key = e.keyCode;

                //ENTER & SPACE
                if(key == '13' || key == '32'){
                    $.ajax({
                        type: 'GET',
                        url: window.location.protocol+"//"+window.location.hostname + "/master/" + user_lang +"/"+ "templates/victoria/forms/IBE_FORM_VICTORIA.php/___volangid="+LANGID+"___bbb=31___vositeid="+SITEID,
                        
                        success:function(data) {
                            //console.log(data);
                            $("#tab-bookWithMiles").html(data);
                            
                        }
                    });
                   e.preventDefault();
                    return false;
                }

        });
    });
</script>                    </div>
                </div>
                <div class="bottombar"></div>
            </li>
            
    <li id="GA_hotel" role="presentation" onclick="return true;" class="item position3">
        <div class="topbar"></div>
        <div class="header" id="tab-3" aria-controls="panel-3" aria-selected="false" aria-expanded="false" role="tab" tabindex="-1">
            <div class="icon hotel"></div>
            <div class="text"><span ss3_article_id="201">Hotel</span></div>

        </div>
        <div class="content" id="panel-3" aria-labelledby="tab-3" aria-hidden="true" role="tabpanel">
            <div class="sidebar_container">
                <div class="tab-hotel" id="tab-hotel">

    <!--MC_objHotel2 Start-->
<form action="http://www.flytap.com/Hotelpost.php" name="side_booking_hotel" target="_blank" method="post" class="side_booking_hotel" id="side_booking_hotel">
 <div tabindex="-1" class="errText" aria-live="assertive" aria-hidden="true">
  <div class="errTitle"></div>
  <p class="errTxt"></p>
  </div>   
    <p class="text" id="promo_hotel_title">
        Book your hotel here and earn miles!    </p>
        
    <p class="text" id="promo_hotel">
        €1 spent = 2 miles    </p>
    <div class="airport_textbox ui-widget container_airports_hotel_destination"> 
        <p class="text" ss3_article_id="80"> 
            <label for="hotel_destination">To<span class="offscreen">Write to filter and choose your option from the list below.</span></label> 
            <!--RUIa class="search airports_hotel_destination" href="" title="search airports"><span ss3_article_id="42"><ss3_text id="text" noedit="1"/></span></a--> 
            <span class="clear">&nbsp;</span> 
        </p> 
        <p class="value airports_hotel_destination"> 
            <input id="hotel_destination" name="hotel_destination" class="text_autocomplete text" type="text" aria-describedby="hotel_destination-error" required="">
             <span role="alert" aria-atomic="true" id="hotel_destination-error" class="span-add-error"></span> 
            
           <!--  <span class="combo_airports_hotel_destination"> 
                
                <select class="combostyle airport_textbox hide"> 
                    <option value="0">- Select airport -</option> 
                    <option value="Aalborg">Aalborg</option> 
                    <option value="Aalesund">Aalesund</option> 
                    <option value="Aarhus">Aarhus</option> 
                    <option value="Aberdeen">Aberdeen</option> 
                    <option value="A Corunha">A Corunha</option> 
                    <option value="Ajaccio">Ajaccio</option> 
                    <option value="Albany">Albany</option> 
                    <option value="Alghero">Alghero</option> 
                    <option value="Algiers">Algiers</option> 
                    <option value="Alicante">Alicante</option> 
                    <option value="Alta">Alta</option> 
                    <option value="Amsterdam">Amsterdam</option> 
                    <option value="Ancona">Ancona</option> 
                    <option value="Aracaju">Aracaju</option> 
                    <option value="Asuncion">Asuncion</option> 
                    <option value="Aswan">Aswan</option> 
                    <option value="Athens">Athens</option> 
                    <option value="Atlanta">Atlanta</option> 
                    <option value="Austin">Austin</option> 
                </select> 
          
            </span>  -->
        </p> 
    </div><!-- end .airport_textbox --> 
    
    <div class="hotel_checkindate departing_returning"> 
        <div class="date_selector container_checkin_date"> 
            <p class="text" ss3_article_id="81"><label for="checkin_date2">Check-in date:</label></p> 
            <p class="value"> 
                <input type="text" class="date datepicker" name="checkin_date" id="checkin_date2" aria-describedby="checkin_date2_msg_error"> 
                <span class="clear">&nbsp;</span> 
            </p> 
        </div><!-- end .date_selector --> 
        
        <div class="date_selector container_checkout_date"> 
            <p class="text" ss3_article_id="82"><label for="checkout_date2">Check-out date:</label></p> 
            <p class="value"> 
                <input type="text" class="date datepicker" name="checkout_date" id="checkout_date2" aria-describedby="checkout_date2_msg_error"> 
                <span class="clear">&nbsp;</span> 
            </p> 
        </div><!-- end .date_selector --> 
        <div class="date_errors_content">
<span role="alert" aria-atomic="true" id="checkin_date2_msg_error" class="span-add-error"></span>
<span role="alert" aria-atomic="true" id="checkout_date2_msg_error" class="span-add-error"></span>
</div>
        <span class="clear">&nbsp;</span> 
    </div><!-- end .hotel_checkindate --> 
    <input type="hidden" name="HotelPost" value="true">
    <input type="hidden" name="htl_market" value="CA">
    <input type="hidden" name="htl_lang" value="en-us">
<p ss3_article_id="234"><button title="Open a new window" id="hotel-form-submit" class="biggreenbutton" href=""><span class="left">&nbsp;</span><span class="text">Book Now<span class="arrow">&nbsp;</span></span><span class="right">&nbsp;</span></button></p> 
</form>

<script>

// cmportamento do calendario para a tab Hotel -> START
jQuery(document).ready(function() {

    function isAlpha(alpha){
var re = /^[a-zA-ZÀ-ÿ-\s]*$/i;
return re.test(alpha.value);
}

var strAlpha = "Use only letters";

$('#hotel_destination').keyup(function(){

if(!isAlpha(this)){
        $(this).addClass("error");
        $(this).parent().children('.span-add-error').addClass('error-class');
        $(this).parent().children('.span-add-error').text(strAlpha);
        return false;

}else if(isAlpha(this)){
        $(this).removeClass("error");
        $(this).parent().children('.span-add-error').removeClass('error-class');
        $(this).parent().children('.span-add-error').empty();
        return false;
}
return false;
});

//ON BLUR
$('#hotel_destination').blur(function(){
  if(!isAlpha(this)){
      $(this).addClass("error");
  }
});
    
    var myDate = new Date();var tomorrow = myDate.setDate(myDate.getDate());tomorrow = (myDate.format('d/m/Y'));$('#tab-hotel #checkin_date2').val(tomorrow);
    var myDate = new Date();var next_week = myDate.setDate(myDate.getDate() + 1);next_week = (myDate.format('d/m/Y'));$('#tab-hotel #checkout_date2').val(next_week);
	
    $('#checkin_date2').change(function() {
        var dataPartida = $(this).val();
        var dateparts = dataPartida.split("/");
        //new Date(year, month, day)
        var dataPartidaObj = new Date(dateparts[2], parseInt(dateparts[1],10) - 1, parseInt(dateparts[0],10));
        var dataPartidaTimestamp = dataPartidaObj.getTime();
        
        var today = new Date().getTime();
        var today354 = new Date(today + 354 * 24 * 60 * 60 * 1000);
        if(dataPartidaTimestamp >= today354)
            var today77 = new Date(today + 361 * 24 * 60 * 60 * 1000);
        else
            var today77 = new Date(dataPartidaTimestamp + 1 * 24 * 60 * 60 * 1000);
                    
            today77 = (today77.format('d/m/Y'));
            $('#checkout_date2').val(today77);
    });

    $(' #checkout_date2').change(function() {
        var today = new Date().getTime();
        var today354 = new Date(today + 354 * 24 * 60 * 60 * 1000);
        
        var dataPartida = $('#checkin_date2').val();
        var dateparts = dataPartida.split("/");
        //new Date(year, month, day)
        var dataPartidaObj = new Date(dateparts[2], parseInt(dateparts[1],10) - 1, parseInt(dateparts[0],10));
        var dataPartidaTimestamp = dataPartidaObj.getTime();
        
        var dataRegresso = $(this).val();
        var dateparts = dataRegresso.split("/");
        //new Date(year, month, day)
        var dataRegressoObj = new Date(dateparts[2], parseInt(dateparts[1],10) - 1, parseInt(dateparts[0],10));
        var dataRegressoTimestamp = dataRegressoObj.getTime();

        if(dataPartidaTimestamp > dataRegressoTimestamp)
        {
            $('#checkin_date2').val(dataRegresso);
        }
    });	
     $("#hotel-form-submit").click(function() {

    var flag = 0;
    $('input').removeAttr("aria-invalid");

    var strAlpha = "Use only letters";


    function isAlpha(strAlpha){
        // var alphaNum = /^[a-zA-Z-\s]*$/i;
        var alphaNum = /^[a-zA-ZÀ-ÿ-\s]*$/i;;
        var re = $(strAlpha).val();
        return alphaNum.test(re);
    }

    if($('#hotel_destination').val() == ""){
        $('#hotel_destination').addClass("error");
        $('#hotel_destination').attr("aria-invalid", "true");
        $('#hotel_destination-error').addClass("error-class");
        $('#hotel_destination-error').text("Required field");

         flag++;

    }else if(!isAlpha($('#hotel_destination'))){
        $('#hotel_destination').addClass("error");
        $('#hotel_destination').attr("aria-invalid", "true");
        $('#hotel_destination-error').addClass("error-class");
        $('#hotel_destination-error').text(strAlpha);

         flag++;
    }

     if ($('#checkin_date2_msg_error').hasClass('error-class')) {flag++;}
    if ($('#checkout_date2_msg_error').hasClass('error-class')) {flag++;}
    if(flag > 0){
        $('.errText').show();
        $(".errText").attr("aria-hidden", "false");
        $('.errText').focus();
        $('.errText').find('.errTitle').text("Errors were found in the form");
        $('.errText').find('.errTxt').text(flag + ((flag==1)?" error":(" errors")) + ".");
    }

    if(flag == 0){
        $('.errText').hide();
        $('#hotel_destination-error').hide;
        validateSidebar('hotel');
        // $("#hotel-form-submit").submit();
    }

    return false;

});
});	
// cmportamento do calendario para a tab Hotel -> END
</script>
<!--MC_objHotel2 End-->
                </div>
            </div>
        </div>
        <div class="bottombar"></div>
    </li>
    <li id="GA_rentacar" role="presentation" onclick="return true;" class="item position4">
        <div class="topbar"></div>
        <div class="header" id="tab-4" aria-controls="panel-4" aria-selected="false" aria-expanded="false" role="tab" tabindex="-1">
            <div class="icon rentacar"></div>
            <div class="text"><span ss3_article_id="202">Rent-a-Car</span></div>
        </div>
        <div class="content" id="panel-4" aria-labelledby="tab-4" aria-hidden="true" role="tabpanel">
            <div class="sidebar_container">
                <div class="tab-rent-a-car" id="tab-rent-a-car">
                    <style type="text/css">
    .leftAvis{
        width: 114px;
    }

    #label_same_station{
        margin-top: 4px;
    }

    #div_same_station{
        margin-bottom: 10px;
    }
</style>


<form id="form-cartrawler" target="_blank" name="form-cartrawler" action="">
    <div tabindex="-1" class="errText" aria-live="assertive" aria-hidden="true">
        <div class="errTitle"></div>
        <p class="errTxt"></p>
    </div>    
    <input type="hidden" name="pickup_station" id="pickup_station" value="">
    <input type="hidden" name="return_station" id="return_station" value="">
    
    <div class="departing_cartrawler_country airport_textbox" style="z-index: 4;">
        <p class="text"> <label for="pickup_office_name">Rental office: </label>
            
            <span class="clear">&nbsp;</span> 
        </p>
        <div id="pickup_office_div" class="class_directflights airport_textbox">
            
            <p class="value p_country">
                <input type="text" class="required text_autocomplete text ui-autocomplete-input" name="pickup_office_name" id="pickup_office_name" value="" autocomplete="off" role="textbox" aria-autocomplete="list" aria-haspopup="true" aria-describedby="pickup_office_name-error" required="">
                <span role="alert" aria-atomic="true" id="pickup_office_name-error" class="span-add-error"></span>
                <span id="pickup_office_name_num_elem" class="autocomplete_hidden_count" role="alert" aria-live="assertive" aria-atomic="true"></span>

                <span class="clear">&nbsp;</span>
            </p>
        </div><!-- end .date_selector -->
    </div>

    <span class="clear">&nbsp;</span>



    <div class="departing_cartrawler_country airport_textbox" id="div_same_station" style="z-index: 4;">
        <p class="text">
            <input class="checkbox" type="checkbox" name="same_station" id="same_station" checked=""><label id="label_same_station" for="same_station">Same desk</label>
        </p> 
    </div>

    <span class="clear">&nbsp;</span>


<div class="returning_cartrawler_country airport_textbox" style="z-index: 4;" aria-hidden="true">
<p class="text"> <label for="return_office_name">Return office:</label>
    
    <span class="clear">&nbsp;</span> 
</p> 
<div class="tours_regions_div" id="return_office_div">

    <p class="value p_region">
        <input type="text" class="required text_autocomplete text ui-autocomplete-input" name="return_office_name" id="return_office_name" value="" autocomplete="off" role="textbox" aria-autocomplete="list" aria-haspopup="true" aria-describedby="return_office_name-error">
        <span role="alert" aria-atomic="true" id="return_office_name-error" class="span-add-error"></span>
        <span id="return_office_name_num_elem" class="autocomplete_hidden_count" role="alert" aria-live="assertive" aria-atomic="true"></span>

        <input type="hidden" name="return_office_code" id="return_office_code" value="">                  
        <span class="clear">&nbsp;</span>
    </p>

</div><!-- end .date_selector -->
<span class="clear">&nbsp;</span>
</div><!-- end .departing_returning -->

<span class="clear">&nbsp;</span>


    <div class="insurance_checkindate departing_returning" style="z-index: 580; position: relative;"> 
        <div class="date_selector container_insurance_departure" style="width: 230px; z-index: 200; position: relative;"> 
        <div class="leftAvis">
            <p class="text"><label for="levantarEm">Date Start</label></p> 
            <p class="value date_rentacar"> 
                <input type="text" class="date" name="levantarEm" id="levantarEm" value="" aria-describedby="levantarEm_msg_error"> 
                <span class="clear">&nbsp;</span> 
            </p> 
       </div>
       <div class="middleAvis">
            <p class="text"><label for="horaLevantar">Time:</label></p> 
            <p class="value comboSmall combo_people_bookingtool"> 
                <select name="horaLevantar" id="horaLevantar" class="newComboStyle" style="width:46px;">
                    <option value="00">00</option><option value="01">01</option><option value="02">02</option><option value="03">03</option><option value="04">04</option><option value="05">05</option><option value="06">06</option><option value="07">07</option><option value="08">08</option><option value="09">09</option><option value="10" selected="selected">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option> 
                    
                </select> 
            </p> 
         </div> <!-- end .middle -->
         <div class="rightAvis">
           <p class="text" style="padding-bottom:16px;"><label for="minLevantar" class="offscreen">Minutes </label></p> 
            <p class="value comboSmall combo_people_bookingtool"> 
                <select name="minLevantar" id="minLevantar" class="newComboStyle" style="width:46px;">
                    <option value="00">00</option>
                    <option value="30">30</option>
                    
                </select> 
            </p> 
         </div> <!-- end .right -->
         <div style="clear:both"></div>
        </div><!-- end .date_selector --> 
        
        
        <div class="date_selector container_insurance_return" style="z-index: 100; position: relative;"> 
        <div class="leftAvis"> 
            <p class="text"><label for="devolverEm">Date End</label></p>  
            <p class="value date_rentacar"> 
                <input type="text" class="date" name="devolverEm" id="devolverEm" value="" aria-describedby="devolverEm_msg_error"> 
                <span class="clear">&nbsp;</span> 
            </p> 
         </div>
         <div class="middleAvis">
            <p class="text"><label for="horaDevolver">Time:</label></p> 
            <p class="value comboSmall combo_people_bookingtool"> 
                <select name="horaDevolver" id="horaDevolver" class="newComboStyle" style="width:46px;">
                    <option value="00">00</option><option value="01">01</option><option value="02">02</option><option value="03">03</option><option value="04">04</option><option value="05">05</option><option value="06">06</option><option value="07">07</option><option value="08">08</option><option value="09">09</option><option value="10" selected="selected">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option> 
                    
                </select> 
            </p> 
         </div> <!-- end .middle -->
         <div class="rightAvis">
            <p class="text" style="padding-bottom:16px;"><label for="minDevolver" class="offscreen">Minutes </label></p> 
            <p class="value comboSmall combo_people_bookingtool"> 
                <select name="minDevolver" id="minDevolver" class="newComboStyle" style="width:46px;">
                    <option value="00">00</option>
                    <option value="30">30</option>
                </select> 
            </p> 
         </div> <!-- end .right -->
         <div style="clear:both"></div>
        </div><!-- end .date_selector --> 
        <div class="date_errors_content">
    <span role="alert" aria-atomic="true" id="levantarEm_msg_error" class="span-add-error"></span>
    <span role="alert" aria-atomic="true" id="devolverEm_msg_error" class="span-add-error"></span>
    </div>  
    </div><!-- end .hotel_checkindate --> 

    <span class="clear">&nbsp;</span>

    <p style="margin-bottom: 10px;">
        <button id="rentacar_submit_form" title="Open a new window" class="biggreenbutton">
            <span class="left">&nbsp;</span>
            <span class="text" ss3_article_id="1">
                Book Now            </span>
            <span class="arrow">&nbsp;</span>
            <span class="right">&nbsp;</span>
        </button>
    </p>
    <span class="clear"></span>

</form>
<script type="text/javascript">
    $.widget("ui.customautocomplete", $.extend({}, $.ui.autocomplete.prototype, {

      _response: function(contents){
         if(contents == null ) contents = ["No match found"];
          $.ui.autocomplete.prototype._response.apply(this, arguments);
          $(this.element).trigger("autocompletesearchcomplete", [contents]);
      }
    }));
    
jQuery(document).ready(function() {


  var termTemplate = "<span class='ui-autocomplete-term'>%s</span>"; 


    var strAlpha = "Use only letters";
    function isAlpha(alpha){
    var re = /^[a-zA-ZÀ-ÿ-()\s.,]*$/i;
    return re.test(alpha.value);
}

function valid(stra, valFunc, text){

    if(!valFunc(stra)){
        $(stra).addClass("error");
        $(stra).parent().children('.span-add-error').addClass('error-class');
        $(stra).parent().children('.span-add-error').text(text);
        return false;

    }else if(valFunc(stra)){
        $(stra).removeClass("error");
        $(stra).parent().children('.span-add-error').removeClass('error-class');
        $(stra).parent().children('.span-add-error').empty();
        return false;
    }
    return false;

}

function validClick(stra){
    $(stra).removeClass("error");
    $(stra).parent().children('.span-add-error').removeClass('error-class');
    $(stra).parent().children('.span-add-error').empty();
    $(stra).css("visibility", "hidden");

    $('.errText').hide();
    $('.errTitle').empty();
    $('.errTxt').empty();

    // return false;
}


$('#pickup_office_name').keyup(function(){
    valid(this, isAlpha, strAlpha);
}); 

$('#return_office_name').keyup(function(){
    valid(this, isAlpha, strAlpha);
});  

$('#pickup_office_name').blur(function(){
    if(!isAlpha(this)){
        $(this).addClass("error");
    }
    });        


        
$(".returning_cartrawler_country").hide();

$('.errText').hide();
$('#rentacar_submit_form').click(function(){

    $('input').removeAttr("aria-invalid");

    var flag = 0;

     function isAlpha(strAlpha){
        var alphaNum = /^[a-zA-ZÀ-ÿ-\s.,]*$/i;
        var re = $(strAlpha).val();
        return alphaNum.test(re);
    }

    var pickup_station = $("#pickup_station").val();
    var return_station =  $("#return_station").val();
    var pickup_station_name = $("#pickup_office_name").val();
    var return_station_name =  $("#return_office_name").val();



     if($("#same_station").is(":checked")) {
        return_station = pickup_station;
        return_station_name = pickup_station_name;
        $("#return_office_name").removeClass('error');
            flag -1;

     }

     else{
       
             if(return_station == "" || return_station_name.length < 3 ){
            $("#return_office_name").addClass('error');
            $("#return_office_name").attr("aria-invalid", "true");
            $("#return_office_name-error").addClass("error-class");
            $("#return_office_name-error").text("Required field");
            
            flag++;
             }


     }
   // var missing_params = false;

    if((pickup_station == "" || pickup_station_name.length < 3) ){
        
        $("#pickup_office_name").addClass('error');
        $("#pickup_office_name").attr("aria-invalid", "true");
        $("#pickup_office_name-error").addClass("error-class");
        $("#pickup_office_name-error").text("Required field");
        flag++;
    }
    else{
        $("#pickup_office_name").removeClass('error');
            flag -1;


    }




      if($("#levantarEm").val() == "" || $("#levantarEm").hasClass("error")  ){
        $("#levantarEm").addClass('error');
        $('#levantarEm').attr("aria-invalid", "true");
        flag++;
        }
    if($("#devolverEm").val() == ""  || $("#devolverEm").hasClass("error")  ){
        $("#devolverEm").addClass('error');
        $('#devolverEm').attr("aria-invalid", "true");
        flag++;
        }


   

     if ($('#levantarEm_msg_error_msg_error').hasClass('error-class')) {
        flag++;
    }
     if ($('#devolverEm_msg_error_msg_error').hasClass('error-class')) {
        flag++;}


     if(flag > 0){
    $('.errText').show();
    $(".errText").attr("aria-hidden", "false");
    $('.errText').focus();
    $('.errText').find('.errTitle').text("Errors were found in the form");
    $('.errText').find('.errTxt').text(flag + ((flag==1)?" error":(" errors")) + ".");
    }

        
    var base_URL = "https://cars.flytap.com/en-us/book?";

    
    var clientId = 635360;
    var pickupDate = $("#levantarEm").val();
    pickupDate = pickupDate.replace(/\//g,"-");
    
    var array_date = pickupDate.split("-");
    pickupDate = array_date[2]+"-"+array_date[1]+"-"+array_date[0];

    var returnDate = $("#devolverEm").val();
    returnDate = returnDate.replace(/\//g,"-");
    
    var array_date = returnDate.split("-");
    
    returnDate = array_date[2]+"-"+array_date[1]+"-"+array_date[0];            
    

    if(flag == 0){
        $('.errText').hide();

        var deeplink_URL = base_URL + "clientId="+clientId+"&curr=EUR&pickupLocationId="+pickup_station+"&returnLocationId="+return_station;
        var deeplink_datePickup = "&pickupDateTime="+pickupDate+"T"+$("#horaLevantar").val()+":"+$("#minLevantar").val();
        var deeplink_dateReturn = "&returnDateTime="+returnDate+"T"+$("#horaDevolver").val()+":"+$("#minDevolver").val();

        deeplink_URL = deeplink_URL + deeplink_datePickup + deeplink_dateReturn + "&residencyid=CA";
            
    window.open(deeplink_URL, '_blank');
    }

    return false;
})


        $('#same_station').click(function() {
            
            if($(this).is(":checked")) {
                var pickup_station = $("#pickup_station").val();
                var pickup_office_name = $("#pickup_office_name").val();

                $("#return_station").val(pickup_station);
                $("#return_office_name").val(pickup_office_name);
                $(".returning_cartrawler_country").hide();
                $(".returning_cartrawler_country").attr("aria-hidden","true");
                 
            }
            else{
                $("#return_station").val("");
                $("#return_office_name").val("");
                
                $(".returning_cartrawler_country").attr("aria-hidden","false");
                
                $(".returning_cartrawler_country").show();
                $("#return_office_name").focus();
            }

        })


        var langId = "enus";
        var SEED3_URL = "http://www.flytap.com";

        function split( val ) {
            return val.split( /,\s*/ );
        }
        function extractLast( term ) {
            return split( term ).pop();
        }
        
        function parseDMY(value) {
            var date = value.split("-");
            var d = parseInt(date[0], 10),
                m = parseInt(date[1], 10),
                y = parseInt(date[2], 10);
            return new Date(y, m - 1, d);
        }

        $("#pickup_office_name").customautocomplete({
            source:"/cartrawler/getData.php?54321&language="+langId+"",
            minLength: 3,
            delay: 400,
            open: function(e,ui) {
                $("#pickup_station").val("");
                $("#pickup_office_name_num_elem").html('');
                var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
                var uiactive =  acData.menu.element.find('li a:first');
                
                var contentElem= uiactive.text();
                  
                
                var numElem = acData.menu.element.find('li ').length;
                if (numElem == 1  ) {

                    var textResults = "Result found, use the up and down keys to navigate.";

                    } else {
                    var textResults = "Results found, use the up and down keys to navigate. ";
                    }
                var num_elem = numElem + " "  + textResults;
                
                var elemntNoMatch = "No results found.";

                acData.menu.element.find('li a').each(function() {
                    var me = $(this);
                    me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );
                    
                });
                
                if(contentElem != "No match found"){
                
                $('#pickup_office_name_num_elem').html(num_elem);
                }
                if(contentElem == "No match found"){
                
                $("#pickup_office_name_num_elem").html(elemntNoMatch);
             
                }

            
                
            },
            select: function( event, ui ) {
                pickup_station = ui.item.id;
                $("#pickup_station").val(pickup_station);                
            }
            
        });


        $("#return_office_name").customautocomplete({
            source:"/cartrawler/getData.php?54321&language="+langId+"",
            minLength: 3,
            delay: 400,
            open: function(e,ui) {
                $("#return_station").val('');
                $("#return_office_name_num_elem").html('');
                var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
                var uiactive =  acData.menu.element.find('li a:first');
                
                var contentElem= uiactive.text();
                  
                
                var numElem = acData.menu.element.find('li ').length;
                if (numElem == 1  ) {

                    var textResults = "Result found, use the up and down keys to navigate.";

                    } else {
                    var textResults = "Results found, use the up and down keys to navigate. ";
                    }
                var num_elem = numElem + " "  + textResults;
                
                var elemntNoMatch = "No results found.";

                acData.menu.element.find('li a').each(function() {
                    var me = $(this);
                    me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );
                    
                });
                
                if(contentElem != "No match found"){
                
                $('#return_office_name_num_elem').html(num_elem);
                }
                if(contentElem == "No match found"){
                
                $("#return_office_name_num_elem").html(elemntNoMatch);
             
                }
            },
            select: function( event, ui ) {
                //$('#same_station_shuttle').attr("checked",false);
                return_station = ui.item.id;
                $("#return_station").val(return_station);
            },
        });
    
        var today = new Date().getTime()

        var today1 = new Date(today + 1 * 24 * 60 * 60 * 1000);
        var thisDay1 = today1.getDate();
        var thisMonth1 = today1.getMonth() +1 ;// + 1;
        var thisYear1 = today1.getFullYear();
        if(thisDay1 < 10){ thisDay1 = "0" + thisDay1;}
        if(thisMonth1 <  10){ thisMonth1 = "0"+ thisMonth1; }

        var today7 = new Date(today + 2 * 24 * 60 * 60 * 1000); //issue 2978
        var thisDay7 = today7.getDate();
        var thisMonth7 = today7.getMonth() +1 ;// + 1;
        var thisYear7 = today7.getFullYear();
        if(thisDay7 < 10){ thisDay7 = "0" + thisDay7;}
        if(thisMonth7 <  10){ thisMonth7 = "0"+ thisMonth7; }
                                
        $("#levantarEm").datepicker("setDate" , thisDay1+"/"+thisMonth1+"/"+thisYear1);
        $("#devolverEm").datepicker( "setDate" ,thisDay7+"/"+thisMonth7+"/"+thisYear7);

        $('#horaLevantar, #minLevantar, #horaDevolver, #minDevolver').each(function(){
            $(this).next('div').css({'border-left':'1px solid #ABABAD', 'height':'22px', 'padding-top':'3px','background':'url(/prjdir/boflytap/images/combo.gif) right 0'});
        });

        if(IS_IE) {
            $('#levantarEm, #devolverEm').each(function(){
                $(this).css({'padding-top':'4px', 'padding-bottom':'4px'});
            });
        }

    });
</script>                       </div>
            </div>
        </div>
        <div class="bottombar"></div>
    </li>
    <li id="GA_rentacar-shuttle" role="presentation" onclick="return true;" class="item position5">
        <div class="topbar"></div>
        <div class="header" id="tab-5" aria-controls="panel-5" aria-selected="false" aria-expanded="false" role="tab" tabindex="-1">
            <div class="icon rentacar-shuttle"></div>
            <div class="text"><span ss3_article_id="95092">Transfers</span></div>
        </div>
        <div class="content" id="panel-5" aria-labelledby="tab-5" aria-hidden="true" role="tabpanel">
            <div class="sidebar_container">
                <div class="tab-rent-a-car" id="tab-rent-a-car-shuttle">
    <style type="text/css">
    .leftAvis{
        width: 114px;
    }

    #label_same_station{
        margin-top: 4px;
    }

    #div_same_station{
        margin-bottom: 10px;
    }
</style>


<form id="form-cartrawler_shuttle" target="_blank" name="form-cartrawler" action="">
    <div tabindex="-1" class="errText" aria-live="assertive" aria-hidden="true">
        <div class="errTitle"></div>
        <p class="errTxt"></p>
    </div>    
    <input type="hidden" name="pickup_station_shuttle" id="pickup_station_shuttle" value="">
    <input type="hidden" name="pickup_coord_shuttle" id="pickup_coord_shuttle" value="">
    <input type="hidden" name="return_station_shuttle" id="return_station_shuttle" value="">
    
    <div class="departing_cartrawler_country_shuttle airport_textbox" style="z-index: 4;">
        <p class="text"> <label for="pickup_office_name_shuttle">Select airport:<span class="offscreen">Write to filter and choose your option from the list below.</span></label>
            
            <span class="clear">&nbsp;</span> 
        </p>
        <div id="pickup_office_div_shuttle" class="class_directflights airport_textbox">
            
            <p class="value p_country">
                <input type="text" class="required text_autocomplete text ui-autocomplete-input" name="pickup_office_name_shuttle" id="pickup_office_name_shuttle" value="" autocomplete="off" role="textbox" aria-autocomplete="list" aria-haspopup="true" aria-describedby="pickup_office_name-error" required="">
                <span id="pickup_office_name_shuttle_num_elem" class="autocomplete_hidden_count" role="alert" aria-live="assertive" aria-atomic="true"></span>
                <span role="alert" aria-atomic="true" id="pickup_office_name_shuttle-error" class="span-add-error"></span>

                <span class="clear">&nbsp;</span>
            </p>
        </div><!-- end .date_selector -->
    </div>

    <span class="clear">&nbsp;</span>






<div class="returning_cartrawler_country_shuttle airport_textbox" style="z-index: 4;" aria-hidden="true">
<p class="text"> <label for="return_office_name_shuttle">Destination::<span class="offscreen">Write to filter and choose your option from the list below.</span></label>
    
    <span class="clear">&nbsp;</span> 
</p> 
<div class="tours_regions_div" id="return_office_div_shuttle">

    <p class="value p_region">
        <input type="text" class="required text_autocomplete text ui-autocomplete-input" name="return_office_name_shuttle" id="return_office_name_shuttle" value="" autocomplete="off" role="textbox" aria-autocomplete="list" aria-haspopup="true" aria-describedby="return_office_name_shuttle-error">
        <span id="return_office_name_shuttle_num_elem" class="autocomplete_hidden_count" role="alert" aria-live="assertive" aria-atomic="true"></span>
        <span role="alert" aria-atomic="true" id="return_office_name_shuttle-error" class="span-add-error"></span>
        <input type="hidden" name="return_office_code_shuttle" id="return_office_code_shuttle" value="">                  
        <span class="clear">&nbsp;</span>
    </p>

</div><!-- end .date_selector -->
<span class="clear">&nbsp;</span>
</div><!-- end .departing_returning -->

<span class="clear">&nbsp;</span>


    <div class="insurance_checkindate departing_returning" style="z-index: 580; position: relative;"> 
        <div class="date_selector container_insurance_departure" style="width: 230px; z-index: 200; position: relative;"> 
        <div class="leftAvis">
            <p class="text"><label for="levantarEm_shuttle">Date Start</label></p> 
            <p class="value date_rentacar"> 
                <input type="text" class="date" name="levantarEm_shuttle" id="levantarEm_shuttle" value="" aria-describedby="levantarEm_shuttle_msg_error"> 
                <span class="clear">&nbsp;</span> 
            </p> 
       </div>
       <div class="middleAvis">
            <p class="text"><label for="horaLevantar_shuttle">Time:</label></p> 
            <p class="value comboSmall combo_people_bookingtool"> 
                <select name="horaLevantar_shuttle" id="horaLevantar_shuttle" class="newComboStyle" style="width:46px;">
                    <option value="00">00</option><option value="01">01</option><option value="02">02</option><option value="03">03</option><option value="04">04</option><option value="05">05</option><option value="06">06</option><option value="07">07</option><option value="08">08</option><option value="09">09</option><option value="10" selected="selected">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option> 
                    
                </select> 
            </p> 
         </div> <!-- end .middle -->
         <div class="rightAvis">
           <p class="text" style="padding-bottom:16px;"><label for="minLevantar_shuttle" class="offscreen">Minutes </label></p> 
            <p class="value comboSmall combo_people_bookingtool"> 
                <select name="minLevantar_shuttle" id="minLevantar_shuttle" class="newComboStyle" style="width:46px;">
                    <option value="00">00</option>
                    <option value="30">30</option>
                    
                </select> 
            </p> 
         </div> <!-- end .right -->
         <div style="clear:both"></div>
        </div><!-- end .date_selector --> 
        
        <div class="date_errors_content">
    <span role="alert" aria-atomic="true" id="levantarEm_shuttle_msg_error" class="span-add-error"></span>
    </div>  
    </div><!-- end .hotel_checkindate --> 

    <span class="clear">&nbsp;</span>

    <p style="margin-bottom: 10px;">
        <button id="rentacar_submit_form_shuttle" title="Open a new window" class="biggreenbutton">
            <span class="left">&nbsp;</span>
            <span class="text" ss3_article_id="1">
                Book Now            </span>
            <span class="arrow">&nbsp;</span>
            <span class="right">&nbsp;</span>
        </button>
    </p>
    <span class="clear"></span>

</form>
<script type="text/javascript">
    $.widget("ui.customautocomplete", $.extend({}, $.ui.autocomplete.prototype, {

      _response: function(contents){
         if(contents == null ) contents = ["No match found"];
          $.ui.autocomplete.prototype._response.apply(this, arguments);
          $(this.element).trigger("autocompletesearchcomplete", [contents]);
      }
    }));
    
jQuery(document).ready(function() {


  var termTemplate = "<span class='ui-autocomplete-term'>%s</span>"; 


    var strAlpha = "Use only letters";
    function isAlpha(alpha){
    var re = /^[a-zA-ZÀ-ÿ-()\s.,]*$/i;
    return re.test(alpha.value);
}

function valid(stra, valFunc, text){

    if(!valFunc(stra)){
        $(stra).addClass("error");
        $(stra).parent().children('.span-add-error').addClass('error-class');
        $(stra).parent().children('.span-add-error').text(text);
        return false;

    }else if(valFunc(stra)){
        $(stra).removeClass("error");
        $(stra).parent().children('.span-add-error').removeClass('error-class');
        $(stra).parent().children('.span-add-error').empty();
        return false;
    }
    return false;

}

function validClick(stra){
    $(stra).removeClass("error");
    $(stra).parent().children('.span-add-error').removeClass('error-class');
    $(stra).parent().children('.span-add-error').empty();
    $(stra).css("visibility", "hidden");

    $('.errText').hide();
    $('.errTitle').empty();
    $('.errTxt').empty();

    // return false;
}


$('#pickup_office_name_shuttle').keyup(function(){
    valid(this, isAlpha, strAlpha);
}); 

$('#return_office_name_shuttle').keyup(function(){
    valid(this, isAlpha, strAlpha);
});  

$('#pickup_office_name_shuttle').blur(function(){
    if(!isAlpha(this)){
        $(this).addClass("error");
    }
    });        


        


$('.errText').hide();
$('#rentacar_submit_form_shuttle').click(function(){

    $('input').removeAttr("aria-invalid");

    var flag = 0;

     function isAlpha(strAlpha){
        var alphaNum = /^[a-zA-ZÀ-ÿ-\s.,]*$/i;
        var re = $(strAlpha).val();
        return alphaNum.test(re);
    }

    var pickup_station_shuttle = $("#pickup_station_shuttle").val();
    var return_station_shuttle =  $("#return_station_shuttle").val();
    var pickup_station_shuttle_name = $("#pickup_office_name_shuttle").val();
    var return_station_shuttle_name =  $("#return_office_name_shuttle").val();



     if($("#same_station_shuttle").is(":checked")) {
        return_station_shuttle = pickup_station_shuttle;
        return_station_shuttle_name = pickup_station_shuttle_name;
        return_station_shuttle = $("#pickup_coord_shuttle").val();
        $("#return_office_name_shuttle").removeClass('error');
            flag -1;

     }

     else{
       
             if(return_station_shuttle == "" || return_station_shuttle_name.length < 3 ){
            $("#return_office_name_shuttle").addClass('error');
            $("#return_office_name_shuttle").attr("aria-invalid", "true");
            $("#return_office_name_shuttle-error").addClass("error-class");
            $("#return_office_name_shuttle-error").text("Required field");
            
            flag++;
             }


     }
   // var missing_params = false;

    if((pickup_station_shuttle == "" || pickup_station_shuttle_name.length < 3) ){
        
        $("#pickup_office_name_shuttle").addClass('error');
        $("#pickup_office_name_shuttle").attr("aria-invalid", "true");
        $("#pickup_office_name_shuttle-error").addClass("error-class");
        $("#pickup_office_name_shuttle-error").text("Required field");
        flag++;
    }
    else{
        $("#pickup_office_name_shuttle").removeClass('error');
            flag -1;


    }




      if($("#levantarEm_shuttle").val() == "" || $("#levantarEm_shuttle").hasClass("error")  ){
        $("#levantarEm_shuttle").addClass('error');
        $('#levantarEm_shuttle').attr("aria-invalid", "true");
        flag++;
        }
    // if($("#devolverEm_shuttle").val() == ""  || $("#devolverEm_shuttle").hasClass("error")  ){
    //     $("#devolverEm_shuttle").addClass('error');
    //     $('#devolverEm_shuttle').attr("aria-invalid", "true");
    //     flag++;
    //     }


   

     if ($('#levantarEm_shuttle_msg_error_msg_error').hasClass('error-class')) {
        flag++;
    }
     // if ($('#devolverEm_shuttle_msg_error_msg_error').hasClass('error-class')) {
     //    flag++;}


     if(flag > 0){
    $('.errText').show();
    $(".errText").attr("aria-hidden", "false");
    $('.errText').focus();
    $('.errText').find('.errTitle').text("Errors were found in the form");
    $('.errText').find('.errTxt').text(flag + ((flag==1)?" error":(" errors")) + ".");
    }

        
    
    var base_URL = "http://transport.flytap.com/en-us/book?";

    
    var clientId = 635377;
    var pickupDate = $("#levantarEm_shuttle").val();
    pickupDate = pickupDate.replace(/\//g,"-");
    
    var array_date = pickupDate.split("-");
    pickupDate = array_date[2]+"-"+array_date[1]+"-"+array_date[0];

    var returnDate = $("#levantarEm_shuttle").val();
    returnDate = returnDate.replace(/\//g,"-");
    
    var array_date = returnDate.split("-");
    var day = parseInt(array_date[0])+1;
    
    day = day.toString();
    
    if(day.length==1)
        day = "0"+day;
    
    returnDate = array_date[2]+"-"+array_date[1]+"-"+day;            
    

    if(flag == 0){
        $('.errText').hide();

        var deeplink_URL = base_URL + "clientId="+clientId+"&curr=EUR&pickupLocationId="+pickup_station_shuttle+"&"+return_station_shuttle;
                //var deeplink_URL = base_URL + "clientId="+clientId+"&pickupIATACode=LIS&returnIATACode=LIS";
                var deeplink_datePickup = "&pickupDateTime="+pickupDate+"T"+$("#horaLevantar_shuttle").val()+":"+$("#minLevantar_shuttle").val();
                var deeplink_dateReturn = "&returnDateTime="+returnDate+"T"+$("#horaLevantar_shuttle").val()+":"+$("#minLevantar_shuttle").val();

                deeplink_URL = deeplink_URL + deeplink_datePickup + deeplink_dateReturn + "&taxi=1+&residenceID=CA#book&tripType=Outbound";
          
    window.open(deeplink_URL, '_blank');
    }

    return false;
})


        $('#same_station_shuttle').click(function() {
            
            if($(this).is(":checked")) {
                //var pickup_station_shuttle = $("#pickup_station_shuttle").val();
                //var pickup_office_name = $("#pickup_office_name").val();

                $("#return_station_shuttle").val(pickup_station_shuttle);
                $("#return_office_name_shuttle").val(pickup_office_name);
                $(".returning_cartrawler_country_shuttle").hide();
                 $(".returning_cartrawler_country_shuttle").attr("aria-hidden","true");
                 
            }
            else{
                $("#return_station_shuttle").val("");
                $("#return_office_name_shuttle").val("");
                
                $(".returning_cartrawler_country_shuttle").attr("aria-hidden","false");
                
                $(".returning_cartrawler_country_shuttle").show();
                $("#return_office_name_shuttle").focus();
            }

        })


        var langId = "enus";
        var SEED3_URL = "http://www.flytap.com";

        function split( val ) {
            return val.split( /,\s*/ );
        }
        function extractLast( term ) {
            return split( term ).pop();
        }
        
        function parseDMY(value) {
            var date = value.split("-");
            var d = parseInt(date[0], 10),
                m = parseInt(date[1], 10),
                y = parseInt(date[2], 10);
            return new Date(y, m - 1, d);
        }

        $("#pickup_office_name_shuttle").customautocomplete({
            source:"/cartrawler/getData.php?54321&language="+langId+"&shuttle=1",
            minLength: 3,
            delay: 200,
            open: function(e,ui) {
                $("#pickup_station_shuttle").val("");
                
                $("#pickup_coord_shuttle").val();
                $("#pickup_office_name_shuttle_num_elem").html('');
                var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
                var uiactive =  acData.menu.element.find('li a:first');
                
                var contentElem= uiactive.text();
                  
                
                var numElem = acData.menu.element.find('li ').length;
                if (numElem == 1  ) {

                    var textResults = "Result found, use the up and down keys to navigate.";

                    } else {
                    var textResults = "Results found, use the up and down keys to navigate. ";
                    }
                var num_elem = numElem + " "  + textResults;
                
                var elemntNoMatch = "No results found.";

                acData.menu.element.find('li a').each(function() {
                    var me = $(this);
                    me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );
                    
                });
                
                if(contentElem != "No match found"){
                
                $('#pickup_office_name_shuttle_num_elem').html(num_elem);
                }
                if(contentElem == "No match found"){
                
                $("#pickup_office_name_shuttle_num_elem").html(elemntNoMatch);
             
                }
                
            },
            select: function( event, ui ) {
                pickup_station_shuttle = ui.item.id;
                $("#pickup_station_shuttle").val(pickup_station_shuttle); 
                $("#pickup_coord_shuttle").val(ui.item.coord);
            }
            
        });


        $("#return_office_name_shuttle").customautocomplete({
            source:"/cartrawler/getData.php?54321&language="+langId+"&coord=1",
            minLength: 3,
            delay: 200,
            open: function(e,ui) {
                $("#return_station_shuttle").val('');
                $("#return_office_name_shuttle_num_elem").html('');
                var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
                var uiactive =  acData.menu.element.find('li a:first');
                
                var contentElem= uiactive.text();
                  
                
                var numElem = acData.menu.element.find('li ').length;
                if (numElem == 1  ) {

                    var textResults = "Result found, use the up and down keys to navigate.";

                    } else {
                    var textResults = "Results found, use the up and down keys to navigate. ";
                    }
                var num_elem = numElem + " "  + textResults;
                
                var elemntNoMatch = "No results found.";

                acData.menu.element.find('li a').each(function() {
                    var me = $(this);
                    me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );
                    
                });
                
                if(contentElem != "No match found"){
                
                $('#return_office_name_shuttle_num_elem').html(num_elem);
                }
                if(contentElem == "No match found"){
                
                $("#return_office_name_shuttle_num_elem").html(elemntNoMatch);
             
                }
            },
            select: function( event, ui ) {
                //$('#same_station_shuttle').attr("checked",false);
                return_station_shuttle = ui.item.coord;
                $("#return_station_shuttle").val(return_station_shuttle);
            },
        });
    
        var today = new Date().getTime()

        var today1 = new Date(today + 1 * 24 * 60 * 60 * 1000);
        var thisDay1 = today1.getDate();
        var thisMonth1 = today1.getMonth() +1 ;// + 1;
        var thisYear1 = today1.getFullYear();
        if(thisDay1 < 10){ thisDay1 = "0" + thisDay1;}
        if(thisMonth1 <  10){ thisMonth1 = "0"+ thisMonth1; }

        var today7 = new Date(today + 8 * 24 * 60 * 60 * 1000);
        var thisDay7 = today7.getDate();
        var thisMonth7 = today7.getMonth() +1 ;// + 1;
        var thisYear7 = today7.getFullYear();
        if(thisDay7 < 10){ thisDay7 = "0" + thisDay7;}
        if(thisMonth7 <  10){ thisMonth7 = "0"+ thisMonth7; }
                                
        $("#levantarEm_shuttle").datepicker("setDate" , thisDay1+"/"+thisMonth1+"/"+thisYear1);
        // $("#devolverEm_shuttle").datepicker( "setDate" ,thisDay7+"/"+thisMonth7+"/"+thisYear7);

        $('#horaLevantar_shuttle, #minLevantar_shuttle, #horaDevolver_shuttle, #minDevolver_shuttle').each(function(){
            $(this).next('div').css({'border-left':'1px solid #ABABAD', 'height':'22px', 'padding-top':'3px','background':'url(/prjdir/boflytap/images/combo.gif) right 0'});
        });

        if(IS_IE) {
            $('#levantarEm_shuttle, #devolverEm_shuttle').each(function(){
                $(this).css({'padding-top':'4px', 'padding-bottom':'4px'});
            });
        }

    });
</script>                       </div>
            </div>
        </div>
        <div class="bottombar"></div>
    </li>
    <li id="GA_seguro" role="presentation" onclick="return true;" class="item position6 hide">
        <div class="topbar"></div>
        <div class="header" id="tab-6" aria-controls="panel-6" aria-selected="false" aria-expanded="false" role="tab" tabindex="-1">
            <div class="icon insurance"></div>
            <div class="text"><span ss3_article_id="203">Insurance</span></div>
        </div>
        <div class="content" id="panel-6" aria-labelledby="tab-6" aria-hidden="true" role="tabpanel">
            <div class="sidebar_container">
                <div class="tab-insurance" id="tab-insurance">
                       </div>
            </div>
        </div>
        <div class="bottombar"></div>
    </li>

        <li id="GA_Viator" role="presentation" onclick="return true;" class="item position7">
            <div class="topbar"></div>
            <div class="header" id="tab-7" aria-controls="panel-7" aria-selected="false" aria-expanded="false" role="tab" tabindex="-1">
                <div class="icon viator"></div>
                <div class="text"><span ss3_article_id="95024">Tours and activities</span></div>
            </div>
            <div class="content" id="panel-7" aria-labelledby="tab-7" aria-hidden="true" role="tabpanel">
                <div class="sidebar_container">
                    <div class="tab-viator" id="tab-viator">
                        <!--<style>
input { border: 1px solid #ababab; }
#tours-origem { text-transform: capitalize; }
#form-tours .error { /*border: 1px solid #C00000 !important;*/) }
#form-tours label.error{display: none !important;}
#form-tours .class_directflights .error .newListSelected { border: 1px solid #C00000 !important;}
.tours_dropdown_country {margin-top: 5px; margin-bottom: 5px}

</style>-->



<form id="form-tours" target="_blank" name="form-cp" action="">
    <div tabindex="-1" class="errText" aria-live="assertive" aria-hidden="true">
        <div class="errTitle"></div>
        <p class="errTxt"></p>
    </div>    
    <div class="departing_tours_country airport_textbox" style="z-index: 4;">
        <p class="text"> <label for="tours_country">Country:<span class="offscreen">Write to filter and choose your option from the list below.</span></label>
            <a class="search tour_fill_country" id="tour_fill_country" rel="autosearch" href="javascript:;" title="">Countries List</a> 
            <span class="clear">&nbsp;</span> 
        </p>
        <div id="tours_country_div" class="class_directflights airport_textbox">
            
            <p class="value p_countryDOT">
               <input type="text" class="required text_autocomplete text ui-autocomplete-input" name="tours_country" id="tours_country" value="" autocomplete="off" role="textbox" aria-autocomplete="list" aria-haspopup="true" aria-describedby="tours_country-error" required="">
               <span id="tours_country_num_elem" class="autocomplete_hidden_count" role="alert" aria-live="assertive" aria-atomic="true"></span>
               <span role="alert" aria-atomic="true" id="tours_country-error" class="span-add-error"></span>

               <input type="hidden" name="tours_country_code" id="tours_country_code" value="">
               <span class="clear">&nbsp;</span>
           </p>
           <div class="div_country comboLarge">
            <span class="combo_tours_dropdown_country ">
            <label for="tours_dropdown_country" class="offscreen">Country</label>
                <select class="tours_dropdown_country airport_textbox newComboStyle" id="tours_dropdown_country" required="">
                    
                </select> 
            </span>
            <span class="clear">&nbsp;</span>
        </div>
    </div><!-- end .date_selector -->
</div>
<span class="clear">&nbsp;</span>
<div class="departing_tours_region airport_textbox" style="z-index: 4;">
    <p class="text"> <label for="tours_region">Region :<span class="offscreen">Write to filter and choose your option from the list below.</span></label>
        <a class="search tour_fill_region" id="tour_fill_region" rel="autosearch" href="javascript:;" title="">Regions List</a> 
        <span class="clear">&nbsp;</span> 
    </p> 
    <div class="tours_regions_div">

        <p class="value p_regionDOT">
            <input type="text" class="required text_autocomplete text ui-autocomplete-input" name="tours_region" id="tours_region" aria-describedby="tours_region-error" value="" autocomplete="off" role="textbox" aria-autocomplete="list" aria-haspopup="true">
            <span id="tours_region_num_elem" class="autocomplete_hidden_count" role="alert" aria-live="assertive" aria-atomic="true"></span>
            <span role="alert" aria-atomic="true" id="tours_region-error" class="span-add-error"></span>
            <input type="hidden" name="tours_region_code" id="tours_region_code" value="">                  
            <span class="clear">&nbsp;</span>
        </p>
        <div class="div_region comboLarge">
            <span class="combo_tours_dropdown_region ">
            <label for="tours_dropdown_region" class="offscreen">Region </label> 
                <select class="tours_dropdown_region airport_textbox newComboStyle" id="tours_dropdown_region" disabled="">
                    
                </select> 
            </span>
            <span class="clear">&nbsp;</span>
        </div>
    </div><!-- end .date_selector -->
    <span class="clear">&nbsp;</span>
</div><!-- end .departing_returning -->

<span class="clear">&nbsp;</span>

<div class="departing_returning">
    <div id="container_tours_date" class="date_selector container_departing">
        <p class="text"><label for="tours_data_partida">Date Start:</label></p>
        <p class="value">
            <input type="text" class="date" name="tours_data_partida" id="tours_data_partida" value="" aria-describedby="tours_data_partida_msg_error">
            <span class="clear">&nbsp;</span>
        </p>
    </div><!-- end .date_selector -->
    <div id="container_tours_date_returning" class="date_selector container_returning">
        <p class="text"><label for="tours_data_volta">Date End:</label></p>
        <p class="value">
            <input type="text" class="date" name="tours_data_volta" id="tours_data_volta" value="" aria-describedby="tours_data_volta_msg_error">
            <span class="clear">&nbsp;</span>
        </p>
    </div><!-- end .date_selector -->
  <div class="date_errors_content">
    <span role="alert" aria-atomic="true" id="tours_data_partida_msg_error" class="span-add-error"></span>
    <span role="alert" aria-atomic="true" id="tours_data_volta_msg_error" class="span-add-error"></span>
</div>  
</div><!-- end .departing_returning -->

<span class="clear">&nbsp;</span>


<p style="margin-bottom: 10px;">
    <button id="tours_submit_form" title="Open a new window" class="biggreenbutton">
        <span class="left">&nbsp;</span>
        <span class="text" ss3_article_id="1">
            Book Now        </span>
        <span class="arrow">&nbsp;</span>
        <span class="right">&nbsp;</span>
    </button>
</p>
<span class="clear"></span>

    <!--p class="advanced_search" ss3_article_id="68362">
         <ss3_link id="link"><ss3_text id="text" noedit="1"/></ss3_link>
     </p--> 
 </form>



 <script type="text/javascript">
  $.widget("ui.customautocomplete", $.extend({}, $.ui.autocomplete.prototype, {

      _response: function(contents){
         if(contents == null ) contents = ["No match found"];
          $.ui.autocomplete.prototype._response.apply(this, arguments);
          $(this.element).trigger("autocompletesearchcomplete", [contents]);
      }
    }));
 jQuery(document).ready(function() {

    var termTemplate = "<span class='ui-autocomplete-term'>%s</span>"; 
     
    var langId = "enus";
    var SEED3_URL = "";


    

    function split( val ) {
        return val.split( /,\s*/ );
    }
    function extractLast( term ) {
        return split( term ).pop();
    }
    
    function parseDMY(value) {
        var date = value.split("-");
        var d = parseInt(date[0], 10),
        m = parseInt(date[1], 10),
        y = parseInt(date[2], 10);
        return new Date(y, m - 1, d);
    }

    function isAlpha(alpha){
        var re = /^[a-zA-ZÀ-ÿ-\s.,]*$/i;
        return re.test(alpha.value);
    }

    var strAlpha = "Use only letters";

    function valid(stra, valFunc, text){

        if(!valFunc(stra)){
            $(stra).addClass("error");
            $(stra).parent().children('.span-add-error').addClass('error-class');
            $(stra).parent().children('.span-add-error').text(text);
            return false;

        }else if(valFunc(stra)){
            $(stra).removeClass("error");
            $(stra).parent().children('.span-add-error').removeClass('error-class');
            $(stra).parent().children('.span-add-error').empty();
            return false;
        }
        return false;

    }

    function validClick(stra){
        $(stra).removeClass("error");
        $(stra).parent().children('.span-add-error').removeClass('error-class');
        $(stra).parent().children('.span-add-error').empty();
        $(stra).css("visibility", "hidden");

        $('.errText').hide();
        $('.errTitle').empty();
        $('.errTxt').empty();

            // return false;
        }


        $('#tours_country').keyup(function(){
            valid(this, isAlpha, strAlpha);
        });        

        $('#tours_region').keyup(function(){
            valid(this, isAlpha, strAlpha);
        });


        $('#tours_country').blur(function(){
            if(!isAlpha(this)){
                $(this).addClass("error");
            }
        });        

        $('#tours_region').blur(function(){
            if(!isAlpha(this)){
                $(this).addClass("error");
            }
        });

        $('#tours_dropdown_country').change(function(){
            $(this).removeClass("error");
        });


        

        $("#tours_country").customautocomplete({
            source:"/Viator/getData.php?new1234&language="+langId+"&typeGet=country",
            minLength: 3,
            delay: 50,
            open: function(e,ui) {

                $("#tours_country_num_elem").html('');
                var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
                var uiactive =  acData.menu.element.find('li a:first');
                
                var contentElem= uiactive.text();
                  
                
                var numElem = acData.menu.element.find('li ').length;
                if (numElem == 1  ) {

                    var textResults = "Result found, use the up and down keys to navigate.";

                    } else {
                    var textResults = "Results found, use the up and down keys to navigate. ";
                    }
                var num_elem = numElem + " "  + textResults;
                
                var elemntNoMatch = "No results found.";

                acData.menu.element.find('li a').each(function() {
                    var me = $(this);
                    me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );
                    
                });
                
                if(contentElem != "No match found"){
                
                $('#tours_country_num_elem').html(num_elem);
                }
                if(contentElem == "No match found"){
                
                $("#tours_country_num_elem").html(elemntNoMatch);
             
                }
                
            },
            select: function( event, ui ) {
                //$("#tours_country_code").val("");
                countryID = ui.item.id;

               
            
                $('#tours_data_partida').removeAttr("disabled");
                $('#tours_data_volta').removeAttr("disabled");
                $('#tours_region').removeAttr("disabled");
                $('#tours_region').val("");
                $('#tours_region_code').val("");
                $('#tours_dropdown_country').removeAttr("disabled");
                $('#tours_dropdown_region').removeAttr("disabled");
                $("#tours_country_code").val(countryID);
                $('.tour_fill_region').show();
            },
            search: function() {
                $("#tours_country_code").val("");
            }
        });

        $("#tours_region").customautocomplete({
            //source: "/Viator/getData.php?new1234&language="+langId+"&typeGet=region&countryID="+$("#tours_country_code").val(),
            source: function( request, response ) {
                $.getJSON( "/Viator/getData.php?new1234&language="+langId+"&typeGet=region&countryID="+$("#tours_country_code").val(), {
                    term: extractLast( request.term )
                }, response );
            },
            minLength: 3,
            delay: 50,
            open: function(e,ui) {
                
                $("#tours_region_num_elem").html('');
                var acData = $(this).data('autocomplete'),styledTerm = termTemplate.replace('%s', acData.term);
                var uiactive =  acData.menu.element.find('li a:first');
                
                var contentElem= uiactive.text();
                  
                
                var numElem = acData.menu.element.find('li ').length;
                if (numElem == 1  ) {

                    var textResults = "Result found, use the up and down keys to navigate.";

                    } else {
                    var textResults = "Results found, use the up and down keys to navigate. ";
                    }
                var num_elem = numElem + " "  + textResults;
                
                var elemntNoMatch = "No results found.";

                acData.menu.element.find('li a').each(function() {
                    var me = $(this);
                    me.html( me.text().replace( new RegExp( preg_quote( acData.term )), styledTerm) );
                    
                });
                
                if(contentElem != "No match found"){
                
                $('#tours_region_num_elem').html(num_elem);
                }
                if(contentElem == "No match found"){
                
                $("#tours_region_num_elem").html(elemntNoMatch);
             
                }
                

            },
            select: function( event, ui ) {

                regionID = ui.item.id;
                $("#tours_region_code").val(regionID);                
            },
            search: function() {
                $("#tours_region_code").val("");
                
            }
        });

$('.errText').hide();

$('#tours_submit_form').click(function(){

    $('input').removeAttr("aria-invalid");
    var flighToHidden = $('#tours_country').css("visibility") == "hidden",
    flighFromHidden = $('#tours_region').css("visibility")== "hidden",
    tours_flag = 0;


    function isAlpha(strAlpha){
        var alphaNum = /^[a-zA-ZÀ-ÿ-\s.,]*$/i;
        var re = $(strAlpha).val();
        return alphaNum.test(re);
    }


    var url = "http://activities.flytap.com/";
    var region_name = $("#tours_region").val();
    var region_code =  $("#tours_region_code").val();
    var date_out = $('#tours_data_partida').val();
    date_out = date_out.replace(/\//g, "-");
    var date_in = $('#tours_data_volta').val();
    date_in = date_in.replace(/\//g, "-");
    var country_code = $("#tours_country_code").val();
    var country_name = $("#tours_country").val();
    
    //console.log(country_code, country_name, region_code, region_name);

    var rxDatePattern = /^(\d{1,2})(\/|-)(\d{1,2})(\/|-)(\d{4})$/;
    var dto = date_out.match(rxDatePattern);
    var dti = date_in.match(rxDatePattern);
    
    if(region_code == "" || region_code == 0){
        region_name = $("#tours_country").val();
        region_code =  $("#tours_country_code").val();
    }
    if(country_code == 77 && region_name.indexOf("-") != -1){
        region_name = region_name.split('-', 1)[0];
        region_name = region_name.slice(0,-1);
        
    }

    var dout = parseDMY(date_out);
    var din = parseDMY(date_in);

    $(".departing_tours_country").removeClass('error');
    $(".departing_tours_region").removeClass('error');
    $("#container_tours_date").removeClass('error');
    $("#container_tours_date_returning").removeClass('error');
    // tours_flag = 0;
    // if($("#tours_country_code").val() == ""){
    //     $(".departing_tours_country").addClass('error');
    //     tours_flag = 1;
    // }
    /*if($("#tours_region_code").val() == ""){
        $(".departing_tours_region").addClass('error');
        tours_flag = 1;
    }*/
     //seixo variáveis de comparação de datas desnecessárias, uma vez que já estão a ser feitas noutro local
    /*
    if(dto == null){
        $("#tours_data_partida").addClass('error');
        tours_flag = 1;
    }
    if(dti == null){
        $("#tours_data_volta").addClass('error');
        tours_flag = 1;
    }
    if(dout > din){
        $("#tours_data_partida").addClass('error');
        $("#tours_data_volta").addClass('error');
        tours_flag = 1;   
    }


    */
    // seixo novos erros
if( $('#tours_data_partida').hasClass('error') ){
    tours_flag ++;
    
}
if( $('#tours_data_volta').hasClass('error') ){
    tours_flag ++;
    
}
    // if(tours_flag){
    //     return false;
    // }
    // url = url + region_name + "/d" + region_code + "-ttd/from/" + date_out + "/to/" + date_in + "?SUBPUID=CA"; 
    
    //if(region_name != ""){
       // window.open(url, '_blank');
    //}

    if($("#tours_country_code").val() == '' || $("#tours_country_code").val() == "0"){

        if(flighToHidden && $("#tours_dropdown_country").val() == 0 || flighToHidden && $("#tours_dropdown_country").val() == "0"){
            
            if(!isAlpha($("#tours_country"))){
                $("#tours_dropdown_country").addClass('error');
                $("#tours_country-error").addClass("error-class");
                tours_flag ++;

        }else{

            $("#tours_dropdown_country").addClass('error');
            $("#tours_country-error").addClass("error-class");
            tours_flag ++;

        }

        // return false;

    }else if(!flighToHidden){
        if(!isAlpha($("#tours_country"))){
            $("#tours_country").addClass('error');
            $("#tours_dropdown_country").addClass('error');
            $("#tours_country").attr("aria-invalid", "true");
            $("#tours_country-error").addClass("error-class");
            $("#tours_country-error").text(strAlpha);
            tours_flag++;

            }else{

                $("#tours_country").addClass('error');
                $("#tours_dropdown_country").addClass('error');
                $("#tours_country").attr("aria-invalid", "true");
                $("#tours_country-error").addClass("error-class");
                $("#tours_country-error").text("Required field");
                tours_flag++;

            }

        }

    }   
      
        // if ($('#tours_data_partida_msg_error').hasClass('error-class')) {tours_flag++;}
        // if ($('#tours_data_volta_msg_error').hasClass('error-class')) {tours_flag++;}

        if(tours_flag > 0){

            $('.errText').show();
            $(".errText").attr("aria-hidden", "false");
            $('.errText').focus();
            $('.errText').find('.errTitle').text("Errors were found in the form");
            $('.errText').find('.errTxt').text(tours_flag + ((tours_flag==1)?" error":(" errors")) + ".");
        }

        if(tours_flag == 0){
            $('.errText').hide();
            region_name = region_name.replace(/ /g,'')
            //console.log(region_name);
            url = url + region_name + "/d" + region_code + "-ttd/from/" + date_out + "/to/" + date_in + "?SUBPUID=CA"; 
            
            //if(region_name != ""){
                window.open(url, '_blank');
            //}
        }
        return false;

            

    }); //End of tours_region click event

$('#tours_data_partida').attr("disabled", "disabled");
$('#tours_data_volta').attr("disabled", "disabled");
$('#tours_region').attr("disabled", "disabled");
$('#tours_dropdown_region').attr("disabled", "disabled");



$('.div_country').hide();
$('.div_region').hide();
$('.tour_fill_region').hide();



$('a#tour_fill_country').click(function(){
   

            var my_url = "http://www.flytap.com"+"/Viator/getData.php?new1234&language="+langId+"&typeGet=country";

            var html = "";
           // var lis = "";

           $.ajax(
           {
            url: my_url,
            type: 'GET',
            async: false,
            dataType: 'json',

            success: function(list) 
            {
                $.each(list,function(id, country ) {

                    html += "<option value='" + country.id + "'> " + country.label + "</option>";
                          //  lis += '<li><a href="javascript:;" rel="' + country.id + '">' + country.label + '</a></li>';

                      });

                countryID = list[0].id;
                countryName = list[0].label;

            },
            error: function(xhr, desc, err) 
            {
                        // TBD: What to be done in case error? 
                    }
                });
           $('#tours_dropdown_region').html('');

           $('#tours_dropdown_country').html(html);  
           
         //   $('div.departing_tours_country').find('ul.newList').html(lis);
          //  $('#tours_dropdown_country').resetSS();
            $('.tour_fill_country').hide();
            $('#tours_region').val('');
            $('#tours_dropdown_region').val('');
            $("#tours_country_code").val(countryID);
            $("#tours_country").val(countryName);


            $('#tours_data_partida').removeAttr("disabled");
            $('#tours_data_volta').removeAttr("disabled");
            $('#tours_region').removeAttr("disabled"); 
            $('#tours_dropdown_region').removeAttr("disabled");

            $('.div_country').show();
            $('.tour_fill_region').show();
            $('.p_countryDOT').hide();

            $('#tours_dropdown_country').prepend("<option value='0'>Please select</option>");
            $('#tours_dropdown_country ').val("0");
            $("#tours_country_code").val("0");

            // ("#tours_dropdown_country").val() == "0")){
            //     $('#tours_dropdown_region').val('');
            // }
            // if($("#tours_dropdown_country").value(0)){
            //     $("#tours_region").attr("disabled");
            //     $("#tours_dropdown_region").attr("disabled");
            // }
          $('#tours_region_code').val("");
    
    

            if($('#tours_country').hasClass('error')){
                validClick("#tours_country");
            }else{
                $("#tours_country").css("visibility", "hidden");
            }
          //  return false;
      });   

        /*$('div.departing_tours_country').find('ul.newList li a').each(function(){
            $(this).click(function(){
                countryID = $(this).attr('rel');
                countryName = $(this).text();
                $("#tours_country_code").val(countryID);
                $("#tours_country").val(countryName);

                $(this).parent().parent().hide();

            })
})*/


$('a#tour_fill_region').click(function(){
    var my_url = "http://www.flytap.com"+"/Viator/getData.php?new1234&language="+langId+"&typeGet=region&countryID="+$("#tours_country_code").val();            

    var html = "";
    

    $.ajax(
    {
        url: my_url,
        type: 'GET',
        async: false,
        dataType: 'json',

        success: function(list) 
        {
        regionId = "";
        regionName = "";
        $.each(list,function(id, region ) {

            html += "<option value='" + region.id + "'> " + region.label + "</option>";
            regionId = list[0].id;
            regionName = list[0].label;
            

        });


        },
        error: function(xhr, desc, err) 
        {
        // TBD: What to be done in case error? 

        }
    });
    
    
    $('#tours_dropdown_region').html(html);

    $("#tours_region_code").val(regionId);
    $("#tours_region").val(regionName);
    $('.tour_fill_region').hide();

    $('#tours_data_partida').removeAttr("disabled");
    $('#tours_data_volta').removeAttr("disabled");

    $('.p_regionDOT').hide();
    $('.div_region').show();
    $('#tours_dropdown_region').show().focus();

    $('#tours_dropdown_region').prepend("<option value='0'>Please select</option>");
    $('#tours_dropdown_region ').val("0");
    $("#tours_region_code").val("0");

    if($('#tours_region').hasClass('error')){
        validClick("#tours_region");
    }else{
        $("#tours_region").css("visibility", "hidden");
    }
    // return false;
});      

$('a#tour_fill_country').keydown(function(e){


    var key = e.keyCode;
    if(key == '13'){
        $(this).hide();

        var html = "";

        $.ajax(
        {
            url: "http://www.flytap.com"+"/Viator/getData.php?new1234&language="+langId+"&typeGet=country",
            type: 'GET',
            async: false,
            dataType: 'json',

            success: function(list) 
            {
                $.each(list,function(id, country ) {

                    html += "<option value='" + country.id + "'> " + country.label + "</option>";

                });

                countryID = list[0].id;
                countryName = list[0].label;

            }
        });
        $('#tours_dropdown_region').html('');

        $('#tours_dropdown_country').html(html);
        $('#tours_region').val('');
        $('#tours_dropdown_region').val('');
        $('#tours_data_partida').removeAttr("disabled");
        $('#tours_data_volta').removeAttr("disabled");
        $('#tours_region').removeAttr("disabled"); 
        $('#tours_dropdown_region').removeAttr("disabled");
        

        $('.div_country').show();
        $('#tours_dropdown_country').show().focus();
        $('.tour_fill_region').show();
        $('.p_countryDOT').hide();

        $('#tours_dropdown_country').prepend("<option value='0'>Please select</option>");
        $('#tours_dropdown_country').val("0");
        $("#tours_country_code").val("0");
        


        if($('#tours_country').hasClass('error')){
            validClick("#tours_country");
        }else{
            $("#tours_country").css("visibility", "hidden");
        }

        e.preventDefault();
        return false;
    }
});

$('a#tour_fill_region').keydown(function(e){

var my_url = "http://www.flytap.com"+"/Viator/getData.php?new1234&language="+langId+"&typeGet=region&countryID="+$("#tours_country_code").val();
            

              
    var key = e.keyCode;
    if(key == '13'){
        $(this).hide();

        var html = "";

        $.ajax(
        {
            url: my_url,
            type: 'GET',
            async: false,
            dataType: 'json',

            success: function(list) 
            {
                $.each(list,function(id, region ) {

                    html += "<option value='" + region.id + "'> " + region.label + "</option>";

                });

                regionID = list[0].id;
                regionName = list[0].label;

            }
        });

        $('#tours_dropdown_region').html(html);

        $('#tours_data_partida').removeAttr("disabled");
        $('#tours_data_volta').removeAttr("disabled");
        $('#tours_region').removeAttr("disabled"); 
        $('#tours_dropdown_region').removeAttr("disabled");
     
     
        $('#tours_dropdown_region').prepend("<option value='0'>Please select</option>");
        $('#tours_dropdown_region ').val("0");
        $("#tours_region_code").val("0");

        

        $('.tour_fill_region').hide();
        $('.p_regionDOT').hide();
        $('.div_region').show();
        $('#tours_dropdown_region').show().focus();
        
        if($('#tours_region').hasClass('error')){
            validClick("#tours_region");
        }else{
            $("#tours_region").css("visibility", "hidden");
        }

        e.preventDefault();
        return false;
    }

});  


$('#tours_dropdown_country').change(function(){

    countryID = $('#tours_dropdown_country').val();
    countryName = $('#tours_dropdown_country option:selected').text();
    $("#tours_country_code").val(countryID);
    $("#tours_country").val(countryName);
    $('#tours_data_partida').removeAttr("disabled");
    $('#tours_data_volta').removeAttr("disabled");
    $('#tours_dropdown_region').removeAttr("disabled");
    $('#tours_region').removeAttr("disabled");
    $('#tours_region').val("");

    $(".tour_fill_region").trigger( "click" );
   
            //console.log("tours_dropdown_country");

        });

$('#tours_dropdown_region').change(function(){

    regionID = $('#tours_dropdown_region').val();
    regionName = $('#tours_dropdown_region option:selected').text();
    $("#tours_region_code").val(regionID);
    $("#tours_region").val(regionName);
});

//seixo remove datepicker
/*
var dMin = new Date();
dMin.setDate(dMin.getDate()+7);
var nDep = new Date();

$("#tours_data_partida").datepicker({
buttonText: "", minDate: "D",maxDate: "+365D", showOn: "button",buttonImage: icon_calendar,buttonImageOnly: true,showButtonPanel: true,dateFormat: "dd/mm/yy",showOtherMonths: true,selectOtherMonths: true,closeText: '',currentText: '',numberOfMonths: 2, showAnim: false,
onClose: function( selectedDate ) {
    $( "#tours_data_volta" ).datepicker("option", "minDate", selectedDate );
    date2 = $('#tours_data_partida').datepicker('getDate');                    

    var nextDayDate = new Date(date2);
    nextDayDate.setDate(nextDayDate.getDate() + 7);

    $( "#tours_data_volta" ).datepicker("setDate", nextDayDate );

}
}).datepicker("setDate",nDep).datepicker("option", "minDate",nDep);


$("#tours_data_volta").datepicker({
buttonText: "", minDate: "D",maxDate: "+365D", showOn: "button",buttonImage: icon_calendar,buttonImageOnly: true,showButtonPanel: true,dateFormat: "dd/mm/yy",showOtherMonths: true,selectOtherMonths: true,closeText: '',currentText: '',numberOfMonths: 2, showAnim: false,
onClose: function( selectedDate ) {
                //$( "#tours_data_partida" ).datepicker("option", "maxDate", selectedDate );
                $( "#tours_data_partida" ).datepicker("option", "setDate", selectedDate );

            }
        }).datepicker("setDate",dMin).datepicker("option", "minDate",nDep);     
*/
});

</script>                    </div> &nbsp; &nbsp;&nbsp;
                </div> &nbsp; &nbsp;
            </div>
            <div class="bottombar"></div>
        </li>
  <!--  <span class="clear">&nbsp;</span>-->

      <!--  <span class="clear"></span>-->
      
</ul>
        


    <div class="lookalike">
        <div class="lookalike_index1 header">
            <a href="https://tapassistance.flytap.com/apc/online/booking?lang=en" target="_blank" title="Open a new window">
                <div class="topbar"></div>
                <div class="inner_header" id="lookaliketab-1">
                    <div class="icon assistance"></div>

                    <div class="text"><span ss3_article_id="69778">Personalised Assistance</span></div>

                </div>

                <div class="bottombar"></div>
            </a>
        </div>
                <div class="lookalike_index3 header" ss3_article_id="111144">
            <a class="" href="http://www.flytap.com/Canada/enus/PlanBook/book/upgrades" title="" target="" id="4a3dc7113f29a7691ed9a7ffcde9dada">
                <div class="topbar"></div>
                <div class="inner_header" id="lookaliketab-3">
                    <div class="icon plusgrade"></div>

                    <div class="text"><span>Upgrades</span></div>
                    <span id="promo_hotel_novo" ss3_article_id="69775">New!</span>

                </div>

                <div class="bottombar"></div>
            
</a>
        </div>
    </div>
<!--objIBE2 With CRUISE AND PARKING - end-->
				
		<div id="slidingmenu" role="tablist"> 
							<!--objSideBarCheckin.php-->
            <div id="GA_checkin" class="item" tabindex="0">
				<h3 class="header" id="tab1" aria-controls="panel1" aria-selected="false" aria-expanded="false" role="tab" tabindex="-1">
                    <a href="javascript:;" noedit="1" ss3_article_id="101">Check-in Online<span class="triangle">&nbsp;</span></a>
                </h3> 
                    <div class="checkin_online content1" id="panel1" aria-labelledby="tab1" aria-hidden="false" role="tabpanel"> 
                       <!-- <div class="bottom">&nbsp;</div> -->

                        <div class="slidingmenu_container"> 
                               <div tabindex="-1" class="errTextDOT" aria-live="assertive" aria-hidden="true" style="display:none;">
                                <div class="errTitleDOT"></div>
                                <p class="errTxtDOT"></p>
                                </div> 
                            <p noedit="1" ss3_article_id="102">Carry out your own check-in and print your boarding pass before going to the airport.<br><br><strong>Available from 36 hours prior to departure.</strong><br><br></p> 
                            
                            <div class="airport_textbox ui-widget container_airports_checkin_from"> 
                                <p class="text"> 
                                    <label for="checkin_online_from" noedit="1" ss3_article_id="103">I am flying from:<span class="offscreen">Write to filter and choose your option from the list below.</span></label> 
                                    <a class="search airports_checkin_online_from asd" id="airports_checkin_online_from" href="javascript:;" tabindex="-1" aria-hidden="true" noedit="1" ss3_article_id="42">airports list</a> 
                                    <span class="clear">&nbsp;</span> 
                                </p> 
                                <p class="value airports_checkin_online_from"> 
                                    <input id="checkin_online_from" class="text_autocomplete text" type="text" aria-describedby="checkin_online_from-error">
                                    <input id="checkin_online_from_code" type="hidden">
                                    <input id="checkin_online_service_code" type="hidden">
                                    <span id="checkin_online_from_num_elem" class="autocomplete_hidden_count" role="alert" aria-live="assertive" aria-atomic="true"></span>
                                    <span role="alert" aria-atomic="true" id="checkin_online_from-error" class="span-add-error"></span>                                    
                                    <span class="comboLarge combo_airports_checkin_online_from"> 
                                    <label for="combo_checkin_airports" class="offscreen" ss3_article_id="103">I am flying from:</label>
                                    <select class="newComboStyle airport_textbox" id="combo_checkin_airports">
                                    </select>

                                
                                    </span> 
                                </p> 
                            </div><!-- end .airport_textbox -->
                                                        
                            <!-- reservation number -->
							
							<div class="airport_textbox container_reservation_number checkin_online_rn" aria-hidden="true"> 
								<p class="text"><label for="checkin_online_reservation" noedit="1" ss3_article_id="114">Booking reference:</label></p> 
								<span class="clear">&nbsp;</span>
								<p class="value">
									<input id="checkin_online_reservation" name="checkin_online_reservation" class="checkin_online_reservation text" type="text" value="" maxlength="6" aria-describedby="checkin_online_reservation-error">
								<span role="alert" aria-atomic="true" id="checkin_online_reservation-error" class="span-add-error"></span> 
                                </p>
							</div>
														
                            <!-- ffn -->
                            
                            <div class="airport_textbox container_checkin_online_ffn checkin_online_ffn" aria-hidden="true"> 
								<p class="text"><label for="checkin_online_ffn" noedit="1" ss3_article_id="104">Frequent Flyer Number (optional):</label></p> 
								<span class="clear">&nbsp;</span>
								<p class="value">
									<input id="checkin_online_ffn" name="checkin_online_ffn" class="checkin_online_ffn text" type="text" value="TP" aria-describedby="checkin_online_ffn-error">
								<span role="alert" aria-atomic="true" id="checkin_online_ffn-error" class="span-add-error"></span> 
                                </p>
							</div>
																					
                            <div class="airport_textbox container_checkin_online_date"> 
								<p class="text"><label for="checkin_online_date" noedit="1" ss3_article_id="233">Date</label></p> 
								<span class="clear">&nbsp;</span>
                                <p class="comboLarge value combo_slidingmenu_checkin"> 
									<input id="checkin_online_date_time" type="hidden">
                                    <select name="checkin_online_date" id="checkin_online_date" class="newComboStyle">
                                    </select>
								</p>
							</div>							
                             
                            <!-- ffn -->
                            <!-- 
                            <div class="airport_textbox container_airports_checkin_to"> 
                                <p class="text"><label for="checkin_online_to">And I want to:</label></p> 
                                <span class="clear">&nbsp;</span> 
                                <p class="value combo_slidingmenu_checkin"> 
                                    <select name="checkin_online_to" id="checkin_online_to" class="combostyle"> 
                                        <option value="">-- Please select an option --</option> 
                                        <option value="checkin">Check-in for my flight</option> 
                                        <option value="change">Change/Cancel my check-in</option> 
                                    </select> 
                                </p>
                            </div>
                            -->
                            <!-- end .airport_textbox --> 
                            
                            <p>

                              <button type="submit" id="checkin_online_button" class="checkin_blue_button">
                              <span class="left">&nbsp;</span>
                              <span class="text" noedit="1" ss3_article_id="101">Check-in Online</span>
                              <span class="right">&nbsp;</span>
                              <span class="clear">&nbsp;</span>
                            </button>

                            </p> 
                            
                            <ul class="learn"> 
                                <li noedit="1" ss3_article_id="105">
                                   	<a target="" href="http://www.flytap.com/Canada/enus/PlanBook/PrepareforTravel/check-in/online-check-in" class=""> Learn how check-in online works</a>
								                </li> 
                                <li ss3_article_id="95296">
                                  <a class="" href="http://www.flytap.com/Canada/enus/Others/Footer/ConditionsofCarriage" title="This link opens in new window" target="_blank" id="c92a2f9e08ba58e2cfc36bc5c1ee794d">                                    If you are denied boarding or if your flight is cancelled or delayed for at least two hours, ask at the check-in counter or boarding gate for the text stating your rights, particularly with regard to compensation and assistance.
                                  
</a>
                                </li> 
                            </ul> 
                          
                        </div><!-- end .slidingmenu_container --> 
                          <div class="bottom">&nbsp;</div> 
                   
              

                 <script>
                          
                          var strAlpha = "Use only letters",
                              strAlphaNum = "Use only letters and numbers";

                          function isAlpha(alpha){
                              var re = /^[a-zA-ZÀ-ÿ()\s.,-]*$/i;
                              return re.test(alpha.value);
                          }

                          function isAlphaNumeric(alpha){
                              var re = /^[a-z0-9\s]*$/i;
                              return re.test(alpha.value);
                          }                          

                          function valid(stra, valFunc, text){
                                if(!valFunc(stra)){
                                  $(stra).addClass("error");
                                  $(stra).parent().children('.span-add-error').addClass('error-class');
                                  $(stra).parent().children('.span-add-error').text(text);
                                  return false;

                                }else if(valFunc(stra)){
                                  $(stra).removeClass("error");
                                  $(stra).parent().children('.span-add-error').removeClass('error-class');
                                  $(stra).parent().children('.span-add-error').empty();
                                  return false;
                                }
                                return false;

                            }


                            function validClick(stra, strb){
                                $(stra).removeClass("error");
                                $(strb).removeClass("error");
                                $(stra).parent().children('.span-add-error').removeClass('error-class');
                                $(stra).parent().children('.span-add-error').empty();
                                $(stra).css("visibility", "hidden");

                                $('.errTextDOT').hide();
                                $('.errTitleDOT').empty();
                                $('.errTxtDOT').empty();

                                // return false;
                            }


                          $("#checkin_online_from").keyup(function(){
                              valid(this, isAlpha, strAlpha);
                          });                             

                          $("#checkin_online_reservation").keyup(function(){
                              valid(this, isAlphaNumeric, strAlphaNum);
                          });                            

                          $("#checkin_online_ffn").keyup(function(){
                              valid(this, isAlphaNumeric, strAlphaNum);
                          });                              

                          $('#checkin_online_from').blur(function(){
                              if(!isAlpha(this)){
                                  $(this).addClass("error");
                              }
                          });                             

                         $("#combo_checkin_airports").change(function(){
                              $(this).removeClass("error");
                          });

                          $('#combo_checkin_airports').hide();
                          $('a#airports_checkin_online_from').click(function(){

                          $('#combo_checkin_airports').show().focus();
                          $(this).hide();
                          

                          var SEED3_URL = window.location.protocol+"//" + document.location.hostname + "/";
                          

                         /* var options = $.ajax({
                          url: SEED3_URL+"getWCI.php?1234&lang="+js_lang,
                          async: false
                          }).responseText;
                          //console.log(options);
                          $("#combo_checkin_airports").html(options);
                          $('#combo_checkin_airports option:first').html("-- Select airport --");
                          $('#combo_checkin_airports option:first').val("0");*/
                          //console.log("5");
                          if($('#checkin_online_from').hasClass('error')){
                           
                            validClick("#checkin_online_from", "#combo_checkin_airports");
                          }else{
                            $("#checkin_online_from").css("visibility", "hidden");
                          }
                          return false;

                          });                          

                        $('a#airports_checkin_online_from').keydown(function(e){
                          var key = e.keyCode;
                          if(key == '13'){

                            $('#combo_checkin_airports').show().focus();
                            $(this).hide();

                            // var SEED3_URL = window.location.protocol+"//" + document.location.hostname + "/";
                            var SEED3_URL = window.location.protocol+"//" + document.location.hostname + "/";

                            var options = "<option value='0'>-- Select airport --</option>";
                             options += $.ajax({
                            url: SEED3_URL+"getWCI.php?1234&lang="+js_lang,
                            async: false
                            }).responseText;
                            //console.log(options);
                            $("#combo_checkin_airports").append(options);
                           // $('#combo_checkin_airports option:first').prepend("-- Select airport --");
                            //$('#combo_checkin_airports option:first').val("0");

                            if($('#checkin_online_from').hasClass('error')){
                              validClick("#checkin_online_from");
                            }else{
                              $("#checkin_online_from").css("visibility", "hidden");
                            }
                            e.preventDefault();
                            return false;

                          }


                          });
          </script>
           </div><!-- end .checkin_online --> 
        </div>
				<!--MC objSideBarMBooking.php START-->

<div id="GA_reserva" class="item">
 <h3 class="header" id="tab2" aria-controls="panel2" aria-selected="false" aria-expanded="false" role="tab" tabindex="-1">
  <a href="javascript:;" title="Manage Booking" noedit="1" ss3_article_id="112">Manage Booking <span class="triangle">&nbsp;</span></a>
</h3> 
<div class="manage_booking content1" id="panel2" aria-labelledby="tab2" aria-hidden="true" role="tabpanel"> 

  <div class="slidingmenu_container"> 

    <form action="http://www.flytap.com/IBEpost.php" name="sidebar_manager" id="sidebar_manager" target="_blank" method="post"> 
     <div tabindex="-1" class="errTextDOT" aria-live="assertive" aria-hidden="true">
      <div class="errTitleDOT"></div>
      <p class="errTxtDOT"></p>
    </div> 
    <input type="hidden" name="manageBooking" value="true">
    <input type="hidden" name="manageBookingSite" value="CA">
    <input type="hidden" name="manageBookingLang" value="enus">

    <fieldset style="background:none">
    <legend class="info" noedit="1" ss3_article_id="116">Select one action:</legend> 
    <div class="manage_choices">
      <br style="clear:both;">
      <p class="value"><input type="radio" name="opt_booking" id="opt_manage_booking" value="manage_booking" checked="checked"></p> 
      <p class="text" noedit="1" ss3_article_id="117"><label for="opt_manage_booking">View booking / Book additional services</label></p> 
      <br style="clear:both;">
      
      <div class="manage_booking_details" aria-hidden="false"> 
       <div class="regular_textbox container_booking_ref">
        <p style="width:200px;" class="info info_booking_details" noedit="1" ss3_article_id="113">Insert your booking details.</p>
        <p class="text" noedit="1" ss3_article_id="114">
          <label for="manage_booking_reference">Booking reference:</label> 
        </p>
        <br style="clear:both;">
        <p class="value"><input class="text" type="text" name="manage_booking_reference" id="manage_booking_reference" aria-describedby="manage_booking_reference-error" value="" maxlength="6">
          <span role="alert" aria-atomic="true" id="manage_booking_reference-error" class="span-add-error"></span>
        </p> 
        <!--<br style="clear:both;"/>-->
      </div><!-- end .airport_textbox --> 
      <div class="regular_textbox container_booking_last_name">

        <p class="text" noedit="1" ss3_article_id="115"> 
          <label for="manage_booking_last_name">Last name:</label> 
        </p>
        <br style="clear:both;">
        <p class="value"><input class="text" type="text" name="manage_booking_last_name" id="manage_booking_last_name" value="" aria-describedby="manage_booking_last_name-error">
          <span role="alert" aria-atomic="true" id="manage_booking_last_name-error" class="span-add-error"></span>
        </p> 
        <!--<br style="clear:both;"/>-->
      </div><!-- end .airport_textbox --> 
    </div><!-- end .manage_booking_details -->

    <p class="value"><input type="radio" name="opt_booking" id="opt_print_receipt" value="print_receipt"></p> 
    <p class="text" noedit="1" ss3_article_id="118"><label for="opt_print_receipt">Print receipt</label></p> 
    <br style="clear:both;">             
    <p class="value"><input type="radio" name="opt_booking" id="opt_services" value="show_services"></p> 
    <p class="text" noedit="1" ss3_article_id="95067"><label for="opt_services">Book additional services</label></p> 
    <p class="value hide"><input type="radio" name="opt_booking" id="opt_reimbursement" value="opt_reimbursement"></p> 
    <p class="text hide" noedit="1" ss3_article_id="616"><label for="opt_reimbursement">Request / Check refund</label></p>                                     
    <br style="clear:both;">

    <span class="clear">&nbsp;</span> 
  </div><!-- end .arrival_choices --> 
  </fieldset>
  <p noedit="1" ss3_article_id="119">
    <button type="submit" id="ManageBooking" class="checkin_blue_button">
      <span class="left">&nbsp;</span>
      <span class="text">Proceed</span>
      <span class="right">&nbsp;</span>
    </button>
  </p> 
</form> 

</div><!-- end .slidingmenu_container --> 
<div class="bottom">&nbsp;</div> 

<script>

var strAlpha = "Use only letters",
strNum = "Use numbers only";
strNumAlpha = "Use only letters and numbers";

function isAlpha(alpha){
  var re = /^[a-zA-ZÀ-ÿ]*$/i;
  return re.test(alpha.value);
}

//numeros e letras
function isAlphaNumeric(alpha){
    var re = /^[a-z0-9]*$/i;
    return re.test(alpha.value);
}

function isNumeric(num){
  var re =/^[a-z0-9]*$/i;
  return re.test(num.value);
}                          

function valid(stra, valFunc, text){
  if(!valFunc(stra)){
    $(stra).addClass("error");
    $(stra).parent().children('.span-add-error').addClass('error-class');
    $(stra).parent().children('.span-add-error').text(text);
    return false;

  }else if(valFunc(stra)){
    $(stra).removeClass("error");
    $(stra).parent().children('.span-add-error').removeClass('error-class');
    $(stra).parent().children('.span-add-error').empty();
    return false;
  }
  return false;

}


$("#manage_booking_reference").keyup(function(){
  valid(this, isAlphaNumeric, strNumAlpha);
});                           

$("#manage_booking_last_name").keyup(function(){
  valid(this, isAlpha, strAlpha);
}); 

</script>

</div><!-- end .manage_booking -->

</div>

<!--MC objSideBarMBooking.php END-->				                <div id="GA_partidaschegadas" class="item">
                     <h3 class="header" id="tab3" aria-controls="panel3" aria-selected="false" aria-expanded="false" role="tab" tabindex="-1">
                        <a href="javascript:;" title="Departures &amp; Arrivals" noedit="1" ss3_article_id="106">Departures &amp; Arrivals<span class="triangle">&nbsp;</span></a>
                    </h3> 
                <div class="arrival_departures content1" id="panel3" aria-labelledby="tab3" aria-hidden="true" role="tabpanel">                       
                        <div class="slidingmenu_container"> 
                            <form action="http://www.flytap.com/Canada/enus/PlanBook/Tools/DeparturesArrivals" name="sidebar_departures" method="POST" id="sidebar_departures"> 
                                <div tabindex="-1" class="errTextDOT" aria-live="assertive" aria-hidden="true">
                                  <div class="errTitleDOT"></div>
                                  <p class="errTxtDOT"></p>
                                </div> 
                                <div class="select_board">
                                <fieldset style="background:none;">  
                                    <legend ss3_article_id="67797">Search flights:</legend>
                                    <div class="arrival_choices">
                                        <p class="value"><input type="radio" class="checkbox-departures" name="arrivalsdepartures_content" id="airport" value="airport" checked="checked"></p>
                                        <p class="text" ss3_article_id="67794"><label class="big-label-checkbox" for="airport">by airport</label></p>
                                    </div>
                                    <span class="clear">&nbsp;</span>
                                    <div class="more-options open" id="searchByAirport" style="display:block;" aria-hidden="false">
	<!--AIRPORT SEARCH - START-->
                                        <div class="airport_textbox ui-widget container_airports_departures_arrivals" id="sidebar_container_from">
                                            <p class="text">
                                                <label for="arrivalsdepartures_select_airport" ss3_article_id="67799">Departing from: <span class="offscreen">Write to filter and choose your option from the list below.</span></label>
                                                <a id="sidebar_arrivalsdepartures_load_drop" class="search airports_arrivalsdepartures_flightsat sidebar_arrivalsdepartures_load_drop_a" tabindex="-1" aria-hidden="true" href="javascript:;" title="airports list" noedit="1" ss3_article_id="42">airports list</a> 
                                                <span class="clear">&nbsp;</span>
                                            </p>
                                            <p class="value airports_arrivalsdepartures_flightsat">
                                                <input id="arrivalsdepartures_select_airport" class="text_autocomplete text" type="text" name="aptCode" aria-describedby="arrivalsdepartures_select_airport-error">
                                                <span id="arrivalsdepartures_select_airport_num_elem" class="autocomplete_hidden_count" role="alert" aria-live="assertive" aria-atomic="true"></span>
                                                <span role="alert" aria-atomic="true" id="arrivalsdepartures_select_airport-error" class="span-add-error"></span>
                                                <span class="comboLarge combo_arrivalsdepartures_flightsat">
                                                    <label for="sidebar_arrivalsdepartures_drop" class="offscreen" ss3_article_id="67799">Departing from: </label>
                                                        <select class="newComboStyle airport_textbox" id="sidebar_arrivalsdepartures_drop"> 
                                                        <!--<option value="0" noedit="1" ss3_article_id="107">-- <ss3_text id="text" noedit="1"/><span class="triangle" /> --</option> -->
                                                    </select>
                                                </span>
                                            </p>
                                        </div><!-- end .airport_textbox -->
                                        
                                        <div class="select-small airport_textbox ui-widget container_airports_departures_arrivals">
                                            <p class="text" ss3_article_id="138">
                                                <label for="arrivalsdepartures_airport_that_flight1">That:</label>
                                                <span class="clear">&nbsp;</span>
                                            </p>
                                            <p class="comboMedium">
                                            <select name="arrivalsdepartures" id="arrivalsdepartures_airport_that_flight1" class="newComboStyle">
                                                <option value="DEP" ss3_article_id="473">Departs</option>
                                                <option value="ARR" ss3_article_id="474">Arrives</option>
                                            </select>
                                        </p>
                                            <span class="clear">&nbsp;</span>   
                                        </div><!-- end .airport_textbox -->
        <!-- AIRPORT SEARCH - END -->
    	<!-- ROUTE SEARCH - START -->
                                        <div class="select-large airport_textbox ui-widget container_airports_departures_arrivals">
                                            <p class="text" ss3_article_id="139">
                                                <label for="arrivalsdepartures_airport_on_airport">On:</label>
                                                <span class="clear">&nbsp;</span>
                                            </p>
                                            <p class="comboMedium">
                                            
                                            <select name="arrivalsdepartures_date" id="arrivalsdepartures_airport_on_airport" class="newComboStyle">
                                                <option value="0">October 15,  2016</option>
                                                <option value="1" selected="SELECTED">October 16,  2016</option>
                                                <option value="2">October 17,  2016</option>
                                            </select>
                                        </p>
                                            <span class="clear">&nbsp;</span>   
                                        </div><!-- end .airport_textbox -->
                                        <span class="clear">&nbsp;</span>   
                                    </div>
                                    <span class="clear">&nbsp;</span>
                                    <div class="arrival_choices">
                                        <p class="value"><input type="radio" class="checkbox-departures" name="arrivalsdepartures_content" id="origin_destination" value="route"></p>
                                        <p class="text" ss3_article_id="67795"><label class="big-label-checkbox" for="origin_destination">by origin &amp; destination</label></p>
                                    </div>
                                    <span class="clear">&nbsp;</span>
                                    <div class="more-options" id="searchByOriginDestination" style="display:none;" aria-hidden="true">
                                        <div class="airport_textbox ui-widget container_airports_departures_arrivals_routeFrom" id="sidebar_container_route_from">
                                            <p class="text" ss3_article_id="24">
                                                <label for="arrivalsdepartures_select_airport_from">From:<span class="offscreen">Write to filter and choose your option from the list below.</span></label>
                                                <a id="sidebar_arrivalsdepartures_load_drop_rf" class="search sidebar_arrivalsdepartures_load_drop_a" tabindex="-1" aria-hidden="true" rel="autosearch" href="javascript:;" title="airports list"><span ss3_article_id="42">airports list</span></a>
                                                <span class="clear">&nbsp;</span>
                                            </p>
                                            <p class="value airports_departures_arrivals_flights_from">
                                                <input id="arrivalsdepartures_select_airport_from" class="text_autocomplete text" type="text" name="aptCodeFrom" aria-describedby="arrivalsdepartures_select_airport_from-error">
                                                <span id="arrivalsdepartures_select_airport_from_num_elem" class="autocomplete_hidden_count" role="alert" aria-live="assertive" aria-atomic="true"></span>
                                                <span role="alert" aria-atomic="true" id="arrivalsdepartures_select_airport_from-error" class="span-add-error"></span>
                                                <span class="comboLarge combo_arrivalsdepartures_flightsat">
                                                    <label for="sidebar_arrivalsdepartures_drop_rf" class="offscreen" ss3_article_id="24">From:</label>
                                                        <select class="newComboStyle airport_textbox hide" id="sidebar_arrivalsdepartures_drop_rf">
                                                        <option value="0" noedit="1" ss3_article_id="107">-- Select airport: --</option> 
                                                        </select>
                                                </span>
                                            </p>
                                        </div><!-- end .airport_textbox -->
                                        <div class="airport_textbox ui-widget container_airports_departures_arrivals" id="sidebar_container_route_to">
                                            <p class="text" ss3_article_id="25">
                                                <label for="arrivalsdepartures_select_airport_to">To:<span class="offscreen">Write to filter and choose your option from the list below.</span></label>
                                                <a id="sidebar_arrivalsdepartures_load_drop_rt" class="search sidebar_arrivalsdepartures_load_drop_a" tabindex="-1" aria-hidden="true" rel="autosearch" href="javascript:;" title="airports list"><span ss3_article_id="42">airports list</span></a>
                                                <span class="clear">&nbsp;</span>
                                            </p>
                                            <p class="value airports_departures_arrivals_flights_to">
                                                <input id="arrivalsdepartures_select_airport_to" class="text_autocomplete text" type="text" name="aptCodeTo" aria-describedby="arrivalsdepartures_select_airport_to-error">
                                                <span id="arrivalsdepartures_select_airport_to_num_elem" class="autocomplete_hidden_count" role="alert" aria-live="assertive" aria-atomic="true"></span>
                                                <span role="alert" aria-atomic="true" id="arrivalsdepartures_select_airport_to-error" class="span-add-error"></span>
                                                <span class="comboLarge combo_arrivalsdepartures_flightsat">
                                                    <label for="sidebar_arrivalsdepartures_drop_rt" class="offscreen" ss3_article_id="25">To:</label>
                                                        <select class="newComboStyle airport_textbox hide" id="sidebar_arrivalsdepartures_drop_rt"> 
                                                      <!--  <option value="0" noedit="1" ss3_article_id="107">-- <ss3_text id="text" noedit="1"/><span class="triangle" /> --</option> -->
                                                        </select>
                                                </span>
                                            </p>
                                        </div><!-- end .airport_textbox -->
                                        <div class="select-small airport_textbox ui-widget container_airports_departures_arrivals">
                                            <p class="text" ss3_article_id="138">
                                                <label for="arrivalsdepartures_airport_that2">That:</label>
                                                <span class="clear">&nbsp;</span>
                                            </p>
                                            <p class="comboMedium">
                                            <select name="arrivalsdepartures2" id="arrivalsdepartures_airport_that2" class="newComboStyle">
                                                <option value="DEP" ss3_article_id="469">Departe</option>
                                                <option value="ARR" ss3_article_id="470">Arrive</option>
                                            </select>
                                        </p>
                                        </div><!-- end .airport_textbox -->
                                        <div class="select-large airport_textbox ui-widget container_airports_departures_arrivals">
                                            <p class="text" ss3_article_id="139">
                                                <label for="arrivalsdepartures_airport_on2">On:</label>
                                                <span class="clear">&nbsp;</span>
                                            </p>
                                            <p class="comboMedium">
                                            <select name="arrivalsdepartures_date2" id="arrivalsdepartures_airport_on2" class="newComboStyle">
                                                <option value="0">October 15,  2016</option>
                                                <option value="1" selected="SELECTED">October 16,  2016</option>
                                                <option value="2">October 17,  2016</option>
                                            </select>
                                        </p>
                                        </div><!-- end .airport_textbox -->
            <!-- ROUTE SEARCH - END -->
            <!-- FLIGHT SEARCH - START --> 
                                        <span class="clear">&nbsp;</span>
                                    </div>
                                    <span class="clear">&nbsp;</span>
                                     <div class="arrival_choices">
                                        <p class="value"><input type="radio" class="checkbox-departures" name="arrivalsdepartures_content" id="flight" value="number"></p>
                                        <p class="text" ss3_article_id="67796"><label class="big-label-checkbox" for="flight">by flight number</label></p>
                                    </div>
                                    <span class="clear">&nbsp;</span>
                                    <div class="more-options" id="searchByFlight" style="display:none;" aria-hidden="true">
                                        <div class="airport_textbox ui-widget container_airports_departures_arrivals">
                                            <p class="text" ss3_article_id="67800">
                                                <label for="arrivalsdepartures_tp"></label>
                                                <span class="clear">&nbsp;</span>
                                            </p>
                                            <p class="special-input value airports_arrivalsdepartures_flightsat">
                                                <span class="letters">TP</span>
                                                <input class="text tp" type="text" name="arrivalsdepartures_tp" id="arrivalsdepartures_tp" value="" maxlength="4" aria-describedby="arrivalsdepartures_tp-error">
                                                <span role="alert" aria-atomic="true" id="arrivalsdepartures_tp-error" class="span-add-error"></span>
                                            </p>
                                        </div><!-- end .airport_textbox -->
                                        <div class="select-small airport_textbox ui-widget container_airports_departures_arrivals">
                                            <p class="text" ss3_article_id="138">
                                                <label for="arrivalsdepartures_airport_that_flight2">That:</label>
                                                <span class="clear">&nbsp;</span>
                                            </p>
                                            <p class="comboMedium">
                                            <select name="arrivalsdepartures_trk" id="arrivalsdepartures_airport_that_flight2" class="newComboStyle">
                                                <option value="DEP" ss3_article_id="473">Departs</option>
                                                <option value="ARR" ss3_article_id="474">Arrives</option>
                                            </select>
                                             </p>
                                        </div><!-- end .airport_textbox -->
                                        <div class="select-large airport_textbox ui-widget container_airports_departures_arrivals">
                                            <p class="text" ss3_article_id="139">
                                                <label for="arrivalsdepartures_airport_on_flight">On:</label>
                                                <span class="clear">&nbsp;</span>
                                            </p>
                                            <p class="comboMedium">
                                            <select name="arrivalsdepartures_date_trk" id="arrivalsdepartures_airport_on_flight" class="newComboStyle">
                                                <option value="0">October 15,  2016</option>
                                                <option value="1" selected="SELECTED">October 16,  2016</option>
                                                <option value="2">October 17,  2016</option>
                                            </select>
                                            </p>
                                        </div><!-- end .airport_textbox -->
            <!-- FLIGHT SEARCH - END -->
                                        <span class="clear">&nbsp;</span>
                                    </div>
                                    </fieldset>  
                                </div>                               
                                <p><button title="Display flights" class="checkin_blue_button" id="btn_check_voos"><span class="left">&nbsp;</span><span class="text" noedit="1" ss3_article_id="111">Display flights</span><span class="triangle"></span><span class="right">&nbsp;</span></button></p> 
                            </form> 
                        </div><!-- end .slidingmenu_container --> 
                         <div class="bottom">&nbsp;</div> 
                          <script>
                        
                        
                        var strAlpha = "Use only letters",
                              strNum = "Use numbers only";

                          function isAlpha(alpha){
                             // var re = /^[a-zA-ZÀ-ÿ]*$/i;
                              var re = /^[a-zA-ZÀ-ÿ()\s.,-]*$/i;
                              return re.test(alpha.value);
                          } 

                          function isNumeric(num){
                              var re = /^[0-9]*$/i;
                              return re.test(num.value);
                          }                       

                          function valid(stra, valFunc, text){
                                if(!valFunc(stra)){
                                  $(stra).addClass("error");
                                  $(stra).parent().children('.span-add-error').addClass('error-class');
                                  $(stra).parent().children('.span-add-error').text(text);
                                  return false;

                                }else if(valFunc(stra)){
                                  $(stra).removeClass("error");
                                  $(stra).parent().children('.span-add-error').removeClass('error-class');
                                  $(stra).parent().children('.span-add-error').empty();
                                  return false;
                                }
                                return false;

                            }


                            function validClick(stra, strb){
                                $(stra).removeClass("error");
                                $(strb).removeClass("error");
                                $(stra).parent().children('.span-add-error').removeClass('error-class');
                                $(stra).parent().children('.span-add-error').empty();
                                $(stra).css("visibility", "hidden");

                                $('.errTextDOT').hide();
                                $('.errTitleDOT').empty();
                                $('.errTxtDOT').empty();

                                // return false;
                            }

                          /*por aeroporto*/
                                                    
                          $("#arrivalsdepartures_select_airport").keyup(function(){
                              valid(this, isAlpha, strAlpha);
                          });   

                          $('#arrivalsdepartures_select_airport').blur(function(){
                              if(!isAlpha(this)){
                                  $(this).addClass("error");
                              }
                          });                             

                         $("#sidebar_arrivalsdepartures_drop").change(function(){
                              $(this).removeClass("error");
                          });

                         /*por origem*/

                         $("#arrivalsdepartures_select_airport_from").keyup(function(){
                              valid(this, isAlpha, strAlpha);
                          });                                                         

                          $('#arrivalsdepartures_select_airport_from').blur(function(){
                              if(!isAlpha(this)){
                                  $(this).addClass("error");
                              }
                          });                             

                         $("#sidebar_arrivalsdepartures_drop_rf").change(function(){
                              $(this).removeClass("error");
                          });                        

                         /*por destino*/

                         $("#arrivalsdepartures_select_airport_to").keyup(function(){
                              valid(this, isAlpha, strAlpha);
                          });                                                         

                          $('#arrivalsdepartures_select_airport_to').blur(function(){
                              if(!isAlpha(this)){
                                  $(this).addClass("error");
                              }
                          });                             

                         $("#sidebar_arrivalsdepartures_drop_rt").change(function(){
                              $(this).removeClass("error");
                          });

                          /*por voo*/
                          $("#arrivalsdepartures_tp").keyup(function(){
                              valid(this, isNumeric, strNum);
                          });



                          // });
                        </script>
                    </div><!-- end .arrival_departures -->
                </div>   
					
		
		
		<div id="GA_bagagem" class="item"> 
            <div class="header" ss3_article_id="100" id="tab4" role="link" tabindex="-1">
            	<a class="" href="http://www.flytap.com/Canada/enus/PlanBook/PrepareforTravel/baggage" title="Luggage" target="" id="c4de4ed149ad39014e4804079e041b33">Baggage</a>
            </div>
        </div>
                        
        <!--div id="slidingmenuFC"> 
        	            	<h3 id="GA_faleconnosco" ss3_article_id="162"><ss3_link id="link"></ss3_link></h3>
                    </div--> 
                
        </div>
     </div><!-- end #sidebar --> 
     
     <span class="clear">&nbsp;</span> 

     <div id="atc_alert"> 
        <div class="alert"> 
            <span class="corner-top-left">&nbsp;</span><span class="corner-top-right">&nbsp;</span><span class="corner-bottom-left">&nbsp;</span><span class="corner-bottom-right">&nbsp;</span> 
            <div class="text" ss3_article_id="216"> 
                <h5>Attention:</h5> 
                <p style="text-align:justify">
                </p><p><strong>TAP would like to alert you to the impossibility of changing your booking via Manage Your Booking if:</strong><br><br>1) &nbsp;You have a Lisbon-Porto and/or Porto-Lisbon flight (Airlift) and you want to change to a same day flight;<br><br>2) &nbsp;If any of the following ancillary services are associated to your reservation:<br><br></p>
<ul>
<li>Unaccompanied Minors</li>
<li>Sports equipment (surfboards, golf or ski equipment, etc.)</li>
<li>Extra Luggage</li>
<li>Transport of animals in cabin or in hold</li>
<li>Bicycles</li>
<li>Medical Cases</li>
<li>Transport of Fire Arms and Ammunitions</li>
<li>Hotel Booking (Good Morning Lisbon/Porto Programme)</li>
<li>Chargeable seats</li>
<li>Lounge Access</li>
<li>Fast Track</li>
</ul>
<p>&nbsp;</p>
<p>If this is the case, we advise you to contact TAP Portugal directly in order to change your booking.﻿</p>                <p></p> 
            </div> 
        </div> 
    </div><!-- end .modal_content -->

		 
        </div><!-- end #container -->
         <div role="contentinfo" id="contentinfo">
<div id="footer_container"> 
    <!-- footer_open -->
            <div id="shortcuts"> 
                <div class="footer_content"> 
                    <div class="left"> 
                        <div class="callcenter" ss3_article_id="153">
                                <div class="goLeft"> 

                    <span class="icon"></span> 
                  <div class="telf">
                    <div aria-label="TAP's Contact Center Number" ss3_article_id="55038">800 221 7370                    </div>
                    <div aria-label="TAP International Contact Center Number" ss3_article_id="55041">                       </div> 
                  </div> 
                
                <div aria-label="Contact us with Skype" class="skype">tap.contact.center</div>
           

                </div>
                <div class="goRight">
                        <span ss3_article_id="154">
                            <ul>
                             <li>
                                <a class="contacts" href="http://www.flytap.com/Canada/enus/support/contacts" title="+ contacts" target="_blank" id="000f869feda9c21c945a8367df018694">                                <span class="left"></span>
                                <span class="text">+   contacts</span>
                                <span class="right"></span>
                                
</a>
                             </li>
                             <li>    
                                                      </li>
                            </ul>
                    </span>
                </div>                   
                
            </div> 
            </div><!-- end .left -->
            
                    <div class="right" style="float: left;"> 
                        <ul> 
                            <li class="talkWithUs" ss3_article_id="162">
                                <a href="http://www.flytap.com/Canada/enus/Others/Footer/FaleConnosco">
                                    <span class="icon"></span>
                                    <span class="title">Talk to us</span>
                                </a>
                            </li> 
                        
                        
                            <li class="newsletter" ss3_article_id="155"> 
                                <!--ss3_link id="link" noedit="1"--> 
                                <a href="http://www.flytap.com/Canada/enus/Others/Footer/Newsletter">
                                    <span class="icon"></span> 
                                    <span class="title">Newsletter</span> 
                                    subscribe                                </a>
                                <!--/ss3_link--> 
                            </li>
                        
                                                        <li class="iphone" ss3_article_id="156"> 
                                <a class="" href="http://www.flytap.com/Canada/enus/Others/Footer/Free-Apps" title="TAP Mobile" target="" id="62fdd576c193902955674ddd0d30a1f2"> 
                                    <span class="icon"></span> 
                                    <span class="title">TAP Mobile</span> 
                                    get connected                                 
</a> 
                            </li> 
                             
                            
                            <li class="instagram" ss3_article_id="67821"> 
                                <a class="" href="http://instagram.com/Tapportugal" title="This link opens in new window" target="_blank" id="9bc33bbb18cff46dc06e9f75532e9bf4"> 
                                    <span class="icon"></span> 
                                    <span class="title">Instagram</span> 
                                    see us                                
</a>
                            </li>
                            
                            <!--li class="mobile" ss3_article_id="156"> 
                                <a href="">
                                    <span class="icon">&nbsp;</span> 
                                    <span class="title"><ss3_text id="title" noedit="1"/></span> 
                                    <ss3_text id="text" noedit="1"/>
                                </a>
                            </li-->
                            
                                            <li class="facebook" ss3_article_id="157"> 
                                <a class="" href="http://www.facebook.com/pages/TAP-PORTUGAL/376807926448" title="This link opens in new window" target="_blank" id="455a24bd8ab61f4f591c660fa9a24462"> 
                                    <span class="icon"></span> 
                                    <span class="title">Facebook</span> 
                                    be a fan                                
</a>  
                            </li> 
                                            <li class="twitter" ss3_article_id="158"> 
                                <a class="" href="http://www.twitter.com/taportugal" title="This link opens in new window" target="_blank" id="95326944e79c385ea4abe0bc07cdedce">                                    <span class="icon"></span> 
                                    <span class="title">Twitter</span> 
                                    follow us                                
</a> 
                            </li> 
                            <li class="youtube" ss3_article_id="159"> 
                                <a class="" href="http://www.youtube.com/tap" title="This link opens in new window" target="_blank" id="f849c4212d05b0357f320be0fba014d3"> 
                                    <span class="icon"></span> 
                                    <span class="title">YouTube</span> 
                                    latest videos                                
</a> 
                            </li>
                            <li class="pinterest" ss3_article_id="68417"> 
                                <a class="" href="http://www.pinterest.com/tapportugal/" title="This link opens in new window" target="_blank" id="1e2dbe48bd970df3af7f063ca0ba8570"> 
                                    <span class="icon"></span> 
                                    <span class="title">Pinterest </span> 
                                    Pinterest  
                                
</a> 
                            </li> 
                                                     
                            <li class="magazine last" ss3_article_id="161"> 
                                <a class="" href="http://upmagazine-tap.com/en/" title="This link opens in new window" target="_blank" id="3d6cad37076ab4a6302b4773a17e48c8"> 
                                    <span class="icon"></span> 
                                    <span class="title">UP Magazine</span> 
                                    latest news                                
</a> 
                            </li> 
                            <li class="linkedin last" ss3_article_id="95205"> 
                                <a class="" href="https://www.linkedin.com/company/tap-portugal" title="" target="_blank" id="3d6773d6c140d3a1e3f9b61ba31ed5cf"> 
                                    <span class="icon"></span> 
                                    <span class="title">Linkedin</span> 
                                    follow us                                
</a> 
                            </li>    
                        </ul> 
                    </div><!-- end .right --> 
                    <span class="clear">&nbsp;</span> 
                </div><!-- end footer_content. --> 
            </div><!-- end #shortcuts --> 
            <div id="bottomlinks"> 
                <div class="footer_content"> 
                    <div class="left">
                        <div role="navigation">
                        <ul> 
                             
                                <li ss3_article_id="163"><a href="http://www.flytap.com/Canada/enus/Others/Footer/Privacy">Privacy Policy</a></li>
                                                        <li ss3_article_id="164">
<a href="http://www.flytap.com/Canada/enus/Others/Footer/ConditionsofCarriage">                                                      
                            Conditions of Carriage</a></li> 

                            <li ss3_article_id="68720"><a href="http://www.flytap.com/Canada/enus/Others/Footer/accessibility-information">Accessibility information</a></li> 

                            <li ss3_article_id="165"><a href="http://www.flytap.com/Canada/enus/Others/Footer/sitemap">Site Map</a></li> 

                        
                            <li ss3_article_id="68440"><a class="" href="http://www.flytap.com/Canada/enus/Victoria/terms-and-conditions" title="" target="" id="5d02b9dab20b88fb287c7874de86f5da">Victoria Terms and Conditions</a></li>   
                        </ul> 
                    </div>
                        <span class="clear">&nbsp;</span> 
                        <div class="copyright" ss3_article_id="168"> 
                            <span class="title" ss3_article_id="167">© 2016 TAP.</span> All Rights Reserved                        </div><!-- end .copyright --> 
                                              
                        <div class="wngmn" ss3_article_id="598">
                            <span>Web Consultant and Designer&nbsp;</span>
                            <a class="" href="http://www.wingman.pt/" title="Wingman" target="_blank" id="73d6059500df66274f3adafe2beb4319">                                <img src="http://www.flytap.com/prjdir/flytap/images/wingman-logo.png" alt="Wingman">
                            
</a>
                        </div> 

                    </div><!-- end .left --> 
                    <div class="right" ss3_article_id="169"> 
                        <a class="" href="http://www.staralliance.com/en" title="Star Alliance" target="_blank" id="d638c15eb04b8182681cce23fcf2c77c"><span class="title">A STAR ALLIANCE MEMBER</span>
</a>
            <div class="roundTheWorld" ss3_article_id="68372"> 
                <a class="" href="http://www.staralliance.com/en/booking/book-and-fly/" title="Star Alliance Round the World Fare" target="_BLANK" id="2c610888adf7ccf0912050767bdfd231"><span class="title" style="text-indent: 0px;">Round the World Fare</span>
</a>
            </div>
                    </div><!-- end .right -->
            
                    <span class="clear">&nbsp;</span> 
                </div><!-- .footer_content --> 
            </div><!-- end #bottomlinks --> 
        </div><!-- end div contentinfo-->
    <!-- footer_close -->
</div><!-- end #footer_container  -->


 
<script type="text/javascript">
var axel = Math.random() + "";
var a = axel * 10000000000000;
document.write('<iframe src="https://4913114.fls.doubleclick.net/activityi;src=4913114;type=invmedia;cat=gbzq2kyq;u1=[origin];u2=[destination];ord=' + a + '?" width="1" height="1" frameborder="0" style="display:none"></iframe>');
</script><iframe src="https://4913114.fls.doubleclick.net/activityi;src=4913114;type=invmedia;cat=gbzq2kyq;u1=[origin];u2=[destination];ord=3909695162407.2783?" width="1" height="1" frameborder="0" style="display:none"></iframe>
<noscript>
<iframe src="https://4913114.fls.doubleclick.net/activityi;src=4913114;type=invmedia;cat=gbzq2kyq;u1=[origin];u2=[destination];ord=1?" width="1" height="1" frameborder="0" style="display:none"></iframe>
</noscript>
		
	<!--XS:192.168.128.81 20160503 10:30:01-->
	<!--MC issue 1548 script type="text/javascript">
	  (function() {
	    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();
	</script-->
	<!-- Google Code for Remarketing tag -->
	<!-- Remarketing tags may not be associated with personally identifiable information or placed on pages related to sensitive categories.
	For instructions on adding this tag and more information on the above requirements, read the setup guide: google.com/ads/remarketingsetup -->
	<script type="text/javascript">
		/* <![CDATA[ */
		var google_conversion_id = 1018188436;
		var google_conversion_label = "jFC4CMzomAUQlKXB5QM";
		var google_custom_params = window.google_tag_params;
		var google_remarketing_only = true;
		/* ]]> */
	</script>
	<script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js"></script>
	<noscript>
		<div style="display:inline;">
			<img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/1018188436/?value=0&label=jFC4CMzomAUQlKXB5QM&guid=ON&script=0"/>
		</div>
	</noscript>

	
    <!-- LV - issue 1408 -->
        <!-- pixel infre - email filomena 20/10/14 -->
    <script type="text/javascript">
	    adroll_adv_id = "BMVDO3FTMNGG7MAHTEOX5Z";
	    adroll_pix_id = "OIKLQLIWUBEP5PFUJGKIXX";
	(function () {
	  var _onload = function(){
	   if (document.readyState && !/loaded|complete/.test(document.readyState)){setTimeout(_onload, 10);return}
	   if (!window.__adroll_loaded){__adroll_loaded=true;setTimeout(_onload, 50);return}
	   var scr = document.createElement("script");
	   var host = (("https:" == document.location.protocol) ? "https://s.adroll.com" : "http://a.adroll.com");
	   scr.setAttribute('async', 'true');
	   scr.type = "text/javascript";
	   scr.src = host + "/j/roundtrip.js";
	   ((document.getElementsByTagName('head') || [null])[0] ||
	    document.getElementsByTagName('script')[0].parentNode).appendChild(scr);};
	  if (window.addEventListener) {window.addEventListener('load', _onload, false);}
	  else {window.attachEvent('onload', _onload)}}());
	</script>

	<script>
    $(document).ready( function() {

        var isLoginPromoLayer = getCookie('login_promo_layer');

        if(isLoginPromoLayer == 'true') {

            var user_data = JSON.parse(getCookie('victoria_user_data'));

            var tier_level = user_data.tierLevel;

            var victoria_lang = getCookie('victoria_lang');

            var lang = "enus";

            var site = "CA";

            $.ajax({
                    type: 'POST',
                    url: window.location.protocol+"//"+window.location.hostname + "/master/"+victoria_lang+"/"+ "templates/victoria/paginas/promoLayerContent.php/___voPageId=___volangid="+lang+"___vositeid="+site+"___",
                    
                    success:function(data) {
                        $(data).appendTo('body');
                        setCookie2('login_promo_layer', 'false', -50, '/');
                    }
            });

        }

    });

</script>
<!-- JUST FOR SYNC: <ss3_object id="templates/victoria/paginas/promoLayerContent.php"/> -->		
<script>
    $(document).ready( function() {

        new_SessionTimeLeft = 1;

        /*
            Inicia-se o tempo com o timestamp do servidor
        */

        now = 1476603717;

        //time_warning = 20;
        //duration_session = 100;

        previous_it = 0;
                time_warning = 120;
        duration_session = 1440;
                setInterval(function(){
            //saveElement();
            /*
                Lê-se a cookie
            */

            var userData = jQuery.parseJSON(getCookie('victoria_user_data'));

            /*
                Se o utilizador estiver logado
            */

            if (userData != undefined){

                if(new_SessionTimeLeft == 1){
                    /*
                        Caso seja a primeira iteração da página actualizam-se os valores dos timestamp das mensagens de acordo com o timestamp do servidor
                    */

                    var session_end_warning = now + duration_session - time_warning;
                    var session_end = now + duration_session;

                    new_SessionTimeLeft = 0;

                    /*
                        Apaga-se a cookie existente para não ficarmos com duas cookies com o mesmo nome
                        Grava-se a cookie com o valor actualizado para fim da sessão
                    */
                    $.cookie("victoria_timeout", null,{path: '/' });
                    $.cookie("victoria_timeout", JSON.stringify(session_end),{path: '/' });


                }else{
                    /*
                        Caso não seja a primeira iteração da página lê-se o timestamp em que a sessão expira da cookie
                    */

                    var session_end = jQuery.parseJSON(getCookie('victoria_timeout'));

                    //session_end = parseInt(userData.SessionEndTime);

                    var session_end_warning = parseInt(session_end) - parseInt(time_warning);

                }

                /*
                    mostram-se as mensagens de aviso de acordo com os valores dos timestamp
                */

                if(previous_it != session_end && previous_it != 0){

                    $('.vnotloggedin').hide();
                    $('.vloggedin').show();

                    tier = userData.tierLevel;

                    if(tier == "GW"){
                        tier = "gold";
                    }else if(tier=="SW"){
                        tier = "silver";
                    }else{
                        tier = "miles"
                    }

                    name = userData.firstname + ' ' + userData.lastname;
                    name = name.replace(/\+/g, ' ');

                    $('.vloggedin').html('\
                        <a id="imageTier" class="logo" href="http://www.flytap.com/Canada/en/Victoria/forms/my-victoria"> \
                            <img alt="Victoria ' + tier + '" src="images/victoria/victoria-' + tier + '.png"> </a> \
                            <div class="right-side"> \
                                <span id="userTopoName" class="username">' + name +'</span> \
                                <a title="Logout" href="http://www.flytap.com/victoriawsFlytap/webservice.php?logout=true&amp;siteid=CA&amp;langid=en">Logout</a> \
                            </div> \
                        <span class="clear">&nbsp;</span>');

                    //close_modal_session_window();
                    //returnElement();
                }

                if(session_end_warning == now){
                                        $('.modal-window').addClass('sessionModal');
                    $('#sessionExpireContent').trigger('click');
                    saveElement();
                }

                if(session_end == now){
                                        my_url = "http://www.flytap.com/Siteseed/logout/logout_ajax.php";
                    saveElement();
                    close_modal_session_window();
                    sessionExpired()
                    returnElement();

                    $.ajax(
                    {
                        url:  my_url,
                        type: 'GET',

                        success: function(result)
                        {

                        },
                        error: function(xhr, desc, err)
                        {

                        }
                    });
                    $.removeCookie('victoria_user_data', { path: '/' });
                    //$.removeCookie('victoria_timeout', { path: '/' });
                    $.cookie("victoria_timeout", null,{path: '/' });

                }
                                //$.removeCookie('victoria_user_data', { path: '/' });

                //console.log(now,"-----",userData2.SessionTimeLeft);

            }
            previous_it = session_end;
                        now++;
        }, 1000);

    });
</script>



<div title="Further information" class="banners-seemore" id="sessionExpireContent" tabindex="1" role="alertdialog">
    <span class="offscreen"></span>
    <span class="dialog-terms" style="display: none;">
    <!--<button title="Fechar" class="dialog-terms-close">×</button>-->
    <div id="modal-text">
        <p><span class="title" role="alert">Your session will expire in less than 2 minutes</span></p>
        <p>You can extend your session time if you wish</p>
        <div class="buttonsWrapper">
            <button class="nav_element no_more_time" aria-pressed="false">I DO NOT NEED MORE TIME</button>
            <button class="nav_element extend" aria-pressed="true">PLEASE EXTEND THE TIME</button>
        </div>
    </div>
    </span>
</div>
<div title="Further information" class="banners-seemore" id="sessionAlreadyExpired" tabindex="1" role="alertdialog">
    <span class="offscreen"></span>
    <span class="dialog-terms" style="display: none;">
    <div id="modal-text">
        <p><span class="title" role="alert">Your session has expired!</span></p>
        <div class="buttonsWrapper">
            <button class="nav_element understood" aria-pressed="false">Ok, got it!</button>
            <button class="nav_element redirect" aria-pressed="true">Go to Login page</button>
        </div>
    </div>
    </span>
</div>


<script>

// function retornar elemento - chamado em mais do que um local
function returnElement() {
    //Retornar o focus ao elemento anterior após recarregar os elementos
    setTimeout(function(){
        elementoFocus.focus();
    }, 10);
}
// function guardar elemento - chamada em mais do que um local
function saveElement() {
    //Guardar elemento clicado (focus)
    elementoFocus = $(document.activeElement);
}


//Função para fechar janela modal
function close_modal_session_window() {
    //hide dialog
    $('.modal-window').hide();

    //ARIA
    $('body').children().removeAttr('aria-hidden');
    $('.modal-window').removeAttr('aria-hidden').removeAttr('tabindex').removeClass('sessionModal');
    $('#container').removeAttr('tabindex');
}


function sessionExpired() {
    if ( $('.modal-window').hasClass('sessionModal') ) {
                            //console.log('tem sessão aberta');
        close_modal_session_window();
        returnElement();
        //$('.modal-overlay').show();
    } else {
        saveElement();
    }
    openModalWithSessionExpired();
}

//Fechar dialog e voltar ao estado anterior
$('.sessionModal .modal-overlay').live('click', function(){
    close_modal_session_window();
    returnElement();
});

function openModalWithSessionExpired() {
    setTimeout(function(){
        $('.modal-window').addClass('sessionModal');
        $('#sessionAlreadyExpired').trigger('click');
    }, 50);
}


$('.extend').live('click', function(){

    my_url = "http://www.flytap.com/Siteseed/logout/login_ajax.php";
    $.ajax(
    {
        url:  my_url,
        type: 'GET',

        success: function(result)
        {
            var session_end = now + duration_session;

            $.cookie("victoria_timeout", JSON.stringify(session_end),{path: '/' });
            close_modal_session_window();
            returnElement();
        }
    });

});

$('.no_more_time').live('click', function(){

    close_modal_session_window();
    returnElement();

});


$('.understood').live('click', function(){

    close_modal_session_window();
    returnElement();

    /*
        Repor o form para fazer login acima do megamenu
    */
    $('.vnotloggedin').show();
    $('.vloggedin').hide();

    $('.vnotloggedin .btn-login').html("login");
    $('.vnotloggedin .joininstantly').html("or");
    $('.vnotloggedin .joininstantly').append(" <a href = 'http://www.flytap.com/Canada/en/Victoria/forms/join-victoria'>Join Now</a>");

});


$('.redirect').live('click', function(){

    url = "http://www.flytap.com/Canada/en/Victoria/forms/login";

    location.href = url;

});


//Correr 'click' no botão de fechar com Escape
$('.sessionModal').keydown(function(e){
    if (e.keyCode == 27) {
        close_modal_session_window();
        returnElement();
    }
});

</script>
    
		<form id="inst_contacts_form" method="post" style="display:none" target="_blank">
<input name="contact_site" type="hidden" value="ca">
<input name="contact_lang" type="hidden" value="enus">
<input type="submit" value="Submit">							
</form>	

<script type="text/javascript">
$(document).ready(function() {	
		var today = new Date().getTime()

	    var today1 = new Date(today + 1 * 24 * 60 * 60 * 1000);
	    var thisDay1 = today1.getDate();
	    var thisMonth1 = today1.getMonth() +1 ;// + 1;
	    var thisYear1 = today1.getFullYear();
	    if(thisDay1 < 10){ thisDay1 = "0" + thisDay1;}
	    if(thisMonth1 <  10){ thisMonth1 = "0"+ thisMonth1; }
	    var tomorrowDate = thisDay1+"."+thisMonth1+"."+thisYear1;

	    var today8 = new Date(today + 8 * 24 * 60 * 60 * 1000);
	    var thisDay8 = today8.getDate();
	    var thisMonth8 = today8.getMonth() +1 ;// + 1;
	    var thisYear8 = today8.getFullYear();
	    if(thisDay8 < 10){ thisDay8 = "0" + thisDay8;}
	    if(thisMonth8 <  10){ thisMonth8 = "0"+ thisMonth8; }
	    var tomorrowDate8 = thisDay8+"."+thisMonth8+"."+thisYear8;

	    
	    var ibeMarket = "CA";
	    var ibeLang = "ENUS";

	    $('.ibe_button a').each(function(){
	          var href1 = $(this).attr('href');
	          if(href1 != undefined )
	          {
	              var hrefNew1 = href1.replace(/___DEPDATE___/i,tomorrowDate);
	              var hrefNew1 = hrefNew1.replace(/___RETDATE___/i,tomorrowDate8);
	              var hrefNew1 = hrefNew1.replace(/___MARKET___/i,ibeMarket);
	              var hrefNew1 = hrefNew1.replace(/___LANGUAGE___/i,ibeLang);
	              $(this).attr('href',hrefNew1);
	          }
	    });


	$('a.infoContacts').click(function(event){
		event.preventDefault();
		$('#inst_contacts_form').attr('action', 'http://www.tapportugal.com/Info/en/Other/contact-us');
		$('#inst_contacts_form').submit();
	});
});
</script>
<script>var newOfficeId ='FTCAENUS';var tempOfficeId = getUrlVars("officeID");
tempOfficeId = tempOfficeId.toString();
if(tempOfficeId.length > 4) newOfficeId = tempOfficeId;

		jQuery(document).ready(function() {
			
			$('#modules a').each(function(){
		      var href = $(this).attr('href');
		      if(href != undefined )
		      {
			      var hrefNew = href.replace(/__officeID__/i,newOfficeId);
			      $(this).attr('href',hrefNew);
		      }
			});
		});
	</script>


		

<script src="https://d2ztnnzhp7o4xl.cloudfront.net/tt-115446a736618b89c9b72fe8b9b4e68fbad0c693c07346a8e7513d7761364ff3.js"></script>





<!-- script HP Alemanha - issue 1535 -->

<!-- script CH/DE - email ODILE/Klemens 19/08/2014  -->



<!-- promo layer insert -->
















<!-- HOMESLIDER DOT -->
<script type="text/javascript">
	$(document).ready(function(){
		$("#homepage_slider .homeslider").attr("role","region");
		$("#homepage_slider .homeslider").attr("aria-label","Promotions and Campaigns");
	});
</script>


<script type="text/javascript">
(function(e,t,c,n,a,o,r){c.TravelAudienceConnect=e,e in c||(c[e]=function(){c[e].q.push(arguments)},c[e].q=[]),o=n.createElement(a),o.src=t,o.async=!0,r=n.getElementsByTagName(a)[0],r.parentNode.insertBefore(o,r)})("tac","//static.connect.travelaudience.com/tac.js",window,document,"script");tac("create","TP");tac("load");
</script>




	



		<!--MC ss3_url_anixe_params.php - START -->
<script type="text/javascript" src="http://www.flytap.com/javascript/flytap/jquery.cookie.js"></script>
<script>

function timeStamp(increment) {
    // Create a date object with the current time
    var now = new Date();
    if (increment != undefined) {
        now.setDate(now.getDate()+increment);
    }

    // Create an array with the current month, day and time
    var date = [now.getMonth() + 1, now.getDate(), now.getFullYear()];

    // Create an array with the current hour, minute and second
    var time = [now.getHours(), now.getMinutes(), now.getSeconds()];

    // Determine AM or PM suffix based on the hour
    var suffix = (time[0] < 12 ) ? "AM" : "PM";

    // Convert hour from military time
    time[0] = (time[0] < 12 ) ? time[0] : time[0] - 12;

    // If hour is 0, set it to 12
    time[0] = time[0] || 12;

    // If seconds and minutes are less than 10, add a zero
    for (var i = 1; i < 3; i++) {
            if (time[i] < 10) {
                    time[i] = "0" + time[i];
            }
    }

    // Return the formatted string
    return date.join("/") + " " + time.join(":") + " " + suffix;
}

var track_A = getUrlVars("_a");
var track_B = getUrlVars("_b");
var track_C = getUrlVars("_c");
var ANETWORK = getUrlVars("anetwork");
var ANETID = getUrlVars("anetid");
var domain = '.flytap.com';
if(track_A.length >0)
{
    setCookie("track_A", track_A, null, null,domain);
}
if(track_B.length >0)
{
    setCookie("track_B", track_B, null, null,domain);
}
if(track_C.length >0)
{
    setCookie("track_C", track_C, null, null,domain);
}
/*
if(ANETWORK.length >0)
{
    setCookie("ANETWORK", ANETWORK, null, null,domain);
}
if(ANETID.length >0)
{
    setCookie("ANETID", ANETID, null, null,domain);
}
*/
var track_A = getCookie("track_A");
var track_B = getCookie("track_B");
var track_C = getCookie("track_C");
//var ANETWORK = getCookie("ANETWORK");
//var ANETID = getCookie("ANETID");

if(track_B.length > 4) newOfficeId = tempOfficeId;

jQuery(document).ready(function() {
    $('a').each(function(){
        var href = $(this).attr('href');
        if(href != undefined && href.indexOf("book.flytap.com") !== -1)
        {
            if(track_A.length >0)
            {
                var href = $(this).attr('href');
                var hrefNew = addMyParam(href,"_a",track_A);
                $(this).attr('href',hrefNew);
            }
            if(track_B.length >0)
            {
                var href = $(this).attr('href');
                var hrefNew = addMyParam(href,"_b",track_B);
                $(this).attr('href',hrefNew);
            }
            if(track_C.length >0)
            {
                var href = $(this).attr('href');
                var hrefNew = addMyParam(href,"_c",track_C);
                $(this).attr('href',hrefNew);
            }
            /*
            if(ANETWORK.length >0)
            {
                var href = $(this).attr('href');
                var hrefNew = addMyParam(href,"anetwork",ANETWORK);
                $(this).attr('href',hrefNew);
            }
            if(ANETID.length >0)
            {
                var href = $(this).attr('href');
                var hrefNew = addMyParam(href,"anetid",ANETID);
                $(this).attr('href',hrefNew);
            }
            */
        }
    });

    var host = 'flytap.com';        var AffiliateNetworkCookie = "";
        if(ANETWORK.length >0 && (ANETWORK == 'ZANOX' || ANETWORK == 'TRADEDOUBLER' || ANETWORK == 'AWINDOW' || ANETWORK == 'AFILIO' || ANETWORK == 'PAIDSEARCH' || ANETWORK == 'EMAILMKT' || ANETWORK == 'SOCIAL' || ANETWORK == 'DISPLAY' || ANETWORK == 'EMUNDO'))
        {
            AffiliateNetworkCookie = ANETWORK + "&creationDate=" + timeStamp();

            if(ANETID.length >0)
            {
                AffiliateNetworkCookie = 'AffiliateNetwork=' + AffiliateNetworkCookie + "&anetid=" + ANETID;
            }
            else
            {
                AffiliateNetworkCookie = 'AffiliateNetwork=' + AffiliateNetworkCookie + "&anetid=undefined";
            }
            $.cookie.raw = true;
	    AffiliateNetworkCookie = AffiliateNetworkCookie + '&expirationDate=' + timeStamp(30);
            $.cookie('AffiliateNetworkCookie', AffiliateNetworkCookie, {
                    expires : 30,
                    path : '/',
                    domain : host
            });
        }

    });
var count =0;

function addMyParam(href, paramName, paramValue)
{
    paramValue = decodeURIComponent(paramValue);
    paramValue = paramValue.replace(/[^a-z0-9\_]/gi,'');
    //console.log("antes "+href);
    if(paramName == "_a")
    {
        my_a=getHrefParam(href,"_a");
        href = href.replace("&_a=" + my_a ,"");
        //href = href.replace("&_a=" + newOfficeId ,"");
    }

    //console.log("depois _"+newOfficeId+"_ "+href);    
    var newHref = "";

    if(href.indexOf("?"))
    {
        newHref = href + "&" + paramName + "=" + paramValue;
    }
    else
    {
        newHref = href + "?" + paramName + "=" + paramValue;
    }

    return newHref;
}

function getHrefParam(myhref,param)
{
    var vars = new Array(); var hash;
    var hashes = myhref.slice(myhref.indexOf('?') + 1).split('&');
    for(var i = 0; i < hashes.length; i++)
    {
        if(param != undefined)
        {
                    var teste = hashes[i].toString();
                    testeArr = teste.split("=");
                    if (testeArr[0] == param) {
                            return testeArr[1];
                    }
        }
        hash = hashes[i].split('=');
        vars[hash[0]] = hash[1];
    }
    if(param == undefined)
        return vars;
    else
        return "";
}

</script>
<!--MC ss3_url_anixe_params.php - END -->
<!--SS3 SSF03 -->		
</body></html>