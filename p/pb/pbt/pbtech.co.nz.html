<!--The following is the downloaded HTML source of the pbtech.co.nz privacy policy that was archived on 2018-12-27.
 Please check the original snapshot on the Wayback Machine (https://web.archive.org/web/20181227033122id_/https%3A//www.pbtech.co.nz/privacy) for the most accurate reproduction.-->

<!DOCTYPE html><html lang="en" xmlns:fb="http://ogp.me/ns/fb#"><head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <!-- make sure the IE meta tag is the first child of the head element, as it can cause issues in certain scenarios if it isn't -->
    <!-- see http://tesmond.blogspot.com/2011/10/ie9-intranet-compatibility-mode-in.html for more info -->

    <base href="https://www.pbtech.co.nz/">
    <meta http-equiv="Content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">

    <title>Privacy Statement - PBTech.co.nz</title>
    <meta name="keywords" content="Computer Components, PC Parts, Tablets, Monitors, Video Cards, Processors and CPUs, Memory, RAM, Printers, Notebook Computers, Laptops, Motherboards, Flash Memory, Speakers, LED TV, SmartPhones">
    <meta name="description" content="PB Tech is NZ's largest computing and I.T. retailer and offers the best prices on a wide range of technology products. Shop online or at one of our superstores in Penrose, Queen Street / Auckland CBD, North Shore, Manukau, Henderson, Hamilton or Wellington.">
    <meta name="language" content="english">
    <meta name="copyright" content="Â© 2018 PB Tech">
    <meta name="robots" content="noodp,noydir">

    <link rel="apple-touch-icon" sizes="180x180" href="https://www.pbtech.co.nz/imglib/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="https://www.pbtech.co.nz/imglib/icons/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://www.pbtech.co.nz/imglib/icons/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="https://www.pbtech.co.nz/imglib/icons/manifest.json">
    <link rel="mask-icon" href="https://www.pbtech.co.nz/imglib/icons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="https://www.pbtech.co.nz/imglib/faviconPB.ico">
    <meta name="msapplication-TileColor" content="#2b5797">
    <meta name="msapplication-TileImage" content="https://www.pbtech.co.nz/imglib/icons/mstile-144x144.png">
    <meta name="msapplication-config" content="https://www.pbtech.co.nz/imglib/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <!-- <link href="https://fonts.googleapis.com/css?family=Roboto:400" rel="stylesheet"> -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,medium,italic,mediumitalic,bold" title="roboto">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700" rel="stylesheet">
    <link rel="stylesheet" href="stz/iconset/css/fontawesome-v5.css">

<meta property="og:image" content="https://www.pbtech.co.nz/imglib/dd/logo.png">    <meta property="fb:admins" content="610679578,678458053">
<meta name="robots" content="index, follow"><link rel="canonical" href="https://www.pbtech.co.nz/privacy">    <link rel="stylesheet" href="stz/iconset/css/font-awesome-fba6fa5c43.min.css">

    <link rel="stylesheet" href="stz/core-css/css/desktop/core-desktop-2ea720bed8.css">

    <link rel="stylesheet" href="stz/select2-1f196661cd.min.css">

    <link rel="stylesheet" href="stz/owl-assets/owl-c1efa7c8c5.carousel.css">

    <link rel="stylesheet" href="stz/jquery-0a7c2b9a41.qtip.min.css">

    <script type="text/javascript" async="" src="https://cdn.livechatinc.com/tracking.js"></script><script async="" src="//connect.facebook.net/en_US/fbevents.js"></script><script async="" src="https://www.google-analytics.com/analytics.js"></script><script type="text/javascript">
        //conditionally include the polyfill library depending on whether Promise support or certain functions are detected in the browser or not
        //a Promise polyfill is required for SweetAlert2
        //note that the Google Maps script also loads a Promise polyfill, so this script needs to run first as it loads in other polyfills as well
        if (!('Promise' in window) || typeof Object.assign === "undefined" || typeof Object.keys === "undefined") {
            var head = document.getElementsByTagName('head')[0];
            var script = document.createElement('script');
            script.src = "https://cdnjs.cloudflare.com/ajax/libs/core-js/2.4.1/core.js";
            script.type = 'text/javascript';

            head.appendChild(script);
        }
    </script>

    <script type="text/javascript" src="script/sweetalert2/sweetalert2.all.min.js?h=4099995306"></script>

    <script type="text/javascript" src="script/jquery/jquery-3.2.0.min.js?h=1243912997"></script>

    <script type="text/javascript" src="script/jquery-ui/jquery-ui.min.js?h=1243912997"></script>

    <script type="text/javascript" src="script/jquery/jquery-validate-1.17.0/jquery.validate.min.js?h=257757061"></script>

    <script type="text/javascript" src="script/jquery/jquery-validate-1.17.0/additional-methods.min.js?h=2019180307"></script>

    <script type="text/javascript" src="script/select2.full.min.js?h=1243912997"></script>

    <script type="text/javascript" src="script/ui.dropdownchecklist-1.5-min.js?h=3944356105"></script>

    <script type="text/javascript" src="script/jquery.countdown-1.0.0.min.js?h=1697627170"></script>

    <script type="text/javascript" src="script/jquery.menu-aim.js?h=3108544729"></script>

    <script type="text/javascript" src="script/list.min.js?h=2853300033"></script>

    <script type="text/javascript" src="script/owl-assets/owl.carousel.js?h=1158839281"></script>

    <script type="text/javascript" src="script/lazyload.min.js?h=924680573"></script>

    <script type="text/javascript" src="script/jquery.lazy.min.js?h=2107682053"></script>

    <script type="text/javascript" src="script/flex/flex.js?h=1317154014"></script>

    <script type="text/javascript" src="script/jquery.qtip.min.js?h=1322959"></script>

    <script type="text/javascript" src="script/checker.js?h=674752439"></script>

    <script type="text/javascript">
    var showPwP = true;
    </script>

    <!-- address checker -->
    <meta name="google-site-verification" content="5rQmcQ3Y0Zj4O-DK69ThKvW4oBhIZZXDOZ2czshF2Mw">

    
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-42578007-1', 'auto');

        ga('set', 'dimension3', 'Desktop');
    ga('send', 'pageview');

</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-42578007-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'UA-42578007-1', {
        'send_page_view': false
    });
</script>




</head>
<body class="">
            <div id="feedback-side">
            <a href="https://www.research.net/r/7F3CV6D?Var1=0" rel="nofollow" target="_blank"> GIVE FEEDBACK <i class="fa fa-smile-o"></i></a>
        </div>
        
    <script>
    !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
    n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
    document,'script','//connect.facebook.net/en_US/fbevents.js');

    fbq('init', '732147426886509');
    fbq('track', "PageView");</script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=732147426886509&ev=PageView&noscript=1"
    /></noscript>


 
<div id="fb-root"></div>
<div id="ad-linkleft"><a href="promotions/boxing-day-sale?qr=banner_outer_bottom_left_5902"><img src="imgad/aib/_1224_BoxingDay_Left.png"></a></div><a href="promotions/boxing-day-sale" id="timer_container" style="background-color: #0057FF;">
    <div id="timer_banner" style="background-image: url('imglib/event_timer_images/event_timer_1224_BoxingDay_Timer_20181221160841.png'); background-position: 100px; background-repeat: no-repeat;">
        <ul id="countdown" style="color: #FFFFFF; right: 20px;">
        <span class="endIn">Ends in:</span>
            <li>
                <div class="days" style="border-color: #FFFFFF;">--</div>
                <p class="days_text">Days</p>
            </li>
            <li>
                <div class="hours" style="border-color: #FFFFFF;">--</div>
                <p class="hours_text">Hours</p>
            </li>
            <li>
                <div class="minutes" style="border-color: #FFFFFF;">--</div>
                <p class="minutes_text">Mins</p>
            </li>
            <li>
                <div class="seconds" style="border-color: #FFFFFF;">--</div>
                <p class="seconds_text">Secs</p>
            </li>
        </ul>
    </div>
</a>

<script type="text/javascript">
    $(function() {
        $("#countdown").countdown({
            //month/day/year
            date: "01/01/2019 00:00:00",
            offset: 13,
            day: "Days",
            days: "Days",
            minute: "Min",
            minutes: "Mins",
            second: "Sec",
            seconds: "Secs"
        });
    });
</script>
<!-- remove after xmas -->
<div class="lightrope">
<li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li>      
</div>
<!-- remove after xmas -->
<noscript>
    <div class='noScriptWarning'>
        <a>Javascript is OFF<i class='fa fa-cog fa-spin fa-3x fa-fw'></i></a>
    </div>
</noscript>
<div id="fixLine"></div><div class="fixHeader"><div id="header"><div class="header_container"><div class="header_row"><div class="header_cell logo"><a href="https://www.pbtech.co.nz/"><img src="imglib/dd/pb-logo.png" alt="PB Tech" class="mainLogo"></a></div><div class="header_cell"><ul class="horizontal_list"><li><i class="fa fa-truck"></i><a href="news/1491/Christmas-Delivery-Timeframes">Christmas Delivery Timeframes</a>&nbsp;&nbsp;</li><li><i class="fa fa-gift"></i><a href="promotions/christmas-gift-guide-18">Gift Guide</a>&nbsp;&nbsp;</li><li><i class="fa fa-moon-o"></i><a href="news/1487/NEW-STORE-HOURS-Late-night-shopping-at-PB-Tech">Late Night Thursdays</a>&nbsp;&nbsp;</li><li><i class="fa fa-clock-o"></i><a href="news/1492/Store-Opening-Hours-Christmas-2018">Holiday Store Hours</a></li></ul><ul class="horizontal_list right"><li><a href="returns" id="header_returns"></a></li><li><a href="careers">Careers</a></li><li><a href="help">Help</a></li><li><a href="contact">Contact</a></li><li><a href="stores" class="stores_link"><i class="fa fa-map-marker"></i>&nbsp;Stores</a></li></ul><div class="search_bar_container"><div class="searchBar"><form name="search_query" id="search_query" method="GET" action="search"><input type="text" class="search_input" id="searchBox" name="sf" value="" placeholder="Search by Keywords or Part #"><button type="submit" class="search_button"><i class="fa fa-search"></i></button></form></div><div class="headButtons"><div class="header_button_float"><div class="header_button_cart basMenu"><div class="menu_option" data-menu-id="5"><a href="basket"><i class="fa fa-shopping-cart"></i><span class="vAlignCart"><span id="timer_id0_basket_total" class="menu_basket_total bold"><span class="header_total gex" style="display:none;"><span class="value"></span> <span class="small_text" style="display:none;">&nbsp;ex.</span></span><span class="header_total ginc" style="display:none;"><span class="value"></span> <span class="small_text" style="display:none;">&nbsp;inc.</span></span><span class="cartSpacer"></span></span><span class="menu_bubble basket_count">0</span></span></a><div id="subnav_basket" class="subnav_content menu_option_5"><div class="table_container subnav"><div class="table_row"><div class="table_cell subnav_group"><div class="subnav_group_list"><div class="subnav_group_header">Recently Added Items</div><div id="menu_basket_items"><ul><li><div id="header_basket_items" class="table_container" style="width:100%;"></div></li></ul></div></div><div class="subnav_group_list"><div class="subnav_group_content"><div class="table_container subnav_basket_summary"><div class="table_row"><div class="table_cell"><div class="bold subnav_basket_summary_line"><span class="basket_count">0</span> Items</div></div><div class="table_cell right"><div class="subnav_basket_summary_line"><span class="header_total gex">Cart Subtotal ( +GST): <span class="value bold">$0.00</span></span><span class="header_total ginc">Cart Subtotal ( inc&nbsp;GST): <span class="value bold">$0.00</span></span></div></div></div></div></div></div><div class="subnav_basket_buttons"><a href="basket" class="button orange xsmall">View Cart</a></div></div></div></div></div></div></div></div><div class="header_button_float logMenu"><div class="header_button_login"><i class="fa fa-user"></i><span class="vAlignCart"><a href="login" class="underLine">Login</a> or <a href="reg" class="menu_option_pad noul bold">Create Account</a></span></div></div></div></div></div></div></div></div><div id="menu"><div class="table_container menu_container"><div class="table_row"><div class="table_cell menu_department"><ul class="horizontal_list"><li class="menu_option depMenu" data-menu-id="1"><noscript><a href='site-directory' class='menu_option_pad menu_department_link'>Shop by <span class='bold'>DEPARTMENT</span></a><div class='noJava'></noscript><a class="menu_option_pad menu_department_link">Shop by <span class="bold">DEPARTMENT</span><div class="menu_arrow_down_dep "></div><div class="menu_arrow_up  menu_department_arrow_up menu_option_arrow_1"></div></a><noscript></div></noscript><div class="main_nav  menu_option_1"><ul class="table_container main_nav_dropdown"><li class="table_row" data-submenu-id="submenu_1" data-submenu-divisions="4"><div class="table_cell main_nav_item"><a href="category/computers" class="table_container nav_item_link"><span class="table_cell"><i class="fa fa-laptop"></i> Computers &amp; Tablets</span></a><div id="submenu_1" class="main_nav_submenu subnav_content popover"><div class="table_container subnav"><div class="table_row"><div class="table_cell subnav_group"><ul class="table_container subnav_group_buttons submenu_1_group"><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/computers/laptops" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20170421144656_thumb_Notebook_001.jpg" alt="Laptops" height="60"></a><a href="category/computers/laptops" class="subnav_link">Laptops</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/computers/pcs" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160711161212_thumb_rsz_20150711163333_hp.jpg" alt="Desktop PCs" height="60"></a><a href="category/computers/pcs" class="subnav_link">Desktop PCs</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/computers/tablets" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20150711163602_thumb_tab.jpg" alt="Tablets" height="60"></a><a href="category/computers/tablets" class="subnav_link">Tablets</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/computers/exleased" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20170330113108_thumb_elitedesk800_sff_hero_tcm_194_1487602.jpg" alt="Off-Lease PCs" height="60"></a><a href="category/computers/exleased" class="subnav_link">Off-Lease PCs</a></span></li></ul></div><div class="table_cell subnav_group"><div class="subnav_group_list noScroll subnav_overflow"><ul><li><a href="category/computers/aiocomputer" class="subnav_link">All-in-One PCs</a></li><li><a href="category/computers/barebone-pcs" class="subnav_link">Barebones PCs</a></li><li><a href="category/computers/pcs" class="subnav_link">Desktop PCs</a></li><li><a href="category/computers/ereaders" class="subnav_link">eReaders</a></li><li><a href="category/computers/laptops" class="subnav_link">Laptops</a></li><li><a href="category/computers/exleased" class="subnav_link">Off-Lease PCs</a></li><li><a href="category/computers/servers" class="subnav_link">Servers</a></li><li><a href="category/computers/single-board-computers" class="subnav_link">Single Board Computers</a></li><li><a href="category/computers/tablets" class="subnav_link">Tablets</a></li><li><a href="category/computers/thin-clients" class="subnav_link">Thin / Zero Clients</a></li></ul></div>            <a href="system-builder">
                <div class="bottom_banner">
                    <img height="118" width="196" src="imglib/dd/pc_builder_menu_banner.png">
                </div>
            </a>
            </div><div class="table_cell subnav_group"><div class="subnav_group_list"><div class="subnav_group_header">Accessories</div><ul><li><a href="category/computers/ac-power-adapters" class="subnav_link">AC Power Adapters</a></li><li><a href="category/computers/charging-stations" class="subnav_link">Device Charging Stations</a></li><li><a href="category/computers/docking-stations" class="subnav_link">Docking Stations</a></li><li><a href="category/computers/laptop-bags" class="subnav_link">Laptop Bags / Cases</a></li><li><a href="category/computers/laptop-batteries" class="subnav_link">Laptop Batteries</a></li><li><a href="category/computers/laptop-accessories" class="subnav_link">Other Laptop Accessories</a></li><li><a href="category/computers/tablet-accessories" class="subnav_link">Other Tablet Accessories</a></li><li><a href="category/computers/server-accessories" class="subnav_link">Server Accessories</a></li><li><a href="category/computers/tablet-cases" class="subnav_link">Tablet Cases</a></li></ul></div>            <a href="system-builder/server">
                <div class="bottom_banner">
                    <img height="118" width="197" src="imglib/dd/server_builder_menu_banner.png">
                </div>
            </a>
            </div><div class="table_cell subnav_group"><div class="table_container submenu_1_group subnav_group_extra"><div class="table_row">                                                <a href="laptop-selector?qr=banner_computers_tablets_5844"><img src="imgad/aib/_laptop_selector_002.png" width="197" height="507" alt=""></a>
                                            </div></div></div></div></div></div></div></li><li class="table_row" data-submenu-id="submenu_3" data-submenu-divisions="4"><div class="table_cell main_nav_item"><a href="category/peripherals" class="table_container nav_item_link"><span class="table_cell"><i class="fa fa-desktop"></i> PC Peripherals</span></a><div id="submenu_3" class="main_nav_submenu subnav_content popover"><div class="table_container subnav"><div class="table_row"><div class="table_cell subnav_group"><ul class="table_container subnav_group_buttons submenu_3_group"><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/peripherals/monitors" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20161004095033_thumb_6m52IIPVgfiAArws_500.jpg" alt="Monitors" height="60"></a><a href="category/peripherals/monitors" class="subnav_link">Monitors</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/peripherals/keyboards" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160711160604_thumb_rsz_20101116142502_key.jpg" alt="Keyboards" height="60"></a><a href="category/peripherals/keyboards" class="subnav_link">Keyboards</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/peripherals/headsets" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20161004100148_thumb_g933-artemis-spectrum.png" alt="Headsets" height="60"></a><a href="category/peripherals/headsets" class="subnav_link">Headsets</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/peripherals/cables" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20110105163032_thumb_ITPAK669-30.jpg" alt="Cables" height="60"></a><a href="category/peripherals/cables" class="subnav_link">Cables</a></span></li></ul></div><div class="table_cell subnav_group"><div class="subnav_group_list noScroll subnav_overflow"><ul><li><a href="category/peripherals/scanners" class="subnav_link">Document Scanners</a></li><li><a href="category/peripherals/drive-enclosures" class="subnav_link">Drive Enclosures / Docks</a></li><li><a href="category/peripherals/graphics-tablets" class="subnav_link">Graphics Tablets</a></li><li><a href="category/peripherals/hdd-external" class="subnav_link">Hard Drives - External </a></li><li><a href="category/peripherals/headsets" class="subnav_link">Headsets</a></li><li><a href="category/peripherals/keyboards" class="subnav_link">Keyboards</a></li><li><a href="category/peripherals/kvms" class="subnav_link">KVM Switches / Cable</a></li><li><a href="category/peripherals/usb-memory-cards" class="subnav_link">Memory Cards &amp; USB Drives</a></li><li><a href="category/peripherals/mice" class="subnav_link">Mice</a></li><li><a href="category/peripherals/monitors" class="subnav_link">Monitors</a></li><li><a href="category/peripherals/surge-protectors" class="subnav_link">Surge Protectors</a></li><li><a href="category/peripherals/backup" class="subnav_link">Tape Drives / Backup</a></li><li><a href="category/peripherals/ups" class="subnav_link">UPS &amp; PDU Devices</a></li><li><a href="category/peripherals/usb-hubs" class="subnav_link">USB Hubs</a></li><li><a href="category/peripherals/webcams" class="subnav_link">Web Cams</a></li></ul></div></div><div class="table_cell subnav_group"><div class="subnav_group_list"><div class="subnav_group_header">Accessories</div><ul><li><a href="category/peripherals/adapters" class="subnav_link">Adapters</a></li><li><a href="category/peripherals/cables" class="subnav_link">Cables</a></li><li><a href="category/peripherals/headset-accessories" class="subnav_link">Headset / Headphone Accessories</a></li><li><a href="category/peripherals/monitor-tv-accessories" class="subnav_link">Monitor &amp; TV Accessories</a></li><li><a href="category/peripherals/mouse-accessories" class="subnav_link">Mouse Accessories</a></li></ul></div></div><div class="table_cell subnav_group"><div class="table_container submenu_3_group subnav_group_extra"><div class="table_row">                                                <a href="category/peripherals/keyboards/keyboard-and-mice/brand-logitech?qr=banner_pc_peripherals_5204"><img src="imgad/aib/_Logitech_197x468.jpg" width="197" height="507" alt=""></a>
                                            </div></div></div></div></div></div></div></li><li class="table_row" data-submenu-id="submenu_2" data-submenu-divisions="4"><div class="table_cell main_nav_item"><a href="category/components" class="table_container nav_item_link"><span class="table_cell"><i class="fa fa-hdd-o"></i> PC Parts</span></a><div id="submenu_2" class="main_nav_submenu subnav_content popover"><div class="table_container subnav"><div class="table_row"><div class="table_cell subnav_group"><ul class="table_container subnav_group_buttons submenu_2_group"><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/components/video-cards" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20161004104538_thumb_1070.jpg" alt="Video Cards" height="60"></a><a href="category/components/video-cards" class="subnav_link">Video Cards</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/components/ssdrives" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20161004104345_thumb_HDDSAM3500__1.jpg" alt="Hard Drives - SSD" height="60"></a><a href="category/components/ssdrives" class="subnav_link">Hard Drives - SSD</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/components/memory" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20161004101836_thumb_MEMKHX2885760__1.jpg" alt="Memory - Desktop / Server" height="60"></a><a href="category/components/memory" class="subnav_link">Memory - Desktop / Server</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/components/memory-laptops" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160711160234_thumb_rsz_20101116141931_nbkmemory.jpg" alt="Memory - Laptop" height="60"></a><a href="category/components/memory-laptops" class="subnav_link">Memory - Laptop</a></span></li></ul></div><div class="table_cell subnav_group"><div class="subnav_group_list noScroll subnav_overflow"><ul><li><a href="category/components/pc-cases" class="subnav_link">Cases / Chassis</a></li><li><a href="category/components/cooling-air" class="subnav_link">Cooling - Air</a></li><li><a href="category/components/cooling-water" class="subnav_link">Cooling - Water</a></li><li><a href="category/components/cpus" class="subnav_link">CPU / Processors</a></li><li><a href="category/components/hdd-internal" class="subnav_link">Hard Drives - Internal</a></li><li><a href="category/components/ssdrives" class="subnav_link">Hard Drives - SSD</a></li><li><a href="category/components/io-cards" class="subnav_link">IO, SCSI, IDE Cards</a></li><li><a href="category/components/memory" class="subnav_link">Memory - Desktop / Server</a></li><li><a href="category/components/memory-laptops" class="subnav_link">Memory - Laptop</a></li><li><a href="category/components/motherboards" class="subnav_link">Motherboards</a></li><li><a href="category/components/optical-drives" class="subnav_link">Optical Drives</a></li><li><a href="category/components/psu" class="subnav_link">Power Supplies</a></li><li><a href="category/components/sound-cards" class="subnav_link">Sound Cards / Controllers</a></li><li><a href="category/components/video-capture" class="subnav_link">TV / Video Capture</a></li><li><a href="category/components/upgrade-kits" class="subnav_link">Upgrade Kits</a></li><li><a href="category/components/video-cards" class="subnav_link">Video Cards</a></li></ul></div></div><div class="table_cell subnav_group"><div class="subnav_group_list"><div class="subnav_group_header">Accessories</div><ul><li><a href="category/components/low-profile-brackets" class="subnav_link">Low Profile Brackets</a></li><li><a href="category/components/other-pc-accessories" class="subnav_link">Other PC Accessories</a></li><li><a href="category/components/case-accessories" class="subnav_link">PC Case Accessories</a></li></ul></div></div><div class="table_cell subnav_group"><div class="table_container submenu_2_group subnav_group_extra"><div class="table_row"><div class="table_cell"><div class="subnav_group_list"><ul><li><a href="search?sf=GIFPB" class="subnav_link">Gift Cards</a></li><li><a href="category/more/service" class="subnav_link">Service Parts</a></li></ul></div></div></div><div class="table_row"><div class="table_cell subnav_group_extra_ad"><a href="search?sf=GIFPB&amp;qr=banner_catmain_extra_15"><img src="imgad/aib/_pb-gift-card.png"></a></div></div></div></div></div></div></div></div></li><li class="table_row" data-submenu-id="submenu_10" data-submenu-divisions="4"><div class="table_cell main_nav_item"><a href="category/networking" class="table_container nav_item_link"><span class="table_cell"><i class="fa fa-wifi"></i> Networking</span></a><div id="submenu_10" class="main_nav_submenu subnav_content popover"><div class="table_container subnav"><div class="table_row"><div class="table_cell subnav_group"><ul class="table_container subnav_group_buttons submenu_10_group"><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/networking/modems" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160711155655_thumb_rsz_20160217103601_4320l-3.jpg" alt="Modems" height="60"></a><a href="category/networking/modems" class="subnav_link">Modems</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/networking/routers" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160711152656_thumb_rsz_20160217104432_dir-890l_a1_image-lfront_red.jpg" alt="Routers" height="60"></a><a href="category/networking/routers" class="subnav_link">Routers</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/networking/wi-fi-adapters" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20161004111200_thumb_NETAS0168__1.jpg" alt="Wi-Fi &amp; Bluetooth Adapters" height="60"></a><a href="category/networking/wi-fi-adapters" class="subnav_link">Wi-Fi &amp; Bluetooth Adapters</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/networking/wireless-extenders" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160219131454_thumb_range.jpg" alt="Wireless Range Extenders" height="60"></a><a href="category/networking/wireless-extenders" class="subnav_link">Wireless Range Extenders</a></span></li></ul></div><div class="table_cell subnav_group"><div class="subnav_group_list noScroll subnav_overflow"><ul><li><a href="category/networking/firewalls-security-appliances" class="subnav_link">Firewalls / Security Appliances</a></li><li><a href="category/networking/modems" class="subnav_link">Modems</a></li><li><a href="category/networking/nas" class="subnav_link">NAS Devices</a></li><li><a href="category/networking/network-cards" class="subnav_link">Network Cards (NIC)</a></li><li><a href="category/networking/powerline-networking" class="subnav_link">Powerline Networking</a></li><li><a href="category/networking/racks-cabinets" class="subnav_link">Racks &amp; Cabinets</a></li><li><a href="category/networking/routers" class="subnav_link">Routers</a></li><li><a href="category/networking/structured-cabling" class="subnav_link">Structured Cabling</a></li><li><a href="category/networking/switches" class="subnav_link">Switches</a></li><li><a href="category/networking/wi-fi-adapters" class="subnav_link">Wi-Fi &amp; Bluetooth Adapters</a></li><li><a href="category/networking/access-points" class="subnav_link">Wireless Access Points</a></li><li><a href="category/networking/wireless-extenders" class="subnav_link">Wireless Range Extenders</a></li></ul></div></div><div class="table_cell subnav_group"><div class="subnav_group_list"><div class="subnav_group_header">Accessories</div><ul><li><a href="category/networking/network-accessories" class="subnav_link">Networking Accessories</a></li></ul></div></div><div class="table_cell subnav_group"><div class="table_container submenu_10_group subnav_group_extra"><div class="table_row">                                                <a href="cisco-smb-it-solutions?qr=banner_networking_5849"><img src="imgad/aib/_Ciscosection_menu_003.jpg" width="197" height="507" alt=""></a>
                                            </div></div></div></div></div></div></div></li><li class="table_row" data-submenu-id="submenu_7" data-submenu-divisions="4"><div class="table_cell main_nav_item"><a href="category/consumables" class="table_container nav_item_link"><span class="table_cell"><i class="fa fa-print"></i> Printing &amp; Office</span></a><div id="submenu_7" class="main_nav_submenu subnav_content popover"><div class="table_container subnav"><div class="table_row"><div class="table_cell subnav_group"><ul class="table_container subnav_group_buttons submenu_7_group"><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/consumables/printers" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20110105162350_thumb_PTRBRT1197187.jpg" alt="Printers" height="60"></a><a href="category/consumables/printers" class="subnav_link">Printers</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/consumables/ink" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160711155236_thumb_rsz_20160330114423_printerink.jpg" alt="Printer Ink" height="60"></a><a href="category/consumables/ink" class="subnav_link">Printer Ink</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/consumables/printer-toner" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160330115346_thumb_toner.jpg" alt="Printer Toner" height="60"></a><a href="category/consumables/printer-toner" class="subnav_link">Printer Toner</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/consumables/discs" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160711160052_thumb_rsz_20160330115544_cd-dvd.jpg" alt="CD/DVD/Blu-ray Media" height="60"></a><a href="category/consumables/discs" class="subnav_link">CD/DVD/Blu-ray Media</a></span></li></ul></div><div class="table_cell subnav_group"><div class="subnav_group_list noScroll subnav_overflow"><div class="subnav_group_header">Printing</div><ul><li><a href="category/consumables/labels" class="subnav_link">Labels &amp; Receipt Paper</a></li><li><a href="category/consumables/printer-accessories" class="subnav_link">Printer Accessories</a></li><li><a href="category/consumables/ink" class="subnav_link">Printer Ink</a></li><li><a href="category/consumables/printer-paper" class="subnav_link">Printer Paper</a></li><li><a href="category/consumables/printer-toner" class="subnav_link">Printer Toner</a></li><li><a href="category/consumables/printers" class="subnav_link">Printers</a></li><li><a href="category/consumables/remanufactured-toner" class="subnav_link">Remanufactured Toner</a></li></ul></div></div><div class="table_cell subnav_group"><div class="subnav_group_list"><div class="subnav_group_header">Office Supplies</div><ul><li><a href="category/consumables/art-supplies" class="subnav_link">Art Supplies</a></li><li><a href="category/consumables/cafeteria-supplies" class="subnav_link">Cafeteria Supplies</a></li><li><a href="category/consumables/disc-cases" class="subnav_link">CD/DVD Cases</a></li><li><a href="category/consumables/discs" class="subnav_link">CD/DVD/Blu-ray Media</a></li><li><a href="category/consumables/cleaning-products" class="subnav_link">Cleaning Products</a></li><li><a href="category/consumables/filing-and-storage" class="subnav_link">Filing and Storage</a></li><li><a href="category/consumables/furniture" class="subnav_link">Furniture</a></li><li><a href="category/consumables/office-equipment" class="subnav_link">Office Machines</a></li><li><a href="category/consumables/stationery" class="subnav_link">Office Stationery</a></li><li><a href="category/consumables/postage-packaging" class="subnav_link">Postage &amp; Packaging</a></li><li><a href="category/consumables/writing-instruments" class="subnav_link">Writing Instruments</a></li><li><a href="category/consumables/writing-pads-books" class="subnav_link">Writing Pads &amp; Books</a></li></ul></div></div><div class="table_cell subnav_group"><div class="table_container submenu_7_group subnav_group_extra"><div class="table_row"><div class="table_cell"><div class="subnav_group_list"><ul><li><a href="search?sf=GIFPB" class="subnav_link">Gift Cards</a></li><li><a href="category/more/service" class="subnav_link">Service Parts</a></li><li><a href="csearch" class="subnav_link">Consumable Search</a></li></ul></div></div></div><div class="table_row"><div class="table_cell subnav_group_extra_ad"><a href="search?sf=GIFPB&amp;qr=banner_catmain_extra_15"><img src="imgad/aib/_pb-gift-card.png"></a></div></div></div></div></div></div></div></div></li><li class="table_row" data-submenu-id="submenu_11" data-submenu-divisions="4"><div class="table_cell main_nav_item"><a href="category/phones-gps" class="table_container nav_item_link"><span class="table_cell"><i class="fa fa-mobile-phone increase"></i> Phones &amp; GPS</span></a><div id="submenu_11" class="main_nav_submenu subnav_content popover"><div class="table_container subnav"><div class="table_row"><div class="table_cell subnav_group"><ul class="table_container subnav_group_buttons submenu_11_group"><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/phones-gps/smartphones" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20181218095919_thumb_Mobile_Phones.png" alt="Mobile Phones" height="60"></a><a href="category/phones-gps/smartphones" class="subnav_link">Mobile Phones</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/phones-gps/phone-cases" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160711151926_thumb_rsz_20150611170004_2.jpg" alt="Mobile Phone Cases" height="60"></a><a href="category/phones-gps/phone-cases" class="subnav_link">Mobile Phone Cases</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/phones-gps/smart-watches" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160711151222_thumb_rsz_20150610152756_motogen.jpg" alt="Smart Watches &amp; Wearables" height="60"></a><a href="category/phones-gps/smart-watches" class="subnav_link">Smart Watches &amp; Wearables</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/phones-gps/power-banks" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160711155808_thumb_rsz_20160711145712_20160316141612_baptpl0400__6.jpg" alt="Power Banks" height="60"></a><a href="category/phones-gps/power-banks" class="subnav_link">Power Banks</a></span></li></ul></div><div class="table_cell subnav_group"><div class="subnav_group_list noScroll subnav_overflow"><ul><li><a href="category/phones-gps/cordless-phones" class="subnav_link">Cordless &amp; Analogue Phones</a></li><li><a href="category/phones-gps/gps" class="subnav_link">GPS Devices</a></li><li><a href="category/phones-gps/smartphones" class="subnav_link">Mobile Phones</a></li><li><a href="category/phones-gps/smart-watches" class="subnav_link">Smart Watches &amp; Wearables</a></li><li><a href="category/phones-gps/ip-phones-gateways" class="subnav_link">VoIP &amp; Audio Conferencing</a></li></ul></div></div><div class="table_cell subnav_group"><div class="subnav_group_list"><div class="subnav_group_header">Accessories</div><ul><li><a href="category/phones-gps/gps-accessories" class="subnav_link">GPS Accessories</a></li><li><a href="category/phones-gps/phone-cases" class="subnav_link">Mobile Phone Cases</a></li><li><a href="category/phones-gps/phone-car-mounts" class="subnav_link">Mobile Phone Mounts</a></li><li><a href="category/phones-gps/phone-screen-protectors" class="subnav_link">Mobile Phone Screen Protectors</a></li><li><a href="category/phones-gps/other-phone-accessories" class="subnav_link">Other Mobile Phone Accessories</a></li><li><a href="category/phones-gps/power-banks" class="subnav_link">Power Banks</a></li><li><a href="category/phones-gps/car-chargers" class="subnav_link">USB Car Chargers</a></li><li><a href="category/phones-gps/voip-accessories" class="subnav_link">VOIP Accessories</a></li></ul></div></div><div class="table_cell subnav_group"><div class="table_container submenu_11_group subnav_group_extra"><div class="table_row">                                                <a href="search/filter/phones-gps/smartphones/android-phones?sf=SM-N96&amp;qr=banner_phones_gps_5850"><img src="imgad/aib/_note9_002.jpg" width="197" height="507" alt=""></a>
                                            </div></div></div></div></div></div></div></li><li class="table_row" data-submenu-id="submenu_12" data-submenu-divisions="4"><div class="table_cell main_nav_item"><a href="category/tv-av" class="table_container nav_item_link"><span class="table_cell"><i class="fa fa-tv"></i> TV, Video &amp; Audio</span></a><div id="submenu_12" class="main_nav_submenu subnav_content popover"><div class="table_container subnav"><div class="table_row"><div class="table_cell subnav_group"><ul class="table_container subnav_group_buttons submenu_12_group"><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/tv-av/tvs" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160711151640_thumb_rsz_20150711163017_tv.jpg" alt="Televisions" height="60"></a><a href="category/tv-av/tvs" class="subnav_link">Televisions</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/tv-av/headphones" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160711153951_thumb_rsz_20160216154216_hstsen4628__1.jpg" alt="Headphones &amp; Earphones" height="60"></a><a href="category/tv-av/headphones" class="subnav_link">Headphones &amp; Earphones</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/tv-av/speakers" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20161004110952_thumb_SPKCRE0550__2.jpg" alt="Speakers" height="60"></a><a href="category/tv-av/speakers" class="subnav_link">Speakers</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/tv-av/projectors" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20101116151858_thumb_project.jpg" alt="Projectors" height="60"></a><a href="category/tv-av/projectors" class="subnav_link">Projectors</a></span></li></ul></div><div class="table_cell subnav_group"><div class="subnav_group_list noScroll subnav_overflow"><ul><li><a href="category/tv-av/av-extenders" class="subnav_link">AV Extenders</a></li><li><a href="category/tv-av/media-players" class="subnav_link">AV Receivers &amp; Media Players</a></li><li><a href="category/tv-av/av-splitters" class="subnav_link">AV Splitters / Switches</a></li><li><a href="category/tv-av/digital-signage" class="subnav_link">Digital Signage</a></li><li><a href="category/tv-av/fm-transmitters" class="subnav_link">FM Transmitters</a></li><li><a href="category/tv-av/headphones" class="subnav_link">Headphones &amp; Earphones</a></li><li><a href="category/tv-av/pro-audio" class="subnav_link">Pro Audio &amp; Sound Recording</a></li><li><a href="category/tv-av/projectors" class="subnav_link">Projectors</a></li><li><a href="category/tv-av/speakers" class="subnav_link">Speakers</a></li><li><a href="category/tv-av/tvs" class="subnav_link">Televisions</a></li><li><a href="category/tv-av/universal-remotes" class="subnav_link">Universal Remotes</a></li></ul></div></div><div class="table_cell subnav_group"><div class="subnav_group_list"><div class="subnav_group_header">Accessories</div><ul><li><a href="category/tv-av/projector-accessories" class="subnav_link">Projector Accessories</a></li></ul></div></div><div class="table_cell subnav_group"><div class="table_container submenu_12_group subnav_group_extra"><div class="table_row">                                                <a href="brand/Samsung/tv?qr=banner_tv_video_audio_5856"><img src="imgad/aib/_Qled_TV_002.jpg" width="197" height="507" alt=""></a>
                                            </div></div></div></div></div></div></div></li><li class="table_row" data-submenu-id="submenu_16" data-submenu-divisions="4"><div class="table_cell main_nav_item"><a href="category/gaming" class="table_container nav_item_link"><span class="table_cell"><i class="fa fa-gamepad"></i> Gaming</span></a><div id="submenu_16" class="main_nav_submenu subnav_content popover"><div class="table_container subnav"><div class="table_row"><div class="table_cell subnav_group"><ul class="table_container subnav_group_buttons submenu_16_group"><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/gaming/gaming-laptops" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20181128145501_thumb_gaming laptop.png" alt="Gaming Laptops" height="60"></a><a href="category/gaming/gaming-laptops" class="subnav_link">Gaming Laptops</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/gaming/gaming-desktops" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20181019101827_thumb_Gaming_Desktops.jpg" alt="Gaming Desktops" height="60"></a><a href="category/gaming/gaming-desktops" class="subnav_link">Gaming Desktops</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/gaming/gaming-consoles" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160711153601_thumb_rsz_20160125122831_gamsny4500__3.jpg" alt="Game Consoles" height="60"></a><a href="category/gaming/gaming-consoles" class="subnav_link">Game Consoles</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/gaming/gaming-monitors" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20181127132543_thumb_gaming monitors.png" alt="Gaming Monitors" height="60"></a><a href="category/gaming/gaming-monitors" class="subnav_link">Gaming Monitors</a></span></li></ul></div><div class="table_cell subnav_group"><div class="subnav_group_list noScroll subnav_overflow"><ul><li><a href="category/gaming/gaming-consoles" class="subnav_link">Game Consoles</a></li><li><a href="category/gaming/games" class="subnav_link">Games</a></li><li><a href="category/gaming/gaming-desktops" class="subnav_link">Gaming Desktops</a></li><li><a href="category/gaming/gaming-furniture" class="subnav_link">Gaming Furniture</a></li><li><a href="category/gaming/gaming-headsets" class="subnav_link">Gaming Headsets</a></li><li><a href="category/gaming/gaming-keyboards" class="subnav_link">Gaming Keyboards</a></li><li><a href="category/gaming/gaming-laptops" class="subnav_link">Gaming Laptops</a></li><li><a href="category/gaming/gaming-mice" class="subnav_link">Gaming Mice</a></li><li><a href="category/gaming/gaming-monitors" class="subnav_link">Gaming Monitors</a></li><li><a href="category/gaming/virtual-reality" class="subnav_link">Virtual Reality</a></li></ul></div></div><div class="table_cell subnav_group"><div class="subnav_group_list"><div class="subnav_group_header">Accessories</div><ul><li><a href="category/gaming/console-accessories" class="subnav_link">Game Console Accessories</a></li><li><a href="category/gaming/game-controllers" class="subnav_link">Game Controllers</a></li><li><a href="category/gaming/gaming-mousepads" class="subnav_link">Gaming Mousepads</a></li></ul></div></div><div class="table_cell subnav_group"><div class="table_container submenu_16_group subnav_group_extra"><div class="table_row"><div class="table_cell"><div class="subnav_group_list"><ul><li><a href="search?sf=GIFPB" class="subnav_link">Gift Cards</a></li><li><a href="category/more/service" class="subnav_link">Service Parts</a></li></ul></div></div></div><div class="table_row"><div class="table_cell subnav_group_extra_ad"><a href="search?sf=GIFPB&amp;qr=banner_catmain_extra_15"><img src="imgad/aib/_pb-gift-card.png"></a></div></div></div></div></div></div></div></div></li><li class="table_row" data-submenu-id="submenu_13" data-submenu-divisions="4"><div class="table_cell main_nav_item"><a href="category/cameras" class="table_container nav_item_link"><span class="table_cell"><i class="fa fa-camera"></i> Cameras &amp; Drones</span></a><div id="submenu_13" class="main_nav_submenu subnav_content popover"><div class="table_container subnav"><div class="table_row"><div class="table_cell subnav_group"><ul class="table_container subnav_group_buttons submenu_13_group"><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/cameras/camcorders" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160711153157_thumb_rsz_20150713104829_camgpo0401__1.jpg" alt="Action Cams &amp; Camcorders" height="60"></a><a href="category/cameras/camcorders" class="subnav_link">Action Cams &amp; Camcorders</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/cameras/cameras" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160711153321_thumb_rsz_20150713104757_camnik5200i__1.jpg" alt="Cameras" height="60"></a><a href="category/cameras/cameras" class="subnav_link">Cameras</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/cameras/drones" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20161004111108_thumb_TOYDJI1103__1.jpg" alt="Aerial Imaging Drones" height="60"></a><a href="category/cameras/drones" class="subnav_link">Aerial Imaging Drones</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/cameras/security" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160711161559_thumb_rsz_20101116142251_cams.jpg" alt="CCTV &amp; Surveillance" height="60"></a><a href="category/cameras/security" class="subnav_link">CCTV &amp; Surveillance</a></span></li></ul></div><div class="table_cell subnav_group"><div class="subnav_group_list noScroll subnav_overflow"><ul><li><a href="category/cameras/camcorders" class="subnav_link">Action Cams &amp; Camcorders</a></li><li><a href="category/cameras/drones" class="subnav_link">Aerial Imaging Drones</a></li><li><a href="category/cameras/cameras" class="subnav_link">Cameras</a></li><li><a href="category/cameras/security" class="subnav_link">CCTV &amp; Surveillance</a></li></ul></div></div><div class="table_cell subnav_group"><div class="subnav_group_list"><div class="subnav_group_header">Accessories</div><ul><li><a href="category/cameras/camera-bags-and-cases" class="subnav_link">Camera Bags &amp; Cases</a></li><li><a href="category/cameras/camera-batteries-power" class="subnav_link">Camera Batteries &amp; Power</a></li><li><a href="category/cameras/drone-accessories" class="subnav_link">Drone Accessories</a></li><li><a href="category/cameras/camera-filters" class="subnav_link">Filters</a></li><li><a href="category/cameras/camera-lenses" class="subnav_link">Lenses</a></li><li><a href="category/cameras/camera-accessories" class="subnav_link">Other Camera Accessories</a></li><li><a href="category/cameras/tripods-monopods" class="subnav_link">Tripods &amp; Monopods</a></li></ul></div></div><div class="table_cell subnav_group"><div class="table_container submenu_13_group subnav_group_extra"><div class="table_row"><div class="table_cell"><div class="subnav_group_list"><ul><li><a href="search?sf=GIFPB" class="subnav_link">Gift Cards</a></li><li><a href="category/more/service" class="subnav_link">Service Parts</a></li></ul></div></div></div><div class="table_row"><div class="table_cell subnav_group_extra_ad"><a href="search?sf=GIFPB&amp;qr=banner_catmain_extra_15"><img src="imgad/aib/_pb-gift-card.png"></a></div></div></div></div></div></div></div></div></li><li class="table_row" data-submenu-id="submenu_5" data-submenu-divisions="3"><div class="table_cell main_nav_item"><a href="category/software" class="table_container nav_item_link"><span class="table_cell"><i class="fa fa-file"></i> Software</span></a><div id="submenu_5" class="main_nav_submenu subnav_content popover"><div class="table_container subnav"><div class="table_row"><div class="table_cell subnav_group"><ul class="table_container subnav_group_buttons submenu_5_group"><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/software/os" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160711152516_thumb_rsz_20150610154041_mswin81pup_windows_8_1_pro_pack_upgrade_medialess_.jpg" alt="Operating Systems" height="60"></a><a href="category/software/os" class="subnav_link">Operating Systems</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/software/office-suites" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160711153724_thumb_rsz_20150610154107_en-msnz_l_office_2013_365_home_6gq-00017_mnco.jpg" alt="Office Suites" height="60"></a><a href="category/software/office-suites" class="subnav_link">Office Suites</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/software/antivirus-security" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160711153434_thumb_rsz_20150713122441_anti.jpg" alt="Antivirus / Security" height="60"></a><a href="category/software/antivirus-security" class="subnav_link">Antivirus / Security</a></span></li></ul></div><div class="table_cell subnav_group"><div class="subnav_group_list noScroll subnav_overflow"><ul><li><a href="category/software/accounting-software" class="subnav_link">Accounting Software</a></li><li><a href="category/software/antivirus-security" class="subnav_link">Antivirus / Security</a></li><li><a href="category/software/graphics-software" class="subnav_link">Design / Graphics Software</a></li><li><a href="category/software/licences" class="subnav_link">Licences / Renewals</a></li><li><a href="category/software/office-suites" class="subnav_link">Office Suites</a></li><li><a href="category/software/os" class="subnav_link">Operating Systems</a></li><li><a href="category/software/other-software" class="subnav_link">Other Software</a></li></ul></div></div><div class="table_cell subnav_group"><div class="table_container submenu_5_group subnav_group_extra"><div class="table_row"><div class="table_cell"><div class="subnav_group_list"><ul><li><a href="search?sf=GIFPB" class="subnav_link">Gift Cards</a></li><li><a href="category/more/service" class="subnav_link">Service Parts</a></li></ul></div></div></div><div class="table_row"><div class="table_cell subnav_group_extra_ad"><a href="search?sf=GIFPB&amp;qr=banner_catmain_extra_15"><img src="imgad/aib/_pb-gift-card.png"></a></div></div></div></div></div></div></div></div></li><li class="table_row" data-submenu-id="submenu_14" data-submenu-divisions="4"><div class="table_cell main_nav_item"><a href="category/more" class="table_container nav_item_link"><span class="table_cell"><i class="fa fa-plus"></i> Toys &amp; More</span></a><div id="submenu_14" class="main_nav_submenu subnav_content popover"><div class="table_container subnav"><div class="table_row"><div class="table_cell subnav_group"><ul class="table_container subnav_group_buttons submenu_14_group"><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/more/toys" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160711155123_thumb_rsz_20140904104525_campar723023__1.jpg" alt="Toys, Hobbies &amp; STEM" height="60"></a><a href="category/more/toys" class="subnav_link">Toys, Hobbies &amp; STEM</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/more/led-lighting" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160711160916_thumb_rsz_20121120140036_bulled1001.jpg" alt="LED Lighting" height="60"></a><a href="category/more/led-lighting" class="subnav_link">LED Lighting</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/more/car-electronics" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160309093520_thumb_pl_lrd750nz.png" alt="Car Electronics" height="60"></a><a href="category/more/car-electronics" class="subnav_link">Car Electronics</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/more/service" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160408182504_thumb_SEVOEM5A782.jpg.large.jpg" alt="Service Parts" height="60"></a><a href="category/more/service" class="subnav_link">Service Parts</a></span></li></ul></div><div class="table_cell subnav_group"><div class="subnav_group_list noScroll subnav_overflow"><ul><li><a href="category/more/batteries-chargers" class="subnav_link">Batteries &amp; Chargers</a></li><li><a href="category/more/bulk-deals" class="subnav_link">Bulk Deals</a></li><li><a href="category/more/car-electronics" class="subnav_link">Car Electronics</a></li><li><a href="category/more/evoucher" class="subnav_link">Gift Cards / Vouchers</a></li><li><a href="category/more/health-fitness" class="subnav_link">Health, Fitness &amp; Outdoors</a></li><li><a href="category/more/home-appliances" class="subnav_link">Home Appliances</a></li><li><a href="category/more/homewares" class="subnav_link">Homewares</a></li><li><a href="category/more/led-lighting" class="subnav_link">LED Lighting</a></li><li><a href="category/more/point-of-sale" class="subnav_link">POS, Scanning &amp; Mobility</a></li><li><a href="category/more/service" class="subnav_link">Service Parts</a></li><li><a href="category/more/toys" class="subnav_link">Toys, Hobbies &amp; STEM</a></li><li><a href="category/more/warranty" class="subnav_link">Warranty Upgrades</a></li><li><a href="category/more/whiteware" class="subnav_link">Whiteware</a></li></ul></div></div><div class="table_cell subnav_group"><div class="subnav_group_list"><div class="subnav_group_header">Accessories</div><ul><li><a href="category/more/tools" class="subnav_link">Tools</a></li><li><a href="category/more/toy-accessories" class="subnav_link">Toy Accessories     </a></li></ul></div></div><div class="table_cell subnav_group"><div class="table_container submenu_14_group subnav_group_extra"><div class="table_row">                                                <a href="stem?qr=banner_more_5858"><img src="imgad/aib/_stem_003.png" width="197" height="507" alt=""></a>
                                            </div></div></div></div></div></div></div></li><li class="table_row" data-submenu-id="submenu_apple" data-submenu-divisions="2"><div class="table_cell main_nav_item"><a href="category/apple" class="table_container nav_item_link"><span class="table_cell"><i class="fa fa-apple"></i> Apple</span></a><div id="submenu_apple" class="main_nav_submenu subnav_content popover"><div class="table_container subnav"><div class="table_row"><div class="table_cell subnav_group"><ul class="table_container subnav_group_buttons submenu_apple_group"><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/apple/mac" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20160318095002_mac-2.png" alt="Mac" height="60"></a><a href="category/apple/mac" class="subnav_link">Mac</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/apple/iphone" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20180918144400_iphone-200x150_Ms-Max.png" alt="iPhone" height="60"></a><a href="category/apple/iphone" class="subnav_link">iPhone</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/apple/ipad" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20180919090816_ipad-ipadpro.png" alt="iPad" height="60"></a><a href="category/apple/ipad" class="subnav_link">iPad</a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="category/apple/accessories" class="subnav_link"><img src="https://www.pbtech.co.nz/imgprod/20180919092458_airpods-apple-brand.png" alt="Accessories" height="60"></a><a href="category/apple/accessories" class="subnav_link">Accessories</a></span></li></ul></div><div class="table_cell subnav_group"><div class="subnav_group_list"><ul><li><a href="category/apple/mac" class="subnav_link">Mac</a></li><li><a href="category/apple/iphone" class="subnav_link">iPhone</a></li><li><a href="category/apple/ipad" class="subnav_link">iPad</a></li><li><a href="category/apple/ipod" class="subnav_link">iPod</a></li><li><a href="category/apple/apple-tv" class="subnav_link">Apple TV</a></li><li><a href="category/apple/apple-watch" class="subnav_link">Apple Watch</a></li><li><a href="category/apple/accessories" class="subnav_link">Accessories</a></li></ul></div></div></div></div></div></div></li><li class="table_row" data-submenu-id="submenu_brand" data-submenu-divisions="4"><div class="table_cell main_nav_item"><a href="brands" class="table_container nav_item_link"><span class="table_cell"><i class="fa fa-tag"></i> Shop By Brand</span></a><div id="submenu_brand" class="main_nav_submenu subnav_content popover"><div class="table_container subnav"><div class="table_row"><div class="table_cell subnav_group"><ul class="table_container subnav_group_buttons submenu_brand_group"><li class="table_row"><span class="table_cell subnav_cat_button"><a href="brand/Samsung?qr=samsung-brand-page" class="subnav_link"><img src="imglib/brands/Samsung.png" alt="Samsung" height="60"></a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="brand/Microsoft?qr=topmenu_brand_banner" class="subnav_link"><img src="imglib/brands/microsoft.png" alt="Microsoft" height="60"></a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="brand/HP?qr=topmenu_brand_banner" class="subnav_link"><img src="imglib/brands/hp.png" alt="HP" height="60"></a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="brand/Apple?qr=topmenu_brand_banner" class="subnav_link"><img src="imglib/brands/200x80.jpg" alt="Apple" height="60"></a></span></li></ul></div><div class="table_cell subnav_group"><ul class="table_container subnav_group_buttons submenu_brand_group"><li class="table_row"><span class="table_cell subnav_cat_button"><a href="brand/ASUS?qr=topmenu_brand_banner" class="subnav_link"><img src="imglib/brands/asus.png" alt="ASUS" height="60"></a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="brand/LG?qr=topmenu_brand_banner" class="subnav_link"><img src="imglib/brands/LG new.png" alt="LG" height="60"></a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="brand/Gigabyte?qr=topmenu_brand_banner" class="subnav_link"><img src="imglib/brands/gigabyte.png" alt="Gigabyte" height="60"></a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="nvidia?qr=topmenu_brand_banner" class="subnav_link"><img src="imglib/Nvidia.png" alt="NVIDIA" height="60"></a></span></li></ul></div><div class="table_cell subnav_group"><ul class="table_container subnav_group_buttons submenu_brand_group"><li class="table_row"><span class="table_cell subnav_cat_button"><a href="brand/Logitech?qr=topmenu_brand_banner" class="subnav_link"><img src="imglib/brands/logitech.jpg" alt="Logitech" height="60"></a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="brand/Xiaomi?qr=topmenu_brand_banner" class="subnav_link"><img src="imglib/brands/Mi2.png" alt="Xiaomi" height="60"></a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="brand/Crucial?qr=topmenu_brand_banner" class="subnav_link"><img src="imglib/brands/crucial.png" alt="Crucial" height="60"></a></span></li><li class="table_row"><span class="table_cell subnav_cat_button"><a href="brand/Philips?qr=topmenu_brand_banner" class="subnav_link"><img src="imglib/brands/philips.png" alt="Philips" height="60"></a></span></li></ul></div><div class="table_cell subnav_group"><div id="shopByBrandSearch"><div class="subnav_group_list"><input class="search subnav_brandstyle" placeholder="Search by brand"></div><div class="subnav_group_list"><ul class="list noScroll subnav_overflow2"><li><a href="brand/2degrees" class="subnav_link brand">2degrees</a></li><li><a href="brand/2kGames" class="subnav_link brand">2kGames</a></li><li><a href="brand/3D Printing Systems" class="subnav_link brand">3D Printing Systems</a></li><li><a href="brand/3L" class="subnav_link brand">3L</a></li><li><a href="brand/3M" class="subnav_link brand">3M</a></li><li><a href="brand/3SIXT" class="subnav_link brand">3SIXT</a></li><li><a href="brand/8Ware" class="subnav_link brand">8Ware</a></li><li><a href="brand/A4Tech" class="subnav_link brand">A4Tech</a></li><li><a href="brand/Aavara" class="subnav_link brand">Aavara</a></li><li><a href="brand/AcBel" class="subnav_link brand">AcBel</a></li><li><a href="brand/Accent Audio" class="subnav_link brand">Accent Audio</a></li><li><a href="brand/Acer" class="subnav_link brand">Acer</a></li><li><a href="brand/Acronis" class="subnav_link brand">Acronis</a></li><li><a href="brand/ACTI" class="subnav_link brand">ACTI</a></li><li><a href="brand/Actiontec" class="subnav_link brand">Actiontec</a></li><li><a href="brand/Activision" class="subnav_link brand">Activision</a></li><li><a href="brand/ADATA" class="subnav_link brand">ADATA</a></li><li><a href="brand/Addcom" class="subnav_link brand">Addcom</a></li><li><a href="brand/Adesso" class="subnav_link brand">Adesso</a></li><li><a href="brand/Adobe" class="subnav_link brand">Adobe</a></li><li><a href="brand/Adonit" class="subnav_link brand">Adonit</a></li><li><a href="brand/AdvanPOS" class="subnav_link brand">AdvanPOS</a></li><li><a href="brand/Aerocool" class="subnav_link brand">Aerocool</a></li><li><a href="brand/AEROHIVE" class="subnav_link brand">AEROHIVE</a></li><li><a href="brand/AF" class="subnav_link brand">AF</a></li><li><a href="brand/Airlive" class="subnav_link brand">Airlive</a></li><li><a href="brand/Alcatel" class="subnav_link brand">Alcatel</a></li><li><a href="brand/Allied Telesis" class="subnav_link brand">Allied Telesis</a></li><li><a href="brand/ALLOCACOC" class="subnav_link brand">ALLOCACOC</a></li><li><a href="brand/Alogic" class="subnav_link brand">Alogic</a></li><li><a href="brand/ALT" class="subnav_link brand">ALT</a></li><li><a href="brand/Altec Lansing" class="subnav_link brand">Altec Lansing</a></li><li><a href="brand/Amacrox" class="subnav_link brand">Amacrox</a></li><li><a href="brand/AMAZON" class="subnav_link brand">AMAZON</a></li><li><a href="brand/AMD" class="subnav_link brand">AMD</a></li><li><a href="brand/AMDEX" class="subnav_link brand">AMDEX</a></li><li><a href="brand/ANKI" class="subnav_link brand">ANKI</a></li><li><a href="brand/Antaira" class="subnav_link brand">Antaira</a></li><li><a href="brand/Antec" class="subnav_link brand">Antec</a></li><li><a href="brand/AOC" class="subnav_link brand">AOC</a></li><li><a href="brand/Apacer" class="subnav_link brand">Apacer</a></li><li><a href="brand/APC" class="subnav_link brand">APC</a></li><li><a href="brand/Apple" class="subnav_link brand">Apple</a></li><li><a href="brand/Arckit" class="subnav_link brand">Arckit</a></li><li><a href="brand/Arctic" class="subnav_link brand">Arctic</a></li><li><a href="brand/Arlo" class="subnav_link brand">Arlo</a></li><li><a href="brand/Aruba" class="subnav_link brand">Aruba</a></li><li><a href="brand/Aspen Optics" class="subnav_link brand">Aspen Optics</a></li><li><a href="brand/ASRock" class="subnav_link brand">ASRock</a></li><li><a href="brand/Astro" class="subnav_link brand">Astro</a></li><li><a href="brand/ASUS" class="subnav_link brand">ASUS</a></li><li><a href="brand/Asustor" class="subnav_link brand">Asustor</a></li><li><a href="brand/atdec" class="subnav_link brand">atdec</a></li><li><a href="brand/Aten" class="subnav_link brand">Aten</a></li><li><a href="brand/ATpixel" class="subnav_link brand">ATpixel</a></li><li><a href="brand/Audio-Technica" class="subnav_link brand">Audio-Technica</a></li><li><a href="brand/AudioCodes" class="subnav_link brand">AudioCodes</a></li><li><a href="brand/Aurora" class="subnav_link brand">Aurora</a></li><li><a href="brand/Autodesk" class="subnav_link brand">Autodesk</a></li><li><a href="brand/AVAYA" class="subnav_link brand">AVAYA</a></li><li><a href="brand/AverMedia" class="subnav_link brand">AverMedia</a></li><li><a href="brand/AVERY" class="subnav_link brand">AVERY</a></li><li><a href="brand/AVID" class="subnav_link brand">AVID</a></li><li><a href="brand/Avision" class="subnav_link brand">Avision</a></li><li><a href="brand/AVS" class="subnav_link brand">AVS</a></li><li><a href="brand/AVTECH" class="subnav_link brand">AVTECH</a></li><li><a href="brand/Barco" class="subnav_link brand">Barco</a></li><li><a href="brand/Barrow" class="subnav_link brand">Barrow</a></li><li><a href="brand/Beats" class="subnav_link brand">Beats</a></li><li><a href="brand/Bee-Bot" class="subnav_link brand">Bee-Bot</a></li><li><a href="brand/Belkin" class="subnav_link brand">Belkin</a></li><li><a href="brand/benks" class="subnav_link brand">benks</a></li><li><a href="brand/BenQ" class="subnav_link brand">BenQ</a></li><li><a href="brand/Bitfenix" class="subnav_link brand">Bitfenix</a></li><li><a href="brand/BlackBerry" class="subnav_link brand">BlackBerry</a></li><li><a href="brand/BLUE" class="subnav_link brand">BLUE</a></li><li><a href="brand/BlueLounge" class="subnav_link brand">BlueLounge</a></li><li><a href="brand/Bose" class="subnav_link brand">Bose</a></li><li><a href="brand/BOUNCEPAD" class="subnav_link brand">BOUNCEPAD</a></li><li><a href="brand/Brateck" class="subnav_link brand">Brateck</a></li><li><a href="brand/BravoPro" class="subnav_link brand">BravoPro</a></li><li><a href="brand/Brenton" class="subnav_link brand">Brenton</a></li><li><a href="brand/Brinno" class="subnav_link brand">Brinno</a></li><li><a href="brand/Brother" class="subnav_link brand">Brother</a></li><li><a href="brand/BRYDGE" class="subnav_link brand">BRYDGE</a></li><li><a href="brand/Bullguard" class="subnav_link brand">Bullguard</a></li><li><a href="brand/Calibor" class="subnav_link brand">Calibor</a></li><li><a href="brand/Cambium Networks" class="subnav_link brand">Cambium Networks</a></li><li><a href="brand/Canon" class="subnav_link brand">Canon</a></li><li><a href="brand/Carelink" class="subnav_link brand">Carelink</a></li><li><a href="brand/Case Logic" class="subnav_link brand">Case Logic</a></li><li><a href="brand/Casemate" class="subnav_link brand">Casemate</a></li><li><a href="brand/Casio" class="subnav_link brand">Casio</a></li><li><a href="brand/CAT" class="subnav_link brand">CAT</a></li><li><a href="brand/Catalyst" class="subnav_link brand">Catalyst</a></li><li><a href="brand/Cellnet" class="subnav_link brand">Cellnet</a></li><li><a href="brand/Celluon" class="subnav_link brand">Celluon</a></li><li><a href="brand/Chenbro" class="subnav_link brand">Chenbro</a></li><li><a href="brand/Chief" class="subnav_link brand">Chief</a></li><li><a href="brand/Chyangfun" class="subnav_link brand">Chyangfun</a></li><li><a href="brand/Cino" class="subnav_link brand">Cino</a></li><li><a href="brand/CIPHERLAB" class="subnav_link brand">CIPHERLAB</a></li><li><a href="brand/Circuit Scribe" class="subnav_link brand">Circuit Scribe</a></li><li><a href="brand/Cisco" class="subnav_link brand">Cisco</a></li><li><a href="brand/Citizen" class="subnav_link brand">Citizen</a></li><li><a href="brand/Clippie" class="subnav_link brand">Clippie</a></li><li><a href="brand/COGNITIVE" class="subnav_link brand">COGNITIVE</a></li><li><a href="brand/Collins" class="subnav_link brand">Collins</a></li><li><a href="brand/COLOP" class="subnav_link brand">COLOP</a></li><li><a href="brand/Colour Pack" class="subnav_link brand">Colour Pack</a></li><li><a href="brand/Contour Design" class="subnav_link brand">Contour Design</a></li><li><a href="brand/Cooler Master" class="subnav_link brand">Cooler Master</a></li><li><a href="brand/Corel" class="subnav_link brand">Corel</a></li><li><a href="brand/Corsair" class="subnav_link brand">Corsair</a></li><li><a href="brand/Cotek" class="subnav_link brand">Cotek</a></li><li><a href="brand/Creative" class="subnav_link brand">Creative</a></li><li><a href="brand/Croxley" class="subnav_link brand">Croxley</a></li><li><a href="brand/CRS" class="subnav_link brand">CRS</a></li><li><a href="brand/Crucial" class="subnav_link brand">Crucial</a></li><li><a href="brand/CTEK" class="subnav_link brand">CTEK</a></li><li><a href="brand/CyberPower" class="subnav_link brand">CyberPower</a></li><li><a href="brand/Cygnett" class="subnav_link brand">Cygnett</a></li><li><a href="brand/CYP" class="subnav_link brand">CYP</a></li><li><a href="brand/D-Link" class="subnav_link brand">D-Link</a></li><li><a href="brand/Datalogic" class="subnav_link brand">Datalogic</a></li><li><a href="brand/DEEPCOOL" class="subnav_link brand">DEEPCOOL</a></li><li><a href="brand/DELI" class="subnav_link brand">DELI</a></li><li><a href="brand/Dell" class="subnav_link brand">Dell</a></li><li><a href="brand/Delta" class="subnav_link brand">Delta</a></li><li><a href="brand/Denso" class="subnav_link brand">Denso</a></li><li><a href="brand/Dicota" class="subnav_link brand">Dicota</a></li><li><a href="brand/Digi" class="subnav_link brand">Digi</a></li><li><a href="brand/Digitus" class="subnav_link brand">Digitus</a></li><li><a href="brand/DJI" class="subnav_link brand">DJI</a></li><li><a href="brand/DrayTek" class="subnav_link brand">DrayTek</a></li><li><a href="brand/Drobo" class="subnav_link brand">Drobo</a></li><li><a href="brand/DXRacer" class="subnav_link brand">DXRacer</a></li><li><a href="brand/Dymo" class="subnav_link brand">Dymo</a></li><li><a href="brand/Dynamix" class="subnav_link brand">Dynamix</a></li><li><a href="brand/E-Blue" class="subnav_link brand">E-Blue</a></li><li><a href="brand/Eaton" class="subnav_link brand">Eaton</a></li><li><a href="brand/Edgecore" class="subnav_link brand">Edgecore</a></li><li><a href="brand/Edifier" class="subnav_link brand">Edifier</a></li><li><a href="brand/Edimax" class="subnav_link brand">Edimax</a></li><li><a href="brand/Edison" class="subnav_link brand">Edison</a></li><li><a href="brand/ednet" class="subnav_link brand">ednet</a></li><li><a href="brand/EKWB" class="subnav_link brand">EKWB</a></li><li><a href="brand/Elgato" class="subnav_link brand">Elgato</a></li><li><a href="brand/Elite" class="subnav_link brand">Elite</a></li><li><a href="brand/Emerson" class="subnav_link brand">Emerson</a></li><li><a href="brand/ENERGETIC" class="subnav_link brand">ENERGETIC</a></li><li><a href="brand/Energizer" class="subnav_link brand">Energizer</a></li><li><a href="brand/Enermax" class="subnav_link brand">Enermax</a></li><li><a href="brand/EnGenius" class="subnav_link brand">EnGenius</a></li><li><a href="brand/Epson" class="subnav_link brand">Epson</a></li><li><a href="brand/Ergorest" class="subnav_link brand">Ergorest</a></li><li><a href="brand/Ergotron" class="subnav_link brand">Ergotron</a></li><li><a href="brand/ESET" class="subnav_link brand">ESET</a></li><li><a href="brand/Everki" class="subnav_link brand">Everki</a></li><li><a href="brand/EVGA" class="subnav_link brand">EVGA</a></li><li><a href="brand/Evocept" class="subnav_link brand">Evocept</a></li><li><a href="brand/Evoko" class="subnav_link brand">Evoko</a></li><li><a href="brand/EVOLIS" class="subnav_link brand">EVOLIS</a></li><li><a href="brand/Evoluent" class="subnav_link brand">Evoluent</a></li><li><a href="brand/Ezviz" class="subnav_link brand">Ezviz</a></li><li><a href="brand/FEC" class="subnav_link brand">FEC</a></li><li><a href="brand/Fellowes" class="subnav_link brand">Fellowes</a></li><li><a href="brand/Fitbit" class="subnav_link brand">Fitbit</a></li><li><a href="brand/FortiGate" class="subnav_link brand">FortiGate</a></li><li><a href="brand/Fortinet" class="subnav_link brand">Fortinet</a></li><li><a href="brand/FRACTAL DESIGN" class="subnav_link brand">FRACTAL DESIGN</a></li><li><a href="brand/FRITZ!Box" class="subnav_link brand">FRITZ!Box</a></li><li><a href="brand/FSP" class="subnav_link brand">FSP</a></li><li><a href="brand/FujiFilm" class="subnav_link brand">FujiFilm</a></li><li><a href="brand/Fujitsu" class="subnav_link brand">Fujitsu</a></li><li><a href="brand/G.SKILL" class="subnav_link brand">G.SKILL</a></li><li><a href="brand/Gateway" class="subnav_link brand">Gateway</a></li><li><a href="brand/Gefen" class="subnav_link brand">Gefen</a></li><li><a href="brand/Genius" class="subnav_link brand">Genius</a></li><li><a href="brand/GGPC" class="subnav_link brand">GGPC</a></li><li><a href="brand/Gigabyte" class="subnav_link brand">Gigabyte</a></li><li><a href="brand/GlobalSat" class="subnav_link brand">GlobalSat</a></li><li><a href="brand/GLOBCOMM" class="subnav_link brand">GLOBCOMM</a></li><li><a href="brand/Globe" class="subnav_link brand">Globe</a></li><li><a href="brand/Golla" class="subnav_link brand">Golla</a></li><li><a href="brand/Google" class="subnav_link brand">Google</a></li><li><a href="brand/GoPro" class="subnav_link brand">GoPro</a></li><li><a href="brand/Grandstream" class="subnav_link brand">Grandstream</a></li><li><a href="brand/Green Book" class="subnav_link brand">Green Book</a></li><li><a href="brand/Green Onions" class="subnav_link brand">Green Onions</a></li><li><a href="brand/Griffin" class="subnav_link brand">Griffin</a></li><li><a href="brand/Gumdrop" class="subnav_link brand">Gumdrop</a></li><li><a href="brand/HANLONG" class="subnav_link brand">HANLONG</a></li><li><a href="brand/Harman Kardon" class="subnav_link brand">Harman Kardon</a></li><li><a href="brand/Hauppauge" class="subnav_link brand">Hauppauge</a></li><li><a href="brand/HIKVISION" class="subnav_link brand">HIKVISION</a></li><li><a href="brand/HiLook" class="subnav_link brand">HiLook</a></li><li><a href="brand/Hitachi" class="subnav_link brand">Hitachi</a></li><li><a href="brand/Hiwatch" class="subnav_link brand">Hiwatch</a></li><li><a href="brand/Honeywell" class="subnav_link brand">Honeywell</a></li><li><a href="brand/HP" class="subnav_link brand">HP</a></li><li><a href="brand/HPE" class="subnav_link brand">HPE</a></li><li><a href="brand/HTC" class="subnav_link brand">HTC</a></li><li><a href="brand/Huawei" class="subnav_link brand">Huawei</a></li><li><a href="brand/Huion" class="subnav_link brand">Huion</a></li><li><a href="brand/Huntkey" class="subnav_link brand">Huntkey</a></li><li><a href="brand/HyperLink" class="subnav_link brand">HyperLink</a></li><li><a href="brand/iBASE" class="subnav_link brand">iBASE</a></li><li><a href="brand/IBM" class="subnav_link brand">IBM</a></li><li><a href="brand/iHealth" class="subnav_link brand">iHealth</a></li><li><a href="brand/IK Multimedia" class="subnav_link brand">IK Multimedia</a></li><li><a href="brand/iLuv" class="subnav_link brand">iLuv</a></li><li><a href="brand/Image Access" class="subnav_link brand">Image Access</a></li><li><a href="brand/Imatech" class="subnav_link brand">Imatech</a></li><li><a href="brand/INCIPIO" class="subnav_link brand">INCIPIO</a></li><li><a href="brand/Infinity" class="subnav_link brand">Infinity</a></li><li><a href="brand/Intel" class="subnav_link brand">Intel</a></li><li><a href="brand/Intermec" class="subnav_link brand">Intermec</a></li><li><a href="brand/Inwin" class="subnav_link brand">Inwin</a></li><li><a href="brand/J5create" class="subnav_link brand">J5create</a></li><li><a href="brand/Jabra" class="subnav_link brand">Jabra</a></li><li><a href="brand/Jackson" class="subnav_link brand">Jackson</a></li><li><a href="brand/Javelin" class="subnav_link brand">Javelin</a></li><li><a href="brand/Jaybird" class="subnav_link brand">Jaybird</a></li><li><a href="brand/JBL" class="subnav_link brand">JBL</a></li><li><a href="brand/JTS" class="subnav_link brand">JTS</a></li><li><a href="brand/Juniper" class="subnav_link brand">Juniper</a></li><li><a href="brand/Kaiser Baas" class="subnav_link brand">Kaiser Baas</a></li><li><a href="brand/Kanex" class="subnav_link brand">Kanex</a></li><li><a href="brand/Kaspersky" class="subnav_link brand">Kaspersky</a></li><li><a href="brand/KEF" class="subnav_link brand">KEF</a></li><li><a href="brand/Kensington" class="subnav_link brand">Kensington</a></li><li><a href="brand/KeyOvation" class="subnav_link brand">KeyOvation</a></li><li><a href="brand/Kindle" class="subnav_link brand">Kindle</a></li><li><a href="brand/Kingston" class="subnav_link brand">Kingston</a></li><li><a href="brand/KOBO" class="subnav_link brand">KOBO</a></li><li><a href="brand/Kodak" class="subnav_link brand">Kodak</a></li><li><a href="brand/Konftel" class="subnav_link brand">Konftel</a></li><li><a href="brand/Kramer" class="subnav_link brand">Kramer</a></li><li><a href="brand/KW-triO" class="subnav_link brand">KW-triO</a></li><li><a href="brand/Kyocera" class="subnav_link brand">Kyocera</a></li><li><a href="brand/Lacie" class="subnav_link brand">Lacie</a></li><li><a href="brand/Lamptron" class="subnav_link brand">Lamptron</a></li><li><a href="brand/Lascar" class="subnav_link brand">Lascar</a></li><li><a href="brand/Laser" class="subnav_link brand">Laser</a></li><li><a href="brand/Lead Crystal" class="subnav_link brand">Lead Crystal</a></li><li><a href="brand/Leadtek" class="subnav_link brand">Leadtek</a></li><li><a href="brand/LEDWARE" class="subnav_link brand">LEDWARE</a></li><li><a href="brand/Leica" class="subnav_link brand">Leica</a></li><li><a href="brand/Lenovo" class="subnav_link brand">Lenovo</a></li><li><a href="brand/LevelOne" class="subnav_link brand">LevelOne</a></li><li><a href="brand/Lexmark" class="subnav_link brand">Lexmark</a></li><li><a href="brand/LG" class="subnav_link brand">LG</a></li><li><a href="brand/Liebert" class="subnav_link brand">Liebert</a></li><li><a href="brand/Lifeproof" class="subnav_link brand">Lifeproof</a></li><li><a href="brand/LinkBasic" class="subnav_link brand">LinkBasic</a></li><li><a href="brand/Linksys" class="subnav_link brand">Linksys</a></li><li><a href="brand/LittleBits" class="subnav_link brand">LittleBits</a></li><li><a href="brand/Loctek" class="subnav_link brand">Loctek</a></li><li><a href="brand/Logitech" class="subnav_link brand">Logitech</a></li><li><a href="brand/Lowepro" class="subnav_link brand">Lowepro</a></li><li><a href="brand/Luckysky" class="subnav_link brand">Luckysky</a></li><li><a href="brand/Lumiaudio" class="subnav_link brand">Lumiaudio</a></li><li><a href="brand/Lyra" class="subnav_link brand">Lyra</a></li><li><a href="brand/M-Audio" class="subnav_link brand">M-Audio</a></li><li><a href="brand/Maclocks" class="subnav_link brand">Maclocks</a></li><li><a href="brand/Mad Catz" class="subnav_link brand">Mad Catz</a></li><li><a href="brand/Makeblock" class="subnav_link brand">Makeblock</a></li><li><a href="brand/Makey Makey" class="subnav_link brand">Makey Makey</a></li><li><a href="brand/Maktar" class="subnav_link brand">Maktar</a></li><li><a href="brand/ManageEngine" class="subnav_link brand">ManageEngine</a></li><li><a href="brand/Manfrotto" class="subnav_link brand">Manfrotto</a></li><li><a href="brand/Marbotic" class="subnav_link brand">Marbotic</a></li><li><a href="brand/Maroo" class="subnav_link brand">Maroo</a></li><li><a href="brand/Mars Antennas" class="subnav_link brand">Mars Antennas</a></li><li><a href="brand/Maxlife" class="subnav_link brand">Maxlife</a></li><li><a href="brand/Mayhems" class="subnav_link brand">Mayhems</a></li><li><a href="brand/mbeat" class="subnav_link brand">mbeat</a></li><li><a href="brand/Meccano" class="subnav_link brand">Meccano</a></li><li><a href="brand/Mee Audio" class="subnav_link brand">Mee Audio</a></li><li><a href="brand/MEIZU" class="subnav_link brand">MEIZU</a></li><li><a href="brand/Mellanox" class="subnav_link brand">Mellanox</a></li><li><a href="brand/Metro" class="subnav_link brand">Metro</a></li><li><a href="brand/MICRO:BIT" class="subnav_link brand">MICRO:BIT</a></li><li><a href="brand/MICRON" class="subnav_link brand">MICRON</a></li><li><a href="brand/Microsemi Adaptec" class="subnav_link brand">Microsemi Adaptec</a></li><li><a href="brand/Microsoft" class="subnav_link brand">Microsoft</a></li><li><a href="brand/Microtek" class="subnav_link brand">Microtek</a></li><li><a href="brand/MikroTik" class="subnav_link brand">MikroTik</a></li><li><a href="brand/Mionix" class="subnav_link brand">Mionix</a></li><li><a href="brand/Moki" class="subnav_link brand">Moki</a></li><li><a href="brand/Momax" class="subnav_link brand">Momax</a></li><li><a href="brand/Monteverde Pens" class="subnav_link brand">Monteverde Pens</a></li><li><a href="brand/Mophie" class="subnav_link brand">Mophie</a></li><li><a href="brand/Morex" class="subnav_link brand">Morex</a></li><li><a href="brand/Moshi" class="subnav_link brand">Moshi</a></li><li><a href="brand/Motion" class="subnav_link brand">Motion</a></li><li><a href="brand/Motorola" class="subnav_link brand">Motorola</a></li><li><a href="brand/MSI" class="subnav_link brand">MSI</a></li><li><a href="brand/Nationstar" class="subnav_link brand">Nationstar</a></li><li><a href="brand/NEC" class="subnav_link brand">NEC</a></li><li><a href="brand/Nero" class="subnav_link brand">Nero</a></li><li><a href="brand/Nest" class="subnav_link brand">Nest</a></li><li><a href="brand/NETATMO" class="subnav_link brand">NETATMO</a></li><li><a href="brand/Netcomm" class="subnav_link brand">Netcomm</a></li><li><a href="brand/Netgear" class="subnav_link brand">Netgear</a></li><li><a href="brand/Netsys" class="subnav_link brand">Netsys</a></li><li><a href="brand/Neway" class="subnav_link brand">Neway</a></li><li><a href="brand/Newline" class="subnav_link brand">Newline</a></li><li><a href="brand/Nikon" class="subnav_link brand">Nikon</a></li><li><a href="brand/Nillkin" class="subnav_link brand">Nillkin</a></li><li><a href="brand/Nintendo" class="subnav_link brand">Nintendo</a></li><li><a href="brand/NISSIN" class="subnav_link brand">NISSIN</a></li><li><a href="brand/Nitecore" class="subnav_link brand">Nitecore</a></li><li><a href="brand/NoBrand" class="subnav_link brand">NoBrand</a></li><li><a href="brand/Nokia" class="subnav_link brand">Nokia</a></li><li><a href="brand/Noontec" class="subnav_link brand">Noontec</a></li><li><a href="brand/Nuance" class="subnav_link brand">Nuance</a></li><li><a href="brand/NVIDIA" class="subnav_link brand">NVIDIA</a></li><li><a href="brand/NVS" class="subnav_link brand">NVS</a></li><li><a href="brand/Nyko" class="subnav_link brand">Nyko</a></li><li><a href="brand/NZXT" class="subnav_link brand">NZXT</a></li><li><a href="brand/Ocean Signal" class="subnav_link brand">Ocean Signal</a></li><li><a href="brand/Oki" class="subnav_link brand">Oki</a></li><li><a href="brand/OLFA" class="subnav_link brand">OLFA</a></li><li><a href="brand/OMP" class="subnav_link brand">OMP</a></li><li><a href="brand/OnePlus" class="subnav_link brand">OnePlus</a></li><li><a href="brand/Onkyo" class="subnav_link brand">Onkyo</a></li><li><a href="brand/OPPO" class="subnav_link brand">OPPO</a></li><li><a href="brand/Orico" class="subnav_link brand">Orico</a></li><li><a href="brand/OSMO" class="subnav_link brand">OSMO</a></li><li><a href="brand/OtterBox" class="subnav_link brand">OtterBox</a></li><li><a href="brand/OWC" class="subnav_link brand">OWC</a></li><li><a href="brand/Ozobot" class="subnav_link brand">Ozobot</a></li><li><a href="brand/Panasonic" class="subnav_link brand">Panasonic</a></li><li><a href="brand/Parallels" class="subnav_link brand">Parallels</a></li><li><a href="brand/Parrot" class="subnav_link brand">Parrot</a></li><li><a href="brand/Patton" class="subnav_link brand">Patton</a></li><li><a href="brand/PB" class="subnav_link brand">PB</a></li><li><a href="brand/PBNZ" class="subnav_link brand">PBNZ</a></li><li><a href="brand/PC Locs" class="subnav_link brand">PC Locs</a></li><li><a href="brand/Perle" class="subnav_link brand">Perle</a></li><li><a href="brand/PGYTech" class="subnav_link brand">PGYTech</a></li><li><a href="brand/Phanteks" class="subnav_link brand">Phanteks</a></li><li><a href="brand/Philips" class="subnav_link brand">Philips</a></li><li><a href="brand/Pinnacle" class="subnav_link brand">Pinnacle</a></li><li><a href="brand/Pisen" class="subnav_link brand">Pisen</a></li><li><a href="brand/Plantronics" class="subnav_link brand">Plantronics</a></li><li><a href="brand/Playmax" class="subnav_link brand">Playmax</a></li><li><a href="brand/Plustek" class="subnav_link brand">Plustek</a></li><li><a href="brand/PNY" class="subnav_link brand">PNY</a></li><li><a href="brand/POLAROID" class="subnav_link brand">POLAROID</a></li><li><a href="brand/Polycom" class="subnav_link brand">Polycom</a></li><li><a href="brand/PowerShield" class="subnav_link brand">PowerShield</a></li><li><a href="brand/PQI" class="subnav_link brand">PQI</a></li><li><a href="brand/Primera" class="subnav_link brand">Primera</a></li><li><a href="brand/Primo" class="subnav_link brand">Primo</a></li><li><a href="brand/Princo" class="subnav_link brand">Princo</a></li><li><a href="brand/Print-Rite" class="subnav_link brand">Print-Rite</a></li><li><a href="brand/PROCARE" class="subnav_link brand">PROCARE</a></li><li><a href="brand/Procase" class="subnav_link brand">Procase</a></li><li><a href="brand/Promate" class="subnav_link brand">Promate</a></li><li><a href="brand/Promise" class="subnav_link brand">Promise</a></li><li><a href="brand/PROPEL" class="subnav_link brand">PROPEL</a></li><li><a href="brand/ProsKit" class="subnav_link brand">ProsKit</a></li><li><a href="brand/QNAP" class="subnav_link brand">QNAP</a></li><li><a href="brand/RACKSTUDS" class="subnav_link brand">RACKSTUDS</a></li><li><a href="brand/Raidon" class="subnav_link brand">Raidon</a></li><li><a href="brand/RAM" class="subnav_link brand">RAM</a></li><li><a href="brand/Rapoo" class="subnav_link brand">Rapoo</a></li><li><a href="brand/Raspberry Pi" class="subnav_link brand">Raspberry Pi</a></li><li><a href="brand/Razer" class="subnav_link brand">Razer</a></li><li><a href="brand/Rediform" class="subnav_link brand">Rediform</a></li><li><a href="brand/REFLEX" class="subnav_link brand">REFLEX</a></li><li><a href="brand/Rextron" class="subnav_link brand">Rextron</a></li><li><a href="brand/RIMAGE" class="subnav_link brand">RIMAGE</a></li><li><a href="brand/RING" class="subnav_link brand">RING</a></li><li><a href="brand/Ritek" class="subnav_link brand">Ritek</a></li><li><a href="brand/ROCCAT" class="subnav_link brand">ROCCAT</a></li><li><a href="brand/Rock" class="subnav_link brand">Rock</a></li><li><a href="brand/RODE" class="subnav_link brand">RODE</a></li><li><a href="brand/Roli" class="subnav_link brand">Roli</a></li><li><a href="brand/Ruckus" class="subnav_link brand">Ruckus</a></li><li><a href="brand/SAMSON" class="subnav_link brand">SAMSON</a></li><li><a href="brand/Samsung?qr=samsung-brand-page" class="subnav_link brand">Samsung</a></li><li><a href="brand/SanDisk" class="subnav_link brand">SanDisk</a></li><li><a href="brand/Sansai" class="subnav_link brand">Sansai</a></li><li><a href="brand/SANUS" class="subnav_link brand">SANUS</a></li><li><a href="brand/SAP" class="subnav_link brand">SAP</a></li><li><a href="brand/Sapphire" class="subnav_link brand">Sapphire</a></li><li><a href="brand/Satzuma" class="subnav_link brand">Satzuma</a></li><li><a href="brand/Scosche" class="subnav_link brand">Scosche</a></li><li><a href="brand/Seagate" class="subnav_link brand">Seagate</a></li><li><a href="brand/Seasonic" class="subnav_link brand">Seasonic</a></li><li><a href="brand/Segotep" class="subnav_link brand">Segotep</a></li><li><a href="brand/SELLOTAPE" class="subnav_link brand">SELLOTAPE</a></li><li><a href="brand/Sennheiser" class="subnav_link brand">Sennheiser</a></li><li><a href="brand/SEWOO" class="subnav_link brand">SEWOO</a></li><li><a href="brand/Sharp" class="subnav_link brand">Sharp</a></li><li><a href="brand/Shuttle" class="subnav_link brand">Shuttle</a></li><li><a href="brand/Siemens" class="subnav_link brand">Siemens</a></li><li><a href="brand/Sierra" class="subnav_link brand">Sierra</a></li><li><a href="brand/SIGMA" class="subnav_link brand">SIGMA</a></li><li><a href="brand/Silicon Power" class="subnav_link brand">Silicon Power</a></li><li><a href="brand/Silverstone" class="subnav_link brand">Silverstone</a></li><li><a href="brand/Sinox" class="subnav_link brand">Sinox</a></li><li><a href="brand/SKB" class="subnav_link brand">SKB</a></li><li><a href="brand/SkullCandy" class="subnav_link brand">SkullCandy</a></li><li><a href="brand/Skypro" class="subnav_link brand">Skypro</a></li><li><a href="brand/SleepPhones" class="subnav_link brand">SleepPhones</a></li><li><a href="brand/SMANOS" class="subnav_link brand">SMANOS</a></li><li><a href="brand/SMART HOME" class="subnav_link brand">SMART HOME</a></li><li><a href="brand/Smart4u" class="subnav_link brand">Smart4u</a></li><li><a href="brand/Smartnet" class="subnav_link brand">Smartnet</a></li><li><a href="brand/SMC" class="subnav_link brand">SMC</a></li><li><a href="brand/SNT" class="subnav_link brand">SNT</a></li><li><a href="brand/SOCKET" class="subnav_link brand">SOCKET</a></li><li><a href="brand/Sol Republic" class="subnav_link brand">Sol Republic</a></li><li><a href="brand/Soltec" class="subnav_link brand">Soltec</a></li><li><a href="brand/SonicWall" class="subnav_link brand">SonicWall</a></li><li><a href="brand/Sony" class="subnav_link brand">Sony</a></li><li><a href="brand/Spaceco" class="subnav_link brand">Spaceco</a></li><li><a href="brand/Spark" class="subnav_link brand">Spark</a></li><li><a href="brand/Speck" class="subnav_link brand">Speck</a></li><li><a href="brand/Sphero" class="subnav_link brand">Sphero</a></li><li><a href="brand/Spigen" class="subnav_link brand">Spigen</a></li><li><a href="brand/Sprotek" class="subnav_link brand">Sprotek</a></li><li><a href="brand/ST Labs" class="subnav_link brand">ST Labs</a></li><li><a href="brand/Star Micronics" class="subnav_link brand">Star Micronics</a></li><li><a href="brand/StarTech" class="subnav_link brand">StarTech</a></li><li><a href="brand/Steelseries" class="subnav_link brand">Steelseries</a></li><li><a href="brand/Steinberg" class="subnav_link brand">Steinberg</a></li><li><a href="brand/STM" class="subnav_link brand">STM</a></li><li><a href="brand/StorageCraft" class="subnav_link brand">StorageCraft</a></li><li><a href="brand/Strawbees" class="subnav_link brand">Strawbees</a></li><li><a href="brand/Strontium" class="subnav_link brand">Strontium</a></li><li><a href="brand/Sunix" class="subnav_link brand">Sunix</a></li><li><a href="brand/Sunto" class="subnav_link brand">Sunto</a></li><li><a href="brand/Supermicro" class="subnav_link brand">Supermicro</a></li><li><a href="brand/Swann" class="subnav_link brand">Swann</a></li><li><a href="brand/SWIFTPOINT" class="subnav_link brand">SWIFTPOINT</a></li><li><a href="brand/Syma" class="subnav_link brand">Syma</a></li><li><a href="brand/Symantec" class="subnav_link brand">Symantec</a></li><li><a href="brand/SYMC" class="subnav_link brand">SYMC</a></li><li><a href="brand/SYNERGY" class="subnav_link brand">SYNERGY</a></li><li><a href="brand/Synology" class="subnav_link brand">Synology</a></li><li><a href="brand/Tamiya" class="subnav_link brand">Tamiya</a></li><li><a href="brand/Tandberg" class="subnav_link brand">Tandberg</a></li><li><a href="brand/Tannoy" class="subnav_link brand">Tannoy</a></li><li><a href="brand/Targus" class="subnav_link brand">Targus</a></li><li><a href="brand/TASCAM" class="subnav_link brand">TASCAM</a></li><li><a href="brand/Taurus" class="subnav_link brand">Taurus</a></li><li><a href="brand/TECH21" class="subnav_link brand">TECH21</a></li><li><a href="brand/TECHTABLE" class="subnav_link brand">TECHTABLE</a></li><li><a href="brand/The Joy Factory" class="subnav_link brand">The Joy Factory</a></li><li><a href="brand/Thermaltake" class="subnav_link brand">Thermaltake</a></li><li><a href="brand/THULE" class="subnav_link brand">THULE</a></li><li><a href="brand/ThunderX3" class="subnav_link brand">ThunderX3</a></li><li><a href="brand/TomTom" class="subnav_link brand">TomTom</a></li><li><a href="brand/Topaz" class="subnav_link brand">Topaz</a></li><li><a href="brand/Toshiba" class="subnav_link brand">Toshiba</a></li><li><a href="brand/TP-Link" class="subnav_link brand">TP-Link</a></li><li><a href="brand/Transcend" class="subnav_link brand">Transcend</a></li><li><a href="brand/Trend Micro" class="subnav_link brand">Trend Micro</a></li><li><a href="brand/Tripplite" class="subnav_link brand">Tripplite</a></li><li><a href="brand/Tucano" class="subnav_link brand">Tucano</a></li><li><a href="brand/Turtle Beach" class="subnav_link brand">Turtle Beach</a></li><li><a href="brand/Twelve South" class="subnav_link brand">Twelve South</a></li><li><a href="brand/U-Reach" class="subnav_link brand">U-Reach</a></li><li><a href="brand/Ubiquiti" class="subnav_link brand">Ubiquiti</a></li><li><a href="brand/UBTECH" class="subnav_link brand">UBTECH</a></li><li><a href="brand/Ultimate Ears" class="subnav_link brand">Ultimate Ears</a></li><li><a href="brand/Ultimo" class="subnav_link brand">Ultimo</a></li><li><a href="brand/Uniden" class="subnav_link brand">Uniden</a></li><li><a href="brand/Unitek" class="subnav_link brand">Unitek</a></li><li><a href="brand/Upright" class="subnav_link brand">Upright</a></li><li><a href="brand/Urban Armor Gear" class="subnav_link brand">Urban Armor Gear</a></li><li><a href="brand/Vanson" class="subnav_link brand">Vanson</a></li><li><a href="brand/VARTA" class="subnav_link brand">VARTA</a></li><li><a href="brand/Veeam" class="subnav_link brand">Veeam</a></li><li><a href="brand/Verbatim" class="subnav_link brand">Verbatim</a></li><li><a href="brand/VEX" class="subnav_link brand">VEX</a></li><li><a href="brand/Viewsonic" class="subnav_link brand">Viewsonic</a></li><li><a href="brand/VMware" class="subnav_link brand">VMware</a></li><li><a href="brand/Vodafone" class="subnav_link brand">Vodafone</a></li><li><a href="brand/VPOS" class="subnav_link brand">VPOS</a></li><li><a href="brand/Wacom" class="subnav_link brand">Wacom</a></li><li><a href="brand/WARWICK" class="subnav_link brand">WARWICK</a></li><li><a href="brand/WatchGuard" class="subnav_link brand">WatchGuard</a></li><li><a href="brand/Wavlink" class="subnav_link brand">Wavlink</a></li><li><a href="brand/WD" class="subnav_link brand">WD</a></li><li><a href="brand/Welland" class="subnav_link brand">Welland</a></li><li><a href="brand/WHITE BOX" class="subnav_link brand">WHITE BOX</a></li><li><a href="brand/Winstars" class="subnav_link brand">Winstars</a></li><li><a href="brand/Wonder Workshop" class="subnav_link brand">Wonder Workshop</a></li><li><a href="brand/Wyse" class="subnav_link brand">Wyse</a></li><li><a href="brand/Xclaim" class="subnav_link brand">Xclaim</a></li><li><a href="brand/Xenexx" class="subnav_link brand">Xenexx</a></li><li><a href="brand/Xiaomi" class="subnav_link brand">Xiaomi</a></li><li><a href="brand/XSPC" class="subnav_link brand">XSPC</a></li><li><a href="brand/XYZ" class="subnav_link brand">XYZ</a></li><li><a href="brand/Yealink" class="subnav_link brand">Yealink</a></li><li><a href="brand/Yeastar" class="subnav_link brand">Yeastar</a></li><li><a href="brand/ZAGG" class="subnav_link brand">ZAGG</a></li><li><a href="brand/Zalman" class="subnav_link brand">Zalman</a></li><li><a href="brand/Zebex" class="subnav_link brand">Zebex</a></li><li><a href="brand/Zebra" class="subnav_link brand">Zebra</a></li><li><a href="brand/ZOOM" class="subnav_link brand">ZOOM</a></li></ul></div></div></div></div></div></div></div></li></ul></div></li></ul></div><div class="table_cell"><ul class="horizontal_list rightBar"><li class="menu_option swap" data-menu-id="2"><noscript><a href='site-directory#services' class='menu_option_pad menu_services_link'>SERVICES<div class='noJava'></noscript><a class="menu_option_pad menu_services_link serMenu">SERVICES<div class="menu_arrow_down_ser"></div><div class="menu_arrow_up menu_services_arrow_up menu_option_arrow_2"></div></a><noscript></div></noscript><div id="subnav_services" class="subnav_content menu_option_2"><div class="table_container subnav"><div class="table_row"><div class="table_cell subnav_group"><div class="subnav_group_list"><div class="subnav_group_header">Services for Home</div><div class="subnav_group_content"><ul><li><a href="repair" class="subnav_link">Repair Services</a></li><li><a href="data-recovery" class="subnav_link">Data Recovery</a></li><li><a href="virus-removal-and-protection" class="subnav_link">Virus Removal</a></li><li><a href="custom-gaming-pcs" class="subnav_link">Custom Gaming PCs</a></li><li><a href="system-builder" class="subnav_link">PC System Builder</a></li></ul></div></div></div><div class="table_cell subnav_group"><div class="subnav_group_list"><div class="subnav_group_header">Services for Business</div><div class="subnav_group_content"><ul><li><a href="it-services?open=repair_production#segments" class="subnav_link">Repair &amp; Production</a></li><li><a href="it-services?open=install_display#segments" class="subnav_link">Install &amp; Display</a></li><li><a href="it-services?open=onsite_support#segments" class="subnav_link">Onsite Support</a></li><li><a href="it-services?open=managed_services#segments" class="subnav_link">Managed Services</a></li><li><a href="it-services?open=software_development#segments" class="subnav_link">Software &amp; Development</a></li><li><a href="it-services" class="subnav_link">View our Business Services</a></li></ul></div></div></div><div class="table_cell subnav_group"><div class="subnav_group_list"><div class="subnav_group_header">Finance</div><div class="subnav_group_content"><ul><li><a href="qcard" class="subnav_link">Q Card</a></li><li><a href="financenow" class="subnav_link">Finance Now</a></li><li><a href="what-is-oxipay" class="subnav_link">OxiPay</a></li><li><a href="finance" class="subnav_link">More Finance Options</a></li></ul></div></div></div><div class="table_cell subnav_group"><div class="subnav_group_list"><div class="subnav_group_header">Warranties</div><div class="subnav_group_content"><ul><li><a href="about-pbcare" class="subnav_link">PB Care</a></li></ul></div></div></div></div></div><div class="subnav_group_list subnav_group_deals_banner"><div class="subnav_group_content "><a href="system-builder?qr=banner_menu_services_4531"><img src="imgad/aib/_Customise-your-PC_970x90.png"></a></div></div></div></li><li class="menu_option" data-menu-id="3"><a href="promotions" class="menu_option_pad menu_deals_link"><i class="fa fa-star"></i> PROMOTIONS</a></li><li class="menu_option" data-menu-id="3"><a href="clearance" class="menu_option_pad menu_clear_link"><i class="fa fa-tag"></i> CLEARANCE</a></li><li class="menu_option" data-menu-id="4"><a href="education/byod" class="menu_option_pad menu_byod_link"><i class="fa fa-graduation-cap"></i> BYOD</a></li></ul><ul class="horizontal_list right addBar rightBar"><li><a href="commercial" class="menu_option_pad noul">Business</a></li><li><a href="education" class="menu_option_pad noul">Education</a></li><li><a href="wholesale" class="menu_option_pad noul">Wholesale</a></li></ul></div></div></div></div></div><div itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="PB Tech"><meta itemprop="url" content="https://www.pbtech.co.nz/"></div><div class="wrapper"><div class="printOverlay"><div class="printProgress"><i class="fa fa-spinner fa-spin"></i><br>Generating Print Page</div></div><div class="menuOverlay6 overlayHidden"></div><div class="menuOverlay overlayHidden"></div><div class="menuOverlay2 overlayHidden"></div><div class="menuOverlay3 overlayHidden"></div><div class="menuOverlay4 overlayHidden"></div><div class="menuOverlay5 overlayHidden"></div><!-- BreadCrumbs & Heading -->
    <div class="tree_wrapper">
        <div class="width_wrapper">
            <a href="https://www.pbtech.co.nz/">Home</a>
            <i class="arrow fa fa-angle-right"></i>
            <!-- no link for the last page as it's assumed to be the current one -->
<span class="h1Crumbs normalWeight"><a href="privacy">Privacy Statement</a></span>
        </div>
    </div>
    <div class="heading_wrapper">
        <div class="width_wrapper">
            <h1>Privacy Statement</h1>
            <div class="follow_holder ">
                <div class="feedback_container">
                    <a href="https://www.research.net/r/NGL9Y53?Var1=0" target="_blank" rel="nofollow">
                        <i class="arrow fa fa-smile-o"></i>
                        Feedback
                    </a>
                </div>
              <span class="followSocial">
                <a href="https://www.facebook.com/PBTechnologies" target="_blank"><i class="fa fa-facebook fbstyle"></i></a>
                <a href="http://www.youtube.com/c/pbtech" target="_blank"><i class="fa fa-youtube-play ytstyle"></i></a>
                <a href="https://twitter.com/pbtechnz" target="_blank"><i class="fa fa-twitter twstyle"></i></a>
                <a href="https://www.instagram.com/pbtechnz/" target="_blank"><i class="fa fa-instagram instyle"></i></a>
                <a href="https://plus.google.com/109010236791242139981" target="_blank"><i class="fa fa-google-plus gpstyle"></i></a>
                </span>
            </div>
        </div>
    </div>
<!-- End BreadCrumbs & Heading -->
<div id="out_container" class=""><div class="col3 right">
<style>
    .submitClass {
        background: none;
        border: none;
        color: #1278A5;
        text-decoration: underline;
        display: none;
        cursor: pointer;
        text-align: right;
        padding-bottom: 2px;
        position: relative;
        left: 60%;
    }
</style>
    <div class="menufilter_box">
        <div class="menufilter_top mf_title">Need some help?</div>
        <div class="menufilter_content">
            <ul class="mf_help">
                <li>
                    <i class="fa fa-phone"></i>
                    Phone <b>09 526 9200</b>
                </li>
                <li>
                    <i class="fa fa-envelope"></i>
                    <a href="contact" class="pblink">Send us a message</a>
                </li>
                <li>
                    <i class="fa fa-map-marker"></i>
                    <a href="stores" class="pblink">Locate a store near you</a>
                </li>
                <li>
                    <i class="fa fa-question"></i>
                    <a href="about" class="pblink">About PB Tech</a>
                </li>
            </ul>

        </div>
        <a href="help" class="more pblink"><i class="fa fa-plus"></i> More help</a>
    </div>
<script>
$('.callFilt').each(function() { // Grab all elements with the callFilt class, and set "this"
    $(this).qtip({ //
        position: {
            my: 'left center',  // Position my top left...
            at: 'right center', // at the bottom right of...
            target: $(this) // my target
        },
        style: {
            classes: 'qtip-light'
        }
    });
});

$(".filter_block").change(function(){
    $(this).find(".submitClass").show();

});
$(".ginc").change(function(){
    $(this).parent().find(".submitClass").show();

});
$(".ginc").change(function(){
    $(this).parent().find(".submitClass").show();
});
</script>

</div><div class="col1  right_column  "><div id="b7146" class="content_block_container">
<p>PB Technologies Ltd ("PB") are committed to providing our customers with a secure, private shopping experience.</p>
<p>&nbsp;</p>
<p><strong>What information does PB need to collect from you as a customer?</strong></p>
<p>PB, in dealing with you as a customer, may need to collect and retain information that identifies you as a customer so that transactions can be carried out either online or personally. The information we may collect includes:</p>
<p>For establishing an account:</p>
<ul>
<li>Name and address(es)</li>
<li>Contact telephone number(s) and email address(es)</li>
</ul>
<p>For personal identification:</p>
<ul>
<li>Photo ID â either NZ Driverâs licence, passport (NZ or foreign), or an NZ 18+ card (Note foreign driverâs licenses cannot be verified and are therefore not accepted)</li>
</ul>
<p>&nbsp;</p>
<p><strong>Why does PB collect and retain personal information?</strong></p>
<p>We use this information to undertake any dealings or transactions with you (see the&nbsp;<a href="index.php?p=terms">Terms and Conditions</a>&nbsp;for further details). Personal photo ID information may not be needed unless you need to personally pick up goods from any one of the PB stores, and we need to ascertain that the person picking up the goods is the correct person as per the transaction. We may take a copy of the identification supplied. This is also to protect your interest and security as a PB customer.</p>
<p>&nbsp;</p>
<p><strong>Who can access this information and who is it shared with?</strong></p>
<p>The information will be collected by specified PB employees who need to have access to your personal data to carry out the transactions. The level of accessibility to your personal data is proportional to the job function that each team member performs.</p>
<p>We may disclose aggregated shopper statistics, but none of these statistics will contain any information about identifiable customers and their individual shopping habits.</p>
<p>Certain information may be made accessible to other persons or bodies corporate engaged by PB for or in relation to any of the purposes listed in use of information of the&nbsp;<a href="index.php?p=terms">Terms and Conditions</a>.</p>
<p>&nbsp;</p>
<p><strong>Can you refuse to provide the information asked for?</strong></p>
<p>If you do not wish to provide the information asked for, you have the right to refuse to provide it, however PB may not be able to proceed with the transaction if the information required is necessary for PB to ensure the transaction is conducted in a legitimate manner while protecting the interests of both PB and you as the customer.</p>
<p>&nbsp;</p>
<p><strong>Storage of personal information</strong></p>
<p>We are aware that you may be concerned about the privacy and confidentiality of your personal information. We have taken many steps - from both technical and systems perspectives - to ensure that all of your information is well protected, however we also recommend that you do not disclose your loginID and password to anyone.</p>
<p>&nbsp;</p>
<p><strong>Using Social Features</strong></p>
<p>We may offer functionality that allows you to create or log into your account using a third party service, such as Facebook or Google. If you choose to make use of a third party service for creating or logging into your account, or otherwise use any social media features we make available, we may access information about you via that third party. Information we receive may include your public profile information, such as your profile picture, gender, birthday, email address, phone number, profile ID and your name (if you have made that information available on your public profile).</p>
<p>Generally, you can restrict what information is made available via third party services like Facebook and Google by updating your privacy settings with the provider. We encourage you to review your privacy settings and the relevant providerâs privacy policy.</p>
<p>&nbsp;</p>
<p><strong>What is PB policy on allowing me to view and update my personal information?</strong></p>
<p>You are able to access and change personal account information held by PB in the "My Account" area of our website. However, to change personal information provided to us via a third party in connection with the use of social media functionality (such Facebook or Google logins), you will need to update your details or privacy settings with that provider.</p>
<p>You may also ask us for a copy of any personal information about you that we hold or to correct any personal information about you, by contacting us either at email address: <a href="mailto:websales@pbtech.co.nz">websales@pbtech.co.nz</a>, telephone No: 09-5269200 or visit us at No: 587 Great South Road, Manukau City, Auckland 2104</p>
<p>&nbsp;</p>
<p><strong>Marketing emails / newsletters</strong></p>
<p>If you no longer wish to receive marketing emails / newsletters from us, you can find and click on the unsubscribe link in each of our marketing emails and we will opt you out from&nbsp;receiving future marketing related correspondence.</p>
<p>&nbsp;</p>
<p><strong>Credit Card Security</strong></p>
<p>PB does not store, or process credit cards.</p>
<p>Direct Payment Solutions processes transactions for New Zealand, and EFTPOS New Zealand LTD processes our Australian transactions.</p></div>
</div></div></div><div class="clearfix"></div>        <div id="recommend_personal" style="background-color: #fefefe;"></div>
        <!-- BreadCrumbs & Heading -->
    <div class="tree_wrapper" style="padding:15px 0;">
        <div class="width_wrapper no_header">
            <a href="https://www.pbtech.co.nz/">Home</a>
            <i class="arrow fa fa-angle-right"></i>
            <!-- no link for the last page as it's assumed to be the current one -->
<span class="h1Crumbs normalWeight"><a href="privacy">Privacy Statement</a></span>
        </div>
    </div>
    <div class="heading_wrapper">
        <div class="width_wrapper">
            <div class="follow_holder shiftUp">
                <div class="feedback_container">
                    <a href="https://www.research.net/r/NGL9Y53?Var1=0" target="_blank" rel="nofollow">
                        <i class="arrow fa fa-smile-o"></i>
                        Feedback
                    </a>
                </div>
              <span class="followSocial">
                <a href="https://www.facebook.com/PBTechnologies" target="_blank"><i class="fa fa-facebook fbstyle"></i></a>
                <a href="http://www.youtube.com/c/pbtech" target="_blank"><i class="fa fa-youtube-play ytstyle"></i></a>
                <a href="https://twitter.com/pbtechnz" target="_blank"><i class="fa fa-twitter twstyle"></i></a>
                <a href="https://www.instagram.com/pbtechnz/" target="_blank"><i class="fa fa-instagram instyle"></i></a>
                <a href="https://plus.google.com/109010236791242139981" target="_blank"><i class="fa fa-google-plus gpstyle"></i></a>
                </span>
            </div>
        </div>
    </div>
<!-- End BreadCrumbs & Heading -->
<div style="border-bottom: 1px solid #696969;" class="hideTestimonials"><div class="width_wrapper hideTestimonials" style="padding:15px 0;"><div class="recent_heading ftRec"><i class="fa fa-quote-left"></i> Customer Testimonials - <a href="testimonials" style="font-size:12px; color:#FFF;">See More</a></div><div class="owl-carousel ft_Testimonials" style="position:initial;"><div><a href="testimonials?testID=440#test_440" class="linkTestimonials"><div class="ftTestimonial"><span class="line-clamp line-clamp-4">"Tremendous service we received on a busy Saturday at your Wellington store! Mark the Manager and Simon your engineer  sorted out a tricky hardware repair on the spot within minutes. You guys are fantastic. Thank you!"</span></div></a><div class="ftTestimonialComm"></div><div class="ftTestimonial_user"><i class="fa fa-quote-left"></i> That - 21/12/2018</div></div><div><a href="testimonials?testID=439#test_439" class="linkTestimonials"><div class="ftTestimonial"><span class="line-clamp line-clamp-4">"Hi guys This shop is really helpfull and they are excellent in service and products. I highly recommend PB Tech at Henderson for buying their products as they are number one. I have been here twice and I will come back in the future when I update a new computer. Thank you for reading. Ngaire Percival."</span></div></a><div class="ftTestimonialComm"></div><div class="ftTestimonial_user"><i class="fa fa-quote-left"></i> ngaire - 17/12/2018</div></div><div><a href="testimonials?testID=438#test_438" class="linkTestimonials"><div class="ftTestimonial"><span class="line-clamp line-clamp-4">"Big thanks to Damien in the PC section at Wairau PB tech, someone that knew about the parts and was more than happy to take a look at our build list and price match where possible. Top marks! A+++"</span></div></a><div class="ftTestimonialComm"></div><div class="ftTestimonial_user"><i class="fa fa-quote-left"></i> Jordan - 16/12/2018</div></div><div><a href="testimonials?testID=437#test_437" class="linkTestimonials"><div class="ftTestimonial"><span class="line-clamp line-clamp-4">"A very big thank-you to the young man at PB Tech's call centre who spent a long time working out with me the best and cheapest technical upgrade to my computers when I found that they could not handle a new program. His own technical knowledge was excellent, but whenever he needed more input, or double-checking, from his supervisor he put me on hold for a short time and got it. In short, he went out of his way to make sure that I had quality information on which I could rely in absolute confidence. And, even better, it was a future-proof solution. I ordered the part (a graphics card), it arrived the next day, it was exactly right, and was soon fitted. Brilliant! If we got service of such excellence everywhere (especially in the government), New Zealand would be a far better place. Take a bow, PB Tech!"</span></div></a><div class="ftTestimonialComm"></div><div class="ftTestimonial_user"><i class="fa fa-quote-left"></i> Nobilangelo - 14/12/2018</div></div><div><a href="testimonials?testID=435#test_435" class="linkTestimonials"><div class="ftTestimonial"><span class="line-clamp line-clamp-4">"I just want to let you know of our most recent experience at PB Technology last Sunday mid afternoon. We were looking to upgrade an Ipad mini and we received excellent service from a sales team member who listened to what we were thinking, questioned to clarify our thoughts and then made some helpful suggestions while showing us our possibilities. Ben was patient and explained carefully. He made recommendations and outlined the advantages of each. 
We appreciate his style and his manner and we left with our purchase feeling quite satisfied. 
We shop with you when we need new technology and have always found helpful and willing staff. Clearly your employee choices and your training programmes are very successful. 

Kind regards
Kathy"</span></div></a><div class="ftTestimonialComm"></div><div class="ftTestimonial_user"><i class="fa fa-quote-left"></i> Kathy - 01/12/2018</div></div><div><a href="testimonials?testID=434#test_434" class="linkTestimonials"><div class="ftTestimonial"><span class="line-clamp line-clamp-4">"Big thank you to Taylor Coster at the Christchurch branch in Hornby for showing great customer service and helping me with my refund and purchase. 10/10."</span></div></a><div class="ftTestimonialComm"></div><div class="ftTestimonial_user"><i class="fa fa-quote-left"></i> Alex - 30/11/2018</div></div><div><a href="testimonials?testID=433#test_433" class="linkTestimonials"><div class="ftTestimonial"><span class="line-clamp line-clamp-4">"I would like to give a huge thank you to Ella Kim at the Main Sth Rd branch in Christchurch. 
My web order could not be located and she continued about her business with a professional and unflustered manner. 
The warehouse staff failed to turn up at her request. 
Ella eventually went away and picked another order for me. 
Great asset to your team"</span></div></a><div class="ftTestimonialComm"></div><div class="ftTestimonial_user"><i class="fa fa-quote-left"></i> Jarl - 23/11/2018</div></div><div><a href="testimonials?testID=432#test_432" class="linkTestimonials"><div class="ftTestimonial"><span class="line-clamp line-clamp-4">"I would like to thanks the great service from Andy Liu at North Shore branches. I bought a 55" Philip TV and used for 2 weeks but found with firmware problem which appeared with freeze browser page and even required to force shut down the TV. However, to start with their solution was to wait for Philip firmware update but may be a week, a month or even a few months. I really frustrated with this solution as there are no timeframe for repair. 
Andy from North Shore not only explained the problem to me but also provide solution and I end up spent extra 60% money to change to LG. This LG TV is a lot better and thanks Andy's advise and help."</span></div></a><div class="ftTestimonialComm"></div><div class="ftTestimonial_user"><i class="fa fa-quote-left"></i> Stella - 22/11/2018</div></div><div><a href="testimonials?testID=430#test_430" class="linkTestimonials"><div class="ftTestimonial"><span class="line-clamp line-clamp-4">"Very good customer service"</span></div></a><div class="ftTestimonialComm"></div><div class="ftTestimonial_user"><i class="fa fa-quote-left"></i> Simran - 19/11/2018</div></div><div><a href="testimonials?testID=429#test_429" class="linkTestimonials"><div class="ftTestimonial"><span class="line-clamp line-clamp-4">"Iâd like to thank Rex for his service today, I donât usually write feedback but was super impressed with his knowledge and how helpful he was. Enjoyed chatting with him and really appreciated him helping me understand more about the computer I am building. Thank you!"</span></div></a><div class="ftTestimonialComm"></div><div class="ftTestimonial_user"><i class="fa fa-quote-left"></i> James - 19/11/2018</div></div><div><a href="testimonials?testID=427#test_427" class="linkTestimonials"><div class="ftTestimonial"><span class="line-clamp line-clamp-4">""Tyler from PB Chch. So grateful. Tyler is a great role model for technical support service provider. He made huge difference to my stressful situation."</span></div></a><div class="ftTestimonialComm"></div><div class="ftTestimonial_user"><i class="fa fa-quote-left"></i> Duc - 13/11/2018</div></div><div><a href="testimonials?testID=426#test_426" class="linkTestimonials"><div class="ftTestimonial"><span class="line-clamp line-clamp-4">"Re: Ben Mingham, Hornby PBTech

Yesterday I had a fantastic experience at the Hornby PBTech and I want you to know about it.

I went to the Hornby store yesterday afternoon, Saturday 10 November. I needed a power bank and I was directed to Ben.

I'm a middle aged woman, definitely tech savvy, but often I find young men (and woman) condescending and sometimes not particularly interested or knowledgeable about what they're selling..

Ben was great. He answered my questions, engaged well with me, and helped me pick what would meet my needs.

Because of his manner and knowledge I decided to mention to him a phone issue I'd noticed that day. I said that I thought the battery no longer held its charge and while I wasn't going to replace it yet, I'd appreciate his advice.

We talked about what I use my phone for and he said that he thought my phone issue might be hardware rather than battery. I offered to show it to him and I'm grateful that I did.

The screen was bulging on one side and the phone felt hot. I was shocked and Ben calmly explained what could happen and how dangerous my phone was.

I made the decision to replace my phone then and there, and to forget about a power bank for now. As we worked through my 2degrees contract Ben answered my questions and offered to help clone from my old phone to the new one.

It wasn't successful in the time available in store but Ben and Joseph both suggested ways I could safely download the files on my phone at home. If that wasn't successful I knew that I could turn up at 10am today and let the tech guys do it for me.

I was so impressed with Ben I asked him if there was anyway I could provide feedback. I have no doubt that because of his manner and expertise I've avoided a fire and burns. I'd been on a navigation course all day using a compass and phone app. I would have come home and just charged the phone and ignored it for the evening thinking that it was just getting old and the battery is tired.

Nothing was a problem, he was incredibly helpful, and I think I've been able to get most of what I wanted off my old phone and onto the new one. Ben has wonderful people skills to go with his technical ones.

Thanks so much Ben."</span></div></a><div class="ftTestimonialComm"></div><div class="ftTestimonial_user"><i class="fa fa-quote-left"></i> Heather - 13/11/2018</div></div><div><a href="testimonials?testID=425#test_425" class="linkTestimonials"><div class="ftTestimonial"><span class="line-clamp line-clamp-4">"I was in your store today with my Mum to return a Laptop I had bought a few weeks ago and received great customer service from one of your employees Damon Wang(Chch).
He helped us for about half an hour, and was very friendly and patient with us. He also gave us good insight on which laptop we should buy and when, hence why I am commending him for helping us so much."</span></div></a><div class="ftTestimonialComm"></div><div class="ftTestimonial_user"><i class="fa fa-quote-left"></i> Oliver - 13/11/2018</div></div><div><a href="testimonials?testID=424#test_424" class="linkTestimonials"><div class="ftTestimonial"><span class="line-clamp line-clamp-4">"The workers there are amazing always checking up on you to see howâs everything going and they know what they are talking about great communication skills itâs feels welcome and amazing discounts !"</span></div></a><div class="ftTestimonialComm"></div><div class="ftTestimonial_user"><i class="fa fa-quote-left"></i> sheng - 12/11/2018</div></div><div><a href="testimonials?testID=423#test_423" class="linkTestimonials"><div class="ftTestimonial"><span class="line-clamp line-clamp-4">"The workers are engaged and helpful lovely people they do listen to your wantd"</span></div></a><div class="ftTestimonialComm"></div><div class="ftTestimonial_user"><i class="fa fa-quote-left"></i> kate - 31/10/2018</div></div><div><a href="testimonials?testID=422#test_422" class="linkTestimonials"><div class="ftTestimonial"><span class="line-clamp line-clamp-4">"Awesome customer service and ultra fast delivery! Highly reccomend! I will definitely shop here again..many thanks for the tablet :-)"</span></div></a><div class="ftTestimonialComm"></div><div class="ftTestimonial_user"><i class="fa fa-quote-left"></i> Juanita - 27/10/2018</div></div><div><a href="testimonials?testID=421#test_421" class="linkTestimonials"><div class="ftTestimonial"><span class="line-clamp line-clamp-4">"Great website and amazing service. Will shop here again"</span></div></a><div class="ftTestimonialComm"></div><div class="ftTestimonial_user"><i class="fa fa-quote-left"></i> Eileen - 25/10/2018</div></div><div><a href="testimonials?testID=419#test_419" class="linkTestimonials"><div class="ftTestimonial"><span class="line-clamp line-clamp-4">"Got a laptop in Tauranga today, and we had Toby deal with us. I was getting a laptop for my Mum and he was extremely helpful, which was awesome after my terrible experience with a competitor the week before.
Dropped off a Kinder Surprise to him in appreciation for his assistance."</span></div></a><div class="ftTestimonialComm"></div><div class="ftTestimonial_user"><i class="fa fa-quote-left"></i> Vicky - 13/10/2018</div></div><div><a href="testimonials?testID=418#test_418" class="linkTestimonials"><div class="ftTestimonial"><span class="line-clamp line-clamp-4">"Lim at Hamilton PB Tech is so nice she tells me jokes and serves the customers good thanks Lim for being the best"</span></div></a><div class="ftTestimonialComm"></div><div class="ftTestimonial_user"><i class="fa fa-quote-left"></i> Jim - 04/10/2018</div></div><div><a href="testimonials?testID=416#test_416" class="linkTestimonials"><div class="ftTestimonial"><span class="line-clamp line-clamp-4">"Tyler from PB Chch. So grateful. Tyler is a great role model for technical support service provider. He  made huge difference to my stressful situation. His efforts changed it to relief with appreciations. He led through to solved problems by listening and understanding with patient and well mannered response. Also he provided great suggestion with his excellent knowledge of products. Well explained very professional. Very lucky to have Tyler in your PB team. Massive Thank you for fantastic supports experience. Thank you!"</span></div></a><div class="ftTestimonialComm"></div><div class="ftTestimonial_user"><i class="fa fa-quote-left"></i> Naemi - 02/10/2018</div></div></div></div></div><div id="footer"><div class="footert"><div class="footer_wrap"><div class="department_footer ft_border_right"><span class="footer_title">Shop by DEPARTMENT</span><ul><li><a href="https://www.pbtech.co.nz/category/computers"><i class="fa fa-laptop"></i> Computers &amp; Tablets</a></li><li><a href="https://www.pbtech.co.nz/category/peripherals"><i class="fa fa-desktop"></i> PC Peripherals</a></li><li><a href="https://www.pbtech.co.nz/category/components"><i class="fa fa-hdd-o"></i> PC Parts</a></li><li><a href="https://www.pbtech.co.nz/category/networking"><i class="fa fa-wifi"></i> Networking</a></li><li><a href="https://www.pbtech.co.nz/category/consumables"><i class="fa fa-print"></i> Printing &amp; Office</a></li><li><a href="https://www.pbtech.co.nz/category/software"><i class="fa fa-user-secret"></i> Software &amp; Games</a></li><li><a href="https://www.pbtech.co.nz/category/phones-gps"><i class="fa fa-mobile-phone"></i> Phones &amp; GPS</a></li><li><a href="https://www.pbtech.co.nz/category/tv-av"><i class="fa fa-tv"></i> TV, Video &amp; Audio</a></li><li><a href="https://www.pbtech.co.nz/category/cameras"><i class="fa fa-camera"></i> Cameras &amp; Drones</a></li><li><a href="https://www.pbtech.co.nz/category/apple"><i class="fa fa-apple"></i> Apple</a></li></ul></div><div class="menu_footer ft_border_right"><span class="footer_title">Company Info</span><ul class="f_list"><li><a href="https://www.pbtech.co.nz/about" class="noul">About Us</a></li><li><a href="https://www.pbtech.co.nz/contact" class="noul">Contact Us</a></li>                <li>
                    <a href="https://www.pbtech.co.nz/stores" class="noul">Stores</a>
                </li>
                <li>
                    <a href="https://www.pbtech.co.nz/commercial" class="noul">Business</a>
                </li>
                <li>
                    <a href="https://www.pbtech.co.nz/education" class="noul">Education</a>
                </li>
                <li>
                    <a href="https://www.pbtech.co.nz/wholesale" class="noul">Wholesale</a>
                </li>
                <li>
                    <a href="https://www.pbtech.co.nz/careers" class="noul">Careers</a>
                </li>
                <li>
                    <a href="https://www.pbtech.co.nz/terms" class="noul">Terms &amp; Conditions</a>
                </li>
                <li>
                    <a href="https://www.pbtech.co.nz/privacy" class="noul">Privacy Policy</a>
                </li>
            </ul>
</div><div class="menu_footer ft_border_right"><span class="footer_title">Services &amp; Support</span><ul class="f_list"><li><a href="https://www.pbtech.co.nz/help" class="noul">Help</a></li><li><a href="https://www.pbtech.co.nz/finance" class="noul">Finance</a></li><li><a href="https://www.pbtech.co.nz/returns" class="noul">Returns &amp; Warranty</a></li><li><a href="https://www.pbtech.co.nz/repair" class="noul">Repair Services</a></li><li><a href="https://www.pbtech.co.nz/repair/jobtracker" class="noul">Job Tracker</a></li><li><a href="https://www.pbtech.co.nz/category/more/service" class="noul">Service Parts</a></li><li><a href="https://www.pbtech.co.nz/system-builder" class="noul">System Builder</a></li></ul></div><div class="menu_footer"><span class="footer_title">Promotions &amp; Offers</span><ul class="f_list"><li><a href="https://www.pbtech.co.nz/promotions" class="noul">Promotions</a></li><li><a href="https://www.pbtech.co.nz/clearance" class="noul">Clearance</a></li></ul></div>        <div class="footer_right_box">
            <span class="footer_title">Get the Latest Deals!</span>
            <form class="newsletter_signup newsletter_signup_content_footer">
                <div>
                    <input type="text" name="ml_name" placeholder="Your name" class="f_ml_input ml_name" autocomplete="off" required="">
                </div>
                <div>
                    <input type="email" name="ml_email" placeholder="Your email" class="f_ml_input ml_email" style="margin-right:10px;" autocomplete="off" required="">
                </div>
                <input type="hidden" value="footer" class="ml_group" name="ml_group">
                <input type="submit" class="ml_signup button orange small" value="Sign Up!">
            </form>
        </div>

        <div class="footer_right_social">
            <span class="footer_title">Follow PB Tech</span>
            <a href="https://www.facebook.com/PBTechnologies" target="_blank"><i class="fa fa-facebook-square"></i></a>
            <a href="https://twitter.com/pbtechnz" target="_blank"><i class="fa fa-twitter-square"></i></a>
            <a href="https://plus.google.com/109010236791242139981" target="_blank"><i class="fa fa-google-plus-square"></i></a>
            <a href="https://www.youtube.com/channel/UCccuOf10kjRScSr-GbZatKQ" target="_blank"><i class="fa fa-youtube-square"></i></a>
            <a href="https://www.instagram.com/pbtechnz/" target="_blank"><i class="fa fa-instagram"></i></a>

            <!-- <div class="likePB">
                <span class="fb-like" data-href="https://www.facebook.com/PBTechnologies" data-layout="button" data-action="like" data-show-faces="false" data-share="false" data-size="small"></span>
                <span class="g-follow" data-height="20" data-annotation="none" data-href="https://plus.google.com/109010236791242139981" data-rel="publisher"></span>
            </div> -->
        </div>
    </div>
    <div class="footerCell">
        <img src="imglib/payoptions/visa.jpg" class="ftImg ftpay">
        <img src="imglib/payoptions/mastercard.jpg" class="ftImg ftpay">
        <img src="imglib/payoptions/american-express.jpg" class="ftImg ftpay">
        <img src="imglib/payoptions/qcard.jpg" class="ftImg ftpay">
        <img src="imglib/payoptions/farmers.jpg" class="ftImg ftpay">
        <img src="imglib/payoptions/unionpay.jpg" class="ftImg ftpay">
        <img src="imglib/payoptions/apple-pay.png" class="ftImg ftpay">
        <img src="imglib/payoptions/poli.jpg" class="ftImg ftpay">

    </div>
    <div class="footerCell" style="text-align:center; padding-top:5px;">
        <div class="country">
            <span class="selectCountry"><i class="fa fa-globe"></i> Country: <span>
            <a href="https://www.pbtech.co.nz/privacy?qr=country-selector">New Zealand</a> |
            <a href="https://www.pbtech.com/au/privacy?qr=country-selector">Australia</a> |
            <a href="https://www.pbtech.com/privacy?qr=country-selector">Global</a>
        </span></span></div>
    </div>
    <div class="footerCell" style="text-align:right; color:#777;">
            Download our app:&nbsp;
        <a href="https://itunes.apple.com/nz/app/pb-tech/id948652528" target="_blank"><img src="imglib/dnew/icon_appstore.png" height="35px"></a>
        <a href="https://play.google.com/store/apps/details?id=com.silvermoonapps.pbtech" target="_blank"><img src="imglib/dnew/icon_googleplay.png" class="end" height="35px"></a>
    </div>
</div>
<div id="footer_bottom">
<a href="#top"><div class="showUpArrow"><i class="fa fa-angle-up"></i></div></a><div class="footerb"><p><strong>Copyright Â© PB Technologies Ltd All rights reserved.&nbsp;587 Great South Road, Manukau, Auckland, New Zealand</strong><br>PB Technologies Ltd is not responsible for typographical errors. All prices and specifications are subject to change without notice.</p></div></div>
<div id="modalHolder"></div>

<!-- Helper modals -->
<!-- these modals are our replacements for alert() and confirm() functions, etc. -->
<div id="pb_modal_confirm"></div>
<div class="pb_modal_close hidden"></div>

<div class="pb_modal_box pb_modal_helper pb_modal_confirm">
    <div id="confirm_title" class="pb_modal_alert_header"></div>
    <div id="pb_modal_confirm_content" class="p_modal_content_dd">
        <p id="confirm_text"></p>
        <div class="text-right">
            <button id="confirm_yes" class="orange small">Yes</button>
            <button id="confirm_no" class="neutral small">No</button>
        </div>
    </div>
</div>

<div id="pb_modal_submit"></div>
<div class="pb_modal_box pb_modal_helper pb_modal_submit">
    <div id="submit_title" class="pb_modal_alert_header"></div>
    <div id="pb_modal_submit_content" class="p_modal_content_dd">
        <p id="submit_text"></p>
        <div class="text-right">
            <button id="submit_ok" class="orange small">OK</button>
        </div>
    </div>
</div>

<div id="pb_modal_checkbox_confirm"></div>
<div class="pb_modal_box pb_modal_helper pb_modal_checkbox_confirm">
    <div class="pb_modal_close"><img src="imglib/dd/icon_stock_close.png" class="uncheckDataDevice"></div>
    <div id="checkbox_confirm_title" class="pb_modal_common_header"></div>
    <div id="pb_modal_checkbox_confirm_content" class="p_modal_content_dd">
        <p id="checkbox_confirm_text"></p>

        <p>
            <input type="checkbox" id="checkbox_confirm_input"> <label id="checkbox_confirm_label" for="checkbox_confirm_input"></label>
        </p>

        <div class="text-right">
            <button id="checkbox_confirm_continue" class="unavailable small" disabled="">OK</button>
        </div>
    </div>
</div>

<div id="pb_modal_pwp"></div>
<div class="pb_modal_box p_modal_dd pb_modal_pwp">
    <div class="pb_modal_close"><img src="imglib/dd/icon_stock_close.png"></div>
    <div id="pb_modal_content_pwp" class="p_modal_content_dd"></div>
</div>
<div id="pb_modal_ml"></div>
<div class="pb_modal_box pb_modal_ml">
    <div class="pb_modal_close"><img src="imglib/dd/icon_stock_close.png"></div>
    <div id="pb_modal_content_ml"></div>
</div>

    <div class="pb_modal test" id="pb_modal_store_stock"></div>
    <div class="pb_modal_box p_modal_dd pb_modal_store_stock ">
        <div class="pb_modal_close "><img src="imglib/dd/icon_stock_close.png"></div>
        <div id="pb_modal_store_stock_content"></div>
    </div>
    <script type="text/javascript">
var base = "https://www.pbtech.co.nz/";
var showComAddressForm = false;
var showCountrySelector = false;
var postCodeRules = {
    digits: !showComAddressForm,
    minlength: 4,
    maxlength: showComAddressForm ? 20 : 4
}


// geo recommendation
var geoRecommendation = {"title":"It looks like you are coming from outside of New Zealand!","text":"You must use the PB Tech Global or PB Tech Australia sites to get goods shipped to addresses outside of New Zealand","stayButtonTitle":"Stay on New Zealand site","stayButtonText":"I want goods shipped to NZ","redirectButtonTitle":"Take me to the Global site","redirectButtonText":"I want goods shipped outside of NZ","footerText":"Or visit <a class='pblink' href='https:\/\/www.pbtech.com\/au'>www.pbtech.com\/au<\/a> for shipping to Australia destinations","sessionId":"9c190qc4qon6r7ldm2goh66cq6","redirectUrl":"https:\/\/www.pbtech.com\/privacy"};

if (geoRecommendation) {
    $('body').on('click', '#geo_redirect', function() {
        $(this).progress(true, "Redirecting...");
        $(this).css( "padding", "15px 0" );
        $(this).css( "background", "#CCC" );
        var redirectUrl = geoRecommendation.redirectUrl || '';

        //redirect after the AJAX file has finished so it isn't aborted by the browser
        $.post(base + 'code/ajax_update_geo_recommendation_pdo.php', {
            sessionId: geoRecommendation.sessionId,
            ipCountryCode: geoRecommendation.ipCountryCode
        }, function() {
            if (redirectUrl.length > 0) {
                window.location = redirectUrl;
            }
        }).fail(function() {
            if (redirectUrl.length > 0) {
                window.location = redirectUrl;
            }
        });
    });

    $('body').on('click', '#geo_stay', function() {
        swal.close();
    });

    // TODO:: use sweetalert2 to make pop up from right top corner
    var content = document.createElement("div");

    var contentHtml = [];
    // text
    contentHtml.push('<div id="geo_alert_text">');
        contentHtml.push(geoRecommendation.text);
    contentHtml.push('</div>');

    // buttons
    contentHtml.push('<div id="geo_alert_buttons">');
        contentHtml.push('<button id="geo_stay" class="button xsmall neutral">');
            contentHtml.push('<i class="fa fa-angle-right"></i><strong>');
                contentHtml.push(geoRecommendation.stayButtonTitle);
            contentHtml.push('</strong><br>');
                contentHtml.push(geoRecommendation.stayButtonText);
        contentHtml.push('</button>');
        contentHtml.push('<button id="geo_redirect" class="orange button xsmall">');
            contentHtml.push('<i class="fa fa-angle-right"></i><strong>');
                contentHtml.push(geoRecommendation.redirectButtonTitle);
            contentHtml.push('</strong><br>');
                contentHtml.push(geoRecommendation.redirectButtonText);
        contentHtml.push('</button>');
    contentHtml.push('</div>');

    // footer
    contentHtml.push('<div id="geo_alert_footer">');
        contentHtml.push(geoRecommendation.footerText);
    contentHtml.push('</div>');

    content.innerHTML = contentHtml.join('');

    swal({
        title: geoRecommendation.title,
        html: content,
        showConfirmButton: false,
        showCancelButton: false,
        showCloseButton: true,
        width: '600px',
        customClass: 'geo_recommendation'
    });
}

// --------------------------------------------------------------------------------
// COMMON
// --------------------------------------------------------------------------------
var loggedIn = false;
var gstChecked = true;
var isStaff = false;
//Gets device type from PHP
var isMobile = false;

//shallow clone an object
function cloneObject(object) {
    return Object.assign({}, object);
}

//get an HTML template fragment
function getTemplate(elementID) {
    var element = $("#" + elementID);
    if (element.is("script[type='text/template']")) {
        return element.text().split(/\$\{(.+?)\}/g);
    } else {
        return false;
    }
}

//render a text/template HTML fragment
function render(properties, functions) {
    return function(token, i) {
        if (i % 2) {
            if (typeof functions === "object" && functions[token]) {
                return functions[token](properties[token]);
            } else {
                return properties[token];
            }
        } else {
            return token;
        }
    };
}

//escape strings for output in HTML
function escapeString(value) {
    return $("<div>").text(value).html();
}

// Set Custom Cookie Function
function setCustomCookie(this_name, this_value, this_time, this_getvar) {
    var cookie_name = this_name;
    var cookie_value = this_value;
    var cookie_time = this_time;
    var cookie_getvar = this_getvar;

    $.ajax({
        type: "POST",
        url: 'code/ajax_setcookie_pdo.php',
        data: {
            name: cookie_name,
            value: cookie_value,
            time: cookie_time,
            getvar: cookie_getvar
        }
    });
}

// Function to Toggle GST
function toggleGST(container) {
    var gstElement = $('#gst');
    var showGST;

    if (container) {
        container = $(container);
    } else {
        container = null;
    }

    if (gstElement.length) {
        showGST = gstElement.prop('checked');
    } else {
        showGST = gstChecked;
    }

    var exGSTElements;
    var incGSTElements;

    if (container) {
        exGSTElements  = container.find(".gex");
        incGSTElements = container.find(".ginc");
    } else {
        exGSTElements  = $(".gex");
        incGSTElements = $(".ginc");
    }

    exGSTElements.toggle(!showGST);
    incGSTElements.toggle(showGST);

    return showGST;
}

// Execute on page load
toggleGST();

// GST Toggle, On Click of Checkbox
$("#gst").click(function() {
    gstChecked = toggleGST();

    $.post(base + "code/toggle_gst_pdo.php", {
        checked: gstChecked
    });
});

//Function for back links
$(".browser_back").click(function(e) {
    e.preventDefault();
    window.history.back();
});

//Function declarations
//Pad numbers to the required number of zeros for display
function zeroPad (num) {
    var s = num+"";
    if (num<10) {
        while (s.length < 2) s = "0" + s;
    }
    return s;
}

//note: includes the dollar sign
//can be overridden by setting the unit parameter to empty string
function formatMoney(x, showZeroCents, unit) {
    showZeroCents = typeof showZeroCents === 'undefined' ? true : showZeroCents;
    unit          = typeof unit === 'undefined'          ? "$"  : unit;

    var value = roundLikePHP(x, 2, "PHP_ROUND_HALF_EVEN");
    if (value % 1 != 0 || showZeroCents) {
        value = value.toFixed(2);
    }

    return unit + value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}

function roundLikePHP(value, precision, mode) {
    //  discuss at: http://phpjs.org/functions/round/
    // original by: Philip Peterson
    //  revised by: Onno Marsman
    //  revised by: T.Wild
    //  revised by: RafaÅ Kukawski (http://blog.kukawski.pl/)
    //    input by: Greenseed
    //    input by: meo
    //    input by: William
    //    input by: Josep Sanz (http://www.ws3.es/)
    // bugfixed by: Brett Zamir (http://brett-zamir.me)
    //        note: Great work. Ideas for improvement:
    //        note: - code more compliant with developer guidelines
    //        note: - for implementing PHP constant arguments look at
    //        note: the pathinfo() function, it offers the greatest
    //        note: flexibility & compatibility possible
    //   example 1: round(1241757, -3);
    //   returns 1: 1242000
    //   example 2: round(3.6);
    //   returns 2: 4
    //   example 3: round(2.835, 2);
    //   returns 3: 2.84
    //   example 4: round(1.1749999999999, 2);
    //   returns 4: 1.17
    //   example 5: round(58551.799999999996, 2);
    //   returns 5: 58551.8

    var m, f, isHalf, sgn; // helper variables
    precision |= 0; // making sure precision is integer
    m = Math.pow(10, precision);
    value *= m;
    sgn = (value > 0) | -(value < 0); // sign of the number
    isHalf = value % 1 === 0.5 * sgn;
    f = Math.floor(value);

    if (isHalf) {
        switch (mode) {
            case 'PHP_ROUND_HALF_DOWN':
                value = f + (sgn < 0); // rounds .5 toward zero
                break;
            case 'PHP_ROUND_HALF_EVEN':
                value = f + (f % 2 * sgn); // rouds .5 towards the next even integer
                break;
            case 'PHP_ROUND_HALF_ODD':
                value = f + !(f % 2); // rounds .5 towards the next odd integer
                break;
            default:
                value = f + (sgn > 0); // rounds .5 away from zero
        }
    }

    return (isHalf ? value : Math.round(value)) / m;
}

//Display the timer countdown
function do_cd(){

    $('.basket_item_timer').each(function() {
        var self = $(this);

        var timer_id = this.id;
        var dateTime = self.data("timeEnd");

        self.countdown({
            date: dateTime,
            offset: 13        }, function(element) {
            if (!isMobile) {
                element.text("Item auto-removed");
            }

            $('#timer_id0').addClass('saleRuleOn_timer_active');
        }, function(element, millisecondsLeft) {
            if (element.is('#timer_id0')) {
                element.toggleClass('saleRuleOn_timer_active');
                $('#timer_id0_basket_total').toggleClass('saleRuleOn_basket_total');

                if (millisecondsLeft < 60000) {
                    $("#basket_item_message_timer_id0").text(" secs left to buy");
                }
            }
        });

    });
}

//Add a message to an element containing messages
function addMessages(messages, elementID, level, id) {
    if ($.isArray(messages)) {
        //if an array, this has come from POST which returns an array of SiteMessage objects
        //get the level from the objects
        $.each(messages, function(i, thisMessage) {
            var existingElement = $("#" + thisMessage.elementID);
            if (thisMessage.message === false) {
                //remove the element
                existingElement.remove();
                return;
            }

            var level = thisMessage.messageType;
            var messageClass;
            if (level == 1) messageClass = "ok_banner";
            if (level == 2) messageClass = "info_banner";
            if (level == 3) messageClass = "warning_banner";

            var messageBox = $("<div/>");
            if (thisMessage.elementID) {
                messageBox.attr("id", thisMessage.elementID);
            }

            if (thisMessage.lineID) {
                var basketItemID = "#basket_item_" + thisMessage.lineID;

                $(basketItemID).addClass("basket_item_error");
                setTimeout(function() {
                    $(basketItemID).removeClass("basket_item_error");
                }, 7000);
            }

            messageBox.addClass(messageClass);
            messageBox.html(thisMessage.message + " <a href='#' class='dismiss_warning'>Dismiss</a>");

            //check to see if an element with that ID already exists
            //if it does, replace it instead of appending
            if (existingElement.length) {
                existingElement.replaceWith(messageBox);
            } else {
                $("#" + elementID).append(messageBox);
            }
        });
    } else {
        //a string has been manually specified
        //need to get the level from the parameters
        if (typeof level === "undefined" || level < 1 || level > 3) level = 1;
        if (level == 1) messageClass = "ok_banner";
        if (level == 2) messageClass = "info_banner";
        if (level == 3) messageClass = "warning_banner";

        id = id || "";

        var messageBox = $("<div/>");

        if (id) {
            messageBox.attr("id", id);
        }

        messageBox.addClass(messageClass);
        messageBox.html(messages + " <a href='#' class='dismiss_warning'>Dismiss</a>");

        if (id) {
            var existingElement = $("#" + id);
            if (existingElement.length) {
                existingElement.replaceWith(messageBox);
            } else {
                $("#" + elementID).append(messageBox);
            }
        } else {
            $("#" + elementID).append(messageBox);
        }
    }
}

//modal confirm
function modalConfirm(title, text, yes, no) {
    $("#confirm_title").text(title);
    $("#confirm_text").html(text);
    $("#pb_modal_confirm").click();

    $("#confirm_yes").off("click.modalConfirm");
    $("#confirm_no").off("click.modalConfirm");

    $("#confirm_yes").on("click.modalConfirm", yes);
    if (typeof no === "function") {
        $("#confirm_no").on("click.modalConfirm", no);
    }
}

//modal form submit
function modalSubmit(title, text, ok, buttonText) {
    buttonText = typeof buttonText === "undefined" ? "OK" : buttonText;

    $("#submit_title").text(title);
    $("#submit_text").html(text);
    $("#submit_ok").text(buttonText);
    $("#pb_modal_submit").click();
    $("#submit_ok").off("click.modalSubmit");
    if (typeof ok === "function") {
        $("#submit_ok").on("click.modalSubmit", ok);
    }
}

function modalCheckboxConfirm(title, text, checkboxLabel, ok, buttonText) {
    buttonText = typeof buttonText === "undefined" ? "OK" : buttonText;

    $("#checkbox_confirm_title").text(title);
    $("#checkbox_confirm_text").html(text);
    $("#checkbox_confirm_label").text(checkboxLabel);
    $("#checkbox_confirm_continue").off("click.modalCheckboxConfirm").text(buttonText).addClass("unavailable").removeClass("orange").prop("disabled", true); //set text and reset button state
    $("#pb_modal_checkbox_confirm").click();

    //reset checkbox back to unchecked
    $("#checkbox_confirm_input").prop("checked", false);

    if (typeof ok === "function") {
        $("#checkbox_confirm_continue").on("click.modalCheckboxConfirm", ok);
    }
}

function dismissWarning(e) {
    e.preventDefault();
    var self = $(this);
    var parent = self.parent();
    if (self.data("reuse")) {
        parent.fadeOut();
    } else {
        parent.remove();
    }
}

$("#checkbox_confirm_input").change(function() {
    var checked = $(this).is(":checked");
    $("#checkbox_confirm_continue").toggleClass("orange", checked).toggleClass("unavailable", !checked).prop("disabled", !checked);
});

//Radio buttons in a list - add/remove class to outer label
$(".basket_radio_option_list input:radio, .basket_radio_option_list input:checkbox").change(function() {
    var parentForm = $(this.form);
    var inputs = parentForm.find("input[type=checkbox], input[type=radio]");
    inputs.each(setLabelSelected);
});

//jQuery spinner to number inputs
if ($.fn.spinner) {
    $("input[type=number]").spinner({
        change: function() {
            $(this).change();
        }
    });
}

//Add Select2
if ($.fn.select2) {
    $(".select2").select2({
        minimumResultsForSearch: 10,
        placeholder: $(this).attr("data-placeholder")
    });

    var salespersonSelect = $("#salesperson").select2({
        allowClear: true,
        minimumResultsForSearch: 10,
    });
}

//Set defaults for SweetAlert2
if (typeof swal !== "undefined") {
    swal.setDefaults({
        reverseButtons: true,
    });
}

if ($.fn.qtip) {
    //tooltip config in a variable so it can be called upon later
    var tooltipConfig = {
        opacity: 1,
        position: {
            my: "bottom center",
            at: "top center"
        },
        content: {
            button: true
        },
        show: {
            event: "click"
        },
        hide: {
            event: "unfocus click",
            target: false
        },
        style: {
            classes: "qtip-light",
            tip: {
                corner: true,
                width: 18,
                height: 12
            }
        }
    };

    $(".tooltip_icon").click(function(e) {
        e.stopPropagation();
    });

    $(".tooltip_icon").qtip(tooltipConfig);
}

//jQuery function for setting buttons as in progress
//inProgress (bool) - whether the button is to show in progress
// -true disables the button and shows progress text
// -false re-enables the button and returns the text to its previous value
//progressText (string) - the text to show while the button is in progress
//showLoader (bool) - whether to show the loader GIF
// -only applies on full size buttons. On small buttons where the loader is the only indicator, this is ignored
$.fn.progress = function(inProgress, progressText, showLoader) {
    if (typeof showLoader === "undefined") showLoader = true;

    return this.each(function(index) {
        var element = $(this);
        var isInput = element.is("input[type='button'], input[type='submit']");

        //check if it has a valid class first
        //if not, do nothing
        if (!element.is(".p_atc_button_dd, .p_nostock_noorder_button_dd, .button, button")) return;

        if (inProgress) {
            element.prop("disabled", true);
            //put hidden input here so the value can still be submitted
            $("<input/>", {
                type: "hidden",
                name: element.prop("name"),
                value: element.val(),
            }).insertAfter(element);

            //if the element wasn't already in progress, save the current HTML
            if (!element.data("inProgress")) {
                if (isInput) {
                    element.data("oldValue", element.val());
                } else {
                    element.data("oldHTML", element.html());
                }
            }

            //find out if the only child is an image
            //if so, replace with small loader

            if (!isInput && element.text().trim().length == 0 && element.children().length == 1 && element.children("img").length == 1) {
                element.children("img").attr("src", "imglib/ajax-loader-small.gif");
            } else {
                element.addClass("disabled");
                if (progressText) {
                    if (isInput) {
                        element.val(progressText);
                    } else {
                        element.text(progressText);
                    }
                }

                if (showLoader) {
                    var loader = $("<img/>", {
                        src: "imglib/ajax-loader.gif",
                        "class": "button_loader"
                    });

                    if (isInput) {
                        loader.insertAfter(element);
                    } else {
                        loader.appendTo(element);
                    }
                }
            }
        } else if (element.data("inProgress")) {
            element.prop("disabled", false);
            element.removeClass("disabled");

            if (isInput) {
                element.next(".button_loader").remove();
                element.val(element.data("oldValue"));
            } else {
                element.find(".button_loader").remove();
                element.html(element.data("oldHTML"));
            }
            element.next("input[type=hidden][name=" + element.prop("name") + "]").remove();
        }

        element.data("inProgress", inProgress);
    });
}

//jQuery function for applying auto-complete to a field that takes a product code
$.fn.productAutocomplete = function(callback, showMore) {
    var searchUrl = 'code/ajax_header_search_products_pdo.php?type=product';
    if (showMore) {
        searchUrl += '&mode=collection';
    }
    return this.each(function(index) {
        var element = $(this);
        element.autocomplete({
            source: base + searchUrl,
            minLength: 3,
            select: callback,
            position: {
                collision: "flip",
            },
        }).data("ui-autocomplete")._renderItem = function(ul, item) {
            return $(formatProduct(item)).appendTo(ul);
        };
    });
};


//jQuery function for applying auto-complete to a field that can take either a product code or invoice/order number, returning order details
$.fn.productOrderAutocomplete = function(options) {
    //Object.assign is not supported in IE but a fallback exists, so this is usable
    options = Object.assign({
        type: "searchable",
        minLength: 4,
        search: "invoices",
        useStaff: true,
        callback: function() {},
    }, options);

    var url = base + "code/ajax_search_invoiced_products_pdo.php?";
    var parameters = {
        type: options.type,
        search: options.search,
        useStaff: options.useStaff
    }

    url += $.param(parameters);

    return this.each(function(){
        $(this).autocomplete({
            source: url,
            minLength: options.minLength,
            select: options.callback,
            position: {
                collision: "flip",
            },
        }).data("ui-autocomplete")._renderItem = function(ul, item) {
            return $(formatProductOrder(item)).appendTo(ul);
        };
    });
};

// Generic Modal. Override with custom css
$.fn.pbModal = function(options) {
    var defaults = {
        top: 100,
        overlay: 0.5,
        closeButton: null,
        clickOut: true,
        callback: null
    };
    options = $.extend(defaults, options);
    return this.each(function() {
        var o = options;
        if (o.onLoad) {
            o.onLoad();
        }
        $(this).click(function(e) {
            var currentModal = $(this);
            //for backwards compatibility, if there's no data attribute with the class of the modal to open, fall back to the ID
            var modal_id = currentModal.data("modalClass") || currentModal.attr("id");
            var overlayID = "pb_modal_overlay_" + modal_id

            var overlay = $("#" + overlayID);
            if (overlay.length == 0) {
                overlay = $("<div/>", {
                    id: overlayID,
                    'class': "pb_modal_overlay"
                });
                $("#modalHolder").append(overlay);
            }

            if (o.clickOut) {
                overlay.click(function() {
                    close_modal(modal_id)
                });
            }

            $(o.closeButton).click(function() {
                close_modal(modal_id)
            });

            overlay.css({
                "display": "block",
                opacity: 0
            });
            overlay.fadeTo(200, o.overlay);
            var modalContainer = $("." + modal_id);

            // window.addEventListener('resize', function() {
            //     if (overlay.is(':visible')) {
            //         pbmodalFadeIn(modalContainer, overlay, o);
            //     }
            // });

            pbmodalFadeIn(modalContainer, overlay, o);

            e.preventDefault();

            if (typeof options.callback === "function") {
                options.callback(currentModal);
            }
        });
    });

    function pbmodalFadeIn(element, overlay, o) {
        element.appendTo("#modalHolder"); // append to body so z-index works
        //max height
        var windowHeight = $(window).height() - (o.top * 2);
        //min of the max height or the actual height

        element.css({
            "display": "block",
            "position": "fixed",
            "opacity": 0,
            "z-index": 101,
            "top": "50%",
            "left": "50%",
            "transform": "translateX(-50%) translateY(-50%)",
            "max-height": windowHeight,
            "overflow-y": "auto"
        });
        element.fadeTo(200, 1);
    }

    function close_modal(modal_id) {
        //stop YouTube video here
        var div = $("." + modal_id)[0];
        if (typeof div !== 'undefined') {
            var iframe = div.getElementsByTagName("iframe");
            if (iframe.length) {
                iframe[0].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}','*');
            }
        }
        $("#pb_modal_overlay_" + modal_id).fadeOut(200);
        $("." + modal_id).hide();
    }
}

function nzAddressValidation(addressIDElement) {
    var value = $('#' + addressIDElement).val();
    return (value == "legacy" && !autoAddress) || (value != '' && autoAddress);
}

if ($.validator) {
    $.validator.setDefaults({
        highlight: highlightErrors,
        unhighlight: unhighlightErrors,
        errorPlacement: placeError,
        rules: {
            hidden_recaptcha: {
                required: function() {
                    return grecaptcha.getResponse() == "";
                }
            }
        },
        messages: {
            hidden_recaptcha: "Please verify that you are not a robot."
        },
        ignore: [
            ":hidden:not([name='hidden_recaptcha'])" //ignore if hidden unless reCAPTCHA input
        ]
    });

    $.validator.addMethod("date_picker", function(value, element, parameters) {
        try {
            $.datepicker.parseDate("d MM yy", value);
            return true;
        } catch (e) {
            return false;
        }
    }, "Please enter a valid date.");

    $.validator.addMethod("notEqualTo",
        function(value, element, param) {
            return this.optional(element) || value != param;
        },
        "Please enter a different value."
    );

    $.validator.addMethod("maxLines",
        function(value, element, param) {
            var newLines = value.split("\n").length;
            return this.optional(element) || newLines <= param;
        },
        $.validator.format("Please enter no more than {0} lines.")
    );

    $.validator.addMethod("nz_address_valid", function(value, element, parameters) {
        if (!$(element).is(":visible")) {
            return true;
        }

        return nzAddressValidation(parameters);
    }, "Please enter a valid New Zealand address.");

    $.validator.addMethod("inarray", inArrayCaseInsensitive, "Please enter a valid value.");

    $.validator.addMethod("notinarray", function(value, element, array) {
        var inArray = inArrayCaseInsensitive(value, element, array);
        return !inArray;
    }, "Please enter a value that does not already exist.");

    function inArrayCaseInsensitive(value, element, array) {
        value = value.trim().toUpperCase();

        return array.some(function(thisElement) {
            if (value === thisElement.toUpperCase()) {
                return true;
            }
        });
    }
}

function placeError(error, element) {
    var fieldset = element.closest("fieldset");

    if (element.is('[name^="payment_option_extra_"]')) {
        error.appendTo(element.closest(".payment_additional"));
    } else if (fieldset.is(".basket_radio_option_list")) {
        error.appendTo(fieldset);
    } else if (element.is('[name="postshop"]')) {
        error.appendTo("#pickup_post_shop_label");
    } else if (element.hasClass("ui-spinner-input")) {
        element.closest(".ui-spinner").after(error);
    } else {
        error.appendTo(element.parent());
    }
}

function highlightErrors(element, errorClass, validClass) {
    errorClasses(element, true, errorClass, validClass);
}

function unhighlightErrors(element, errorClass, validClass) {
    errorClasses(element, false, errorClass, validClass);
}

function errorClasses(element, highlight, errorClass, validClass) {
    var add    = highlight ? errorClass : validClass;
    var remove = highlight ? validClass : errorClass;

    element = $(element);
    var parent = element.parent();
    var name = element.attr("name");
    var radioSelector = "input[type=radio][name='" + name + "']";

    if (element.hasClass("select2")) {
        var select2Element =  $("#select2-" + element.attr("id") + "-container").parent();
        select2Element.removeClass(remove);
        select2Element.addClass(add);
    } else if (parent.is("label")) {
        if (element.attr("type") == "radio") {
            //add error class to other radio boxes
            //if the element's grandparent is a label container, add to that instead
            //if element's parent is a label, add it there instead
            var parents = $(radioSelector).parent("label");
            var grandparents = parents.parent();

            if (grandparents.is(".label_container")) {
                grandparents.removeClass("label_" + remove);
                grandparents.addClass("label_" + add);
            } else {
                parents.removeClass("label_" + remove);
                parents.addClass("label_" + add);
            }
        }
    } else {
        element.removeClass(remove);
        element.addClass(add);
        if (element.attr("type") == "radio") {
            //add error class to other radio boxes
            $(radioSelector).removeClass(remove);
            $(radioSelector).addClass(add);
        }
    }
}

//remove colour inputs for browsers that don't support it
//if the browser does support colour inputs, link them to the text input
var colourInputs = $("input[type='color']");
if (colourInputs.length > 0) {
    var colorInput = $('<input type="color" value="!" />')[0];
    if (colorInput.type === 'color' && colorInput.value !== '!') {
        colourInputs.on("input change", function() {
            var self = $(this);
            var textElement = self.data("textElement");
            var value = self.val();
            $("#" + textElement).val(value);
        });

        //relies on the fact that the change event only occurs on user change
        $(".colour_text").change(function() {
            var self = $(this);
            var value = self.val();
            var colourElement = self.data("colourElement");
            var validColour = /^#[0-9A-Fa-f]{6}$/i.test(value);
            if (validColour) {
                $("#" + colourElement).val(value);
            }
        });
    } else {
        colourInputs.parent(".fmOption, .byod_form_colour").removeClass("colour");
        colourInputs.each(function() {
            var self = $(this);
            var textElement = self.data("textElement");
            $("#" + textElement).colorpicker();
        });
        colourInputs.remove();
    }
}

//JavaScript to support YouTube content blocks
$(".ytBlock_smallvideo").click(function(e) {
    var self = $(this);
    var parent = self.closest(".relatedVideos");
    parent.find('.ytBlock_smallvideo').removeClass("activeSmallYt");
    self.addClass("activeSmallYt");
});

//generic function for scrolling to an element
//can be passed anything accepted by the jQuery function
function scrollToElement(element) {
    var gridlistHeight = $(".p_grid_ov_dd").height();
    var goTo = $(element).offset().top - gridlistHeight;
    $("html, body").animate({
        scrollTop: goTo
    }, 500);
}

// NZ POST NEW



    var suburbBox   = $(".suburbbox");
    var townCityBox = $(".towncitybox");
    var postCodeBox = $(".postcodebox");

    // autocomplete for suburb box
    suburbBox.autocomplete({
        source: base + "code/search_suburb_auto_pdo.php",
        autoFocus: true,
        delay: 0,
    });

    // autocomplete for town/city box
    townCityBox.autocomplete({
        source: base + "code/search_towncity_auto_pdo.php",
        autoFocus: true,
        delay: 0
    });

    // retrieve suburb value on load
    var suburb_val = suburbBox.val();

    // suburb box on change
    suburbBox.change(function() {
        // get values
        var suburb_val = suburbBox.val();
        var towncity_val = townCityBox.val();
        var postcode_val = postCodeBox.val();

        // attempt to autofill city and postcode boxes
        if (suburb_val != "" && postcode_val == "") {
            $.post(base + "code/ajax_postcode_autofill_pdo.php", {
                suburb: suburb_val,
                city: towncity_val
            }, function(data) {
                if (data.city) {
                    townCityBox.val(data.city);
                    townCityBox.valid();
                }
                if (data.postcode) {
                    postCodeBox.val(data.postcode);
                    postCodeBox.valid();
                }
            });
        }
        suburbBox.valid();
    });

    // town city box on change
    townCityBox.change(function() {
        var suburb_val = suburbBox.val();
        var towncity_val = townCityBox.val();
        var postcode_val = postCodeBox.val();
        // attempt to autofill postcode box
        if (suburb_val != "" && towncity_val != "" && postcode_val == "") {
            $.post(base + "code/ajax_postcode_autofill_pdo.php", {
                suburb: suburb_val,
                city: towncity_val
            }, function(data) {
                if (data.postcode) {
                    postCodeBox.val(data.postcode);
                    postCodeBox.valid();
                }
            });
        }
        townCityBox.valid();
    });

    //NZ Post autocomplete
    //function does nothing if not defined or element does not exist
    //takes a field ID and an object with keys street, suburb, city, postcode with field IDs to populate as values
    function nzPostAutocomplete(field, populates, fireChangedEvent) {
        if (typeof fireChangedEvent === "undefined") {
            fireChangedEvent = true;
        }

        if (typeof NZPost !== "undefined" && $("#" + field).length > 0) {
            var nzPostPopulates = {};

            if (populates['street']) {
                nzPostPopulates[populates['street']] = function(address) {
                    if (address.AddressLine2) {
                        var suburbOnly = address.Suburb;
                        var suburbPostcode = address.Suburb + " " + address.Postcode;
                        var addressLine2 = address.AddressLine2;

                        if (addressLine2 == suburbOnly || addressLine2 == suburbPostcode) {
                            return address.AddressLine1;
                        } else {
                            return address.AddressLine1 + ", " + address.AddressLine2;
                        }
                    } else {
                        return address.AddressLine1;
                    }
                };
            }

            if (populates['suburb']) {
                nzPostPopulates[populates['suburb']] = function(address) {
                    if (address.Suburb == null) {
                        return address.MailTown;
                    } else {
                        return address.Suburb;
                    }
                };
            }

            if (populates['city']) {
                nzPostPopulates[populates['city']] = 'CityTown';
            }

            if (populates['postcode']) {
                nzPostPopulates[populates['postcode']] = 'Postcode';
            }

            if (populates['addressID']) {
                nzPostPopulates[populates['addressID']] = 'DPID';
            }

            if (populates['fullAddress']) {
                nzPostPopulates[populates['fullAddress']] = 'FullAddress';
            }

            var checkerOptions = {
                theme: {
                    boxClass:'checker_box',
                    itemClass:'address_item',
                    hoverClass:'address_hover'
                },
                populates: nzPostPopulates,
                search_type: "Physical",
                success: function(address) {
                    var fields = Object.keys(this.populates);

                    if (typeof cityRequired !== "undefined") {
                        cityRequired[populates['city']] = address.CityTown !== null;
                    }

                    $.each(fields, function(index, value) {
                        $("#" + value).valid(); //handle validation
                        if (fireChangedEvent) {
                            $("#" + value).change(); //handle other things
                            $("#" + value).blur(); //handle other things
                        }
                    });
                }
            };

            new NZPost.Addressing.Checker(document.getElementById(field), '58d94ed0-fdaf-0132-86db-00505692031f', checkerOptions);
        }
    }

    //generic autocomplete for all pages
    nzPostAutocomplete("street_autocomplete", {
        street: "street_autocomplete",
        suburb: "suburb_autocomplete",
        city: "city_autocomplete",
        postcode: "postcode_autocomplete",
    });
    
//function for copying the value of an input element
//element must be an input, but not a checkbox or radio button
function copyInputText(input) {
    input = $(input);

    if (input.is(":input") && !input.is(":checkbox") && !input.is(":radio")) {
        input.focus().select();
        document.execCommand("copy");
    }
}

//on load, set the selected attribute as above
$(".basket_radio_option_list input[type=radio], .basket_radio_option_list input[type=checkbox]").each(setLabelSelected);

function setLabelSelected() {
    //works with each checkbox and radio button in a form
    //first set up variables
    var input = $(this);
    var parent = input.parent();
    var grandparent = parent.parent();
    var element;

    //then find out if the grandparent is a label container
    if (grandparent.is(".label_container")) {
        element = grandparent;
    } else {
        element = parent;
    }

    //add or remove the selection styles
    if (input.is(":checked")) {
        element.addClass("selected");
    } else {
        element.removeClass("selected");
    }
}

function formatProduct(item) {
    var list = "<li class='header_search_item'>";
    // item image
    if (item.Type == "Product") {
        list += "<span class='item_image'>";
        list += "<img src='"+ item.thumb +"'>";
        list += "</span>";
    }

    // item name
    list += "<span class='"+ (item.Type == 'Search' ? 'item_default' : 'item_name') +"'>"
    var showName = item.DisplayName.length > 150 ? item.DisplayName.substring(0,147) + "..." : item.DisplayName ;
    // product name
    list += "<span class='item_title'>";
    if (item.Type == "Product") {
        list += "<b>" + showName + "</b>";
    } else if (item.Type == "Brand" || item.Type == "Category") {
        list += "View all <b>"+ showName  +"</b> products";
    } else if (item.Type == "Search") {
        list += "Search <b>"+ item.DisplayName  +"</b>";
    }
    list += "</span>";

    // additional details
    if (item.Type ==  "Product") {
        list += "<span class='item_orange inline_block'>";
        list += "<b>Part #:</b> " + item.OriginID;
        list += "</span>";

        list += "<span class='item_neutral inline_block'>";
        list += " <b>MFC: </b>";
        list += typeof item.AdditionalDescription != 'undefined' && item.AdditionalDescription.length > 0 ? item.AdditionalDescription : item.OriginID;
        list += "</span>";

        var hasStock = typeof item.stockText != 'undefined';
        var hasPrice = typeof item.priceHTML != 'undefined';
        if (hasStock || hasPrice) {
            if (hasStock) {
                list += "<span class='item_stock inline_block'>";
                list += "<b>Stock #:</b> " + item.stockText;
                list += "</span>";
            }

            if (hasPrice) {
                list += "<span class='item_price inline_block'>";
                list += item.priceHTML;
                list += "</span>";
            }
        }
    }

    list += "</span>";
    list += "</li>";
    return list;
}

function formatProductOrder(item) {
    // TODO:: if style OK, move to css file
    var list = "<li style='padding:2px 0px; margin:2px 0px;'>";
    // product image
    list += "<span class='returnDrop'>";
    list += "<img width='50' height='50' src='"+ item.thumb +"'>";
    list += "</span>";

    list += "<span class='returnDetails'>";
    // product name
    list += "<span style='display:inline-block; margin-bottom: 10px;'>";
    if (item.name) {
        list += "<b>"+ item.name  +"</b>";
    }
    list += "</span><br>";

    // part#
    list += "<span style='display:inline-block; width:200px; font-size: 12px;'>";
    list += "<b style='color:#F46F0C;'>Part#:</b> ";
    list += item.code;
    list += "</span>";

    // UPC
    if (item.upc) {
        list += "<span style='display:inline-block; font-size: 12px;'>";
        list += "<b style='color:#F46F0C;'>UPC:</b> ";
        list += item.upc;
        list += "</span>";
    }
    list += "<span>";

    if (loggedIn) {
        list += "<hr noshade style='display:block; height: 0; border: 0; border-top: 2px solid #F46F0C; padding: 0; margin: 0 0;'>";

        // sales order
        if (item.orderReference != "") {
            list += "<span style='display:inline-block; padding: 2px 2px; font-size: 12px;'>";
            list += "<b style='color:#F46F0C;'>Order#:</b> ";
            list += item.orderReference;
            list += "</span>";
        }

        // Invoice#
        if (item.invoiceReference != "") {
            list += " | <span style='display:inline-block; padding: 2px 2px; font-size: 12px;'>";
            list += "<b style='color:#F46F0C;'>Invoice#:</b> ";
            list += item.invoiceReference;
            list += "</span>";
        }

        // Invoice date
        if (item.invoiceDate != "") {
            list += " | <span style='display:inline-block; padding: 2px 2px; font-size: 12px;'>";
            list += "<b style='color:#F46F0C;'>Invoice date:</b> ";
            list += item.invoiceDate;
            list += "</span>";
        }

        // Serial Number
        if (item.serialNumber != "") {
            list += " | <span style='display:inline-block; padding: 2px 2px; font-size: 12px;'>";
            list += "<b style='color:#F46F0C;'>Serial Number:</b> ";
            list += item.serialNumber;
            list += "</span>";
        }

        if (item.tradingReference != "" || item.pbTradingReference != "") {
            list += "<br>";
        }

        // customer trading reference
        if (item.tradingReference != "") {
            list += "<span style='display:inline-block; padding: 2px 2px; font-size: 12px;'>";
            list += "<b style='color:#F46F0C;'>Trading reference:</b> ";
            list += item.tradingReference;
            list += "</span>";
        }

        // PB trading reference
        if (item.pbTradingReference != "") {
            list += " | <span style='display:inline-block; padding: 2px 2px; font-size: 12px;'>";
            list += "<b style='color:#F46F0C;'>PB Trading reference:</b> ";
            list += item.pbTradingReference;
            list += "</span>";
        }
    }

    list += "</li>";
    return list;
}

$(function() {
    //prevent # links from doing anything - the <base> tag messes with these
    $("a[href^='#']").click(function(e) {
        e.preventDefault();
        var self = $(this);
        if (self.hasClass("no_scroll")) return;

        var hash = self.attr('href').substring(1);
        if (hash != "") {
            window.location.hash = hash;
        }
    });

    //show elements to be visible only with JavaScript on
    $(".js-only").removeClass("js-only");
    $(".hide-js-only").addClass("hidden");

    //Tab headers
    $(".tab_content").hide();

    $(".tab_row li").click(function(e) {
        e.preventDefault();
        var contentID = $(this).find("a").prop("hash");

        if ($(this).hasClass("selected")) {
            $(contentID).hide();
        } else {
            $(".tab_row li.selected").removeClass("selected");
            $(".tab_content").hide();
            $(contentID).show();
        }
        $(this).toggleClass("selected");
    });

    //Drop down checklists for brands and filters in sidebar
    if ($.fn.dropdownchecklist) {
        $(".filter_multioption").each(function(){
            $(this).dropdownchecklist({
                width: 112,
                firstItemChecksAll: "exclusive",
                zIndex: 3,
                positionHow: 'relative',
                onComplete: function(selector) {
                    var controller = $(selector).attr('id');
                    if (controller.length <= 0) {
                        controller = $(selector).attr('name');
                    }

                    if (controller.length > 0) {
                        document.getElementById("ddcl-" + controller + "-ddw").style.position = 'absolute';
                    }
                }
            });
        });
    }

    //Slider filters
    if ($.fn.slider) {
        var sfilterArrays = [""];
        $(".sfilter").each(function () {
            var sf = $(this).attr("id");
            var sfid = sf.replace("sf", "");

            var sfilterArraysValues;
            $.each(sfilterArrays, function(key, val) {
                if (sfid == key) {
                    sfilterArraysValues = val;
                }
            });

            $(this).slider({
                range: true,
                min: 0,
                max: sfilterArraysValues.length - 1,
                values: [ $(this).data("min"), $(this).data("max") ],
                step: 1,
                slide: function( event, ui ) {
                    if (ui.values[0] == 0 && ui.values[1] == sfilterArraysValues.length - 1) {
                        $(this).find(".sfilter_full").val("true");
                    } else {
                        $(this).find(".sfilter_full").val("false");
                    }

                    // Insert Back into Form Element
                    $(this).find(".sfilter_min").val(sfilterArraysValues[ui.values[ 0 ]]['paesize']);
                    $(this).find(".sfilter_max").val(sfilterArraysValues[ui.values[ 1 ]]['paesize']);

                    // Display Range Values
                    $("." + sf + "t").find(".sfilter_text_min").html(parseFloat(sfilterArraysValues[ui.values[ 0 ]]['paesize']));
                    $("." + sf + "t").find(".sfilter_text_max").html(parseFloat(sfilterArraysValues[ui.values[ 1 ]]['paesize']));

                    $(this).parent().parent().find(".submitClass").show();
                }
            });
        });
        }

    // Add to Cart Button, AJAX
    $("body").on("click", ".atb", function(e) {
        e.preventDefault();

        var self = $(this);
        var new_item = self.data("productId");
        var new_qty = "1";
        var pwpProducts = $(this).data("pwp");
        var new_type = self.data("type") || "";
        var new_vault = 1;
        var parentID = self.data("parent");

        var url;
        var data;

        if (self.data("vault")) {
            new_vault = self.data("vault");
        }

        self.progress(true, "Adding...");

        if (parentID) {
            url = 'code/ajax_pwp_toggle_pdo.php';
            data = {
                this_id: new_item,
                this_pid: parentID,
                this_checked: "true",
                this_parent_vault: new_vault
            };
            //ignore PwP products here as it *is* a PwP product
        } else {
            url = 'code/basket_add_pdo.php?product=' + new_item + '&qty=' + new_qty + '&type=' + new_type + '&vault=' + new_vault;
            if (typeof pwpProducts === "string" && pwpProducts.length > 0) {
                url += "&productpwp[]=" + encodeURIComponent(pwpProducts);
            }
            data = null;
        }

        $.post(url, data, function(basketItemData) {
            if (typeof basketItemData.errors !== "undefined") {
                var message = basketItemData.errors.join("<br>");
                self.progress(false);
                modalSubmit("Could not add to cart", message, function() {
                    window.location.reload();
                });
            } else if (new_type === "quickbuy") {
                window.location = base + 'confirm-order';
            } else {
                if (showPwP && self.hasClass("show_pwp")) {
                    //only if we're on the basket page
                    if (typeof addBasketItems !== "undefined") addBasketItems(basketItemData.basket, $("#basket_form_container"));
                    updateTotals(basketItemData);

                    $.post(base + "code/ajax_pwp_content_pdo.php", {
                        pID: new_item,
                        vault: new_vault
                    }, function(data) {
                        self.progress(false);

                        $("#pb_modal_content_pwp").html(data);

                        // New Header Menu
                        $.post(base + "code/ajax_menu_basket_pdo.php", function(data) {
                            $("#menu_basket_items").html(data.menuBasketItems);
                        });

                        $("#pb_modal_pwp").click();
                    });
                } else {
                    window.location = base + 'basket';
                }
            }
        }).fail(function(jqXHR, textStatus, errorThrown) {
            var message = jqXHR.responseJSON.errors.join("<br>");
            self.progress(false);
            modalSubmit("Could not add to cart", message, function() {
                window.location.reload();
            });
        });
    });

    $("#submit_text").on("click", ".reload", function() {
        window.location.reload();
    });

    
    /**
     * jQuery Menu-Aim
     */
    var $menu = $(".main_nav_dropdown");

    // Initialize Menu-Aim
    if ($.fn.menuAim) {
        $menu.menuAim({
            activate: function(row) {
                var $row = $(row),
                    submenuId = $row.data("submenuId"),
                    submenuDivisions = $row.data("submenuDivisions"),
                    $submenu = $("#" + submenuId),
                    $submenu_group = $("." + submenuId + "_group"),
                    height = $menu.outerHeight(),
                    width = $menu.outerWidth();

                // Show the submenu
                $submenu.css({
                    display: "block",
                    left: width,
                    width: ((990 - width) / 4) * submenuDivisions,
                    height: height
                });

                $submenu_group.css({
                    height: height
                });

                // Keep the currently activated row's highlighted look
                if (submenuId != 'blank') {
                    $row.addClass("maintainHover");
                    $row.children().css("background-image", "url('imglib/dd/icon-menu-arrow-right-white.png')");
                }
            },
            deactivate: function(row) {
                var $row = $(row),
                    submenuId = $row.data("submenuId"),
                    $submenu = $("#" + submenuId);

                if (submenuId != 'blank') {
                    // Hide the submenu and remove the row's highlighted look
                    $submenu.css("display", "none");
                    $row.removeClass("maintainHover");
                    $row.children().css("background-image", "url('imglib/dd/icon-menu-arrow-right.png')");
                }
            },
            exitMenu: function (row) {
                return true;
            }
        });

        $(".main_nav_dropdown li").click(function(e) {
            e.stopPropagation();
        });

        $(".main_nav_dropdown").hover(function(e) {
            // do nothing
        }, function() {
            $(".popover").css("display", "none");
            $("li.maintainHover").removeClass("maintainHover");
        });

        // STICKY HEADER
                        // stocky main header - other pages
                $(window).scroll(function() {
                    var scroll = $(window).scrollTop();
                    if (scroll >= 150) {
                        $(".header_cell .horizontal_list").hide();
                        $(".fixHeader").addClass('headerFix').slideDown(100);
                        $("#header .logo").addClass('logoFix');
                        $(".mainLogo").addClass('mainLogoFix');
                        $("#header").addClass('headerFixPadd');
                        $(".product_stickyBG").slideDown(100);
                        $(".dollars").addClass("sticky_dollar");
                        // $(".save_rrp").addClass("sticky_save");
                        $(".save_price").addClass("sticky_normal");
                        $(".p_codes_dd").hide();
                        $(".hideCell").addClass("hidetd");
                        $(".product_t").addClass("adjustPadding");
                        $(".cost_wrap").addClass("float_right");
                        $(".productPrintTD").addClass("productPrintTD_adjust");
                        $(".p_marketingLine").addClass("hidetd");
                        $(".search_autocomplete").addClass('stickSB');
                        $(".wrapper").addClass("wrapperTop");
                    } else {
                        $(".header_cell .horizontal_list").show();
                        $(".fixHeader").removeClass('headerFix');
                        $("#header .logo").removeClass('logoFix');
                        $(".mainLogo").removeClass('mainLogoFix');
                        $("#header").removeClass('headerFixPadd');
                        $(".product_stickyBG").hide();
                        $(".dollars").removeClass("sticky_dollar");
                        $(".save_rrp").removeClass("sticky_save");
                        $(".save_price").removeClass("sticky_normal");
                        $(".p_codes_dd").show();
                        $(".hideCell").removeClass("hidetd");
                        $(".product_t").removeClass("adjustPadding");
                        $(".cost_wrap").removeClass("float_right");
                        $(".productPrintTD").removeClass("productPrintTD_adjust");
                        $(".p_marketingLine").removeClass("hidetd");
                        $(".search_autocomplete").removeClass('stickSB');
                        $(".search_autocomplete").hide();
                        $(".wrapper").removeClass("wrapperTop");
                    }
                });

            
        // MAIN MENU
        // department tab
        $(".depMenu").click(function(e) {
            if ($(".menu_option_1").hasClass("home")) {
                $(".menu_option_1, .menu_option_arrow_1").show();
                $(".menuOverlay2").addClass('overlayHidden');
            }
            else {
                $(".menu_option_1, .menu_option_arrow_1").toggle();
                $(".header_button, .header_button_cart").removeClass('header_button_active');
                $(".menuOverlay2, .menuOverlay3, .menuOverlay4").addClass('overlayHidden');
                $(".header_button_cart").removeClass('header_button_active');
                $(".menu_arrow_down_dep").toggleClass("menu_up_active");
                $(".menu_arrow_down_ser").removeClass("menu_up_active");
                if ($(".menuOverlay").hasClass('overlayHidden')) {
                    $(".menuOverlay").removeClass('overlayHidden').fadeIn(100);
                }
                else {
                    $(".menuOverlay").addClass('overlayHidden').fadeOut(100);
                }
            }
            $(".menu_option_2, .menu_option_arrow_2, .menu_option_4, .menu_option_arrow_4, .menu_option_5, .menu_option_arrow_5").hide();
        });

        // slide main department menu down when home page loads
        $(".main_nav.home").slideDown();

        $(".menu_option_1").hover(function(e) {
            if ($(".menu_option_1").hasClass("home")) {
                if ($(".menuOverlay6").hasClass('overlayHidden')) {
                    $(".menuOverlay6").removeClass('overlayHidden').fadeIn(100);
                    $(".menu_option_1").removeClass('dropBack');
                }
                else {
                    $(".menuOverlay6").addClass('overlayHidden').fadeOut(100);
                }
            }
        });

        // services tab
        $(".serMenu").click(function(e) {
            if ($(".menu_option_1").hasClass("home")) {
                $(".menu_option_1").show();
                $(".menu_option_arrow_1").toggle();
                $(".menu_option_1").addClass('dropBack');
                if ($(".menu_arrow_down_dep").hasClass("menu_up_active")) {
                    $(".menu_arrow_down_dep").removeClass("menu_up_active");
                }
                else {
                    $(".menu_arrow_down_dep").addClass("menu_up_active");
                }
            }
            else {
                $(".menu_option_1, .menu_option_arrow_1").hide();
                $(".menu_arrow_down_dep").removeClass("menu_up_active");
            }
            $(".menu_option_2, .menu_option_arrow_2").toggle();
            $(".header_button").removeClass('header_button_active');
            $(".menu_option_4, .menu_option_arrow_4, .menu_option_5, .menu_option_arrow_5").hide();
            $(".menuOverlay, .menuOverlay3, .menuOverlay4").addClass('overlayHidden');
            $(".header_button_cart").removeClass('header_button_active');
            $(".menu_arrow_down_ser").toggleClass("menu_up_active");
            if ($(".menuOverlay2").hasClass('overlayHidden')) {
                $(".menuOverlay2").removeClass('overlayHidden').fadeIn(100);
            }
            else {
                $(".menuOverlay2").addClass('overlayHidden').fadeOut(100);
            }
        });

        // account tab
        var accountMenu = $(".accMenu");
        accountMenu.hover(function(e) {
            if ($(".menu_option_1").hasClass("home")) {
                $(".menu_option_1, .menu_option_arrow_1").show();
                $(".menu_option_1").addClass('dropBack');
            }
            else {
                $(".menu_option_1, .menu_option_arrow_1").hide();
            }
            $(".menu_option_2, .menu_option_arrow_2, .menu_option_5, .menu_option_arrow_5").hide();
            $(".menuOverlay, .menuOverlay2, .menuOverlay4").addClass('overlayHidden');
            $(".header_button_cart").removeClass('header_button_active');
            if ($(".menuOverlay3").hasClass('overlayHidden')) {
                $(".menuOverlay3").removeClass('overlayHidden').fadeIn(0);
                $(".menu_arrow_down_dep, .menu_arrow_down_ser").removeClass("menu_up_active");
            }
            else {
                $(".menuOverlay3").addClass('overlayHidden').fadeOut(0);
            }
        });

        if (accountMenu.length > 0 && accountMenu.is(":hover")) {
            $(".menuOverlay3").removeClass('overlayHidden');
            $(".menu_arrow_down_dep, .menu_arrow_down_ser").removeClass("menu_up_active");
        }

        // basket tab
        var basketMenu = $(".basMenu");
        basketMenu.hover(function(e) {
            if ($(".menu_option_1").hasClass("home")) {
                $(".menu_option_1, .menu_option_arrow_1").show();
                $(".menu_option_1").addClass('dropBack');
            }
            else {
                $(".menu_option_1, .menu_option_arrow_1").hide();
            }
            $(".header_button, .header_button_login").removeClass('header_button_active');
            $(".menu_option_4, .menu_option_arrow_4, .menu_option_2, .menu_option_arrow_2, .menu_option_6").hide();
            $(".menuOverlay, .menuOverlay2, .menuOverlay3, .menuOverlay5").addClass('overlayHidden');
            // $(".header_button_cart").toggleClass('header_button_active');
            if ($(".menuOverlay4").hasClass('overlayHidden')) {
                $(".menuOverlay4").removeClass('overlayHidden').fadeIn(100);
                $(".menu_arrow_down_dep, .menu_arrow_down_ser").removeClass("menu_up_active");
            }
            else {
                $(".menuOverlay4").addClass('overlayHidden').fadeOut(100);
            }
        });

        if (basketMenu.length > 0 && basketMenu.is(":hover")) {
            $(".menuOverlay4").removeClass('overlayHidden');
            $(".menu_arrow_down_dep, .menu_arrow_down_ser").removeClass("menu_up_active");
        }

        // hide dropdowns on overlay
        $(".menuOverlay2, .menuOverlay, .menuOverlay3, .menuOverlay4, .menuOverlay5, .menuOverlay6").click(function() {
             if ($(".menu_option_1").hasClass("home")) {
                $(".menu_option_4, .menu_option_arrow_4, .menu_option_2, .menu_option_arrow_2, .menu_option_5, .menu_option_arrow_5, .menu_option_6").fadeOut(20);
                $(".menu_arrow_down_ser").removeClass("menu_up_active");
                $(".menu_department_arrow_up").show();
             }
             else {
                $(".menu_option_1, .menu_option_arrow_1, .menu_option_4, .menu_option_arrow_4, .menu_option_2, .menu_option_arrow_2, .menu_option_5, .menu_option_arrow_5, .menu_option_6").fadeOut(20);
                $(".menu_arrow_down_dep, .menu_arrow_down_ser").removeClass("menu_up_active");
             }
            $(".menuOverlay, .menuOverlay2, .menuOverlay3, .menuOverlay4, .menuOverlay5").addClass('overlayHidden');
            $(".header_button, .header_button_cart, .header_button_login").removeClass('header_button_active');
        });

        // fix overlays once scrolled down
        $(window).scroll(function() {
            var scrollOver = $(window).scrollTop();
            if (scrollOver >= 150) {
                $(".menuOverlay2, .menuOverlay, .menuOverlay3, .menuOverlay4, .menuOverlay5, .menuOverlay6").addClass("fixedOverlay");
            } else {
                $(".menuOverlay2, .menuOverlay, .menuOverlay3, .menuOverlay4, .menuOverlay5, .menuOverlay6").removeClass("fixedOverlay");
            }
        });


        /**
         * List.js, Shop by brand
         */
        var shopByBrandOptions = {
          valueNames: [ 'brand' ]
        };

        var shopByBrandList = new List('shopByBrandSearch', shopByBrandOptions);
    }
    /**
     * end List.js, Shop by brand
     */


    $('.noScroll').on('DOMMouseScroll mousewheel', function(ev) {
        if ( $(this)[0].scrollHeight !== $(this).outerHeight() ) {
            var $this = $(this),
                scrollTop = this.scrollTop,
                scrollHeight = this.scrollHeight,
                height = $this.height(),
                delta = (ev.type == 'DOMMouseScroll' ?
                    ev.originalEvent.detail * -40 :
                    ev.originalEvent.wheelDelta),
                up = delta > 0;

            var prevent = function() {
                ev.stopPropagation();
                ev.preventDefault();
                ev.returnValue = false;
                return false;
            }

            if (!up && -delta > scrollHeight - height - scrollTop) {
                // Scrolling down, but this will take us past the bottom.
                $this.scrollTop(scrollHeight);
                return prevent();
            } else if (up && delta > scrollTop) {
                // Scrolling up, but this will take us past the top.
                $this.scrollTop(0);
                return prevent();
            }
        }
    });


        // Facebook Widget
    if ($("#facebookwidget").length > 0) {
        $.ajax({
            type: "GET",
            url: base + "code/ajax_facebook_side_pdo.php",
            success: function(data) {
                if (data) {
                    var url = escapeString(data);
                    var iframeHTML = "<iframe src='" + url + "' scrolling='no' frameborder='0' allowTransparency='true'></iframe>";
                    $('#facebookwidget').html(iframeHTML);
                }
            }
        });
    }

    // Search Autocomplete
    var searchBox = $("#searchBox");
    if (searchBox.length) {
            searchBox.autocomplete({
            source: base + "code/ajax_header_search_products_pdo.php",
            minLength: 3,
            classes: {
                "ui-autocomplete": "search_autocomplete",
            },
            select: function(event, ui) {
                var item = ui.item;

                if (item.Type == "Search") {
                    $("#search_query").submit();
                } else {
                    $.post(
                        base + "code/ajax_header_search_products_pdo.php", {
                            search: item.OriginalSearch
                        }
                    );
                    window.location.href = base + item.UrlPath;
                }
            }
        }).data("ui-autocomplete")._renderItem = function(ul, item) {
            return $(formatProduct(item)).appendTo(ul);
        };
        
    }

    // education staff details toggle
    $(".eduStaffBlock").click(function() {
        var catID = $(this).data("staffid");
        if ($("#staffDetails_" + catID).css('display') == 'none') {
            $("#staffDetails_" + catID).addClass('showStaff');
        } else {
            $("#staffDetails_" + catID).removeClass('showStaff');
        }
    });


    // Banners Slider, Front Page
    $("#banner-0").show();
    $("#ad_but0").addClass('ad_but');
    var timerduration;
    $(".ad_buts").click(function() {
        if ($("#banner_big").hasClass('banner_hover')) {
            timerduration = 10000;
        } else {
            timerduration = 5000;
        }
        $('.ad_but').addClass('ad_buts').removeClass('ad_but');
        $(this).addClass('ad_but').removeClass('ad_buts');
        var whichshow = $(this).data('bannerId');
        var cur = $(this).data("bannerNum");

        $(".ads").hide();
        $("#" + whichshow).show();
        $("#adnum").data('current', cur);
        clearInterval(timerval);
        timerval = setTimeout(function() {
            var numads = $("#adnum").data('total');
            var curads = $("#adnum").data('current');

            var nextad = curads + 1;
            if (nextad == numads) {
                nextad = 0;
            }

            $("#ad_but" + nextad).trigger('click');
        }, timerduration);
    });

    $(".alert_close_button").click(function() {

        alertID = $(this).data("alertId");
        $("#alert_" + alertID).slideUp();
        // tweakAlertPosition(true);
        $.post(base + "code/ajax_alert_closed_pdo.php",{
            alertID: alertID
        });
    });

    // tweakAlertPosition(false);

    // function tweakAlertPosition(close) {
    //     if (!isMobile) return;

    //     window.addEventListener('resize', function() {
    //         tweakAlertPosition(close);
    //     }, false);
    //     var alertSection = $('#mobile_alert');

    //     var alertHeight = 0;

    //     if (alertSection.length > 0 && !close) {
    //         alertHeight = alertSection.height();
    //     }

    //     var navBar = $('#newMobileHeader');
    //     navBar.css({
    //         'top': alertHeight
    //     });

    //     $('#main_container').css({
    //         'margin-top': alertHeight
    //     });
    // }

    $("body").on("click", ".dismiss_warning", dismissWarning);

    $(".dismiss_warning").click(dismissWarning);

    // Branch Select Box, Set Cookie, AJAX
    $("#branch_select").change(function(){
        var branch = $(this).val();
        setCustomCookie('branch_select', branch, 2592000, 'branch_select');
        $.post(base + "code/toggle_branch_pdo.php", {
            sbranch: branch
        }, function() {
            window.location.href=base + 'privacy';
        });
    });

    $("#ignore_location").click(function(){
        var branch = 'All Locations';
        setCustomCookie('branch_select', branch, 2592000, 'branch_select');
        $.post(base + "code/toggle_branch_pdo.php", {
            sbranch: branch
        }, function() {
            window.location.href=base + 'privacy';
        });
    });

    // View As Select Box, Set Cookie, AJAX
    $("#view_as_select").change(function(){
        var view = $(this).val();
        setCustomCookie('view_as', view, 2592000, 'view_as');
        $.post(base + "code/toggle_view_pdo.php",{sview:view},function(){window.location.href=base + 'privacy';});
    });

    $(".img_view_as").on("click", function() {
        if ($(this).hasClass('view_disabled')) return;
        if ($(this).hasClass("active") === false) {
            var view = $(this).data("view");
            var viewSmart = $(this).data("smart");
            var wrappers = $(".products_list_wrapper");
            $(".img_view_as").each(function(){
                $(this).removeClass('active');
            });
            $(this).addClass('active');
            setCustomCookie('view_as', view, 2592000, 'view_as');
            wrappers.removeClass("plain_list");
            wrappers.removeClass("gallery_list");
            wrappers.removeClass("expanded_list");
            wrappers.addClass(viewSmart);

            var currentSortBy = $('#cate_sort_by').val();
            var noGroupBy = ["relevant","popularity"];
            var sortDisableGroup = (noGroupBy.indexOf(currentSortBy) != -1);

            var groupByElement = $("#select_groupby");
            var groupByParent = groupByElement.parent().parent().parent(); // select container
            var imageExtenstion = "";
            if (viewSmart == "plain_list") {
                groupByElement.prop("disabled", false || sortDisableGroup);
                if (sortDisableGroup === false) {
                    groupByElement.show();
                    groupByParent.show();
                    groupByParent.prev().show(); // section divider
                }

                imageExtenstion = "gif";
            } else if (viewSmart == "gallery_list") {
                groupByElement.prop("disabled", true || sortDisableGroup);
                groupByElement.hide();
                groupByParent.hide();
                groupByParent.prev().hide(); // section divider
                imageExtenstion = "large.jpg";
            } else if (viewSmart == "expanded_list") {
                groupByElement.prop("disabled", false || sortDisableGroup);
                if (sortDisableGroup === false) {
                    groupByElement.show();
                    groupByParent.show();
                    groupByParent.prev().show(); // section divider
                }

                imageExtenstion = "jpg";
            }

            $(".image_path").each(function() {
                var basePath = $(this).data("basePath");
                $(this).attr("data-original", basePath + "." + imageExtenstion);
                if ($(this).hasClass("loaded")) {
                    $(this).attr("src", basePath + "." + imageExtenstion);
                }
            });

            $.post(
                base + "code/toggle_view_pdo.php", {
                    sview: view
                }
            );
        }
        var myLazyLoad = new LazyLoad();
        myLazyLoad.handleScroll();
        lazyLoader.update();
    });

    // Toggle Stock if clicking div
    $('.toggleInStock').click(function () {
      if ($(this).find('input:checkbox[id=stock]').is(":checked")) {
        $(this).find('input:checkbox[id=stock]').attr("checked", false);
        $.post(base + "code/toggle_stock_pdo.php",function(){window.location.href=base + 'privacy';});
      } else {
        $(this).find('input:checkbox[id=stock]').prop("checked", true);
        $.post(base + "code/toggle_stock_pdo.php",function(){window.location.href=base + 'privacy';});
      }
    });

    // Stock Toggle, On Click, AJAX
    $("#stock, #ignore_instock").click(function(){
        $.post(base + "code/toggle_stock_pdo.php",function(){window.location.href=base + 'privacy';});
    });

    $('#ignore_all_search').click(function() {
        var branch = 'All Locations';
        setCustomCookie('branch_select', branch, 2592000, 'branch_select');
        $.post(base + "code/toggle_branch_pdo.php", {
            sbranch: branch,
            instock: false
        }, function() {
            window.location.href=base + 'privacy';
        });
    });

    // Record Number for Page Turner, On Change of Select Box
    $(".rec_num").change(function(){
        $.post(base + "code/toggle_records_pdo.php",{recnum:$(this).val()},function(){window.location.href=base + 'privacy';});
    });

    $("#select_groupby").on("change", function(){
        var groupby = $(this).val();
        var groupByType = $(this).data("groupByType");
        if (groupByType == "brand") {
            $.post(base + "code/toggle_groupby_brand_pdo.php", {
                    groupby : groupby,
            }, function(){
                location.reload();
            });
        } else if (groupByType == "category") {
            $.post(base + "code/toggle_groupby_cat_pdo.php", {
                groupby : groupby,
            }, function(){
                setCustomCookie('mygroupedcat', 'checked', '2592000', 'auto');
                location.reload();
            });
        };
    });

    // Hide Expired Products
    $('.hide_expired_prod').click(function () {
        $.post(base + "code/ajax_basket_hide_expired_pdo.php");
    });

    // Switch Site, Mobile to Desktop
    $("#switch_site").click(function() {
      $.post( base + "code/toggle_switch_site_pdo.php", function( data ) {
        location.reload();
      });
    });

    // GST Fix
    $("#gst").prop('checked', " checked");

    $("#request_quote").validate();

    $("#job_tracker_form").validate();

    // ----- Mailing list, content block ----- //
    $(".newsletter_signup").each(function() {
        var self = $(this);
        self.validate({
            submitHandler: function() {
                $.post(base + "code/ajax_modal_ml_pdo.php", {
                    name: self.find(".ml_name").val(),
                    email: self.find(".ml_email").val(),
                    group: self.find(".ml_group").val(),
                    definedVariable: self.find(".ml_defined_variable").val(),
                    definedType: self.find(".ml_defined_type").val(),
                    cb: self.find(".ml_cb").val()
                }, function(data) {
                    $("#pb_modal_content_ml").html(data);
                    $("#pb_modal_ml").click();
                });
            }
        });
    });

    $(".sub-subscribe").click(function() {
        var nameInput = $(this).parent().siblings(".ml_name");
        var emailInput = $(this).parent().siblings(".ml_email");
        var groupInput = $(this).parent().siblings(".ml_group");

        var name = nameInput.val();
        var email = emailInput.val();
        var group = groupInput.val();
        var subid = $(this).attr("data-subid");

        $.post(base + "code/ajax_subscription_subscribe_pdo.php",{
            name: name,
            email: email,
            group: group,
            subid: subid
        }, function(data) {
            if (data.status == "Subscribed") {
                $(".sub-subscribe-" + subid).removeClass("orange");
                $(".sub-subscribe-" + subid).addClass("unavailable");
                $(".sub-subscribe-" + subid).html("Subscribed");
            }
            // emarsys extends
            if (data.emarsysTracking) {
                submitEmarsysTracking(data.emarsysTracking);
            }
        });
    });

    $(".sub-details").click(function(e) {

        var nameInput = $(this).siblings(".ml_name");
        var emailInput = $(this).siblings(".ml_email");

        var name = nameInput.val();
        var email = emailInput.val();

        $.post(base + "code/ajax_subscription_save_pdo.php",{
            name: name,
            email: email
        }, function(data) {

        });

    });
    // ----- end Mailing list, content block ----- //

    // ----- CMS Subscribe Form / Competition Form ----- //

    $(".subscribe_register, #subscribe_register").click(function() {

        $(this).validate({
            submitHandler: function(form) {

                var id = $(form).find("input[name=id]").val();

                var buttons = $(form).find("button, .button");
                buttons.progress(true, "Submitting...");

                // Standard
                if (id === undefined) {

                    $.post(base + "code/ajax_mailing_list_insert_pdo.php", $(form).serializeArray(), function(data) {
                        if (data.success) {
                            ga('send', 'event', 'Form', 'Sign up', 'Email Sign up');                            $(form).find(".form").fadeOut(500, function() {
                                $(form).find(".feedback").show();
                                buttons.progress(false); //to make Firefox behave - don't disable button on page refresh
                            });
                        } else {
                            buttons.progress(false);
                            var message = "";
                            for (var i = 0; i < data.errors.length; i++) {
                                message += data.errors[i] + "\n";
                            }
                            if (message.length > 0) {
                                swal(message);
                            }
                        }
                    });

                // Competition
                } else {

                    $.post(base + "code/ajax_competition_submit_pdo.php", $(form).serializeArray(), function(data) {
                        if (data.success) {
                            // do nothing
                        } else {
                            buttons.progress(false);
                            var message = "";
                            for (var i = 0; i < data.errors.length; i++) {
                                message += data.errors[i] + "\n";
                            }
                            if (message.length > 0) {
                                swal(message);
                            }
                        }
                    });

                    $.post(base + "code/ajax_mailing_list_insert_pdo.php", $(form).serializeArray(), function(data) {
                        if (data.success) {
                            ga('send', 'event', 'Form', 'Sign up', 'Email Sign up');                            $(form).find(".form").fadeOut(500, function() {
                                $(form).find(".feedback").show();
                                buttons.progress(false); //to make Firefox behave - don't disable button on page refresh
                            });
                        } else {
                            var message = "";
                            for (var i = 0; i < data.errors.length; i++) {
                                message += data.errors[i] + "\n";
                            }
                            if (message.length > 0) {
                                swal(message);
                            }
                        }
                    });

                }

            }
        });

    });

    $(".salesperson_modal_signin").click(function(e) {
        e.preventDefault();

        var spID = $("#salesperson").val();

        if (spID) {

            $.post(base + "code/ajax_modal_salesperson_signin_pdo.php",{
                 spID: spID
            }, function(data) {
                $("#pb_modal_content_kiosk").html(data);
                $("#pb_modal_kiosk").click();
            });

        } else {
            swal("Please select a salesperson.");
        }

    });

    $(".salesperson_signout").click(function(e) {
        var self = $(this);
        var reload = self.data("reload");
        reload = reload === undefined || reload;
        e.preventDefault();

        $.post(base + "code/ajax_signout_salesperson_pdo.php", function(data) {
            if (reload) {
                window.location.reload();
            } else if (self.is("a")) {
                window.location = self.attr("href");
            }
        });

    });

    // Menu Filters Cart Collapsible
        var filterShow = {"mf_acc_menu":true,"mf_ac_manager":true,"mf_sale_person":true,"mf_team_contact":true,"mf_filt":true,"mf_recent":true,"mf_testimonials":true,"mf_tips":true};

    //Setup function for menu filters
    function menuFilter(id) {
        var key              = "mf_" + id;
        var menuFilter       = $("#" + key);
        var menuFilterHeader = $("#mf_reveal_" + id);

        toggleFilter(typeof filterShow[key] === "undefined" || filterShow[key], menuFilter, menuFilterHeader);

        menuFilterHeader.click(function(){
            $.post(base + "code/toggle_" + key + "_pdo.php");
            toggleFilter(menuFilter.hasClass('mfhidden'), menuFilter, menuFilterHeader);
        });
    }

    //Handles the actual change in visibility, given a boolean and the elements to work with
    function toggleFilter(show, menuFilter, menuFilterHeader) {
        if (show) {
            //these classes aren't styled in any way, but keep them in case we want them later
            menuFilter.addClass('mfshow').removeClass('mfhidden').show();
            menuFilterHeader.find('img').attr("src", "imglib/dnew/arrowup_small.png").attr("title", "Hide");
        } else {
            menuFilter.addClass('mfhidden').removeClass('mfshow').hide();
            menuFilterHeader.find('img').attr("src", "imglib/dnew/arrowdown_small.png").attr("title", "Show");
        }
    }

    //My Account side menu title bar
    menuFilter("acc_menu");

    //Account manager title bar
    menuFilter("ac_manager");

    //Sales Person title bar
    menuFilter("sale_person");

    //Team Contact title bar
    menuFilter("team_contact");

    //Filters title bar
    menuFilter("filt");

    //Recently browsed title bar
    menuFilter("recent");

    //Testimonials title bar
    menuFilter("testimonials");

    //News title bar
    menuFilter("tips");

    $(".sub_menu_side").click(function(e) {
        e.preventDefault();
        var togglefor = $(this).attr("data-content");
        var arrow = $("#" + togglefor + "_menu_arrow");
        var content = $("#" + togglefor + "_content");
        content.toggle();
        if (arrow.attr("data-mode") == "up") {
            arrow.html("<i class='fa fa-caret-down'></i>");
            arrow.attr("data-mode", "down");
        } else if(arrow.attr("data-mode") == "down") {
            arrow.html("<i class='fa fa-caret-up'></i>");
            arrow.attr("data-mode", "up");
        }
    });

    //Subcategory filter toggle on sidebar
    $(".subcategory_more").click(function(e) {
        e.preventDefault();
        var self = $(this);
        var parentGroup = $("#group_" + self.data("group"));
        parentGroup.find(".filter_subcategory.result").toggle();
        self.find(".fa").toggleClass("fa-caret-down fa-caret-up");

        self.data("expanded", !self.data("expanded"));
        if (self.data("expanded")) {
            self.find(".subcategory_more_text").text("Fewer results");
        } else {
            self.find(".subcategory_more_text").text("More results");
        }
    });

    // Generic Popup. Override with custom css
    $(".popup_hover").hover(function () {
        var id = $(this).attr("id");
        $("." + id).show();
    },
    function () {
        var id = $(this).attr("id");
        $("." + id).hide();
    });

    $(".popup_hover").click(function () {
        var id = $(this).attr("id");
        if ($("." + id).css("display") == "none") {
            $("." + id).show();
        } else {
            $("." + id).hide();
        }
    });

    // Modal Dialog
    // use ONE of these classes or IDs to add a modal dialog
    // using more than one class or ID may have unexpected results
    $(".pb_modal").pbModal({ top: 70, overlay: 0.4, closeButton: ".pb_modal_close, .pb_modal_continue" });
    $(".pb_modal_no_clickout").pbModal({ top: 70, overlay: 0.4, closeButton: ".pb_modal_close", clickOut: false });
    $("#pb_modal_pwp").pbModal({ top: 40, overlay: 0.4, closeButton: ".pb_modal_close, .p_pwp_continue_dd", clickOut: false });
    $("#pb_modal_ml").pbModal({ top: 70, overlay: 0.4, closeButton: ".pb_modal_close" });
    $("#pb_modal_alert").pbModal({ top: 70, overlay: 0.4, closeButton: ".notifyButton_close, .pb_modal_close" });
    $("#pb_modal_confirm").pbModal({ top: 70, overlay: 0.4, closeButton: ".pb_modal_close, #confirm_yes, #confirm_no", clickOut: false });
    $("#pb_modal_submit").pbModal({ top: 70, overlay: 0.4, closeButton: "#submit_ok", clickOut: false });
    $("#pb_modal_checkbox_confirm").pbModal({ top: 70, overlay: 0.4, closeButton: "#checkbox_confirm_continue, .pb_modal_close", clickOut: false });
    $("#pb_modal_stopcredit").pbModal({ top: 70, overlay: 0.4, closeButton: ".pb_modal_close, #stop_credit_close", clickOut: false });
    $("#pb_product_locator").pbModal({ top: 70, overlay: 0.4, closeButton: ".pb_modal_close", clickOut: true });
    $("#pb_modal_byod_settings").pbModal({ top: 70, overlay: 0.4, closeButton: ".pb_modal_close", clickOut: true });
    $("#pb_modal_store_stock").pbModal({ top: 70, overlay: 0.4, closeButton: ".pb_modal_close", clickOut: false });
    $("#pb_modal_byod_block_settings").pbModal({ top: 70, overlay: 0.4, closeButton: ".pb_modal_close", clickOut: true });
    $("#pb_modal_byod_new_block").pbModal({ top: 70, overlay: 0.4, closeButton: ".pb_modal_close", clickOut: true });
    $("#pb_modal_byod_signup").pbModal({ top: 40, overlay: 0.4, closeButton: ".pb_modal_close", clickOut: true });

    var modalEmarsysTracking = {
    "recommend": [
        {
            "logic": "RELATED",
            "displayName": null,
            "requiresProductCode": null,
            "containerId": "pb_modal_oosForm_information",
            "limit": 10,
            "minProducts": 1,
            "template": "recently_view",
            "useSlider": true,
            "title": ""
        }
    ]
};
    var oosContactFormValidation = null;
    $(".oosForm_button").click(function() {
        var self             = $(this);
        var modalProductCode = self.data("productCode");
        var loadedProduct    = $("#pb_modal_oosForm_information").data("loadedProduct");

        if (!loadedProduct || loadedProduct != modalProductCode) {
            $("#oos_product").val(modalProductCode);
            oosContactFormValidation = $("#oos_form").validate({
                submitHandler: function(form) {
                    var submitButton = $("#oos_submit");
                    submitButton.progress(true, "Submitting...");

                    $.post(base + "code/ajax_product_no_stock_enquiry_pdo.php", $(form).serializeArray(), function(data) {
                        submitButton.progress(false);
                        addMessages(data.messages, "oos_feedback");

                        if (data.success) {
                            $("#oos_fullname").val("");
                            $("#oos_email").val("");
                            $("#oos_message").val("");
                            $('#oos_form').hide();
                            $('.oos_form_message').hide();
                        }
                    }).fail(function(jqXHR) {
                        submitButton.progress(false);
                        addMessages(jqXHR.responseJSON.messages, "oos_feedback");
                    });
                }
            });

            $("#pb_modal_oosForm_information").data("loadedProduct", modalProductCode);

            if (modalEmarsysTracking) {
                //hacky way to detect if Emarsys has been blocked
                //if so, just open the form without any products
                if (typeof _scq === "undefined") {
                    $(".pb_modal_oosForm").toggleClass("no_products", true);
                    $("#pb_modal_oosForm").data("productCode", modalProductCode).click();
                } else {
                    self.progress(true, "Loading...");
                    modalEmarsysTracking.view = modalProductCode;

                    submitEmarsysTracking(modalEmarsysTracking, function(SC, data, recommendCommandValue) {
                        $(".pb_modal_oosForm").toggleClass("no_products", !data);
                        $("#pb_modal_oosForm").data("productCode", modalProductCode).click();
                        self.progress(false);
                    });
                }
            } else {
                $("#pb_modal_oosForm").click();
            }
        } else {
            $("#pb_modal_oosForm").click();
        }
    });

    $("#pb_modal_oosForm").pbModal({
        top: 70,
        overlay: 0.4,
        closeButton: ".pb_modal_close, .pb_modal_continue",
        callback: function() {
            //reset form to normal
            $("#oos_feedback").html("");
            $("#oos_form").show().find(":input").each(function() {
                var thisInput    = $(this);
                var initialValue = thisInput.data("initialValue");
                if (initialValue) {
                    thisInput.val(initialValue);
                }
            });
            oosContactFormValidation.resetForm();
        }
    });

    //Birthday date pickers
    $(".birthdaypicker").datepicker({
        changeMonth: true,
        changeYear: true,
        dateFormat: "d MM yy",
        yearRange: '1900:c',
        maxDate: "+0D"      //cannot have a date of birth in the future
    });

    do_cd();

        //show messages on page load
    $("#pb_modal_messages").click();
    
    // Smooth Scrolling, On Click of Tab
    $('body').on('click', '.p_tab_scroll', function(e) {
        var gridlistHeight = $('.p_grid_ov_dd').height();
        var offsetHeightNav = 200;
        e.preventDefault();
        var id = $(this).attr('id');
        var destinationElement = $('div.'+ id);
        if (destinationElement.length > 0) {
            var goTo = destinationElement.offset().top - offsetHeightNav;
            $("html, body").animate({
                scrollTop: goTo
            }, 500);
        }
    });
});

// --------------------------------------------------------------------------------
// end COMMON
// --------------------------------------------------------------------------------


// --------------------------------------------------------------------------------
// COMMON MOBILE
// --------------------------------------------------------------------------------
// --------------------------------------------------------------------------------
// end COMMON MOBILE
// --------------------------------------------------------------------------------



// --------------------------------------------------------------------------------
// MENUTOP
// --------------------------------------------------------------------------------

// --------------------------------------------------------------------------------
// end MENUTOP
// --------------------------------------------------------------------------------


// --------------------------------------------------------------------------------
// BASKET / SHIPPING / PAYMENT / CHECKOUT
// --------------------------------------------------------------------------------

//Remove item from basket
$("body").on("click", ".basket_item_remove", function(e) {
    e.preventDefault();
    var self = this;
    var lineID = $(self).val();
    var additionalGenerated = $("#basket_item_" + lineID).data("additionalGenerated");

    if (additionalGenerated) {
        modalConfirm("Are you sure?", "Removing a product from this combo deal will remove all products in this deal. Are you sure you want to remove this product?", function() {
            removeFromCart(self, lineID);
        });
    } else {
        removeFromCart(self, lineID);
    }
});

function removeFromCart(button, lineID) {
    var postData = {
        qty: 0
    };

    basketButtonClick(button, postData, function(data) {
        if (data.qty <= 0) {
            clearBasket();
        } else {
            addMessages(data.messages, "basket_warnings");
            var row = $("#basket_item_" + lineID);
            var parent = row.parent();

            //if line ID is numeric, line item is a normal item and we can remove the parent tbody
            if ($.isNumeric(lineID)) {
                parent.remove();
            //else, just remove the element because it's an additional basket item
            } else {
                //but first, work out whether there's any additional items left

                var parentID = lineID.substr(0, lineID.indexOf("_"));

                //find out if the parent ID is still in the basket
                if (typeof data.basket[parentID] === "undefined") {
                    //if it isn't still in the basket, remove the parent and everything else goes with it
                    parent.remove();
                } else {
                    var hasItems = Object.keys(data.basket[parentID].additional_items).length > 0;
                    if (!hasItems) {
                        //then remove the combo deal tag
                        parent.removeClass("basket_item_additional_border");
                        $("#basket_item_" + parentID).prev(".basket_item_combo_tag_row").remove();
                        $("#basket_item_" + parentID).find(".basket_item_combo_tag_container").remove();
                    }

                    row.remove();
                }
            }

            //for the header, we can just go and remove the element straight away
            $('[id^="header_basket_item_' + lineID + '"]').remove();
        }

        //update timer
        if (data.timer_item == null) {
            $("#timer_id0").remove();
        } else {
            var newValue = $("#basket_item_" + data.timer_item + " .basket_item_timer").data("timerValue");
            $("#timer_id0").data("timerValue", newValue);
        }
    }, function(xhr, status, error) {
        if (xhr.status == 429) {
            swal("Too many requests. Please wait a few minutes then try again.");
        } else {
            swal("Could not remove the item from your cart");
        }
    });
};

var processXHR = null;

//Process a basket button click with success and failure callback functions
function basketButtonClick(button, additionalPostData, success, fail) {
    postData = additionalPostData;
    if (typeof button !== "undefined" && button) {
        button = $(button);
        postData[button.prop('name')] = (button.val() || true);
        button.progress(true);
    }

    if (processXHR) processXHR.abort();

    var lineID;

    if (typeof additionalPostData['lineID'] === "undefined") {
        lineID = null;
    } else {
        lineID = additionalPostData['lineID'];
    }

    processXHR = $.post(base + "code/basket_process_action_pdo.php", postData, function(data) {
        //Checks to see whether the HTTP request was successful
        //If success is false, an error occurred on the server side
        //If success is true, the request was successful, but the operation may have failed due to a user error (e.g. invalid gift card)
        //Each callback function should handle the event of a failure in the operation, such as showing an error message

        //But first, let me reenable the button
        if (typeof button !== "undefined" && button) button.progress(false);

        if (data.success) {
            //On success, set basket totals, and hide the success result from the caller (since the callbacks are used)
            updateTotals(data, lineID);

            delete data.success;
            success(data);
        } else {
            fail();
        }
    }).fail(function(xhr, status, error) {
        if (typeof button !== "undefined" && button) button.progress(false);

        if (processXHR.status === 0 && processXHR.statusText === "abort") {
            //do nothing
        } else {
            fail(xhr, status, error);
        }
    });
}


//functions for country fields and disabling of post code inputs
$(".country-address-select").change(function() {
    var self = $(this);
    var postCodeID    = self.data("postCodeInput");
    var postCodeInput = $("#" + postCodeID);
    var hasPostCode   = self.find("option:selected").data("postCode");

    if (postCodeInput.length == 0) return;

    if (hasPostCode) {
        postCodeInput.prop("disabled", false);
        postCodeInput.attr("placeholder", "")
    } else {
        postCodeInput.removeClass("error valid").attr("placeholder", "Not required for this country").val("").prop("disabled", true);
        //remove validation error label
        $("#" + postCodeID + "-error").remove();
    }
});

function postCodeRequired(element) {
    var postCodeInput = $(element);
    var countryInput = $("#" + postCodeInput.data("countryInput"));

    //if there's no country input tied to this post code input, assume required
    if (countryInput.length == 0) {
        return true;
    }

    //find the selected option
    //if there isn't one, also assume required
    var selectedOption = countryInput.find("option:selected");
    if (selectedOption.length == 0 || selectedOption.val() == "") {
        return true;
    }

    return !!selectedOption.data("postCode");
}

//Clear the entire basket
function clearBasket() {
    $(".basket_count").text(0);
    var html = "<div class='basket_empty'>" +
    "<i class='fa fa-shopping-cart emptyCart'></i>" +
        "<h2>Your cart is empty!</h2>" +
        "<p><a href='https://www.pbtech.co.nz/' class='pblink'>Continue shopping....</a></p>" +
        "</div>";
    $("#basket_form_container").replaceWith(html);
    $("#basket_pwp").remove();
    $("#saved_basket .tab_row li:not(#load_basket_header)").remove();
    $("#saved_basket .tab_container form:not(#load_basket)").remove();
    $("#load_basket_header").removeClass("last");

    $("#header_basket_items").empty();
    $("#timer_id0_basket_total").remove();
    $("#basket_content_blocks").remove();
    $("#timer_id0").remove();
}

function updateTotals(data, lineID, showDeliveryFrom, showSurcharge) {
    if (typeof showDeliveryFrom === "undefined") showDeliveryFrom = true;
    if (typeof showSurcharge === "undefined") showSurcharge = false;

    if (data.basket) {
        //parse line ID into parent and child
        var parentLineID     = null;
        var additionalLineID = null;
        if (lineID) {
            if (typeof lineID === "string" && lineID.indexOf("_") > -1) {
                parentLineID = lineID.substr(0, lineID.indexOf("_"));
                additionalLineID = lineID.substr(lineID.indexOf("_") + 1);
            } else {
                parentLineID = lineID;
                additionalLineID = -1;
            }
        }

        $.each(data.basket, function(thisLineID, line) {
            $.each(line.additional_items, function(thisAdditionalLineID, additionalLine) {
                var basketAdditionalItem = $("#basket_item_" + thisLineID + "_" + thisAdditionalLineID);
                var headerAdditionalItem = $("#header_basket_item_" + thisLineID + "_" + thisAdditionalLineID);

                if (typeof updateBasketRow !== "undefined") updateBasketRow(basketAdditionalItem, additionalLine);
                headerAdditionalItem.find(".basket_item_qty").text("(Qty: " + line.qty + ")");
            });

            var basketItem = $("#basket_item_" + thisLineID);
            var headerItem = $("#header_basket_item_" + thisLineID);

            if (typeof updateBasketRow !== "undefined") updateBasketRow(basketItem, line);
            headerItem.find(".basket_item_qty").text("(Qty: " + line.qty + ")");
        });
    }

    $(".basket_count").text(data.qty);

    if (typeof data.totals === "undefined") return;

    var total;
    var totalGST;
    if (showSurcharge) {
        total = data.totals.total_inc_sur;
        totalGST = data.totals.total_gst_sur;
    } else {
        total = data.totals.total_inc;
        totalGST = data.totals.total_gst;
    }

    if (data.totals.delivery === null) {
        $("#delivery").text("unknown");
    } else if (data.totals.delivery === 0) {
        $("#delivery").text("FREE");
    } else if (showDeliveryFrom) {
        $("#delivery").text("from " + formatMoney(data.totals.delivery));
    } else {
        $("#delivery").text(formatMoney(data.totals.delivery));
    }
    $("#subtotal").text(formatMoney(data.totals.basket_total));
    $("#gst_amount").text(formatMoney(totalGST));
    $("#total").text(formatMoney(total));

    if (showSurcharge) {
        $("#surcharge").parent().toggleClass("hidden", data.totals.surcharge == 0);
        $("#surcharge").text(formatMoney(data.totals.surcharge));
    }

    $(".basket_total_row.discount").addClass("no-process");
    if (data.totals.discounts) {
        $.each(data.totals.discounts, function(id, amount) {
            var row = $("#" + id + "_row");
            if (amount > 0) {
                row.removeClass("hidden");
            } else {
                row.addClass("hidden");
            }
            row.removeClass("no-process");
            $("#" + id + "_used").text("-" + formatMoney(amount));
        });
    }

    var headerEx = $(".header_total.gex");
    var headerInc = $(".header_total.ginc");
    headerEx.find(".value").text(formatMoney(data.totals.basket_total));
    headerInc.find(".value").text(formatMoney(data.totals.basket_total_inc));

    headerEx.find(".small_text").show();
    headerInc.find(".small_text").show();

    var noProcess = $(".basket_total_row.discount.no-process");
    noProcess.addClass("hidden");
    noProcess.removeClass("no-process");
    if (typeof data.quick_financenow !== "undefined") {
        if (data.quick_financenow) {
            $('.quick_financenow_money').html("$" + data.quick_financenow);
            $('.fn_container').show();
        } else {
            $('.fn_container').hide();

            var hasQuickFinance = getUrlParam('quickfinancenow') || getUrlParam("quickfinancenow-interestfree") || getUrlParam("quickqcard");
            if (hasQuickFinance) {
                window.history.replaceState({}, '', 'basket');
            }
        }
    }

    // emarsys extends
    if (data.emarsysTracking) {
        submitEmarsysTracking(data.emarsysTracking);
    }

    if (data.receivingTime) {
        $('#receiving_time').html(data.receivingTime);
    }
}

// --------------------------------------------------------------------------------
// end BASKET / DETAILS / CHECKOUT
// --------------------------------------------------------------------------------

// --------------------------------------------------------------------------------
// RECRUITMENT
// --------------------------------------------------------------------------------
// --------------------------------------------------------------------------------
// end RECRUITMENT
// --------------------------------------------------------------------------------

// --------------------------------------------------------------------------------
// BYOD
// --------------------------------------------------------------------------------
// --------------------------------------------------------------------------------
// end BYOD
// --------------------------------------------------------------------------------

// --------------------------------------------------------------------------------
// SEARCH
// --------------------------------------------------------------------------------
var sortDropDown = $("#cate_sort_by");

if (sortDropDown.length > 0) {
        sortDropDown.on("change", function() {
        var sortOrder = $(this).val();
        var page = $(this).attr("data-url");
        var queryStringCharacter = page.indexOf("?") == -1 ? "?" : "&";
        window.location.href = base + page + queryStringCharacter + "o=" + sortOrder + "";
    });
}
// --------------------------------------------------------------------------------
// end SEARCH
// --------------------------------------------------------------------------------



// --------------------------------------------------------------------------------
// SERVICE / REPAIR
// --------------------------------------------------------------------------------
// --------------------------------------------------------------------------------
// end SERVICE / REPAIR
// --------------------------------------------------------------------------------



// --------------------------------------------------------------------------------
// STORES
// --------------------------------------------------------------------------------
// --------------------------------------------------------------------------------
// end STORES
// --------------------------------------------------------------------------------

// --------------------------------------------------------------------------------
// RETURNS
// --------------------------------------------------------------------------------
// --------------------------------------------------------------------------------
// end RETURNS
// --------------------------------------------------------------------------------



// --------------------------------------------------------------------------------
// MY ACCOUNT
// --------------------------------------------------------------------------------
// --------------------------------------------------------------------------------
// end MY ACCOUNT
// --------------------------------------------------------------------------------



// --------------------------------------------------------------------------------
// LOGIN
// --------------------------------------------------------------------------------
// --------------------------------------------------------------------------------
// end LOGIN
// --------------------------------------------------------------------------------


// --------------------------------------------------------------------------------
// REGISTER
// --------------------------------------------------------------------------------
// --------------------------------------------------------------------------------
// end REGISTER
// --------------------------------------------------------------------------------



// --------------------------------------------------------------------------------
// PRODUCT PAGE
// --------------------------------------------------------------------------------

// --------------------------------------------------------------------------------
// end PRODUCT PAGE
// --------------------------------------------------------------------------------

// --------------------------------------------------------------------------------
// dnew for new stores page
// --------------------------------------------------------------------------------

    //Expanding headers
    $('body').on('click', '.section_header_expand:not(a)', function() {
        var sectionID = $(this).attr("data-content");

        if ($(this).hasClass("expanded")) {
            $("#" + sectionID).slideUp(400);
            $(this).removeClass("expanded");
        } else {
            var offsetHeight = 20;
            var thisIndex = $(".section_header_expand").index(this);

            $(".section_header_expand.expanded").each(function() {
                //hide others
                $(this).removeClass("expanded");
                var thisSectionID = $(this).attr("data-content");
                if ($(".section_header_expand").index(this) < thisIndex) {
                    offsetHeight += $("#" + thisSectionID).height();
                }
                $("#" + thisSectionID).slideUp(400);
            });

            $("#" + sectionID).slideDown(400);
            $(this).addClass("expanded");

            var top = $(this).offset().top - offsetHeight;
            if (offsetHeight > 0) {
                top -= $(this).height();
            }

            $("html, body").animate({
                scrollTop: top
            }, 400);
        }
    });

    // $(".section_header_expand:not(a)").click(function() {
    //     var sectionID = $(this).attr("data-content");

    //     if ($(this).hasClass("expanded")) {
    //         $("#" + sectionID).slideUp(400);
    //         $(this).removeClass("expanded");
    //     } else {
    //         var offsetHeight = 20;
    //         var thisIndex = $(".section_header_expand").index(this);

    //         $(".section_header_expand.expanded").each(function() {
    //             //hide others
    //             $(this).removeClass("expanded");
    //             var thisSectionID = $(this).attr("data-content");
    //             if ($(".section_header_expand").index(this) < thisIndex) {
    //                 offsetHeight += $("#" + thisSectionID).height();
    //             }
    //             $("#" + thisSectionID).slideUp(400);
    //         });

    //         $("#" + sectionID).slideDown(400);
    //         $(this).addClass("expanded");

    //         var top = $(this).offset().top - offsetHeight;
    //         if (offsetHeight > 0) {
    //             top -= $(this).height();
    //         }

    //         $("html, body").animate({
    //             scrollTop: top
    //         }, 400);
    //     }
    // });
// --------------------------------------------------------------------------------
// end dnew for new stores page
// --------------------------------------------------------------------------------



// --------------------------------------------------------------------------------
// user account alert setting
// --------------------------------------------------------------------------------
// --------------------------------------------------------------------------------
// end user account alert setting
// --------------------------------------------------------------------------------

// --------------------------------------------------------------------------------
// PB Form for all platform and pages -- BEGIN
// --------------------------------------------------------------------------------

$(".form_selection").on("change", function(e) {
    e.preventDefault();
    var self = $(this);
    var form = self.closest('form');
    var id = self.attr("id");
    clearFormValidateAfter(form, id);
    var qID = id.substr(0, id.indexOf("_"));
    var childID = "p_" + qID + "_" + self.val();
    var child = $("."+id);
    var parent = self.attr("data-parent");
    var option = qID + "_" +self.val();
    var formName = self.attr("data-form");
    var messageDiv = self.attr("data-message");

    if (self.val() != "-1") {
        self.css("border-color", "#ccc");
        if ($("#" + messageDiv).html() != "") {
            $("#" + messageDiv).empty();
        }
    }

    if (self.is("input[type='radio']")) {
        id      = self.data("questionId");
        qID     = id.substr(0, id.indexOf("_"));
        childID = "p_" + qID + "_" + self.val();
    }

    $(".p_" + parent).nextAll(".fg_row").each(function(){
        var thisRow = $(this);
        // get all required attr
        if (!thisRow.hasClass("form_required") && !thisRow.hasClass("p_" + parent)) {
            if (thisRow.hasClass(id) == false) {
                thisRow.find(":input").each(function(){
                    if ($(this).attr("required") !== "undefined") {
                        $(this).prop("required", false);
                        $(this).addClass("pre_required");
                        if ($(this).is("select")) {
                            $(this).val("-1");
                        } else{
                            $(this).val("");
                        };
                    };
                });

                thisRow.hide();
            } else if (thisRow.hasClass(childID) == false) {
                thisRow.find(":input").each(function() {
                    if ($(this).attr("required") !== "undefined") {
                        $(this).prop("required", false);
                        $(this).addClass("pre_required");
                        if ($(this).is("select")) {
                            $(this).val("-1");
                        } else{
                            $(this).val("");
                        }
                    }
                });

                thisRow.hide();
            } else {
                thisRow.find(":input").each(function(){
                    if ($(this).hasClass("pre_required")) {
                        $(this).attr("required", true);
                    };
                });

                thisRow.css("display", "table-row");
            }
        }
    });

    $("#"+formName).find(".option_addition_content").each(function(){
        var d_qID = $(this).attr("data-qid");
        var belongsTo = $(this).attr("data-belongsto");
        var parentSelection = $("#"+belongsTo+"_q.form_selection");
        if (!parentSelection.is(":visible") || parentSelection.val() == "-1") {
            $(this).hide();
        } else {
            if (d_qID == belongsTo+"_"+$(parentSelection).val()) {
                $(this).css("display", "table-row");
            }
        }
    });
});

//TODO: replace this validation with jQuery Validate
function generateValidation(item){
    var required = item.hasClass('pre-required') && item.is('select');
    var parent = item.parents(".fg_row").first();
    var parentID = parent.attr("data-parent");
    var rules = {
        rules: {},
        messages: {}
    };
    var messages = {};

    var maxlength = item.attr('maxlength');
    if (typeof maxlength !== 'undefined') {
        rules.rules.maxlength = maxlength;
        messages.maxlength = jQuery.validator.format("Maximum {0} characters limit for this field.");
    }

    var minlength = item.attr('minlength');
    if (typeof minlength !== 'undefined') {
        rules.rules.minlength = minlength;
        messages.minlength = jQuery.validator.format("At least {0} characters are necessary.");
    }

    var type = item.attr('type');
    if (type === "email") {
        rules.rules.email = true;
        messages.email = "Please enter a valid email address.";
    }

    var hasParentQuestion = checkParentQuestion(parentID);

    if (item.is('select') && hasParentQuestion) {
        rules.rules.notEqualTo = "-1";
        messages.notEqualTo = "Please choose an option.";
    }

    if (required) {
        rules.rules.required = function(){
            var parentID = parent.attr("data-parent");
            return checkParentQuestion(parentID);
        };
        messages.required = "This field is required.";
    }

    if (!$.isEmptyObject(rules.rules)) {
        rules.messages.messages = messages;
    }

    return rules;
}

function checkParentQuestion(parentID) {
    if (typeof parentID === 'undefined' || parentID == 0) {
        return true;
    }
    var parent = parentID.split("_");
    var questionID = parent[0]+"_q";
    var questionRequired =  parent[1];
    return $("#"+questionID).val() == questionRequired;
}

function clearFormValidateAfter(form, item) {
    var self = $("#"+item);
    self.closest('div.fg_row').nextAll("div.fg_row").each(function(){
        $(this).find(":input").each(function(){
            $(this).removeClass("error");
            $(this).removeClass("valid");
        });

        $(this).find("label.error").remove();
    });
}

$(function() {
    var forms = $(".form_pb_form");
    forms.each(function(index, form) {
        form         = $(form);
        var rules    = {};
        var messages = {};

        form.find(":input").each(function(i, v){
            var thisElement     = $(this);
            var validationRules = generateValidation(thisElement);

            rules[thisElement.attr("name")]    = validationRules.rules;
            messages[thisElement.attr("name")] = validationRules.messages;
        });

        var formValidator = form.validate({
            rules: rules,
            messages: messages,
            errorPlacement: function(error, element) {
                if (element.is(":radio")) {
                    element.parent().parent().append(error);
                } else {
                    placeError(error, element);
                }
            },
            submitHandler: function(form) {
                form            = $(form);
                var form_name   = form.data("form");
                var formName    = form_name.replace("_form", "");
                var messageDiv  = form.data("message");
                var webPlatform = form.data("pl");
                var submitButtons = form.find(".submit_pb_form");

                var formData = {
                    formName: formName,
                    Data : form.find(":input:visible").serializeArray(),
                    webPlatform: webPlatform,
                    recaptcha: grecaptcha.getResponse(),
                    appendSubject: form.attr("data-subject"),
                    submittedUrl: window.location.href
                };

                submitButtons.progress(true, "Submitting...");

                $.post(
                    base + "_staff/ajax_form_submit_pdo.php",
                    formData,
                    function(data) {
                        submitButtons.progress(false);
                        if (data.success) {

                            if (data.goal.length > 0) {
                                // goal

                                                                    ga('send', 'event', 'Form', 'Submit', data.goal);
                                                            }

                            $("#" + messageDiv).empty();
                            modalSubmit(data.message.title, data.message.message, function() {
                                location.reload();
                            });
                        } else {
                            grecaptcha.reset();
                            $("#" + messageDiv).empty();
                            modalSubmit("Error", data.message.message, function(){});
                        }
                    }
                ).fail(function(jqXHR, textStatus, errorThrown) {
                    $("#"+messageDiv).empty();
                    submitButtons.progress(false);
                    grecaptcha.reset();

                    if (typeof jqXHR.responseJSON !== "undefined") {
                        modalSubmit("Error", jqXHR.responseJSON.message.message);
                    } else {
                        modalSubmit("Error", "We're sorry, there was an error submitting your message, please wait a few minutes then try again.");
                    }
                });
            }
        });
    });
});

// --------------------------------------------------------------------------------
// PB Form for all platform and pages -- END
// --------------------------------------------------------------------------------


// --------------------------------------------------------------------------------
// Competition voting begin
// --------------------------------------------------------------------------------
    var entryItem   = null;
    var canVoteHTML = "Vote <i class='fa fa-thumbs-o-up'></i>";
    var votedHTML   = "<i class='fa fa-check'></i> Voted";
    var emailForm   = $("#email_form");
    var canVote     = emailForm.length == 0;
    var email;

    $(".vote_entry_data, .entry_vote").click(function() {
        entryItem = $(this).closest("li.competition_entry");

        var name    = entryItem.data("name");
        var expired = entryItem.data("expired");

        var data;
        if (entryItem.data("type") == "image") {
            //ensure image and name is populated before the modal opens
            //also set the image dimensions so that the dialog opens at the corrent location
            var imageWidth  = entryItem.data("width");
            var imageHeight = entryItem.data("height");
            var imageName   = entryItem.data("entryData");

            data = $("<img>", {
                src: "fileslib/competition-submissions/large/" + imageName,
                width: imageWidth,
                height: imageHeight
            });
        } else {
            //the entry data is simple HTML
            data = entryItem.data("entryData");
        }

        $("#vote_name").text(name);
        $("#pb_modal_content_vote").html(data);
        $("#vote_messages").text("");

        //enable or disable the vote button
        //first remove all classes from it
        var voteButton = $(".modalVote").removeClass("voted voted_selection voteNull");
        var captcha    = $(".voteCapt");

        if (expired) {
            voteButton.addClass("hidden");
            captcha.addClass("hidden");
        } else if (canVote) {
            voteButton.removeClass("hidden");
            var entryButton = entryItem.find(".entry_vote");

            //if the user has voted in this competition
            if (entryButton.hasClass("voted")) {
                //set the button text to "voted"
                voteButton.addClass("voted").html(votedHTML);
                if (entryButton.hasClass("voted_selection")) {
                    //this is what the user voted for; highlight it
                    voteButton.addClass("voted_selection");
                } else {
                    //this is not what the user voted for
                    voteButton.addClass("voteNull");
                }

                //hide the reCAPTCHA widget as it is not necessary
                captcha.addClass("hidden");
            } else {
                //set the button text to "vote" and show the reCAPTCHA widget
                voteButton.html(canVoteHTML);
                captcha.removeClass("hidden");
            }
        }

        $("#pb_modal_vote").click();
    });

    $(".modalVote").click(function(e) {
        e.preventDefault();

        var self = $(this);

        //conditions to stop anything untoward happening
        if (self.hasClass("voted")) return;

        //collect information
        var entryID = entryItem.data("entry");
        var competitionContainer = entryItem.closest(".competition_entries");
        var competitionID = competitionContainer.data("id");
        var token = competitionContainer.data("token");

        //give an indicator that something is happening
        self.progress(true, "Submitting...");

        //AJAX call to send and verify the vote
        $.post("code/ajax_competition_vote_pdo.php", {
            token: token,
            entry: entryID,
            email: email,
            recaptcha: grecaptcha.getResponse()
        }, function(data) {
            //if all was well, output the message received back
            self.progress(false);
            if (data.success) {
                //if the vote was successfully recorded, update the vote button
                self.addClass("voted");
                self.html(votedHTML);
                var buttons = competitionContainer.find(".entry_vote").html(votedHTML).addClass("voted");
                var selectedEntry = $("#entry_" + entryID).find(".entry_vote").addClass("voted_selection");
                buttons.not(selectedEntry).addClass("voteNull");
            }
            addMessages([data.message], "vote_messages");
        }).fail(function(jqXHR, textStatus, errorThrown) {
            //something went wrong, just display the message
            self.progress(false);
            addMessages([jqXHR.responseJSON.message], "vote_messages");
        });
    });

    if (!canVote) {
        //set up form validation
        emailForm.validate({
            submitHandler: function() {
                //if the email address is given and technically valid, let the user vote
                //save the email address
                email = $("#vote_email").val();

                //save the competitions that are showing on this page
                var competitionIDs = $(".competition_id").map(function(){
                    return $(this).val()
                }).get();

                //give a visual indicator that something is happening
                $("#vote_email_submit").progress(true, "Submitting...");

                //check through AJAX if the user has voted before
                $.post("code/ajax_competition_voted_pdo.php", {
                    email: email,
                    competitions: competitionIDs
                }, function(data) {
                    $("#vote_email_submit").progress(false);
                    canVote = true;

                    //show messages and hide the form
                    addMessages([data.message], "email_messages");
                    $(".voteEmail").remove();

                    //show the buttons and reset them to a neutral state
                    $(".entry_vote").removeClass("hidden voted voted_selection voteNull");

                    //set buttons as appropriate
                    $(".competition_entries").each(function() {
                        var competitionID = $(this).data("id");
                        var votedFor = data.competitions[competitionID].votedFor;

                        //get all the buttons in this competition
                        var buttons = $(this).find(".entry_vote");

                        if (votedFor) {
                            //if the user has voted in this competition, set the button text to "voted"
                            //also highlight the entry the user voted for
                            buttons.addClass("voted").html(votedHTML);
                            var votedForButton = $("#entry_" + votedFor).find(".entry_vote").addClass("voted_selection");
                            buttons.not(votedForButton).addClass("voteNull");
                        } else {
                            //the user has not voted in this competition
                            //set the button text to "vote"
                            buttons.html(canVoteHTML);
                        }

                        $(".modalVote").removeClass("hidden");
                    });
                }).fail(function(jqXHR, textStatus, errorThrown) {
                    $("#vote_email_submit").progress(false);
                    addMessages([jqXHR.responseJSON.message], "email_messages");
                });
            }
        });
    }
// --------------------------------------------------------------------------------
// Competition voting end
// --------------------------------------------------------------------------------

/*Service job list-- start*/
/*Service job list -- end*/

/*single filter clear -- start */
var calloutFilterKey = null;
var filterSetID      = null;

$(".clear_callout_filter").click(function() {
    var self        = $(this);
    var filter      = "callout-filter";
    var filterValue = filterSetID;
    var url         = self.data("url");
    clearFilter(filter, filterValue, url, null);
});

$(".clear_afilter").click(function() {
    var self        = $(this);
    var filter      = self.data("filter");
    var filterValue = self.data("filterValue");
    var url         = self.data("url");
    clearFilter(filter, filterValue, url, calloutFilterKey);
});

function clearFilter(filter, filterValue, url, calloutFilterKey) {
    $.post(base + "code/toggle_menufilter_pdo.php", {
        afilter: filter,
        afiltervalue: filterValue,
        aurl: url,
        calloutFilter: calloutFilterKey
    }, function(data) {
        location.href = base + data.location;
    }).fail(function() {
        location.reload();
    });
}
/*single filter clear -- end */

/* Finance Now Business */

// YouTube Embed
(function() {
    var v = document.getElementsByClassName("youtube-player");
    for (var n = 0; n < v.length; n++) {
        var p = document.createElement("div");
        p.innerHTML = labnolThumb(v[n].dataset.id);
        p.onclick = labnolIframe;
        v[n].appendChild(p);
    }
})();

function labnolThumb(id) {
    return '<img class="youtube-thumb" src="//i.ytimg.com/vi/' + id + '/hqdefault.jpg"><div class="play-button"></div>';
}

function labnolIframe() {
    var iframe = document.createElement("iframe");
    iframe.setAttribute("src", "//www.youtube.com/embed/" + this.parentNode.dataset.id + "?autoplay=1&autohide=2&border=0&wmode=opaque&enablejsapi=1&showinfo=0");
    iframe.setAttribute("frameborder", "0");
    iframe.setAttribute("id", "youtube-iframe");
    this.parentNode.replaceChild(iframe, this);
}
// End YouTube Embed


// quick finance now

$(".fn_add_to_cart").click(function(){
    var self = $(this);
    var requiresOption = self.data("requiresOption");

    if (requiresOption) {
        scrollToElement("#options");
    } else {
        var new_item = self.data("product");
        var new_qty = 1;
        var new_vault = 1;
        var urlParameter = self.data("parameter");
        var url = 'code/basket_add_pdo.php?product=' + new_item + '&qty=' + new_qty + '&vault=' + new_vault;
        $.post(url, null, function(basketItemData){
            window.location = base + 'basket?' + urlParameter + '=true';
        });
    }
});

function getUrlParam(param)
{
    var vars = {};
    window.location.href.replace( location.hash, '' ).replace(
        /[?&]+([^=&]+)=?([^&]*)?/gi, // regexp
        function( m, key, value ) { // callback
            vars[key] = value !== undefined ? value : '';
        }
    );
    if (param) {
        return vars[param] ? vars[param] : null;
    }
    return vars;
}

// End quick finance now

// Scroll to Top
$("a[href='#top']").click(function() {
  $("html, body").animate({ scrollTop: 0 }, 500);
  return false;
});


//Show Scroll to Top Arrow on Scroll Down
$(window).scroll(function() {
   $(".showUpArrow").removeClass("showUp");
   var scroll = $(window).scrollTop();
   if (scroll >= 250) {
      $(".showUpArrow").addClass("showUp");
      if ($(".showUp").css("opacity")==0) {$(".showUp").fadeTo(500,1);}
   }
});


//Scroll to Bin Locations - Mobile



// Pop Up for Flix Product Tour

// product locator js

// Submit Testimonials Form
$('.submitTestimonial').click(function() {
    $('.submit_testimonial').slideToggle();
    $('.angleup').toggle();
    $('.angledown').toggle();
});
$('.hideButton').click(function() {
    $('.ok_banner').fadeOut();
    $('.testimonial_banner').fadeOut();
});

// dashboard logo upload
$(".infoIcon2").click(function(){
    $(".logoUpload").fadeIn();
    $(".infoIcon2").hide();
    $("#uploadLogoSpin").hide();
});
$(".closeUpload").click(function(){
    $(".logoUpload").fadeOut();
    $(".infoIcon2").show();
});
$("#uploadLogo").click(function(){
    $("#uploadLogo").hide();
    $("#uploadLogoSpin").show();
});
// dashboard logo upload

// DASHBOARD MENU
    $(".dashMessages").click(function(){
        $("#subMessages").toggle();
        var m = $(".dashMessages");
        m.children("span").toggleClass('caretUp');
    });
    $(".dashOrders").click(function(){
        $("#subOrders").toggle();
        var m = $(".dashOrders");
        m.children("span").toggleClass('caretUp');
    });
    $(".dashService").click(function(){
        $("#subService").toggle();
        var m = $(".dashService");
        m.children("span").toggleClass('caretUp');
    });
    $(".dashSettings").click(function(){
        $("#subSettings").toggle();
        var m = $(".dashSettings");
        m.children("span").toggleClass('caretUp');
    });
// DASHBOARD MENU

// show all filters
$("#showFilters").add("#hideFilters").click(function() {
    $(".filter_block").not($(".filter_block").slice(0, 7)).toggle();
    $(".maxFilters").toggle();
    $(".minFilters").toggle().toggleClass("addBlock");
});


//initial hiding of filters that need to be hidden
//done through JavaScript so that users without JavaScript enabled still get access to every filter
$(function() {
    $(".filter_block").not($(".filter_block").slice(0, 7)).toggle();
    // $(".rev_wrap").not($(".rev_wrap").slice(0, 5)).toggle();
});

$('#showReviews, #hideReviews').click(function(){
    // $(".rev_wrap").slice(5, 50).toggle();
    // $("#showReviews").toggle();
    // $("#hideReviews").toggle();
    // $(".reviewWrapper div.page_turner.has_pagination").toggle();
});





$('#showOriginal').click(function(){
    $('.originalOrderDisplay, .originalP').slideToggle();
});

// toggle split order products
$('.splitProducts').click(function(event){
    var isProducts = $(event.target).is('.splitProducts');
    if(isProducts){
        $('.hiddenProducts', this).slideToggle();
    }
});





// emarsys
        (function(id) {
            if (document.getElementById(id)) return;
            var js = document.createElement('script');
            js.id = id;
            js.src = 'https://cdn.scarabresearch.com/js/1639C074D7A2A27F/scarab-v2.js';
            var fs = document.getElementsByTagName('script')[0];
            fs.parentNode.insertBefore(js, fs);
        })('scarab-js-api');

        var ScarabQueue = ScarabQueue || [];

        var viewAllLinkChecks = ['HOME1', 'HOME2', 'HOME3', 'CATEGORY', 'POPULAR', 'DEPARTMENT'];

        function emarsysLoadingSpinner(container) {
            $('#'+container).html('<div style="text-align: center; margin-bottom: 30px;"><img src="imglib/dnew/icon_load_neutral.gif"></div>');
        }

        function removeEmarsysLoadingSpinner(container) {
            $('#'+container).html('');
        }

                var emarsysTrackingCommands = {"cart":[],"recommend":[{"logic":"PERSONAL","displayName":null,"requiresProductCode":null,"containerId":"recommend_personal","limit":10,"minProducts":5,"template":null,"useSlider":true,"title":"Recommended Products For You"}]};
                    submitEmarsysTracking(emarsysTrackingCommands);
            
function submitEmarsysTracking(emarsysTrackingCommands, loadedCallback) {
    
        $.each(emarsysTrackingCommands, function(commandKey, commandValue) {
            if (commandKey == "recommend") {
                $.each(commandValue, function(recommendCommandKey, recommendCommandValue) {
                    ScarabQueue.push(['recommend', {
                        logic: recommendCommandValue.logic,
                        containerId: recommendCommandValue.containerId,
                        limit: recommendCommandValue.limit,
                        success: function(SC) {
                            if (SC.page.products.length > 0) {
                                emarsysLoadingSpinner(recommendCommandValue.containerId);
                                var products = [];
                                for (var i = 0; i < SC.page.products.length; i++) {
                                    products.push(SC.page.products[i].id);
                                }

                                var scTitle = SC.topicLocalized;
                                var header = recommendCommandValue.title;
                                var lastTitle = '';
                                var titleDepth = 0;
                                if (viewAllLinkChecks.includes(recommendCommandValue.logic)) {
                                    if (scTitle) {
                                        header = scTitle.replace(/Root Catalog>/g, '');
                                        var nameList = header.split('>');

                                        if (nameList.length > 0) {
                                            titleDepth = nameList.length -1;
                                            header = nameList[titleDepth];

                                            if (header.toLowerCase() == 'more') {
                                                header = 'Deals';
                                            } else {
                                                lastTitle = header;
                                            }

                                            header = 'Recommended ' + header;
                                        }
                                    }
                                }

                                var productAJAXPost = {
                                    products: products,
                                    title: header,
                                    recommendClassName: 'recommended_' + recommendCommandValue.containerId,
                                    template: 'default',
                                    lastTitle: lastTitle,
                                    titleDepth: titleDepth,
                                    customClasses: ''
                                }

                                if (recommendCommandValue.template === null) {
                                    if (recommendCommandValue.logic == 'PERSONAL') {
                                        productAJAXPost.template = 'recently_view';
                                        productAJAXPost.customClasses = 'rec_browsed_wrap hide-print';
                                    }

                                    if (isMobile && recommendCommandValue.logic == 'RELATED') {
                                        productAJAXPost.template = 'mobile_expand';
                                    }
                                } else {
                                    productAJAXPost.template = recommendCommandValue.template;
                                }

                                productAJAXPost.minProducts = recommendCommandValue.minProducts;

                                if (typeof recommendCommandValue.useSlider === "undefined") {
                                    productAJAXPost.useSlider = true;
                                } else {
                                    productAJAXPost.useSlider = recommendCommandValue.useSlider;
                                }

                                if ($('#' + recommendCommandValue.containerId).length < 1) return;

                                $.post(base + "code/ajax_display_products_pdo.php", productAJAXPost, function(data) {
                                    SC.recommender.container.innerHTML = data;
                                    toggleGST(SC.recommender.container);
                                    myLazyLoad = setupLazyLoad();
                                    applyOwlCarousel(owlResponsive, myLazyLoad, SC.recommender.container);
                                    if (typeof loadedCallback === "function") {
                                        loadedCallback(SC, data, recommendCommandValue);
                                    }
                                }).fail(function(){
                                    removeEmarsysLoadingSpinner(recommendCommandValue.containerId);
                                    if (typeof loadedCallback === "function") {
                                        loadedCallback(false);
                                    }
                                });
                            } else {
                                removeEmarsysLoadingSpinner(recommendCommandValue.containerId);
                                if (typeof loadedCallback === "function") {
                                    loadedCallback(SC);
                                }
                            }
                        }
                    }]);
                });

            } else {
                ScarabQueue.push([commandKey, commandValue]);
            }
        });

        ScarabQueue.push(['go']);

    }

// auth order js
// auth order js

// auth order permission js



            (function($) {
                $.fn.hasScrollBar = function() {
                    return this.get(0).scrollHeight > this.height();
                }
            })(jQuery);
            $(function() {
                // add product location object here
                // will used for both mobile side and desktop side
                                if (isMobile) {
                    // Initial Show/Hide of stock display
                    var stockShown = false;
                    if("hide"=="hide"){
                        $(".p_tsd_on").hide();
                        $(".p_tsd_off").show();
                        $("#p_link_stock").text("Show branch stock (+)");
                        stockShown = false;
                    } else {
                        $(".p_tsd_off").hide();
                        $(".p_tsd_on").show();
                        $("#p_link_stock").text("Hide branch stock (-)");
                        stockShown = true;
                    }

                    // Toggle Stock Display
                    $("#p_link_stock").click(function(e) {
                        e.preventDefault();
                        if (stockShown) {
                            $(".p_tsd_on").hide();
                            $(".p_tsd_off").show();
                            setCustomCookie('pref_view_stock', 'hide', '2592000', 'auto');
                            $.post(base + "code/toggle_check_stock_pdo.php");
                            $("#p_link_stock").text("Show branch stock (+)");
                            stockShown = false;
                        } else {
                            $(".p_tsd_off").hide();
                            $(".p_tsd_on").show();
                            setCustomCookie('pref_view_stock', 'show', '2592000', 'auto');
                            $.post(base + "code/toggle_check_stock_pdo.php");
                            $("#p_link_stock").text("Hide branch stock (-)");
                            stockShown = true;
                        }
                    });
                }

                    $('.pb_store_link').click(function(e) {
                        e.preventDefault();
                        var branchId = $(this).data('branchId');
                        $.get(
                            base + 'code/ajax_branch_details_pdo.php',
                            {branch: branchId},
                            function(branchInfo) {
                                var storeHtml = '';
                                var element = $('#pb_modal_store_stock_content');

                                storeHtml += "<div class='pb_modal_common_header' id='pb_modal_stockInfo'>";
                                storeHtml += "<h3><i class='fa fa-th-large'style='color:#ff9c1c;'></i> "+branchInfo.name+"</h3>";

                                storeHtml += "</div>";
                                storeHtml += "<div class='modal_block_main' style='width: 100%; text-align:center'>";
                                storeHtml += "<div class='p_modal_subheader_dd'>Physical address</div>";
                                storeHtml += "<p>";

                                if (branchInfo.unit) {
                                    storeHtml += branchInfo.unit + "<br>";
                                }
                                storeHtml += branchInfo.street + "<br>";

                                if (branchInfo.suburb) {
                                    storeHtml += branchInfo.suburb + "<br>";
                                }
                                storeHtml += branchInfo.city + "<br>";
                                storeHtml += "</p>";
                                storeHtml += "<div class='p_modal_subheader_dd'>Phone, fax and email</div>";
                                storeHtml += "<p>";
                                if (branchInfo.phone) {
                                    storeHtml += "<b>Phone:</b> " + branchInfo.phone + "<br>";
                                }
                                if (branchInfo.fax) {
                                    storeHtml += "<b>Fax:</b> " + branchInfo.fax + "<br>";
                                }
                                if (branchInfo.email) {
                                    storeHtml += "<b>Email:</b> ";
                                    storeHtml += branchInfo.email + "<br>";
                                    // current add additional info for MK store
                                    if (branchId == 7) {
                                        storeHtml += "<b>Commercial / Wholesale enquiries:</b> Commercial.man@pbtech.co.nz<br>";
                                    }
                                }
                                if (branchInfo.branch_manager) {
                                    storeHtml += "<b>Branch manager:</b> ";
                                    storeHtml += branchInfo.branch_manager;
                                }
                                storeHtml += "</p>";
                                storeHtml += "<a href='" + branchInfo.url + "' class='pblink' target='_blank'>View staff directory, map and full store information</a>";
                                storeHtml += "</div>";
                                storeHtml += "<div class='' style='width: 100%; text-align:center; padding-bottom:10px;'>";

                                var now = new Date();
                                var removeAfter = new Date(2018, 10, 29, 0, 0, 0, 0); //note that months in JavaScript are zero-based, i.e. 0 = January

                                var storeHoursWeekday   = branchInfo.hours_weekday;
                                var storeHoursSaturday  = branchInfo.hours_saturday || "CLOSED";
                                var storeHoursSunday    = branchInfo.hours_sunday || "CLOSED";
                                if (branchId == 6 && now < removeAfter) {
                                    storeHoursWeekday   = "9:00am ~ 5:00pm";
                                    storeHoursSaturday  = storeHoursSunday = "CLOSED";
                                }
                                storeHtml += "<div class='p_modal_subheader_dd'>Store hours</div>";
                                storeHtml += "Monday - Friday: " + storeHoursWeekday + "<br>";
                                storeHtml += "Saturday: " + storeHoursSaturday + "<br>";
                                storeHtml += "Sunday: " + storeHoursSunday + "</p>";
                                if (branchInfo.extra_info_text && branchInfo.extra_info_text.length > 0) {
                                    storeHtml += "<div style='color: red;'>";
                                    storeHtml += branchInfo.extra_info_text;
                                    storeHtml += "</div>";
                                }
                                storeHtml += "</div>";

                                storeHtml += "<div class='p_modal_subheader_dd p_map_header_dd' style='text-align:center;'>Find us on Google Maps</div>";
                                storeHtml += "<div id='p_google_map_dd'></div>";

                                element.html(storeHtml);

                                var position = new google.maps.LatLng(branchInfo.latitude, branchInfo.longitude);

                                var mapOptions = {
                                    center: position,
                                    zoom: 17
                                };

                                var map = new google.maps.Map(document.getElementById('p_google_map_dd'), mapOptions);

                                marker = new google.maps.Marker({
                                    position: position,
                                    map: map,
                                    animation: google.maps.Animation.DROP,
                                    title: "PB Tech " + branchInfo.name
                                });

                                $('#pb_modal_store_stock').click();
                            }, "json");
                    });

                // store stock info click
                $(document.body).on('click', '.store_stock_info', function(){
                    $('.sticky_stock_head').show();
                    var pID = $(this).data('product');
                    $.post(base + 'code/ajax_store_info_pdo.php', {
                        pID: pID,
                        purchaseVault: 1,
                    }, function(res) {
                        $('#pb_modal_store_stock_content').html(res);
                        preLoadCurrentSelectedBranch();
                        $('#pb_modal_store_stock').click();
                    }).fail(function(jqXHR, textStatus, errorThrown) {
                        window.location = base + 'stores';
                    });
                });
                // close from sticky header
                $(document.body).on('click', '.close_stock_sticky', function(){
                    $('.pb_modal_store_stock, .pb_modal_overlay, .sticky_stock_head').hide();
                });


                function preLoadCurrentSelectedBranch() {
                    var branch = $("#store_select option:selected").data('store');
                    var toggleBranch = $("#store_select option:selected").val();
                    storeInfoUpdate(branch, toggleBranch);
                    $('.p_modal_content_dd').removeClass('stock_all');
                }

                $(document.body).on('change', '#store_select', function(){
                    preLoadCurrentSelectedBranch();
                });

                $(document.body).on('click', '.stock_branch_header', function(){
                    var branch  = $(this).data('row');
                    storeInfoDrop(branch);
                });

                $(document.body).on('click', '#pb_modal_stockInfo', function(){
                    var branch = $(this).data('selectBranchId');
                    var toggleBranch = $(this).data('selectBranch');
                });

                $(document.body).on('click', '.pb_modal_store_stock .pb_modal_close , #pb_modal_overlay_pb_modal_store_stock', function(){
                    var previousBranch = $('#pb_modal_store_stock_content .p_modal_content_dd').data('preload');
                    var changedBranch = $("#store_select option:selected").data('store');
                    if (previousBranch != changedBranch) {
                        window.location.reload();
                    }
                });

                // stock modal
                function getStoreInfo(branch, element) {
                    $.get(base + "code/ajax_branch_details_pdo.php", {
                        branch: branch
                    }, function(branchInfo) {
                        storeHtml = "<div class='storeinfo_content_header'>";
                        storeHtml += "<hr>";
                        storeHtml += "<div class='store_address'>";
                        storeHtml += "<div class='p_modal_subheader_dd'><i class='fa fa-map-marker'></i> Physical address</div>";
                        storeHtml += "<p>";

                        if (branchInfo.unit) {
                            storeHtml += branchInfo.unit + ", ";
                        }
                        storeHtml += branchInfo.street + ", ";

                        if (branchInfo.suburb) {
                            storeHtml += branchInfo.suburb + ", ";
                        }
                        storeHtml += branchInfo.city + "<br>";
                        storeHtml += "</p>";
                        storeHtml += "<div class='p_modal_subheader_dd'><i class='fa fa-send'></i> Phone, fax and email</div>";
                        storeHtml += "<p>";
                        if (branchInfo.phone) {
                            storeHtml += "<b>Phone:</b> " + branchInfo.phone + "";
                        }
                        if (branchInfo.fax) {
                            storeHtml += " | <b>Fax:</b> " + branchInfo.fax + "";
                        }
                        if (branchInfo.email) {
                            storeHtml += " | <b>Email:</b> ";
                            storeHtml += branchInfo.email;
                            //TODO:: really need to refactor this info
                            // current add additional info for MK store
                            if (branch == 7) {
                                storeHtml += "<br>";
                                storeHtml += "<b>Commercial / Wholesale enquiries:</b> Commercial.man@pbtech.co.nz";
                            }
                        }
                        storeHtml += "</p>";
                        storeHtml += "</div>";

                        storeHtml += "<div class='sotre_open_hours'>";

                        storeHtml += "<div class='p_modal_subheader_dd'><i class='fa fa-clock-o'></i> Store hours</div>";
                        var now = new Date();
                        var removeAfter = new Date(2018, 10, 29, 0, 0, 0, 0); //note that months in JavaScript are zero-based, i.e. 0 = January

                        var storeHoursWeekday   = branchInfo.hours_weekday;
                        var storeHoursSaturday  = branchInfo.hours_saturday || "CLOSED";
                        var storeHoursSunday    = branchInfo.hours_sunday || "CLOSED";
                        if (branch == 6 && now < removeAfter) {
                            storeHoursWeekday   = "9:00am ~ 5:00pm";
                            storeHoursSaturday  = storeHoursSunday = "CLOSED";
                        }
                        storeHtml += "<div class='p_modal_subheader_dd'>Store hours</div>";
                        storeHtml += "Monday - Friday: " + storeHoursWeekday + "<br>";
                        storeHtml += "Saturday: " + storeHoursSaturday + "<br>";
                        storeHtml += "Sunday: " + storeHoursSunday + "</p>";
                        storeHtml += "</div>";
                        if (branchInfo.extra_info_text && branchInfo.extra_info_text.length > 0) {
                            storeHtml += "<div style='display: block;width: 100%;overflow: hidden;text-align: center;color: red;'>";
                            storeHtml += branchInfo.extra_info_text;
                            storeHtml += "</div>";
                        }
                        storeHtml += "</div>";
                        storeHtml += "<div class='storeinfo_url'><a href='" + branchInfo.url + "' class='pblink' target='_blank'>View store location map and staff directory</a></div>";
                        element.html(storeHtml);
                        element.addClass('active');

                    }, "json");
                }

                function storeInfoUpdate(branch, toggleBranch) {
                    $('.store_stock').hide();
                    $('.store_content').removeClass('active');
                    $('.stock_branch_header').removeClass('chosen_store');

                    if ($.isNumeric(branch) && branch >= 0) {
                        var stockBlock = $('.stock_'+branch);
                        stockBlock.show();
                        $('#stockrow_'+branch).addClass('chosen_store');

                        if (stockBlock.hasClass('stocked')) {
                            // check branch product locations
                            // need to check stock > 0?
                            var thisProductCode = stockBlock.data('product');
                            var thisStoreName = stockBlock.data('store');

                                                    }

                        var storeInfoContent = '#storeinfo_content';
                        getStoreInfo(branch, $(storeInfoContent));
                    }

                    if (toggleBranch) {
                        setCustomCookie('branch_select', toggleBranch, 2592000, 'branch_select');
                        $.post(base + "code/toggle_branch_pdo.php",{sbranch:toggleBranch},function(){});
                    }
                }

                function storeInfoDrop(branch) {
                    var preOpened = $('#store_wrapper_drop_' + branch).hasClass('active');

                    $('.store_info_wrapper').removeClass('active');
                    // $('.store_content_drop').removeClass('active');
                    $('.stock_branch_header .caret .fa').removeClass('fa-caret-up');
                    $('.stock_branch_header .caret .fa').addClass('fa-caret-down');
                    $('.stock_branch_header').removeClass('chosen_store');
                    if ($.isNumeric(branch) && branch >= 0) {
                        getStoreInfo(branch, $('#content_'+branch));
                    }

                    if (!preOpened) {
                        $('#store_wrapper_drop_' + branch).toggleClass('active');
                        var totalHeaders = $('.stock_branch_header').length;
                        var thisIndex = $('.stock_branch_header').index($('#stockrow_'+branch));
                        var scrollHeight = $('.storeScrollArea').prop("scrollHeight");
                        var scrollToTop = scrollHeight/totalHeaders*thisIndex;
                        scrollTo(scrollToTop, 200, '.storeScrollArea');
                        $('#store_wrapper_drop_' + branch +' .caret .fa').addClass('fa-caret-up');
                        $('#store_wrapper_drop_' + branch +' .caret .fa').removeClass('fa-caret-down');
                    }
                }

                function scrollTo(target, speed, container) {
                    speed = speed || 500;
                    container = container || "html, body";
                    if (!(container instanceof jQuery)) container = $(container);
                    container.animate({
                        scrollTop: target
                    }, speed);
                };

                // if sale popup banner exists
                if ($(".sale_popup_banner_container").length) {
                    $.post("code/ajax_log_track_event_pdo.php", {
                        name: 'sale_popup_banner',
                        type: 'view',
                        request: window.location.href
                    });
                }

                // on click of sale popup banner
                $('.sale_popup_banner').click(function() {
                    $(".sale_popup_banner_container").hide();
                    $("#pb_modal_sale").click();
                    setCustomCookie("sale_popup", "true", 15780000, "auto");
                    $.post("code/ajax_log_track_event_pdo.php", {
                        name: 'sale_popup_banner',
                        type: 'click',
                        request: window.location.href
                    });
                });

                // on click of sale popup banner close
                $(document.body).on('click', '.sale_popup_banner_close', function() {
                    $(".sale_popup_banner_container").hide();
                    setCustomCookie("sale_popup", "true", 15780000, "auto");
                    $.post("code/ajax_log_track_event_pdo.php", {
                        name: 'sale_popup_banner',
                        type: 'remove',
                        request: window.location.href
                    });
                });

            });



// accordian script
    $('.accordianTitle').click(function () {

        var thisBlock = $(this).data('accord');
        // $('.p_content').hide();
        $('.accordian_content_' + thisBlock).slideToggle();
        $('#toggleCaret_'+ thisBlock).toggleClass('fa-caret-up');
        $('#toggleCaret_'+ thisBlock).toggleClass('fa-caret-down');
    });
// accordian script

$('#pb_swal_digital_pin_code').click(function() {
    swal({
        title: 'Digital Pin Purchase',
        html: $('#pb_modal_digital_pin_code_content').html(),
        confirmButtonText: 'Close'
    });
});

</script>
    <!-- LAZYLOAD -->
    <script>
        //TODO: swap this over to the new lazy load library
        function setupLazyLoad() {
            var myLazyLoad = new LazyLoad({
                elements_selector: "img",
                container: window,
                threshold: 50,
                throttle: 0,
                callback_load: function(element) {
                    $(element).removeClass("loading").addClass("loaded");
                }
            });
            window.onload = function() {
                myLazyLoad.handleScroll();
            };
            return myLazyLoad;
        }
        var myLazyLoad = setupLazyLoad();
    </script>

    <script type="text/javascript">
        var promotion = null;
        var noneSliderResponsive = {
            1200: 3,
            1400: 4
        };

        function getNoneSliderLineSize(container) {
            var containerSize = $(container).innerWidth();
            var lineSize = 0;
            $.each(noneSliderResponsive, function(key, val) {
                if (containerSize <= key) {
                    lineSize = val;
                    return false;
                }
            });
            return lineSize == 0 ? 5 : lineSize;
        }

        // add this action when user resize window/screen
        function contentBlockResize(force, reClasses) {
            
                    $(".content_block_container .products_list_wrapper .none_slider, .content_block_container .products_list_wrapper .none_slider_border, .byod_product_content.products_list_wrapper.gallery_list .none_slider").each(function() {
                        var thisContainer      = $(this).closest('.content_block_container');
                        var noneSliderLineSize = getNoneSliderLineSize(thisContainer);

                        if (!force && thisContainer.hasClass('lazy_load')) return;

                        var productItems = $(this).find('.list_item');
                        var itemsCount = productItems.length;

                        if (itemsCount == 0) return;

                        var lines = Math.ceil(itemsCount/noneSliderLineSize);

                        var lineClass = "none_slider_col_" + noneSliderLineSize;
                        var lastChildren = itemsCount%noneSliderLineSize;

                        var lastChildrenClass = lastChildren > 0 ? ("none_slider_col_" + lastChildren) : lineClass;
                        var lineCountRange = (lines <= 1 ? noneSliderLineSize : (itemsCount - lastChildren));

                        $.each(productItems, function(key, item) {
                            var thisItemNumber = key + 1;
                            if (reClasses) {
                                for (var i = 1; i <= 5; i++) {
                                    $(this).removeClass("none_slider_col_" + i);
                                }

                                $(this).removeClass("none_slider_item_first");
                                $(this).removeClass("none_slider_item_middle");
                                $(this).removeClass("none_slider_item_last");
                                $(this).removeClass("none_slider_line_first");
                                $(this).removeClass("none_slider_line_middle");
                                $(this).removeClass("none_slider_line_last");
                            }

                            var itemPosition = thisItemNumber%noneSliderLineSize;
                            if (itemPosition == 1) {
                                if (!$(this).hasClass("none_slider_item_first")) {
                                    $(this).addClass("none_slider_item_first");
                                }
                            } else if (itemPosition == 0) {
                                if (!$(this).hasClass("none_slider_item_last")) {
                                    $(this).addClass("none_slider_item_last");
                                }
                            } else {
                                if (!$(this).hasClass("none_slider_item_middle")) {
                                    $(this).addClass("none_slider_item_middle");
                                }
                            }
                            if (!$(this).hasClass("hover_none")) {
                                $(this).addClass("hover_none");
                            }

                            // check which line item belongs to
                            var belongsLine = Math.ceil(thisItemNumber/noneSliderLineSize);
                            if (belongsLine == lines) {
                                if (!$(this).hasClass("none_slider_line_last")) {
                                    $(this).addClass("none_slider_line_last");
                                }
                            } else {
                                if (!$(this).hasClass("none_slider_line_middle")) {
                                    $(this).addClass("none_slider_line_middle");
                                }
                            }
                            if (thisItemNumber <= lineCountRange) {
                                if (lines > 1) {
                                    if (!$(this).hasClass(lineClass)) {
                                        $(this).addClass(lineClass);
                                    }
                                } else {
                                    if (!$(this).hasClass(lastChildrenClass)) {
                                        $(this).addClass(lastChildrenClass);
                                    }
                                }
                            } else {
                                if (!$(this).hasClass(lastChildrenClass)) {
                                    $(this).addClass(lastChildrenClass);
                                }
                            }
                        });
                    });
                            }

        $( window ).resize(function() {
            contentBlockResize(true, true);
        });
        contentBlockResize();

        //lazy loading of content blocks and the ProductCollection
        //attach the lazy_load class to an element to lazy load content for, with a data-loader attribute with the name of the loader to use
        //to lazy load images, simply attach the lazy_load class and change the src attribute to a data-src attribute
        var lazyLoader = $(".lazy_load").Lazy({
            loadContentBlocks: function(element, response) {
                var blockID = element.data("blockId");
                element.load("code/ajax_content_block_pdo.php .content_block_container > *", {
                    blockID: blockID,
                    promotion: promotion,
                    currentURL: "privacy",
                }, function() {
                    lazyLoadCallback(element, response);
                });
            },
            loadProducts: function(element, response) {
                $.get("code/ajax_product_pdo.php", {
                    "productCode[]": element.data("productCodes").split("_"),
                    promotion: element.data("promotionUrl"),
                }, function(data) {
                    var content = $(data).find(".item");
                    element.replaceWith(content);
                    lazyLoadCallback(content, response);
                });
            },
            afterLoad: function(element) {
                // lazy load after load - Note: check with Alex about loading all blocks
                //TODO: once the old lazy loader is removed, this can be too
                myLazyLoad = setupLazyLoad();
                element.removeClass("loading").addClass("loaded");
            },
            visibleOnly: true,
            threshold: 750,
            chainable: false,
        });

        function lazyLoadCallback(element, response) {
            myLazyLoad = setupLazyLoad();
            applyOwlCarousel(owlResponsive, myLazyLoad, element);
            toggleGST(element);

            if (typeof overridePromotionTitle !== 'undefined' && typeof overridePromotionTitle === 'function') {
                overridePromotionTitle();
            }
            //replaces the setupLazyLoad() function
            lazyLoader.addItems(element.find(".lazy_load"));
            lazyLoader.update();

            if (typeof setupPromotionTimer === "function") {
                var promotionTimers = element.find(".promotion_timer");
                if (promotionTimers.length > 0) {
                    promotionTimers.each(setupPromotionTimer);
                }
            }
            contentBlockResize(true, true);
            response(true);
        }
    </script>
    
    <!-- Remarketing - PB NZ/AU -->
    <script type="text/javascript">

    /* <![CDATA[ */
    var google_conversion_id = 994943012;
    var google_custom_params = window.google_tag_params;
    var google_remarketing_only = true;
    /* ]]> */
    </script>
    <script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js">
    </script>
    <noscript>
    <div style="display:inline;">
    <img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/994943012/?value=0&amp;guid=ON&amp;script=0"/>
    </div>
    </noscript>

        <!-- Start of LiveChat (www.livechatinc.com) code -->
        <script type="text/javascript">
        var __lc = {};
        __lc.license = 6167181;
        __lc.chat_between_groups = false;
        __lc.group = 2;

        (function() {
          var lc = document.createElement('script'); lc.type = 'text/javascript'; lc.async = true;
          lc.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'cdn.livechatinc.com/tracking.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(lc, s);
        })();
        </script>
        <!-- End of LiveChat code -->
        <script>

    // feedback smily spin every 10 sec
    window.setInterval(function(){
        $("#feedback-side i").addClass("spinme").delay(1000).queue(function(){
            $(this).removeClass("spinme").dequeue();
        });
    }, 10000);

    // OWL SLIDER - BLOCK SLIDERS AND RECENTLY BROWSED
    var slidePerLine = "5";

    var owlResponsive = {
        0: {
            items: 3,
            nav: true
        },
        1200: {
            items: 3,
            nav: true
        },
        1300: {
            items: 4,
            nav: true
        },
        1440: {
            items: slidePerLine,
            nav: true,
            loop: false,
            margin: 10,
            touchDrag: false,
            video: true,
            mouseDrag: false
        }
    };

    
    function applyOwlCarousel(responsiveData, lazyLoad, container) {
        if (container) {
            //filter to elements in this container only
            container = $(container);
        } else {
            container = null;
        }
        owlResponsive = {
            0: {
                items: 2,
                nav: true
            },
            800: {
                items: 3,
                nav: true
            },
            1020: {
                items: 4,
                nav: true,
                loop: false,
                margin: 10,
                touchDrag: false,
                mouseDrag: false
            },
            1400: {
                items: 5,
                nav: true,
                loop: false,
                margin: 10,
                touchDrag: false,
                mouseDrag: false
            }
        };

        var elements;
        if (container) {
            elements = container.find(".owl-carousel");
        } else {
            elements = $(".owl-carousel");
        }

        elements.each(function() {
            var wrapper = $(this);

            var owl = wrapper.owlCarousel({
                loop: false,
                margin: 10,
                responsiveClass: true,
                responsiveBaseElement: wrapper,
                responsive: owlResponsive
            });

            owl.on("drag.owl.carousel dragged.owl.carousel translated.owl.carousel next.owl.carousel", function(e) {
                lazyLoad.handleScroll(); // trigger lazy load on change
                lazyLoader.update();
            });
        });
    }

    applyOwlCarousel(owlResponsive, myLazyLoad);

    // get wrapper height and adjust sidebar adds
    var myDivHeight = $('.wrapper').height();
    cutOff0 = "1300";
    cutOff = "1200";
    cutOff2 = "800";
    cutOff3 = "700";

    if (myDivHeight < cutOff0) {
        $('.recommendSidebars').addClass('scrolladds0');
    }
    if (myDivHeight < cutOff) {
        $('.recommendSidebars').addClass('scrolladds');
    }
    if (myDivHeight < cutOff2) {
        $('.recommendSidebars').addClass('scrolladds2');
    }
    if (myDivHeight < cutOff3) {
        $('.recommendSidebars').addClass('scrolladds3');
    }
    </script>
    <script>ga('send', 'event', 'Other', 'View page', 'Other - privacy', { nonInteraction: true });
</script>
<script>
    //old browser warning
    var $buoop = {vs:{i:10,f:-4,o:-4,s:8,c:-4},mobile:false,api:4};
    function $buo_f(){
     var e = document.createElement("script");
     e.src = "//browser-update.org/update.min.js";
     document.body.appendChild(e);
    };
    try {document.addEventListener("DOMContentLoaded", $buo_f,false)}
    catch(e){window.attachEvent("onload", $buo_f)}
</script>

<script>
    var pID = '';
    // comment out rather than remove incase any issue for now
    // if (pID != "") {
    //     window.fbAsyncInit = function() {
    //         // init the FB JS SDK
    //         FB.init({
    //             //app_id: // recommended to include app_id
    //             xfbml: true // Look for social plugins on the page
    //         });

    //         // Additional initialization code such as adding Event Listeners goes here
    //         // like product
    //         FB.Event.subscribe('edge.create',
    //             function(response) {
    //                 $.post("code/ajax_log_likes_pdo.php",{
    //                     id: pID,
    //                     action: 'lb'
    //                 });
    //             }
    //         );

    //         // unlike product
    //         FB.Event.subscribe('edge.remove',
    //             function(response) {
    //                 $.post("code/ajax_log_likes_pdo.php",{
    //                     id: pID,
    //                     action: 'ub'
    //                 });
    //             }
    //         );
    //     };
    // }

    // // Load the SDK asynchronously
    // (function(d, s, id) {
    // var js, fjs = d.getElementsByTagName(s)[0];
    // if (d.getElementById(id)) return;
    //     js = d.createElement(s); js.id = id;
    //     js.src = "//connect.facebook.net/en_US/all.js";
    //     fjs.parentNode.insertBefore(js, fjs);
    // }(document, 'script', 'facebook-jssdk'));
</script>



<!-- host: pbtech-akl-lws-a04, page loaded in: 0.063215970993042s. --></div><script src="//browser-update.org/update.min.js"></script></body></html>