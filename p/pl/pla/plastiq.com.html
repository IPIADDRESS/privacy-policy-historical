<!--The following is the downloaded HTML source of the plastiq.com privacy policy that was archived on 2013-08-06.
 Please check the original snapshot on the Wayback Machine (https://web.archive.org/web/20130806073052id_/https%3A//www.plastiq.com/privacy) for the most accurate reproduction.-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html lang="en-US" xmlns="http://www.w3.org/1999/xhtml" dir="ltr" class=" js no-flexbox canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths"><head>
	<title>Plastiq | Privacy Policy</title>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	
	<!-- meta tags -->
<meta name="description" content="Plastiq enables you to make tuition, car, and other large-ticket payments on credit card, earning you incredible rewards points, airmiles, cashback, and more - all with a simple payment interface.">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<!-- favicon -->
<link rel="icon" type="image/png" href="favicon.ico">

<!-- styles -->
<link rel="stylesheet" href="styles/all.css" media="all">
<link rel="stylesheet" href="styles/print.css" media="print">
<link rel="stylesheet" href="styles/table.css" media="screen">
<link rel="stylesheet" href="styles/fonts.css" media="all">
<link rel="stylesheet" href="styles/style.css" media="all">
<link rel="stylesheet" href="styles/colorbox.css" media="all">
<link rel="stylesheet" href="styles/jscrollpane.css" media="all">
<link rel="stylesheet" href="styles/jquery.ui.selectmenu.css" media="all">
<link rel="stylesheet" href="styles/TableTools.css" media="screen">
<link rel="stylesheet" href="styles/custom-theme/jquery-ui-1.8.18.custom.css" media="screen">
<link rel="stylesheet" href="styles/highlight.default.css" media="screen">
	

<!-- page-specific styles -->

<!-- cdn javascript libraries -->
	<script async="" src="//www.googletagmanager.com/gtm.js?id=GTM-3B7R"></script><script type="text/javascript" async="" src="https://ssl.google-analytics.com/ga.js"></script><script type="text/javascript" src="/includes/js/jquery.min.js"></script>
	<script type="text/javascript" src="/includes/js/jquery-ui.min.js"></script>
	<script type="text/javascript" src="/includes/js/highlight.mini.js"></script>
	<script type="text/javascript" src="/includes/js/jquery.dataTables.min.js"></script>
<!--[if IE]>
  <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<script type="text/javascript" src="/includes/js/jquery.colorbox-min.js"></script>	<style type="text/css">
		.body { width: 700px; margin: 0px auto 0px; text-align: justify; }
		.body p { margin: 10px 0px 10px; line-height: 1.5em; }
		h2 { font-size: 24px; }
		h3 { color: #25aae1; }
		h4 { color: #000; text-decoration: underline; }
		#privacy ul { list-style-type: circle; line-height: 1.4em; padding-left: 20px; }
		#privacy a { color: #25aae1; text-decoration: underline; }
	</style>
</head>
<body><div id="cboxOverlay" style="display: none;"></div><div id="colorbox" class="" style="padding-bottom: 32px; padding-right: 0px; display: none;"><div id="cboxWrapper"><div><div id="cboxTopLeft" style="float: left;"></div><div id="cboxTopCenter" style="float: left;"></div><div id="cboxTopRight" style="float: left;"></div></div><div style="clear: left;"><div id="cboxMiddleLeft" style="float: left;"></div><div id="cboxContent" style="float: left;"><div id="cboxLoadedContent" style="width: 0px; height: 0px; overflow: hidden; float: left;"></div><div id="cboxLoadingOverlay" style="float: left;"></div><div id="cboxLoadingGraphic" style="float: left;"></div><div id="cboxTitle" style="float: left;"></div><div id="cboxCurrent" style="float: left;"></div><div id="cboxNext" style="float: left;"></div><div id="cboxPrevious" style="float: left;"></div><div id="cboxSlideshow" style="float: left;"></div><div id="cboxClose" style="float: left;"></div></div><div id="cboxMiddleRight" style="float: left;"></div></div><div style="clear: left;"><div id="cboxBottomLeft" style="float: left;"></div><div id="cboxBottomCenter" style="float: left;"></div><div id="cboxBottomRight" style="float: left;"></div></div></div><div style="position: absolute; width: 9999px; visibility: hidden; display: none;"></div></div>
	<div id="gtm-data" data-referrer="plastiq.com" data-uid="ip_3c12d68762916a8086984f810f3e59b5" data-tmstmp="2013-08-06 03:30:52" data-cid="">		
		<!-- Google Tag Manager -->
		<script type="text/javascript">dataLayer = [{
		}];</script>
		<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-3B7R"
		height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
		<script>$(document).ready(function(){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
		new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
		j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
		'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
		})(window,document,'script','dataLayer','GTM-3B7R');});</script>
		<!-- End Google Tag Manager -->
		
		<!-- SiteCatalyst code version: H.25.3.
		Copyright 1996-2013 Adobe, Inc. All Rights Reserved
		More info available at http://www.omniture.com -->
		<script language="JavaScript" type="text/javascript" src="/includes/js/s_code.js" class="no-rerun"></script>
		<script language="JavaScript" type="text/javascript" class="no-rerun"><!--
		/* You may give each page an identifying name, server, and channel on
		the next lines. */
		s.pageName="cardholders|privacy"
		s.eVar1="D=pageName"
		s.prop1="D=pageName"
		s.events="event1"
		s.server=""
		s.channel="cardholders"
		hier1="cardholders|privacy"
		s.pageType=""
		s.prop1=""
		s.prop2=""
		s.prop3=""
		s.prop4=""
		s.prop5=""
				/************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/
		var s_code=s.t();if(s_code)document.write(s_code)//--></script>
		<script language="JavaScript" type="text/javascript" class="no-rerun"><!--
		if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
		//--></script><noscript><img src="https://plastiq.d1.sc.omtrdc.net/b/ss/plastiq/1/H.25.3--NS/0"
		height="1" width="1" border="0" alt="" /></noscript><!--/DO NOT REMOVE/-->
		<!-- End SiteCatalyst code version: H.25.3. -->
		
		</div>		<!-- end of page-top -->
<div class="shell">
	<div id="header" class="type2">
		<h1 id="logo"><a href="index" class="notext">Plastiq</a></h1>
		
		<a style="" href="pay?reset=1" class="make-payment-btn">MAKE A PAYMENT</a>
		<div id="navigation" style="background: none; height: 0px;">
			<ul><li style="border-bottom: none;"><a href="index">HOME</a></li><li style="border-bottom: none;"><a href="register">REGISTER</a></li><li style="border-bottom: none;"><a href="login">LOGIN</a></li></ul>
			<div class="cl">&nbsp;</div>
		</div>
		<div class="cl">&nbsp;</div>
	</div>

	<!-- End of Header -->
	<div id="page">
				<div class="container">
			<div id="privacy">
				<div class="top">
					<h2>Privacy Policy</h2>
					<p>We at Plastiq do our best to protect your privacy.  Please read below for a more detailed rundown of our policies.</p>
				</div>
				<div class="body">
		
<h2>Welcome to Plastiq</h2>
					
<p>Plastiq enables you to make credit and debit card payments when you previously could not. We understand that privacy matters, and so we take care with the information you choose to share with us. This Privacy Policy (the "Policy") explains our policies and procedures with respect to the information that we collect through our Platform.</p>

<p>This Privacy Policy was last updated on March 12, 2013</p>

<h3>Consent</h3>

<p>By using the Website or our Services you consent to the use of your Personal Data as described in this Policy.  By using the Services, you are accepting the practices described in this Policy. If you do not agree with this Policy, you do not have Plastiq's permission to use our Website and/or Platform.  Except as set forth in this Policy, your Personal Data will not be used for any other purpose without your consent. You may withdraw your consent to our processing of your Personal Data at any time.  However, withdrawing consent may result in your inability to continue using certain features of the Website and/or the Services. Your continued use of our Website or Platform signifies your acceptance of this Policy.</p>

<p>This Privacy Policy will answer the following questions:
	</p><ul>
		<li><a href="#part1">What does this Policy apply to?</a></li>
		<li><a href="#part2">What information does Plastiq collect?</a></li>
		<li><a href="#part3">How does Plastiq collect Personal Data?</a></li>
		<li><a href="#part4">How does Plastiq use the information it collects about me?</a></li>
		<li><a href="#part5">Does Plastiq ever disclose Personal Data or other information?</a></li>
		<li><a href="#part6">How does Plastiq secure collected data?</a></li>
		<li><a href="#part7">How are updates to this Policy handled?</a></li>
	</ul>
<p></p>

<p>If this Policy raises any further privacy questions, comments, or suggestions or if you wish to request a copy of the Personal Data we hold about you, we encourage you to reach out to us at privacy@plastiq.com. Our policies will continually adjust to the exciting and ever-changing landscape of credit card payments and will be informed by the valuable feedback of our visitors and users.</p>

<p>Please also review the <a href="/tos">Terms of Service</a> which governs your use of our Services.  Capitalized terms in this Policy not otherwise defined herein have the same meanings as the definitions of those terms in the User Agreement.</p>

<h3>A note for children under 13 years old.</h3>

<p>Plastiq does not knowingly collect Personal Data from children under the age of 13. If you are under the age of 13, please do not submit any Personal Data through this Website. We encourage parents and legal guardians to monitor their children's Internet usage and to help enforce this Policy by instructing their children never to provide Personal Data on this Website without their permission. If you have reason to believe that a child under the age of 13 has provided Personal Data to Plastiq via this Website, please contact us, and we will endeavor to delete that information from our databases.</p>

<h2 id="part1">What does this Policy apply to?</h2>

<h3>Application of this Policy</h3>

<p>This Policy applies to all interactions and exchanges of information between Plastiq and our Users via the plastiq.com website, including all subpages and successor pages (collectively, the "Website"), and with respect to the infrastructure and applications that enable use of the Services (our "Platform"), including but not limited to sending and managing payments, communications to and from Plastiq, including communications sent via email and SMS, support and maintenance (collectively, the "Services") and our gathering of information such as usage statistics in relation to the usage of the Services.</p>

<p>Visitors to the Website who do not use our Platform for any transactions or other activities , such as making or managing payments, are not required to provide any Personal Data. We may, however, passively collect personally non-identifiable information – information that may correspond to a particular web browsing session, but does not identify the particular person doing the browsing – for the purpose of improving our Website and Platform.</p>

<p>Non-registered and non-authenticated users may use our Platform to make easy payments to any of our Merchants without registering for a user account or logging in. An e-mail address is required for receipt purposes, and we will track your payments to that e-mail address in the event that you choose to register for a user account or login at a later time. Please note that access to your payment history requires validation of your e-mail address.</p>

<p>Registered Plastiq users, in addition to easily sending immediate payments to our Merchants, may schedule and manage future payments and store credit card data for later use.</p>

<h3>Exclusions</h3>

<p>This Policy does not apply to any unsolicited information you provide to us via this Website or any other means. This includes, but is not limited to, information posted to any public areas of the Website, such as bulletin boards (collectively, "Public Areas"), any ideas for new products or modifications to existing products, cookie based information brought to Plastiq.com by your web browser, public postings on social media, and other unsolicited submissions (collectively, "Unsolicited Information").</p>

<p>This Website may contain links to other websites not operated or controlled by Plastiq (collectively, "Third Party Sites"). The policies and procedures we describe here do not apply to such Third Party Sites, and furthermore, links from this Website do not imply that Plastiq endorses or has reviewed any Third Party Sites. Please always review the privacy policies and terms of service of any third parties prior to engaging in business or interacting with them.</p>

<h2 id="part2">What information does Plastiq collect?</h2>

<p>The term "Personal Data", as used in this Policy, refers to any information that can be used to identify a specific person, and/or that is linked to a specific identified person. Personal Data does not include information that has been aggregated or made anonymous such that it can no longer identify a specific person.</p>

<p>Plastiq will specifically collect the following Personal Data and other non-identifiable information:
	</p><ul>
		<li><strong>Registration Information:</strong>  We collect Personal Information from you, such as your contact and payment information, when you register for and use our Services.</li>
		<li><strong>Transaction Information:</strong> When you use our Platform to make or accept payments, we collect information about when the transactions occurred, a description of the transactions, the payment amounts, and the merchant you designated to receive the payment.</li>
		<li><strong>Device Information:</strong> We collect device-specific information when you access our Platform, including your hardware model, operating system and version, unique device identifiers, mobile network information, and information about the device's interaction with our Platform. We may also identify other software running on the device (but will not collect any content from such software) for anti-fraud and malware-prevention purposes.</li>
		<li><strong>Use Information:</strong> We collect information about how you use our Platform, including your access times, browser types and language, and Internet Protocol ("IP") addresses.</li>
	</ul>
<p></p>
	
<h2 id="part3">How does Plastiq collect Personal Data and Other Information about me?</h2>

<h3>Personal Data</h3>

<p>In general, Plastiq collects Personal Data about you in two ways: 1) when you provide it directly to us, for example when you register for access to our Services, when you make payments or interact with our client services, or 2) when we receive such data from industry or business partners, for example if your merchant sends us a payment on your behalf, Your usage of this Website and our Platform determines in large part the collection and use of your data – more specific details can be found below in this section. If we ever intend to use your information in a manner that is not consistent with this Policy, you will be informed of such anticipated use prior to or at the time at which the information is collected via explicit electronic notification.  This includes but is not limited to: email notifications, SMS notifications, on-site alerts, modal windows, and other mechanisms that Plastiq may elect to utilize.</p>

<h3>Other Information</h3>

<p>We use various technologies to collect information, and this may include sending cookies to your computer or mobile device. Cookies are small data files that are stored on your hard drive or in device memory by a website. Cookies help provide additional functionality to the Website and help us analyze Website usage more accurately. Through Cookies we can offer additional site functionality, and make sure that those who are most interested can find us online.  For example, we may set a cookie on your browser that enables you to access this Website without needing to enter a password more than once during a single visit. Cookies also support the integrity of our registration process, retain your preferences and account settings, and help evaluate and compile aggregated statistics about user activity. Based on Website usage and browsing data we collect through Cookies, Plastiq can also target specific advertisements directly related to your interest in us.</p>

<p>On most web browsers, you will find a "help" section on the toolbar. Please refer to this section for information on how to receive notification when you are receiving a new cookie and how to turn cookies off. We recommend that you leave cookies turned on because they allow you to take advantage of some of the Website's more advanced features.  If you choose to delete or switch off cookies you may not have access to certain features or areas of the Website.</p>

<p>We may also collect information using web beacons. Web beacons are electronic images that may be used in our Platform or emails. We may use web beacons to deliver cookies, count visits, understand usage and campaign effectiveness, and determine whether an email has been opened and acted upon.</p>

<h2 id="part4">How does Plastiq use the information it collects about me?</h2>

<p>Payment-related data, including your cardholder data, is securely stored for accounting and auditing purposes, and non-sensitive information may be made available to your Merchants via our secure Platform. Merchants paid through Plastiq may customize the information they collect from you via Plastiq at time of payment. This information is subject to change at any time and may include but is not limited to your full name, home address, phone number, and invoice number. You agree to allow Plastiq to share this collected information with the Merchant.</p>

<p>Plastiq, its subsidiaries, and affiliates may also use your Personal Data and other personally non-identifiable information collected through this Website to help us improve the content and functionality of our Website, to better understand our users, and to improve our Platform and Services.</p>
 
<p>We may use your contact information in the future to notify you of important things, including but not limited to new or expanded Platform capabilities, pending payment deadlines, or promotions from Plastiq or our partners. We may contact you via email, mail and/or through SMSs or text messages. If we do so, each communication we send you will contain instructions permitting you to "opt-out" of receiving future marketing communications. This will permanently remove your contact information from all future out-going correspondences.  Additionally, if for any reason you find our "opt-out" instructions unclear, and wish to cease receiving any communications from Plastiq, or you wish to have your name deleted from our mailing lists, please contact us as at <a href="mailto:privacy@plastiq.com">privacy@plastiq.com</a>. We retain the right to contact you regarding your use of the Services.</p>

<p>Plastiq will occasionally conduct research on our customer demographics, interests and behavior based on Personal Data and other information provided to us. This research may be compiled and analyzed on an aggregate basis, and Plastiq may share this aggregate data with its affiliates, agents and business partners. Importantly, this aggregate information cannot be used to personally identify any Plastiq user or users. We may also disclose aggregated user statistics in order to describe our Platform to current and prospective business partners, and to other third parties for other lawful purposes.</p>

<h2 id="part5">Does Plastiq ever disclose Personal Data or other information?</h2>

<p>Plastiq does not sell or rent your Personal Data to marketers or third parties for marketing purposes.</p>

<p>Like many companies, we sometimes share information with trusted third parties to perform functions related to this Website and our Platform. These trusted third parties may include, but are not limited to, credit card associations, banking and processing partners, security and audit providers, as well as any other entities that you have directly authorized to receive your Personal Data. Any information shared with such parties is disclosed on a strictly ad hoc basis. We take efforts to limit the amount of information that is shared with third parties to what is necessary to accomplish the specific business purpose.</p>

<p>We may disclose your Personal Data to law enforcement, government officials, regulators and/or other third parties from the jurisdiction in which you reside or from other foreign jurisdictions if required to do so by law or in the good faith belief that such action is necessary to (i) comply with a legal obligation, (ii) protect and defend our rights or property, (iii) act in urgent circumstances to protect the personal safety of users of this Website or the public, or (iv) protect against legal liability.</p>

<p>In the event of a corporate sale, merger, reorganization, dissolution or similar event, Personal Data may be part of the transferred assets.</p>

<p>From time to time we may employ third parties to help us improve the Website and/or the Services. These third parties may have limited access to databases of user information solely for the purpose of helping us to improve the Website and/or the Services. </p>

<h2 id="part6">How does Plastiq secure Personal Data?</h2>

<p>Credit and debit card data is stored and managed in compliance with strict Payment Card Industry (PCI) standards. Plastiq utilizes tokenization, a payments industry-standard procedure, to limit exposure of sensitive cardholder data. Your credit and/or debit card information is sent directly to our secure, encrypted data vault, which generates a random, cryptographically secure token that is used by our payment application to submit payments on your card. Once information is deposited into the vault, it cannot be directly retrieved by our payment application or any third parties.</p>

<p>Although no data transmission or storage can be guaranteed 100% secure and error free, Plastiq takes great care to protect Personal Data collected via this Website from loss, misuse, and unauthorized access, disclosure, alteration, or destruction, in both transit and at rest. Access to user data is limited (via username/password authentication and 2-factor verification, among other safeguards) only to those employees who require it to perform their job functions. Connections to this Website are secured with an Extended Validation (EV) SSL certificate with 256-bit encryption, and our data centers, located in the United States, boast enterprise-level security with top-level industry certifications and fault-tolerant, distributed systems. Other security safeguards include, but are not limited to, encrypted vault storage for sensitive data, strict hardware firewalls, and limited physical access to buildings, servers, and files.</p>

<p>As our data centers are located in Canada, your Personal Data may be available to the Canadian government or its agencies under a lawful order, irrespective of the safeguards we have put in place for the protection of your Personal Data.</p>

<p>We at Plastiq do our best to secure your data, and we ask that you take reasonable precautions as well. Ensure your personal computing device has up-to-date security and anti-virus software, and please consider carefully what information you choose to send anyone via the Internet and log of your account when you are finished using the Services and do not share your password with anyone.</p>

<h2 id="part7">How are updates to this Policy handled?</h2>

<p>This Website and Services may change from time to time, which may necessitate revisions to this Policy. Plastiq reserves the right to update or modify this Policy at any time without prior notice. Please review this policy periodically, and especially prior to providing any Personal Data.  If you use the Website and/or Services after a revised Privacy Policy is posted, you will be bound by the terms of the revised Privacy Policy.</p>

<h3>Access and Accuracy</h3>

<p>You have the right to access the Personal Data we hold about you in order to verify the accuracy of that information.  Upon receipt of your written request, we will provide you with a copy of your Personal Information.  We will endeavor to deal with all such requests for access in a timely manner.</p>

<p>Having accurate Personal Data about you enables us to give you better service.  We will make every reasonable effort to keep your Personal Data accurate and up-to-date.</p>

<h3>Retention</h3>

<p>We will keep your Personal Information for as long as it remains necessary for the operation of the Website and Services or as required by law, which may extend beyond the termination of our relationship with you. Subject to the foregoing, in general, once you inform us that you no longer wish to use the Website or Services, we will delete your records from our systems as soon as practicable.</p>

<h3>Updating your Information; Contacting Us</h3>

<p>Please keep us informed of any changes such as a change of address or telephone number. If you would like to access your information, if you have any questions, comments or suggestions of if you find any errors in our information about you, please contact us at: <a href="mailto:privacy@plastiq.com">privacy@plastiq.com</a></p>
					
					
				</div>
			</div>
		</div>
		</div>
	<!-- Footer -->
	<div id="footer">
		<a href="#" class="flogo alignright"><img src="styles/images/flogo.png" alt=""></a>
		<p class="links"><a href="contact" target="_blank">Contact</a>, <a href="security" target="_blank">Security</a>, <a target="_blank" href="http://support.plastiq.com/">Help</a>, <a href="tos" target="_blank">Terms of Service</a>, <a href="privacy" target="_blank">Privacy Policy</a>.</p>
		<p class="copy">© 2013 All Rights Reserved. Plastiq and the Plastiq logo are property of Plastiq, inc.</p>
		<div class="cl">&nbsp;</div>
	</div>
	<!-- End of Footer -->
</div>
	<!--[if lt IE 8]>
<div class="pq-modal-cover"></div>
<div class="pq-modal" id="browser-fail" style="display: block;">
	<div id="close-btn"></div>
	<h2>- Browser is not supported -</h2>
	<p>We see you’re using an outdated browser.  This browser is not fully supported 
	by the Plastiq web site. We can’t guarantee that every page, it’s content, and
	functionality will display or function properly. We highly recommend taking
	a few minutes to upgrade your browser to its more modern version.<br />
	<span class="subtle-info">Visit <a href="http://browsehappy.com/">“Browse Happy”</a> to upgrade and learn more ></span></p>
	
	<ul id="browser-group" class="clearfix">
		<li>
			<a href="http://www.google.com/chrome" class="chrome">chrome</a>
		</li>
		<li>
			<a href="http://www.firefox.com/" class="firefox">firefox</a>
		</li>
		<li>
			<a href="http://www.apple.com/safari/" class="safari">safari</a>
		</li>
		<li>
			<a href="http://www.opera.com/" class="opera">opera</a>
		</li>
		<li>
			<a href="http://windows.microsoft.com/ie" class="internet-explorer">internet explorer</a>
		</li>
	</ul>
</div>
<script type="text/javascript">
	$(document).ready(function(){
		var x = 6.28318530717958620000;
		var val = Math.sin(x);
		if(!(Math.abs(val) === 2.4492127076447545e-16)){
			$('.pq-modal-cover, .pq-modal').remove();
		}
	});
</script>
<![endif]-->

<script type="text/javascript">
 var RecaptchaOptions = {
    theme : 'blackglass'
 };
 </script>

<!-- local javascript libraries -->
<script type="text/javascript" src="includes/js/jquery.maskedinput-1.2.2.min.js"></script>
<script type="text/javascript" src="includes/js/jquery.numeric.min.js"></script>
<script type="text/javascript" src="includes/js/jquery.tools.min.js"></script>
<script type="text/javascript" src="includes/js/jquery.password-strength.min.js"></script>
<script type="text/javascript" src="includes/js/TableTools.min.js"></script>
<script type="text/javascript" src="includes/js/ZeroClipboard.min.js"></script>
<script type="text/javascript" src="includes/js/FixedColumns.min.js"></script>
<script type="text/javascript" src="includes/js/highstock.js"></script>
<script type="text/javascript" src="includes/js/highstock-exporting.js"></script>
<script type="text/javascript" src="includes/js/qWidget.js"></script>
<script type="text/javascript" src="includes/js/qReport.js"></script>
<script type="text/javascript" src="includes/js/jquery.mousewheel.js"></script>
<script type="text/javascript" src="includes/js/jquery.jscrollpane.min.js"></script>
<script type="text/javascript" src="includes/js/jquery.scrollTo-min.js"></script>
<script type="text/javascript" src="includes/js/jquery.easing.js"></script>
<script type="text/javascript" src="includes/js/jTour.min.js"></script>
<script type="text/javascript" src="includes/js/jquery.ui.selectmenu.js"></script>
<script type="text/javascript" src="includes/js/json2.js"></script>
<script type="text/javascript" src="includes/js/alertMessage.js"></script>

<script type="text/javascript">

	var Validate = {
		email: function(field, div, min_length, max_length) {
			var input = field.val();
			div = div || '';
			if (div != '') div.css("color","#cc0000");
			
			if (/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(input)) {
				// check lengths
				min_length = min_length || 1;
				max_length = max_length || 255;
				if (input.length < min_length) {
					if (div != "") div.html('Your e-mail was too short.');
					field.select();
					return false;
				}
				if (max_length > 0 && input.length > max_length) {
					if (div != "") div.html('Your email was too long.');
					field.select();
					return false;
				}
				if (div != "") div.html('');
				return true;
			}
			else {
				if (div != "") div.html('Please enter a valid email.');
				field.select();
				return false;
			}
		},
		url: function(field, div, min_length, max_length) {
			var input = field.val();
			div = div || '';
			if (div != '') div.css("color","#cc0000");
			
			if (/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[.\!\/\\w]*))?)/.test(input)) {
				// check lengths
				min_length = min_length || 1;
				max_length = max_length || 255;
				if (input.length < min_length) {
					if (div != "") div.html('Your url was too short.');
					field.select();
					return false;
				}
				if (max_length > 0 && input.length > max_length) {
					if (div != "") div.html('Your url was too long.');
					field.select();
					return false;
				}
				if (div != "") div.html('');
				return true;
			}
			else {
				if (div != "") div.html('Please enter a valid url.');
				field.select();
				return false;
			}
		},
		principal: function(field, div, min_length, max_length) {
			var input = field.val();
			div = div || '';
			if (div != '') div.css("color","#cc0000");
			
			if (/^\d+(\.\d\d)?$/.test(input) && input >= 1) {
				// check lengths
				min_length = min_length || 1;
				max_length = max_length || 255;
				if (input.length < min_length) {
					if (div != "") div.html('Your amount was too short.');
					field.select();
					return false;
				}
				if (max_length > 0 && input.length > max_length) {
					if (div != "") div.html('Your amount was too long.');
					field.select();
					return false;
				}
				if (div != "") div.html('');
				return true;
			}
			else {
				if (div != "") div.html('Please enter a valid amount.');
				field.select();
				return false;
			}
		},
		amount: function(field, div, min_length, max_length) {
			var input = field.val();
			div = div || '';
			if (div != '') div.css("color","#cc0000");
			
			if (/^\d+(\.\d\d)?$/.test(input)) {
				// check lengths
				min_length = min_length || 1;
				max_length = max_length || 255;
				if (input.length < min_length) {
					if (div != "") div.html('Your amount was too short.');
					field.select();
					return false;
				}
				if (max_length > 0 && input.length > max_length) {
					if (div != "") div.html('Your amount was too long.');
					field.select();
					return false;
				}
				if (div != "") div.html('');
				return true;
			}
			else {
				if (div != "") div.html('Please enter a valid amount.');
				field.select();
				return false;
			}
		},
		zip: function(field, div, min_length, max_length) {
			var input = field.val();
			input = input.toUpperCase();
			div = div || '';
			if (div != '') div.css("color","#cc0000");
			
			if (/^[A-Za-z0-9 ]+$/.test(input)) {
				// check lengths
				min_length = min_length || 1;
				max_length = max_length || 255;
				if (input.length < min_length) {
					if (div != "") div.html('Your zip was too short.');
					field.select();
					return false;
				}
				if (max_length > 0 && input.length > max_length) {
					if (div != "") div.html('Your zip was too long.');
					field.select();
					return false;
				}
				if (div != "") div.html('');
				return true;
			}
			else {
				if (div != "") div.html('Please enter a valid zip/postal code.');
				field.select();
				return false;
			}
		},
		uszip: function(field, div, min_length, max_length) {
			var input = field.val();
			input = input.toUpperCase();
			div = div || '';
			if (div != '') div.css("color","#cc0000");
			
			if (/(^\d{5}(-\d{4})?$)|(^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[A-Z]{1} *\d{1}[A-Z]{1}\d{1}$)/.test(input)) {
				// check lengths
				min_length = min_length || 1;
				max_length = max_length || 255;
				if (input.length < min_length) {
					if (div != "") div.html('Your zip was too short.');
					field.select();
					return false;
				}
				if (max_length > 0 && input.length > max_length) {
					if (div != "") div.html('Your zip was too long.');
					field.select();
					return false;
				}
				if (div != "") div.html('');
				return true;
			}
			else {
				if (div != "") div.html('Please enter a valid zip/postal code.');
				field.select();
				return false;
			}
		},
		password: function(field, div, min_length, max_length) {
			var input = field.val();
			div = div || '';
			if (div != '') div.css("color","#cc0000");
			
			if (/^.*(?=.{8,})(?=.*[\w])(?=.*[\d\W]).*$/.test(input) && input.length < 256) {
				// check lengths
				min_length = min_length || 1;
				max_length = max_length || 255;
				//alert(min_length);
				if (input.length < min_length) {
					if (div != "") div.html('Your password was too short.');
					field.select();
					return false;
				}
				if (max_length > 0 && input.length > max_length) {
					if (div != "") div.html('Your password was too long.');
					field.select();
					return false;
				}
				if (div != "") div.html('');
				return true;
			}
			else {
				if (div != "") div.html('Please enter a password at least 8 characters long and that includes one number or symbol.');
				field.select();
				return false;
			}
		},
		validation_code: function(field, div, min_length, max_length) {
			var input = field.val();
			div = div || '';
			if (div != '') div.css("color","#cc0000");
			
			if (/\w+/.test(input)) {
				// check lengths
				min_length = min_length || 1;
				max_length = max_length || 255;
				if (input.length < min_length) {
					if (div != "") div.html('Your validation code was too short.');
					field.select();
					return false;
				}
				if (max_length > 0 && input.length > max_length) {
					if (div != "") div.html('Your validation code was too long.');
					field.select();
					return false;
				}
				if (div != "") div.html('');
				return true;
			}
			else {
				if (div != "") div.html('Please enter a proper validation code.');
				field.select();
				return false;
			}
		},
	    datetime: function(field, div, min_length, max_length) {
			var input = field.val();
			div = div || '';
			if (div != '') div.css("color","#cc0000");
			
			if (/^\d{4}-\d\d-\d\d \d\d:\d\d:\d\d$/.test(input)) {
				// check lengths
				min_length = min_length || 1;
				max_length = max_length || 255;
				if (input.length < min_length) {
					if (div != "") div.html('Your datetime was too short.');
					field.select();
					return false;
				}
				if (max_length > 0 && input.length > max_length) {
					if (div != "") div.html('Your datetime was too long.');
					field.select();
					return false;
				}
				if (div != "") div.html('');
				return true;
			}
			else {
				if (div != "") div.html('Please enter a valid date.');
				field.select();
				return false;
			}
		},
		exp_month: function(field, div, min_length, max_length) {
			var input = $(field).find('option[selected="selected"]').val();
			if(input == undefined){
				input = $(field).val();
			}
			div = div || '';
			if (div != '') div.css("color","#cc0000");
			
			if (/^\d{2}$/.test(input)) {
				// check lengths
				min_length = min_length || 1;
				max_length = max_length || 255;
				if (input.length < min_length) {
					if (div != "") div.html('Your expiration month input was too short.');
					field.select();
					return false;
				}
				if (max_length > 0 && input.length > max_length) {
					if (div != "") div.html('Your expiration month input was too long.');
					field.select();
					return false;
				}
				if (div != "") div.html('');
				return true;
			}
			else {
				if (div != "") div.html('Please enter a valid expiration month.');
				field.select();
				return false;
			}
		},
		exp_year: function(field, div, min_length, max_length) {
			var input = $(field).find('option[selected="selected"]').val();
			if(input == undefined){
				input = $(field).val();
			}
			div = div || '';
			if (div != '') div.css("color","#cc0000");
			
			if (/^\d{4}$/.test(input)) {
				// check lengths
				min_length = min_length || 1;
				max_length = max_length || 255;
				if (input.length < min_length) {
					if (div != "") div.html('Your expiration year input was too short.');
					field.select();
					return false;
				}
				if (max_length > 0 && input.length > max_length) {
					if (div != "") div.html('Your expiration year input was too long.');
					field.select();
					return false;
				}
				if (div != "") div.html('');
				return true;
			}
			else {
				if (div != "") div.html('Please enter a valid expiration year.');
				field.select();
				return false;
			}
		},
		expiration: function(exp_month_field, exp_year_field, div) {
			var exp_month = $(exp_month_field).find('option[selected="selected"]').val();
			var exp_year = $(exp_year_field).find('option[selected="selected"]').val();

			if(exp_month == undefined){
				exp_month = $(exp_month_field).val();
			}
			if(exp_year == undefined){
				exp_year = $(exp_year_field).val();
			}

			div = div || '';
			if (div != '') div.css("color","#cc0000");
			if (!Validate.exp_month(exp_month_field, div) || !Validate.exp_year(exp_year_field, div)) return false;
			var current_date = new Date(2013, 7, 01);
			var expiration_date = new Date(exp_year, exp_month-1, 01);
			if (expiration_date >= current_date) {
				if (div != "") div.html('');
				return true;
			}
			else {
				if (div != "") div.html('Your credit card is expired!');
				exp_month_field.select();
				return false;
			}
		},
		ccv: function(field, div, min_length, max_length) {
			var input = field.val();
			div = div || '';
			if (div != '') div.css("color","#cc0000");
			
			if (/^\d{0,4}$/.test(input)) {
				// check lengths
				min_length = min_length || 1;
				max_length = max_length || 255;
				if (input.length < min_length) {
					if (div != "") div.html('Your ccv was too short.');
					field.select();
					return false;
				}
				if (max_length > 0 && input.length > max_length) {
					if (div != "") div.html('Your ccv was too long.');
					field.select();
					return false;
				}
				if (div != "") div.html('');
				return true;
			}
			else {
				if (div != "") div.html('Please enter a valid card CCV.');
				field.select();
				return false;
			}
		},
		pan: function(field, div, merchant_id) {
			var input = field.val();
			div = div || '';
			if (div != '') div.css("color","#cc0000");
			merchant_id = merchant_id || 0;
			
                        var $param = {payment_method_id : input, merchant_id: merchant_id};
			var card_brand = new Array();
			$.ajaxSetup({async:false});
			$.post('scripts/valid-card-brands.php', $param, function(data) {
				card_brand = data;
			}, "json");
			$.ajaxSetup({async:true});
			
//			var regex = "";
//						
                        if (card_brand.found)
                            return true;
                        
			if (div != "") div.html('Card number did not match any valid card brands.');
			field.select();
			return false;
		},
		cardholder_name: function(field, div, min_length, max_length) {
			var input = field.val();
			div = div || '';
			if (div != '') div.css("color","#cc0000");
			
			if (/\w+/.test(input)) {
				// check lengths
				min_length = min_length || 1;
				max_length = max_length || 60;
				if (input.length < min_length) {
					if (div != "") div.html('Your cardholder name was too short.');
					field.select();
					return false;
				}
				if (max_length > 0 && input.length > max_length) {
					if (div != "") div.html('Your cardholder name was too long.');
					field.select();
					return false;
				}
				if (div != "") div.html('');
				return true;
			}
			else {
				if (div != "") div.html('Please enter a valid name.');
				field.select();
				return false;
			}
		},
		numeric: function(field, div, min_length, max_length) {
			var input = field.val();
			div = div || '';
			if (div != '') div.css("color","#cc0000");
			
			if (/^[0-9 ]+$/.test(input)) {
				// check lengths
				min_length = min_length || 1;
				max_length = max_length || 255;
				if (input.length < min_length) {
					if (div != "") div.html('Your input was too short.');
					field.select();
					return false;
				}
				if (max_length > 0 && input.length > max_length) {
					if (div != "") div.html('Your input was too long.');
					field.select();
					return false;
				}
				if (div != "") div.html('');
				return true;
			}
			else {
				if (div != "") div.html('Please enter a valid number.');
				field.select();
				return false;
			}
		},
		sin: function(field, div, min_length, max_length) { //http://www.hackcanada.com/canadian/other/sin.html
			var input = field.val();
			if(input.length == 9){
				var objRegExp = new RegExp(/^\d{9}$/);
				if(objRegExp.test(input)){
					div.html('');
					return true;
				}else{
					div.html('Please enter a valid SIN.');
					field.select();
					return false;
				}
		   }else{
			   if (div != "") div.html('SIN # needs to be 9 digits.');
				field.select();
				return false;
		   }
		},
		phone: function(field, div, min_length, max_length) {
			var input = field.val();
			if (input.length < 10) {
				return false;
			}else {
				return true;
			}
		},
		field: function(input, type, min_length, max_length) {
			type = type || '';
			
			// check lengths
			min_length = min_length || 0;
			max_length = max_length || 255;
			if (input.length < min_length) return false;
			if (max_length > 0 && input.length > max_length) return false;

			switch (type) {
				case 'alphanum':
					return /^[A-Za-z0-9 ]+$/.test(input);
					break;
				case 'alpha':
					return /^[A-Za-z ]+$/.test(input);
					break;
				case 'numeric':
					return /^[0-9 ]+$/.test(input);
					break;
				case 'alphanum_nospace':
					return /^[A-Za-z0-9]+$/.test(input);
					break;
				case 'alpha_nospace':
					return /^[A-Za-z]+$/.test(input);
					break;
				case 'numeric_nospace':
					return /^[0-9]+$/.test(input);
					break;
				default:
					return true;
					break;
			}
	    }
	};
</script><script type="text/javascript">
	var Utility = {
		entities: function(str) {
			return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;').replace(/\\/g, '');
		},
		email: function(str) {
			return str+'@plastiq.com';
		},
		post: function(path, params, method) {
			method = method || "post"; // Set method to post by default, if not specified.

		    // The rest of this code assumes you are not using a library.
		    // It can be made less wordy if you use one.
		    var form = document.createElement("form");
		    form.setAttribute("method", method);
		    form.setAttribute("action", path);

		    for(var key in params) {
		        if(params.hasOwnProperty(key)) {
		            var hiddenField = document.createElement("input");
		            hiddenField.setAttribute("type", "hidden");
		            hiddenField.setAttribute("name", key);
		            hiddenField.setAttribute("value", params[key]);

		            form.appendChild(hiddenField);
		         }
		    }

		    document.body.appendChild(form);
		    form.submit();
		},
		is_array: function(input){
		    return typeof(input)=='object'&&(input instanceof Array);
		},
		in_array: function(needle, haystack){
			var length = haystack.length;
		    for (var i = 0; i < length; i++) {
		        if (haystack[i] == needle) return true;
		    }
		    return false;
		},
		set_cookie: function(cookieName, value, daysToExpire, path, domain, secure) {
			var expiryDate;

			if (daysToExpire) {
				expiryDate = new Date();
				expiryDate.setTime(expiryDate.getTime() + (daysToExpire * 8.64e7));
			}

			document.cookie = cookieName + '=' + (value.toString()) +
			(daysToExpire ? ';expires=' + expiryDate.toGMTString() : '') +
			';path=' + (path ? path : '/') +
			(domain ? ';domain=' + domain : '') +
			(secure ? ';secure' : '');
		},
		get_cookie: function(cookieName) {
			var cookiePattern = new RegExp('(^|;)[ ]*' + cookieName + '=([^;]*)'),
			cookieMatch = cookiePattern.exec(document.cookie);
			if(cookieMatch)return cookieMatch[2];
			return 0;
		}
	}
	
</script><script type="text/javascript">

	var Populate = {
		regions: function(input) {
			var regions = [
				"United States", "Canada", "Other", 			];
			input.autocomplete({ source: regions });
			return regions;
		},
		industries: function(input) {
			var industries = [
				"Automobiles", "Education", "Real Estate", "Tax", "Other", "Auction House", "Art", "Club", "Faith-Based Organization", "Non-profit", "Boat", "Professional", 			];
			input.autocomplete({ source: industries });
			return industries;
		},
		acquirers: function(input) {
			var acquirers = [
				"Moneris", "Global Payments", "OPTIMAL", "DEMO", "GLOBAL", "PSIGATE", "FIRSTDATA", "VANTIV", "PCHASE", "TELUS", "PLASTIQ", "BAML", "BMO", 			];
			input.autocomplete({ source: acquirers });
			return acquirers;
		}
	}
	
</script><script type="text/javascript">
 
    var PaymentMethod = {
    getPaymentMethod: function(cardholder_name, pan, zip, exp_month, exp_year){
            var card_data = {
                pan : pan,
                zip : zip,
                exp_year : exp_year, 
                exp_month : exp_month,
                cardHolderName : cardholder_name                              
            };
            var error = false;
            var payment_method_id = 0;
            $.ajaxSetup({async:false});
            $.post('scripts/create-payment-method.php', card_data, function(data) {
                error = data.error;
                if (!error) {
                    payment_method_id = data;
                }
            }, "json");
//                .error(function(data) { alert("Error" + data); })
//                .complete(function(data) { alert("complete" + data); });

            $.ajaxSetup({async:true});                            

            return payment_method_id;        
    },
    createPaymentMethod: function(cardholder_name, pan, zip, exp_month, exp_year, payment_method_id) {
       
        var card_data = {
            paymentMethod : {
                cardData : {
                    zipcode : zip,
                    expirationDate : exp_year.substring(2) + exp_month,
                    cardHolderName : cardholder_name
                }
            }
        };

       if (pan)
           card_data.paymentMethod.cardData.accountNumber = pan;

       if (payment_method_id)
           {
               card_data.paymentMethod.id = payment_method_id;
           }
       else
       {
            var ticket = PaymentMethod.getTicket();
       
            if (ticket.error)
                 return false;
        
            card_data.ticket = ticket.ticket;
            card_data.paymentMethod.cardData.id = ticket.paymentMethod.id;
       }
            
        
        var error = true;

        $.ajaxSetup({async:false});

        if (payment_method_id){
            var ticket = new Array();
            $.post('scripts/update-payment-method.php', card_data, function(data) {
                    error = data.error;
                }
            , "json");
//                .error(function(data) { alert("Error" + data); })
//                .complete(function(data) { alert("complete" + data); });
          }
        else {
            $.ajax({
                  url: '/pmt/base/services/register',
                  type: 'POST',
                  dataType: 'json', 
                  data: JSON.stringify(card_data),
                  headers: {
                      'Accept': "application/json",
                      'Content-Type': 'application/json'
                  },
                  sucess: function(data) {error = data.error;}
              })        
              .complete(function(data) { 
                  if (data.readyState == 4 && data.status == 200)
                  {
                      error = false;
                      var x = $.parseJSON(data.responseText);
                      if (x && x.statusCode && x.statusCode != 0)
                        error = true;                                            
                  }

                      
 //                 if(!error){
 //                 	if($('#save_card').length > 0){
 //                 		if($('#save_card').attr('checked') == "checked"){
 //                 			var s=s_gi('plastiq');
//                  			s.events='event20';
//                  			s.tl(this,'o','card added and saved');
//                  		}else {
//							var s=s_gi('plastiq');
//							s.events='event4';
//							s.tl(this,'o','card added');
//						}
//                  	}else {
//                  		var s=s_gi('plastiq');
//                  		s.events='event20';
//                  		s.tl(this,'o','card added and saved');
//                  	}
 //                 }
                  //alert("complete" + data); 
              });}

        $.ajaxSetup({async:true});
        
        if (error)
            return false;
            
        return ticket.paymentMethod.id;
        
    },
    createPaymentMethod2: function(payment_data, payment_method_id, payment_type) {

    	payment_type = typeof payment_type !== 'undefined' ? payment_type : 'CREDITCARD';

        if(payment_type == 'CREDITCARD'){
	        var payload = {
	            paymentMethod : {
	                cardData : {
	                    zipcode : payment_data.zip,
	                    expirationDate : payment_data.exp_year.substring(2) + payment_data.exp_month,
	                    cardHolderName : payment_data.cardholder_name
	                }
	            }
	        };
	
	       if (payment_data.pan)
	    	   payload.paymentMethod.cardData.accountNumber = payment_data.pan;
    	   
        }else if(payment_type == 'ACH'){
        	var payload = {
    	            paymentMethod : {
    	                achData : {
    	                	account : payment_data.account_num,
    	                    rtn : payment_data.routing_num,
    	                    address : payment_data.address
    	                }
    	            }
    	        };
        }else if(payment_type == 'BILLPAY'){
        	var payload = {
    	            paymentMethod : {
    	            	payeeData : {
    	                    handle : payment_data.handle_num,
    	                }
    	            }
    	        };
        }else if(payment_type == 'CHECK'){
        	var payload = {
    	            paymentMethod : {
    	            	payeeData : {
    	                    address : payment_data.address
    	                }
    	            }
    	        };
        }
        

		if (payment_data.payment_method_id){
			payload.paymentMethod.id = payment_data.payment_method_id;
		}else{
            var ticket = PaymentMethod.getTicket(payment_type);
       
            if (ticket.error)
                 return false;
        
            payload.ticket = ticket.ticket;
		}
            
        
        var error = true;

        $.ajaxSetup({async:false});

        if (payment_data.payment_method_id){
            var ticket = new Array();
            $.post('scripts/update-payment-method.php', payload, function(data) {
                    error = data.error;
                }
            , "json");
//                .error(function(data) { alert("Error" + data); })
//                .complete(function(data) { alert("complete" + data); });
          }
        else {
            $.ajax({
                  url: '/pmt/base/services/register',
                  type: 'POST',
                  dataType: 'json', 
                  data: JSON.stringify(payload),
                  headers: {
                      'Accept': "application/json",
                      'Content-Type': 'application/json'
                  },
                  sucess: function(data) {error = data.error;}
              })        
              .complete(function(data) { 
                  if (data.readyState == 4 && data.status == 200)
                  {
                      error = false;
                      var x = $.parseJSON(data.responseText);
                      if (x && x.statusCode && x.statusCode != 0)
                        error = true;                                            
                  }

                      
 //                 if(!error){
 //                 	if($('#save_card').length > 0){
 //                 		if($('#save_card').attr('checked') == "checked"){
 //                 			var s=s_gi('plastiq');
//                  			s.events='event20';
//                  			s.tl(this,'o','card added and saved');
//                  		}else {
//							var s=s_gi('plastiq');
//							s.events='event4';
//							s.tl(this,'o','card added');
//						}
//                  	}else {
//                  		var s=s_gi('plastiq');
//                  		s.events='event20';
//                  		s.tl(this,'o','card added and saved');
//                  	}
 //                 }
                  //alert("complete" + data); 
              });}

        $.ajaxSetup({async:true});
        
        if (error)
            return false;
            
        return ticket.paymentMethod.id;
        
    },

    
    getTicket: function(payment_type){
            var error = false;
            var ticket = new Array();
            $.ajaxSetup({async:false});
            $.post('scripts/create-payment-method.php', {ttl: 6000, pt: payment_type}, function(data) {
                error = data.error;
                if (!error) {
                    ticket = data;
                }
            }, "json");
//                .error(function(data) { alert("Error" + data); })
//                .complete(function(data) { alert("complete" + data); });

            $.ajaxSetup({async:true});                            

            return ticket;        
    }
}

 </script>
<script src="https://maps.googleapis.com/maps/api/js?libraries=visualization&amp;key=AIzaSyA6HRq8bt1d8c26L39DaKOI29eO04eWPpM&amp;sensor=false" type="text/javascript"></script>
<script type="text/javascript">
	Object.size = function(obj) {
	    var size = 0, key;
	    for (key in obj) {
	        if (obj.hasOwnProperty(key)) size++;
	    }
	    return size;
	};
	
	(function( $ ){
		//plugin buttonset vertical
		$.fn.buttonsetv = function() {
		  $(':radio, :checkbox', this).wrap('<div style="margin: 1px"/>');
		  $(this).buttonset();
		  $('label:first', this).removeClass('ui-corner-left').addClass('ui-corner-top');
		  $('label:last', this).removeClass('ui-corner-right').addClass('ui-corner-bottom');
		  mw = 0; // max witdh
		  $('label', this).each(function(index){
		     w = $(this).width();
		     if (w > mw) mw = w; 
		  })
		  $('label', this).each(function(index){
		    $(this).width(mw);
		  })
		};
	})( jQuery );
	
	//setTimeout(function() {
	$(document).ready(function(){
		checkBrowser();
		
		$('.listing .element:first').addClass('first');

		function accordionLoader(holder){
			var accEntry = holder.find('.entry');
			holder.find('a.trigger').on('click', function(){
				$(this).toggleClass('state2');
				if (accEntry.hasClass('visible')) {
					accEntry.slideUp();
					accEntry.removeClass('visible');
				} else {
					accEntry.slideDown();
					accEntry.addClass('visible');
				}
				return false;
			})
		}

		function msgArrow(){
			var wrap = $('.share'),
				activeTab = wrap.find('a.active'),
				arrow = wrap.find('.arrow'),
				arrowWidth = 15; 
				if (wrap.length) {
					var newPos = activeTab.position().left + activeTab.width()/2 - arrowWidth/2;
					arrow.css('left', newPos)
				}
		}

		// FB/TWITTER
		$(document).on('click', '.share .tabs a', function(){
			$(this).addClass('active').siblings().removeClass('active');
			msgArrow();

			if( $(this).hasClass('tw') ) {
				$('.share .btns input').hide();
				$('.share .btns input.tw-post-button').show();
			}

			if( $(this).hasClass('fb') ) {
				$('.share .btns input').hide();
				$('.share .btns input.fb-post-button').show();
			}

			return false;
		});

		msgArrow();
		if( $('.share .row .tabs .active').hasClass('tw') ) {
			$('.share .btns input').hide();
			$('.share .btns input.tw-post-button').show();
		}
		if( $('.share .row .tabs .active').hasClass('fb') ) {
			$('.share .btns input').hide();
			$('.share .btns input.fb-post-button').show();
		}
		
		// post to facebook / twitter
		$('input.tw-post-button').live('click', function(){
			var twitter_url = 'https://twitter.com/intent/tweet?text=';
			var text = encodeURIComponent( $('textarea#message-field').val() + ' ' + window.location.href);
			window.open (twitter_url + text,"win","menubar=1,resizable=1,width=480,height=335");
			return false;
		});

		$('input.fb-post-button').live('click', function(){
			var page_title = encodeURIComponent( $('title').html() );
			var summary = encodeURIComponent( $('textarea#message-field').val() );
			var url = encodeURIComponent( window.location.href.toString() );
			var fb_url = 'http://www.facebook.com/sharer.php?s=100&p[title]='+page_title+'&p[summary]='+summary+'&p[url]=' + url;
			window.open (fb_url,"win","menubar=1,resizable=1,width=660,height=350");
			return false;
		});

		accordionLoader($('.merchant-info'));
		msgArrow();
		
		$(document).on('focus', 'input', function(){
			var parentELement = $(this).parent().parent();
			
			$('label[for="'+this.id+'"]').addClass('focused');
			
			if(parentELement[0].nodeName == 'FIELDSET'){
				$(parentELement).addClass('focused');
			}
		}).on('blur', 'input', function(){
			$('label[for="'+this.id+'"]').removeClass('focused');
			$('fieldset.focused').removeClass('focused');
		});
		
		$('.info-popup-link').colorbox({
			fixed: true,
			opacity: 0.4,
			onOpen: function() { $("body").css("overflow", "hidden"); },
			onComplete: function() {
				// initialize scrollpane
				//$('.info-page .scroll-pane').jScrollPane();
			}, 
			onCleanup: function() { $("body").css("overflow", "auto"); }
		});

		$(document).on('mouseenter', '.listing .element' , function(){
			$(this).stop(true,false).animate({'padding-left': 24}, 200, "linear").find('.arrow').stop(true,false).fadeIn(200);
		});
		
		$(document).on('mouseleave', '.listing .element' , function(){
			$(this).animate({'padding-left': 0}, 200, "linear").find('.arrow').fadeOut(200);
		});

		$('.dashboard .actions a').hover(function(){
			if($('span.tooltip').length){
				$('span.tooltip').hide().remove();
			}
			var tip = $(this).text();
			var targetX = $(this).offset().left;
			var targetY = $(this).offset().top - 32;
			var tipHolder = $('<span class="tooltip">'+tip+'<span class="arrow"></span></span>');

			tipHolder.appendTo('body');

			var tipWidth = parseInt(tipHolder.width());
			var tipLeft = parseInt(tipWidth / 2);
			tipHolder.css({
				'top' : targetY,
				'left' : targetX,
				'margin-left' : - (tipLeft -2),
				'opacity' : 0
			}).animate({opacity: 1}, 50);

		}, function(){
			$('span.tooltip').fadeOut(function(){
				$(this).remove();
			});
		});
		
		$('#navigation ul li.has-dd .trigger').hover(function() {
			$(this).addClass('active');
			$(this).next().slideDown('fast');
		});
		
		$('#navigation ul li.has-dd').hover(function() {}, function() {
			$(this).children('.trigger').removeClass('active');
			$(this).children('ul').slideUp('fast');
		});
	});
	
	var pqValidator = {
		errors: {},
		addError: function(element, message){
			var elementOffset = $(element).offset();
			var elementID = $(element).attr('id');
		
			if($(element).is('input:text') || $(element).is('input:password')){
				var tooltipTop, tooltipLeft, elementLeft, tooltipWidth = 0;
				var elementWidth = $(element).outerWidth() - 40;
				var elementHeight = $(element).outerHeight() - ($(element).css("border-bottom-width").replace('px', '')*1) - ($(element).css("border-top-width").replace('px', '')*1) - 2;
				
				if($(element).hasClass('error-left')){
					$(element).addClass('error-marg');
					elementLeft = elementOffset.left + 2;
				}else {
					elementLeft = elementOffset.left + elementWidth;
				}
				
				if($(window).width() < 540){
					var errorLeft = elementLeft + 2;
					var errorHeight = elementHeight + 2;
				}else {
					var errorLeft = elementLeft + 1;
					var errorHeight = elementHeight + 1;
				}
				
				var errorElement = $('<div>')
					.attr('id', 'error-'+elementID)
					.css({
						top: elementOffset.top + 1,
						left: errorLeft,
						height: errorHeight
					}).addClass('pq-error').addClass('showing');
				
				if($(element).hasClass('error-left')){
					$(errorElement).css('left', elementLeft-1)
					$(errorElement).addClass('error-left');
				}
				
				if($('#error-'+elementID).length < 1){	
					$('body').prepend(errorElement);
					pqValidator.errors['error-'+elementID] = errorElement;
				}
				
				$(element).addClass('error').keyup(function(){
					if($(this).val().length > 0){
						$(this).removeClass('error');
					}
				}).siblings('label').addClass('error');
				
				if(message.length > 0){
					$(errorElement).html('<div class="error-tooltip">'+ message +'<div class="tip"></div></div>');
					
					tooltipWidth = textWidth($(errorElement).find('.error-tooltip'), message);
					
					if(tooltipWidth > 150){
						tooltipWidth = 150;
					}
					
					$(errorElement).find('.error-tooltip').width(tooltipWidth);
					
					tooltipTop = ($(errorElement).find('.error-tooltip').outerHeight() + 12)*-1;
					
					tooltipLeft = (tooltipWidth+30)*-1 / 2;

					$(errorElement).find('.error-tooltip').css({
						marginLeft: tooltipLeft + 'px',
						top: tooltipTop + 'px'
					}).animate({ opacity: 1 }, 500);
					
					$('#error-'+elementID).hover(function(){
						if($(window).width() >= 540){
							$(errorElement).find('.error-tooltip').fadeIn();
						}
					}, function(){
						if($(window).width() >= 540){
							$(errorElement).find('.error-tooltip').fadeOut();
						}
					});
					
					$('#error-'+elementID).unbind('click').click(function(){
						if($(this).hasClass('showing')){
							$(this).removeClass('showing');
						}else {
							$(this).addClass('showing');
						}
					});
					
					$('html, body').animate({
						scrollTop: $(element).offset().top - 90
					}, 500, function(){
						$(element).focus();
					});
					
					setTimeout(function(){
						if($(window).width() >= 540){
							$(errorElement).find('.error-tooltip').fadeOut();
						}else {
							$(errorElement).removeClass('showing');
						}
					}, 3000)
				}	
			}else {
				var errorElement = $('<div>').attr('id', 'error-'+elementID).addClass('pq-error-select');
				
				if($('#error-'+elementID).length < 1){	
					if($(element).siblings('label').length < 1){
						$(element).closest('.field-holder').find('label').addClass('error').prepend(errorElement);
					}else {
						$(element).siblings('label').addClass('error').prepend(errorElement);
					}
					pqValidator.errors['error-'+elementID] = errorElement;
				}
				
				if(message.length > 0){
					$(errorElement).html('<div class="error-tooltip">'+ message +'<div class="tip"></div></div>');
					
					tooltipWidth = textWidth($(errorElement).find('.error-tooltip'), message);
					
					if(tooltipWidth > 150){
						tooltipWidth = 150;
					}
					
					$(errorElement).find('.error-tooltip').width(tooltipWidth);
					
					tooltipTop = ($(errorElement).find('.error-tooltip').outerHeight() + 12)*-1;
					
					tooltipLeft = (tooltipWidth+30)*-1 / 2;

					$(errorElement).find('.error-tooltip').css({
						marginLeft: tooltipLeft + 'px',
						top: tooltipTop + 'px'
					}).animate({ opacity: 1 }, 500);
					
					$('#error-'+elementID).hover(function(){
						$(errorElement).find('.error-tooltip').fadeIn();
					}, function(){
						$(errorElement).find('.error-tooltip').fadeOut();
					});
					
					setTimeout(function(){
						$(errorElement).find('.error-tooltip').fadeOut();
					}, 3000)
				}				
			}	
		},
		removeError: function(element){
			var elementID = $(element).attr('id');
			
			$(element).removeClass('error').removeClass('error-marg');
			
			if($(element).siblings('label').length < 1){
				$(element).closest('.field-holder').find('label').removeClass('error');
			}else {
				$(element).siblings('label').removeClass('error');
			}

			$('#error-'+elementID).remove();
			
			delete(pqValidator.errors['error-'+elementID]);
		},
		hide: function(element, showOthers, time){
			$.each(pqValidator.errors, function(id, error){

				if($(element).find('#' + id.replace('error-', '')).length < 1){
					$('#' + id).fadeOut(100);
				}
			});
			
			setTimeout(function(){
				$.each(pqValidator.errors, function(id, error){
					if($(element).find('#' + id.replace('error-', '')).length > 0){
						$('#' + id).fadeIn();
					}
				});
			}, time);
		}
	}
	
	function textWidth(element, text){
		var elementFont = $(element).css('font-family');
		var elementFontSize = $(element).css('font-size');
		var div = null;
		if($('#text-width-check').length > 0){
			$('#text-width-check').show().find('span').css({
				'font-family': elementFont,
				'font-size': elementFontSize
			}).html(text);
		}else {
			div = $('<div id="text-width-check"></div>').html('<span></span>');
			$('body').prepend(div);
			$('#text-width-check').show().find('span').css({
				'font-family': elementFont,
				'font-size': elementFontSize
			}).html(text);
		}
		return $('#text-width-check span').width();
	}
	
	function isDescendant(parent, child) {
	     var node = child.parentNode;
	     while (node != null) {
	         if (node == parent) {
	             return true;
	         }
	         node = node.parentNode;
	     }
	     return false;
	}
	
	var tooltips = {
		init: function(){
			var allTT = $('.tooltip');
			
			$.each(allTT, function(key, element){
				
				var title = $(element).data('tt-title');
				var details = $(element).data('tt-description');
				var linkTitle = $(element).data('tt-atitle');
				var linkAddress = $(element).data('tt-alink');
				var linkClass = $(element).data('tt-aclass');
				var tipFoot = $(element).data('tt-foot');
				var tooltip = $('<div>').addClass('pq-tooltip').html('<div class="tip"></div><h1>'+ title +'</h1><p>'+ details +'</p>');
				var tipTop = 0;
				
				if(linkTitle != null || linkTitle != undefined){
					var thisLink = $('<a href="'+ linkAddress +'">'+ linkTitle +'</a>');
					if(linkClass != null || linkClass != undefined){
						$(thisLink).attr('class', linkClass);
					}
					$(tooltip).append(thisLink);
				}
				
				if(tipFoot != null || tipFoot != undefined){
					$(tooltip).append(tipFoot);
				}
				
				if($(element).find('> .pq-tooltip').length < 1){
					$(element).append(tooltip);
				}else {
					tooltip = $(element).find('> .pq-tooltip');
				}
				
				tipTop = $(tooltip).outerHeight() / 2 - 30;
				
				if($('.lt-ie8 li .pq-tooltip').length > 0){
					tipTop = $(tooltip).outerHeight() + 3
				}
				
				$(element).unbind().hover(function(e){
					$(tooltip).delay(500).queue(function(){
					    $(this).addClass('hovered');
					    $(this).dequeue();
					});
					$(tooltip).css({ top: -tipTop });
				}, function(e){
					$(tooltip).dequeue();
					$(tooltip).removeClass('hovered');
					$(tooltip).css({ top: -999999 });
				});
			});
		}
	}
	
	//Plastiq Scrolling
	var pqScrolling = {
			scrollCallback: function(){},
			init: function(){
				var allScrolls = $('.pq-scroller');
				$.each(allScrolls, function(key, element){
					if(!$(element).hasClass('scrollActive')){
						pqScrolling.addScroll(element);
					}else{
						pqScrolling.update(element);
					}
				});
			},
			addScroll: function(element){
			//set up scroll bar
				//pqScrolling.scrollCont = $('.pq-scroller');
				var scrollWidth = $(element).outerWidth(),
					scrollPadRight = $(element).css('padding-right'),
					scrollHeight = $(element).outerHeight(),
					scrollPos = $(element).css('position'),
					scrollPadRight = $(element).css('padding-right'),
					scrollMargin = $(element).css('margin'),
					scrollMarginLeft = $(element).css('margin-left'),
					scrollMarginRight = $(element).css('margin-right'),
					scrollBorder = $(element).css('border'),
					scrollMaxHeight = $(element).css('max-height'),
					//scrollPage = $(element).children(0),
					scrollFloat = $(element).css('float'),
					scrollShadow = $(element).data('scroll-shadow'),
					scrollHider = null,
					scrollGroup = null,
					scrollBar = null;				
				
				if(scrollMaxHeight != 'none'){
					var elementHeight = $(element).outerHeight();
					var addPad = parseInt($(element).css('padding-top')) + parseInt($(element).css('padding-bottom'));
					
					if(parseInt(elementHeight) < parseInt(scrollMaxHeight)){
						return;
					}					
					
					scrollHeight = parseInt(scrollMaxHeight) + addPad;
				}
				
				$(element).css({
					paddingRight: parseInt(scrollPadRight) + 30,
					margin: 0,
					border: 'none',
					maxHeight: 'none'
				}).addClass('scrollActive');
				
				$(element).wrap('<div class="pq-scroller-hider">');
				scrollHider = $(element).closest('.pq-scroller-hider');
				
				$(scrollHider).wrap('<div class="pq-scroller-cont">');
				scrollGroup = $(scrollHider).closest('.pq-scroller-cont');
				$(scrollGroup).css({
					height: scrollHeight,
					width: scrollWidth,
					margin: scrollMargin,
					float: scrollFloat,
					border: scrollBorder
				});
				
				if(scrollPos == 'absolute' || scrollPos == 'fixed'){
					var scrollTop = $(element).css('top'),
						scrollright = $(element).css('right'),
						scrollBtm = $(element).css('bottom'),
						scrollLeft = $(element).css('left');
						
					$(scrollGroup).css({
						position: scrollPos,
						top: scrollTop,
						right: scrollright,
						bottom: scrollBtm,
						left: scrollLeft
					});
					
					$(element).css({
						top: 0,
						right: 0,
						bottom: 0,
						left: 0
					})
				}
				
				if(scrollShadow == true){
					var leftPos = parseInt(scrollMarginLeft) * -1,
						rightPos = parseInt(scrollMarginRight) * -1,
						shadows = $('<div class="pq-scroller-top-shadow"></div><div class="pq-scroller-btm-shadow"></div>').css({
							left: leftPos,
							right: rightPos
						});
					
					$(scrollGroup).prepend(shadows);
				}
				
				scrollBar = $('<div class="pq-scroller-bar">');
				$(scrollGroup).prepend(scrollBar);
				
				//$(pqScrolling.scrollGroup).height($(pqScrolling.scrollGroup).parent().height());
			
			//initiate scroll bar for drag	
				$(scrollBar).draggable({
					axis: 'y',
					containment: 'parent',
					drag: function(event, ui){
						var posY = ui.position.top;
						
						pqScrolling.scrollPageTo(element, posY);
					}
				});
				
				pqScrolling.update(element);
			
			//init scroll body scroll listener	
				$(element).scroll(function(){
					pqScrolling.checkScroll(element);
				});
			
			},
			update: function(element){
				pqScrolling.setBarHeight(element);
				pqScrolling.checkScroll(element);
			},
			scrollPageTo: function(element, posY){
				var scrollContHeight = $(element).height(),
					pageHeight = pqScrolling.getPageHeight(element),
					maxScrollTop = $(element).prop('scrollHeight') - scrollContHeight,
					scrollTop = (posY / ((scrollContHeight * (1 - (scrollContHeight / pageHeight))) - 4)) * maxScrollTop;
								
				$(element).animate({
					scrollTop: scrollTop
				}, 0);
			},
			checkScroll: function(element){
				var pageHeight = pqScrolling.getPageHeight(element),
					scrollContHeight = $(element).outerHeight(),
					maxScrollPos = (scrollContHeight * (1 - (scrollContHeight / pageHeight))) - 4,
					maxScrollTop = $(element).prop('scrollHeight') - scrollContHeight,
					scrollTop = $(element).scrollTop(),
					scrollPer = scrollTop / maxScrollTop,
					scrollPos = scrollPer * maxScrollPos,
					scrollObject = $(element).data('scroll-object'),
					callBack = $(element).data('scroll-callback'),
					scrollCont = $(element).closest('.pq-scroller-cont'),
					scrollBar = $(scrollCont).find('> .pq-scroller-bar'),
					scrollShadowTop = $(scrollCont).find('> .pq-scroller-top-shadow'),
					scrollShadowBtm = $(scrollCont).find('> .pq-scroller-btm-shadow');
				
				if(scrollObject){
					window[scrollObject][callBack]();
				}
				
				if((pageHeight) > scrollContHeight){
					$(scrollBar).fadeIn();
					
					if(scrollTop == 0){
						$(scrollShadowBtm).fadeIn(100);
						$(scrollShadowTop).fadeOut(100);
					}else if(scrollTop == maxScrollTop){
						$(scrollShadowTop).fadeIn(100);
						$(scrollShadowBtm).fadeOut(100);
					}else{
						$(scrollShadowBtm).fadeIn(100);
						$(scrollShadowTop).fadeIn(100);
					}
				}else {
					$(scrollBar).fadeOut();
					$(scrollShadowBtm).fadeOut(100);
					$(scrollShadowTop).fadeOut(100);
				}
				
				$(element).closest('.pq-scroller-hider').siblings('.pq-scroller-bar').css('top', scrollPos);
			},
			setBarHeight: function(element){
				var pageHeight = pqScrolling.getPageHeight(element);
				var scrollContHeight = $(element).outerHeight();
				var barRatio = scrollContHeight/pageHeight;
				var barHeight = scrollContHeight * barRatio;
				
				$(element).closest('.pq-scroller-hider').siblings('.pq-scroller-bar').height(barHeight);
			},
			getPageHeight: function(element){
				var children = $(element).children();
				var elementPad = parseInt($(element).css('padding-top')) + parseInt($(element).css('padding-bottom'));
				
				if(children.length > 1){
					var childrenHeight = 0;
					
					$.each(children, function(key, child){
						childrenHeight += $(child).outerHeight();
					});
					
					return parseInt(childrenHeight) + elementPad;
				}else{
					return parseInt($(children[0]).outerHeight()) + elementPad;
				}
			}
		}
	
	$(window).load(function(){
		adjustTriangleBg();
		tooltips.init();
	});
	
	$(document).ready(function() {
	
		if($().placeholder){
			$('input').placeholder();
		}
		
	});
	
	function checkBrowser(){
		var browser = $.browser;
		if(browser.msie){
			var version = parseInt(browser.version);
			
			$('body, html').addClass('msie');
			
			if(version < 10){
				$('body, html').addClass('lt-ie10');
			}else if(version < 9){
				$('body, html').addClass('lt-ie10');
				$('body, html').addClass('lt-ie9');
			}else if(version < 8){
				$('body, html').addClass('lt-ie10');
				$('body, html').addClass('lt-ie9');
				$('body, html').addClass('lt-ie8');
			}
		}
	}
	
	/*
	 * jQuery Easing Compatibility v1 - http://gsgd.co.uk/sandbox/jquery.easing.php
	 *
	 * Adds compatibility for applications that use the pre 1.2 easing names
	 *
	 * Copyright (c) 2007 George Smith
	 * Licensed under the MIT License:
	 *   http://www.opensource.org/licenses/mit-license.php
	 */
	 
	 function adjustTriangleBg(){
	 	var secondOffset = 0;
	 	var pageHeight = 0;
	 	var secondBgHeight = 0;
	 	
	 	if($('#our-investors').length > 0){
	 		secondOffset = $('#our-investors').offset().top;
	 	}
	 	
	 	$('.triangle-bg-cont.second-bg').css('top', 0);
	 	
	 	pageHeight = $(document).height();
	 	secondBgHeight = pageHeight - secondOffset;
	 	
	 	if(secondBgHeight < 4000){
	 		if(pageHeight > 4000){
	 			pageHeight = 4000;
	 		}
	 		$('.triangle-bg-cont').height(pageHeight);
	 		$('.triangle-bg-cont.second-bg').height(secondBgHeight);
	 	}else {
	 		if(pageHeight > 4000){
	 			pageHeight = 4000;
	 		}
	 		$('.triangle-bg-cont').height(pageHeight);
	 		$('.triangle-bg-cont.second-bg').height(pageHeight);
	 	}
	 	
	 	$('.triangle-bg-cont.second-bg').css('top', secondOffset);
	 }
	 
	 var pqDropdown = {
	    	 	scrollWidth: 0,
	    	 	init: function(){
	    	 		var allElements = $('.pq-dropdown');
	    	 		var scrollDiv = document.createElement("div");
	    	 		
	    	 		scrollDiv.className = "scrollbar-measure";
	    	 		document.body.appendChild(scrollDiv);
	    	 		pqDropdown.scrollWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;
	    	 		document.body.removeChild(scrollDiv);
	    	 		
	    	 		$.each(allElements, function(key, element){
	    	 			if($(element).find('.pq-dropdown-tip').length < 1){
	    	 				pqDropdown.addDropDown(element);
	    	 			}
	    	 		});	 		
	    	 	},
	    	 	triggerChange: function(element){
	    	 		console.log(element);
	    	 	},
	    	 	addDropDown: function(element){
	    	 		var select = $(element).find('select').addClass('pqdd-select');
	    	 		var selectOptions = $(select).find('option');
	    	 		var selectedOption = $(element).find('select option[selected="selected"]');
	    	 		var dropdownCont = $('<div class="pq-dropdown-cont">').css('top', '-9999999px');
	    	 		var dropdownChoicesHider = $('<div class="pq-dropdown-choices-cont">');
	    	 		var dropdownChoices = $('<div class="pq-dropdown-choices">');
	    	 		var dropdownWidth = $(element).outerWidth();
	    	 		var scrollHeight = 0;
	    	 		var padWidth = 30 - pqDropdown.scrollWidth;	 		
	    	 		
	    	 		$(select).wrap('<div class="pq-hide" />');
	    	 		
	    	 		if(selectedOption.length < 1){
	    	 			selectedOption = $(element).find('option').eq(0);
	    	 			
	    	 			$(selectedOption).attr('selected', true);
	    	 		}
	    	 		
	    	 		if($(element).data('pq-dropdown-width')){
	    	 			dropdownWidth = $(element).data('pq-dropdown-width');
	    	 		}
	    	 		
	    	 		$.each(selectOptions, function(key, option){
	    	 			var div = $('<div class="pq-choice">'),
	    	 			optionValue = $(option).val();
	    	 			
	    	 			$(div).data('value', optionValue).attr('data-value', optionValue).html($(option).html());
	    	 			
	    	 			if(key == 0){
	    	 				$(div).addClass('pq-first');
	    	 			}
	    	 			
	    	 			if((key+1) == selectOptions.length){
	    	 				$(div).addClass('pq-last');
	    	 			}
	    	 			
	    	 			$(dropdownChoices).append(div);
	    	 		});
	    	 		
	    	 		scrollHeight = selectOptions.length * 46;
	    	 		
	    	 		if(scrollHeight >= 350){
	    	 			$(dropdownChoicesHider).css({
	    	 				'margin-right': (-1 * (pqDropdown.scrollWidth)) + 'px'
	    	 			});
	    	 		}else{
	    	 			$(dropdownChoices).css('overflow', 'visible');
	    	 		}
	    	 		
	    	 		$(dropdownChoicesHider).append(dropdownChoices).css('height', scrollHeight);
	    	 		$(dropdownCont).prepend(dropdownChoicesHider);
	    	 		$(dropdownCont).prepend('<div class="pq-dropdown-tip"></div>').width(dropdownWidth - 3);
	    	 		
	    	 		$(dropdownCont).find('.pq-choice').unbind('click.pqddClick').bind('click.pqddClick', function(e){
	    	 			var value = $(this).data('value');
	    	 			var inTable = false;
	    	 			
	    	 			$(select).val(value);
	    	 			
	    	 			if($(element).closest('td').length > 0 && $.browser.mozilla){
	    	 				inTable = true;
	    	 			}else{
	    	 				e.stopImmediatePropagation();
	    	 			}
	    	 			//e.stopImmediatePropagation();
	    	 			$('body *').unbind('click.mynamespace');
	    	 			$(select).find('option').attr('selected', false);
	    	 			$(select).find('option[value="'+value+'"]').attr('selected', true);
	    	 			$(element).find('.pq-dropdown-value').html($(select).find('option[value="'+value+'"]').html());
	    	 			$(element).removeClass('active');
	    	 			
	    	 			setTimeout(function(){
	    	 				$(dropdownCont).css('top', '-9999999px');
	    	 			}, 250);
	    	 			
	    	 			$(select).change();	 			
	    	 			
	    	 			if(inTable){
	    	 				$('#remitance-download-btn-cont').css({top: -9999, left: -9999});
	    	 				$(element).css('z-index', 'auto');
	    	 			}
	    	 		});
	    	 		
	    	 		$(select).unbind('focus.pqddFocus').bind('focus.pqddFocus', function(){
	    	 			$(element).addClass('focused');
	    	 		}).unbind('blur.pqddBlur').bind('blur.pqddBlur', function(){
	    	 			$(element).removeClass('focused');
	    	 		});
	    	 		
	    	 		$(select).unbind('change.pqddChange').bind('change.pqddChange', function(){
	    				//var ,
	    				var currentVal = $(this).val(),
	    					currentOption = $(this).find('option[value="'+ currentVal +'"]');

	    				$(this).find('option').attr('selected', false);
	    				$(currentOption).attr('selected', true);
	    				$(element).find('.pq-dropdown-value').html($(currentOption).html());
	    			});
	    			
//	    			$(select).bind('keydown.pqDDKeyDown', function(e){
//	    				var code = (e.keyCode ? e.keyCode : e.which);
//	    				
//	    			});
	    	 		
	    	 		$(element).unbind('click.pqddclick2').bind('click.pqddclick2', function(e){
	    	 			var inTable = false;
	    	 			
	    	 			if($(element).closest('td').length > 0 && $.browser.mozilla){
	    	 				inTable = true;
	    	 			}else{
	    	 				e.stopImmediatePropagation();
	    	 			}
	    	 			
	    	 			if($(this).hasClass('active')){
	    	 				$('body *').unbind('click.mynamespace');
	    	 				$(this).removeClass('active');
	    	 				
	    	 				setTimeout(function(){
	    	 					$(dropdownCont).css('top', '-9999999px');
	    	 				}, 250);
	    	 				
	    	 				if(inTable){
	    	 					$('#remitance-download-btn-cont').css({top: -9999, left: -9999});
	    	 				}
	    	 			}else{
	    	 				$('body *').unbind('click.mynamespace').bind('click.mynamespace', function(e){
	    	 					e.stopImmediatePropagation();
	    	 				    if ($(e.target).is($(element).parent().find('.pq-dropdown, .pq-dropdown *').not('.pq-dropdown-value'))) {
	    	 				        return;
	    	 				    }else {
	    	 						$('.pq-dropdown').removeClass('active');
	    	 						$('body *').unbind('click.mynamespace');
	    	 						
	    	 						setTimeout(function(){
	    	 							$(dropdownCont).css('top', '-9999999px');
	    	 						}, 250);
	    	 						
	    	 						//if(inTable){
	    	 							$('#remitance-download-btn-cont').css({top: -9999, left: -9999});
	    	 							$(element).css('z-index', '9999');
	    	 						//}
	    	 					}
	    	 				});
	    	 				$(dropdownCont).css('top', '100%');
	    	 				$(this).addClass('active');
	    	 			}
	    	 			   			
	    	 			if(inTable){
	    	 				$(element).css('z-index', -1);
	    	 				setTimeout(function() {
	    	 					$('#remitance-download-btn-cont .pq-dropdown').css('z-index', 99999999);
	    	 				}, 10)
	    	 				
	    	 			}
	    	 		});
	    	 		
	    	 		$(element).append('<span class="pq-dropdown-value">'+ $(selectedOption).html() +'</span>');
	    	 		$(element).append('<div class="drop-down-arrows"></div>');
	    	 		$(element).prepend(dropdownCont);
	    	 	}
	    	 }
	 
	 var infoTip = {
	 	tipIdCount : 0,
	 	init: function(){
	 		var allTips = $('.title-tooltip');
	 		
	 		$.each(allTips, function(key, tip){
	 			infoTip.addTip(tip);
	 		});
	 	},
	 	addTip: function(element){
	 		var toolTip = $('<div>').addClass('title-tool'),
	 			direction = $(element).data('tip-direction') || 'top',
	 			title = $(element).data('tip-title') || $(element).attr('title'),
	 			outside = $(element).data('tip-outside') || false,
	 			width = textWidth(toolTip, title),
	 			tipInPlace = false,
	 			elementOffset = $(element).offset(),
	 			tipFollowMouse = $(element).data('tip-on-mouse'),
	 			tipPad = {
	 				top: $(element).data('tip-pad-top') || 0,
	 				right: $(element).data('tip-pad-right') || 0,
	 				bottom: $(element).data('tip-pad-bottom') || 0,
	 				left: $(element).data('tip-pad-left') || 0
	 			};
	 		
	 		if(direction == 'left'){
	 			if((width + 30) > elementOffset.left){
	 				direction = 'right';
	 			}
	 		}else if(direction == 'top'){
	 			if(45 > elementOffset.left){
	 				direction = 'left';
	 			}
	 		}
	 		
	 		if($(element).find('.title-tool').length > 0){
	 			toolTip = $(element).find('.title-tool');
	 			tipInPlace = true;
	 		}else if($(element).data('tip-id')){
	 			toolTip = $('body').find('> .title-tool[data-tip-id='+$(element).data('tip-id')+']');
	 			tipInPlace = true;
	 		}
	 		
	 		$(toolTip).attr('class', 'title-tool ' + direction + '-tip').html(title + '<div class="tip"></div>').width(width);
	 		
	 		if(outside){
	 			if(!tipInPlace){
	 				$('body').prepend(toolTip);
	 				$(toolTip).data('tip-id', 'infoTip'+infoTip.tipIdCount).attr('data-tip-id', 'infoTip'+infoTip.tipIdCount);
	 				$(element).data('tip-id', 'infoTip'+infoTip.tipIdCount).attr('data-tip-id', 'infoTip'+infoTip.tipIdCount);
	 				infoTip.tipIdCount++;
	 			}
	 			
	 			if(direction == 'left' || direction == 'right'){	
	 				var outerWidth = $(toolTip).outerWidth();
	 				var elementHeight = $(element).outerHeight();
	 				var moveTop = 0;
	 				
	 				moveTop = elementOffset.top + (elementHeight/2) - 16;
	 				
	 				$(toolTip).data('tip-top', moveTop).attr('data-tip-top', moveTop);
	 				
	 				if(direction == 'left'){
	 					$(toolTip).css({
	 						left: (outerWidth * -1) - 28 + elementOffset.left,
	 						top: moveTop,
	 						right: 'auto',
	 						bottom: 'auto'
	 					});
	 				}else {
	 					$(toolTip).css({
	 						right: (outerWidth * -1) - 28 + elementOffset.left,
	 						top: moveTop,
	 						left: 'auto',
	 						bottom: 'auto'
	 					});
	 				}
	 			}else{
	 				var outerWidth = $(toolTip).outerWidth();
	 				var elementWidth = $(element).outerWidth();
	 				var moveLeft = 0;
	 				
	 				moveLeft = (elementOffset.left * 1) - (outerWidth/2) + (elementWidth/2);
	 
	 				$(toolTip).data('tip-top', elementOffset.top - 44);
	 				
	 				$(toolTip).css({
	 					left: moveLeft,
	 					top: -999999,
	 					right: 'auto',
	 					bottom: 'auto'
	 				});
	 			}
	 		}else{
	 			if(!tipInPlace){
	 				$(element).prepend(toolTip);
	 			}
	 			
	 	   		if(direction == 'left' || direction == 'right'){	
	 	   			var outerWidth = $(toolTip).outerWidth();
	 	   			var elementHeight = $(element).outerHeight()
	 	   			
	 	   			moveTop = (elementHeight/2) - 16;
	 	   			
	 	   			$(toolTip).data('tip-top', moveTop).attr('data-tip-top', moveTop);
	 	   			
	 	   			if(direction == 'left'){
	 	   				$(toolTip).css({
	 	   					left: (outerWidth * -1) - 10,
	 	   					top: -999999,
	 	   					right: 'auto',
	 	   					bottom: 'auto'
	 	   				});
	 	   			}else {
	 	   				$(toolTip).css({
	 	   					right: (outerWidth * -1) - 10,
	 	   					top: -999999,
	 	   					left: 'auto',
	 	   					bottom: 'auto'
	 	   				});
	 	   			}
	 	   		}else {
	 	   			var outerWidth = $(toolTip).outerWidth();
	 	   			var elementWidth = $(element).outerWidth();
	 	   			var tipFloat = $(element).data('tip-float');
	  	   			var moveLeft = 0;
	  	   			
	  	   			$(toolTip).data('tip-top', (-48) - tipPad.top);
	  	   			
	     			if(tipFloat == 'right'){
	     				$(toolTip).css({
	     					left: 'auto',
	     					top: -999999,
	     					right: (0 - tipPad.right) + 'px',
	     					bottom: 'auto'
	     				});
	     			}else if(tipFloat == 'left') {
	     				moveLeft = 0;
	     				
	     				$(toolTip).css({
	     					left: moveLeft,
	     					top: -999999,
	     					right: 'auto',
	     					bottom: 'auto'
	     				});
	     			}else{
	     				moveLeft = ((outerWidth * -1) / 2) + (elementWidth/2);
	     				
	     				$(toolTip).css({
	     					left: moveLeft,
	     					top: -999999,
	     					right: 'auto',
	     					bottom: 'auto'
	     				});
	     			};
	 	   		}
	 		}
	 		
	 		if(tipFollowMouse == true){	 				
	 			$(toolTip).css({
	 				'transition': 'none',
	 				'-moz-transition': 'none',
	 				'-webkit-transition': 'none',
	 				'-o-transition': 'none',
	 				zIndex: 9999999999
	 			});
	 			
	 			$(element).mousemove(function(e){
	 				var moveLeft = e.pageX - (parseInt($(toolTip).outerWidth()) / 2),
	 					moveTop = e.pageY - 43;
	 					 				
	 				$(toolTip).css({
	 					top: moveTop,
	 					left: moveLeft
	 				});
	 			});
	 			
	 			$(element).hover(function(){
	 				$(toolTip).addClass('hovered');
	 			}, function(){
	 				$(toolTip).removeClass('hovered').css({top: -9999});		 				
	 			});
	 		}else{
	 			$(element).hover(function(){
	 				$(toolTip).delay(500).queue(function(){
	 					var topMove = 0;
	 					
	 					if(outside){
	 						topMove = infoTip.getTipTop(element);
	 					}else {
	 						topMove = $(toolTip).data('tip-top');
	 					}
	 					
	 					$(toolTip).css({
	 						top: topMove
	 					});
	 				    $(this).addClass('hovered');
	 				    $(this).dequeue();
	 				});
	 			}, function(){
	 				setTimeout(function(){
	 					$(toolTip).css({
	 						top: -999999
	 					});
	 				}, 250);
	 				$(toolTip).dequeue();
	 				$(toolTip).removeClass('hovered');
	 			});
	 		}		
	 	},
	 	getTipTop: function(element){
	 		var elOffset = $(element).offset(),
	 			moveTop = elOffset.top  - 44;
	 		
	 		return moveTop;
	 	}
	 }
	 	
	 	
	 	
	 $(document).ready(function(){
	 	//start merchant modal
	 	merchantInfo = (function (window, document, undefined){
		 		
		 		
		 		return {
		 			test: function(){
		 				alert('this rules');
		 			}
		 		};
		 	})(window, document);
		
	 });

	var merchantModal = (function(window, document, undefined){
		window.merchantModal = merchantModal = this;
		
		return {
			merchantInfoCall: null,
			show: function(merchant){
				var data = {
					merchant_id: merchant
				},
				merchantModalCont = $('#merchant-modal-cont');

				if(merchantModalCont.length < 1){
					merchantModalCont = $('<div id="merchant-modal-cont"><div id="merchant-modal-loader"></div><div id="merchant-modal-close-btn"></div></div>');
					
					$('body').prepend(merchantModalCont);
				}
				
				$('#merchant-modal-close-btn').unbind('click.merchantModalClose').bind('click.merchantModalClose', function(){
					merchantModal.hide(merchantModalCont);
				});
				
				merchantModal.moveIn(merchantModalCont);
				
				if(merchantModal.merchantInfoCall){
					merchantModal.merchantInfoCall.abort();
				}
				
				merchantModal.merchantInfoCall = $.ajax({
					type: 'POST',
					dataType: 'json',
					url: '/scripts/get-merchant-info.php',
					data: data,
					complete: function(data, status){
						data = $.parseJSON(data.responseText);
						
						if(status == 'success'){
							var profile = merchantModal.getProfile(data);
							
							$(merchantModalCont).prepend(profile);

							if(window.google && (data.latitude != null) && (data.latitude != '') && (data.latitude != undefined)){
								merchantModal.loadMerchantMap(data);
							}else {
								$('#merchant-modal-map').remove();
							}
							
							infoTip.init();

							if($('.lt-ie9').length < 1){
								pqScrolling.init();
								merchantModal.hideLoader();
							}else {
								merchantModal.hideLoader();
								pqScrolling.init();
							}
						}
					}
				});
			},
			moveIn: function(merchantModalCont){
				var modalHeight = 0;
				
				$(merchantModalCont).css({
					zIndex: -99,
					bottom: 40,
					top: 0,
					height: 'auto'
				});
				
				modalHeight = $(merchantModalCont).height();
				
				$(merchantModalCont).css({
					zIndex: 999999,
					bottom: 'auto',
					top: '-500%',
					height: modalHeight
				});
				
				$(window).bind('keyup.merchantModal', function(key){
					if(key.keyCode == 27){
						merchantModal.hide(merchantModalCont);
					}
				})
				
				$(merchantModalCont).find('#merchant-modal-loader').css({
					display: 'block'
				});
				
				$(merchantModalCont).animate({
					top: 0
				}, 750, function(){
					$(this).css({
						height: 'auto',
						bottom: '40px'
					});
				});
			},
			hide: function(merchantModalCont){
				var modalHeight = $(merchantModalCont).height();
				
				merchantModal.merchantInfoCall.abort();
				
				$(merchantModalCont).css({
					bottom: 'auto',
					height: modalHeight
				}).animate({
					top: '-'+ (modalHeight + 10) +'px'
				}, 500, function(){
					$(merchantModalCont).html('<div id="merchant-modal-loader"></div><div id="merchant-modal-close-btn"></div>');
				});
				
				$(window).unbind('keyup.merchantModal');
			},
			hideLoader: function(){
				$('#merchant-modal-loader').fadeOut();
			},
			getProfile: function(data){
				var description = data.description || 'None...',
					refund = data.refund_policy || 'No Refunds.',
					tos = data.tos || 'None entered. Please refer to Plastiq’s Terms of Service.';
				
				return '<div id="merchant-modal-head"><h2>'+ data.name +'</h2><address>'+ data.address +', '+ data.city +', '+ data.state +'  '+ data.zip +' - '+ data.country +'</address><a href="http://'+ data.url +'">'+ data.url +'</a><a href="tel:'+ data.phone +'">'+ data.phone +'</a></div><div id="merchant-modal-scroll-sec" class="pq-scroller" data-scroll-shadow="true"><div id="merchant-modal-map" class="title-tooltip" data-tip-title="Click to view in google." data-tip-on-mouse="true" data-tip-outside="true"></div><div class="merchant-modal-section"><h3>Funding Type &amp; Timeline</h3>'+ merchantModal.getFundingBlock(data) +'</div><div class="merchant-modal-section"><h3>Description</h3><p class="important">'+ description +'</p></div><div class="merchant-modal-section"><h3>Cards &amp; Rates</h3>'+ merchantModal.getRatesTable(data.rate) +'</div><div class="merchant-modal-section"><h3>'+ data.name +' Policies &amp; Terms</h3><h4>Refund Policy</h4><div id="merchant-refund-cont" class="pq-scroller"><p>'+ refund +'</p></div><h4>Terms of Service</h4><div id="merchant-tos-cont" class="pq-scroller"><p>'+ tos +'</p></div></div></div>';
					
					
			},
			loadMerchantMap: function(data){
				var pos = {
						lat: data.latitude,
						lng: data.longitude
					},
					address= data.address +', '+ data.city +', '+ data.state +'  '+ data.zip +' - '+ data.country,
					mapLatLong = new google.maps.LatLng(pos.lat, pos.lng),
					mapOptions = {
						center: mapLatLong,
						zoom: 14,
						mapTypeId: google.maps.MapTypeId.ROADMAP,
						disableDefaultUI: true,
						draggableCursor: 'pointer'
					},
					map = new google.maps.Map(document.getElementById("merchant-modal-map"), mapOptions),
					marker = new google.maps.Marker({
						position: mapLatLong,
						map: map,
						title: data.name
					});
				google.maps.event.addListener(map, 'click', function() {
					window.open('https://maps.google.com/?q='+ address +'&z=14', '_blank');
				});
				google.maps.event.addListener(marker, 'click', function() {
					window.open('https://maps.google.com/?q='+ address +'&z=14', '_blank');
				});
			},
			getFundingBlock: function(data){
				var fundingType = data.funding_type,
					busModel = data.process,
					periodMin = data.settlement_period.min,
					periodMax = data.settlement_period.max,
					timePeriod = '';
				console.log(data);
				
				if(periodMin < 1){
					timePeriod = 'instant';
				}else if(periodMin < 4){
					timePeriod = 'quick';
				}else if(periodMin < 5){
					timePeriod = 'fast';
				}else{
					timePeriod = 'slow';
				}
				
				if(busModel == 'MIM Two'){
					return '<h5 class="'+ timePeriod +' funding-type">Funded By Check - '+ periodMin +'-'+ periodMax +' business days</h5><p>' + data.name + ' does not accept electronic funding from Plastiq. When a merchant does not accept electronic funding, Plastiq issues a check on your behalf. Payment delivery may take '+ periodMin +' - '+ periodMax +' business days to reach '+ data.name +'.</p>';
				}else if(busModel == 'MIM One'){
					if(fundingType == 'CHECK' || fundingType == 'ECHECK' || fundingType == 'BILLPAY'){
						return '<h5 class="'+ timePeriod +' funding-type">Funded By Check - '+ periodMin +'-'+ periodMax +' business days</h5><p>' + data.name + ' does not accept electronic funding from Plastiq. When a merchant does not accept electronic funding, Plastiq issues a check on your behalf. It may take '+ periodMin +' - '+ periodMax +' business days for the check to be delivered to '+ data.name +'.</p>';
					}else if(fundingType == 'ACH' || fundingType == 'DEBITCARD' || fundingType == 'CREDITCARD') {
						return '<h5 class="'+ timePeriod +' funding-type">Funded Electronically - '+ periodMin +'-'+ periodMax +' business days</h5><p>' + data.name + ' will receive an electronic payment from Plastiq.  Electronic payment delivery takes '+ periodMin +' - '+ periodMax +' business days.</p>';
					}
				}else if(busModel == 'AIM' || busModel == 'Standard' || busModel == 'Main' || busModel == 'MAIN'){
					if(fundingType == 'CHECK' || fundingType == 'ECHECK'){
						return '<h5 class="'+ timePeriod +' funding-type">Funded By Check - '+ periodMin +'-'+ periodMax +' business days</h5><p>' + data.name + ' does not accept electronic funding, so Plastiq will issue a check on your behalf. It may take '+ periodMin +' - '+ periodMax +' business days for the check to be delivered to '+ data.name +'.</p>';
					}else if(fundingType == 'ACH' || fundingType == 'DEBITCARD' || fundingType == 'CREDITCARD' || fundingType == 'Regular') {
						return '<h5 class="'+ timePeriod +' funding-type">Funded Electronically - '+ periodMin +'-'+ periodMax +' business days</h5><p>' + data.name + ' has a relationship with Plastiq and accepts electronic payments. Payment delivery takes '+ periodMin +' - '+ periodMax +' business days.</p>';
					}else if(fundingType == 'BILLPAY'){
						return '<h5 class="'+ timePeriod +' funding-type">Funded Electronically - '+ periodMin +'-'+ periodMax +' business days</h5><p>' + data.name + ' will receive an electronic payment from Plastiq.  Electronic payment delivery takes '+ periodMin +' - '+ periodMax +' business days.</p>';
					}
				}				
			},
			getRatesTable: function(rates){
				var ratesTable = merchantModal.getRateRow('Any Amount', rates.all);
				
				delete rates.all
				
				$.each(rates, function(form, rate){
					ratesTable += merchantModal.getRateRow(form, rate);
				});
				
				return '<table id="merchant-rates">' + ratesTable + '</table>';
			},
			getRateRow: function(name, rates){
				var master = rates['1'],
					visa = rates['2'],
					amex = rates['3'],
					mcDis = '',
					visaDis = '',
					amexDis = '';
					
				if(!master){
					mcDis = ' disabled';
					master = '---';
				}else if(!visa){
					visaDis = ' disabled';
					visa = '---';
				}else if(!amex){
					amexDis = ' disabled';
					amex = '---';
				}
				
				return '<tr><td><div class="td-ff"><span>'+ name +'</span><div class="strike"></div></div></td><td class="amex'+ amexDis +'"><div class="td-ff"><div class="logo">American Express</div>'+ amex +'%</div></td><td class="mastercard'+ mcDis +'"><div class="td-ff"><div class="logo">Master Card</div>'+ master +'%</div></td><td class="visa'+ visaDis +'"><div class="td-ff"><div class="logo">Visa</div>'+ visa +'%</div></td></tr>';
			}
		}
	})(window, document);

	jQuery.extend( jQuery.easing,
	{
		easeIn: function (x, t, b, c, d) {
			return jQuery.easing.easeInQuad(x, t, b, c, d);
		},
		easeOut: function (x, t, b, c, d) {
			return jQuery.easing.easeOutQuad(x, t, b, c, d);
		},
		easeInOut: function (x, t, b, c, d) {
			return jQuery.easing.easeInOutQuad(x, t, b, c, d);
		},
		expoin: function(x, t, b, c, d) {
			return jQuery.easing.easeInExpo(x, t, b, c, d);
		},
		expoout: function(x, t, b, c, d) {
			return jQuery.easing.easeOutExpo(x, t, b, c, d);
		},
		expoinout: function(x, t, b, c, d) {
			return jQuery.easing.easeInOutExpo(x, t, b, c, d);
		},
		bouncein: function(x, t, b, c, d) {
			return jQuery.easing.easeInBounce(x, t, b, c, d);
		},
		bounceout: function(x, t, b, c, d) {
			return jQuery.easing.easeOutBounce(x, t, b, c, d);
		},
		bounceinout: function(x, t, b, c, d) {
			return jQuery.easing.easeInOutBounce(x, t, b, c, d);
		},
		elasin: function(x, t, b, c, d) {
			return jQuery.easing.easeInElastic(x, t, b, c, d);
		},
		elasout: function(x, t, b, c, d) {
			return jQuery.easing.easeOutElastic(x, t, b, c, d);
		},
		elasinout: function(x, t, b, c, d) {
			return jQuery.easing.easeInOutElastic(x, t, b, c, d);
		},
		backin: function(x, t, b, c, d) {
			return jQuery.easing.easeInBack(x, t, b, c, d);
		},
		backout: function(x, t, b, c, d) {
			return jQuery.easing.easeOutBack(x, t, b, c, d);
		},
		backinout: function(x, t, b, c, d) {
			return jQuery.easing.easeInOutBack(x, t, b, c, d);
		}
	});
	
	if (!window.console ) console = { log: function(){} };
	
	function decodeHTML(normHTML){
		var html = '',
			div = $('#decodeHTML');
		
		if($(div).length < 1){
			$('body').prepend('<div id="decodeHTML">');
			div = $('#decodeHTML');
		}
		
		$(div).html(normHTML);
		return $(div).text();
	}
	
	$.fn.serializeObject = function()
	{
	    var o = {};
	    var a = this.serializeArray();
	    $.each(a, function() {
	        if (o[this.name] !== undefined) {
	            if (!o[this.name].push) {
	                o[this.name] = [o[this.name]];
	            }
	            o[this.name].push(this.value || '');
	        } else {
	            o[this.name] = this.value || '';
	        }
	    });
	    return o;
	};
        
</script>


<!-- page-specific javascript -->

<script type="text/javascript">
	function strpos (haystack, needle, offset) {
	    var i = (haystack + '').indexOf(needle, (offset || 0));
	    return i === -1 ? false : i;
	}
	
	// custom datatables sort functions
	jQuery.fn.dataTableExt.oSort['html-numeric-asc']  = function(a,b) {
		var x = parseFloat(a.replace( /<.*?>/g, "" ).toLowerCase());
		var y = parseFloat(b.replace( /<.*?>/g, "" ).toLowerCase());
		return ((x < y) ? -1 : ((x > y) ? 1 : 0));
	};

	jQuery.fn.dataTableExt.oSort['html-numeric-desc'] = function(a,b) {
		var x = parseFloat(a.replace( /<.*?>/g, "" ).toLowerCase());
		var y = parseFloat(b.replace( /<.*?>/g, "" ).toLowerCase());
		return ((x < y) ? 1 : ((x > y) ? -1 : 0));
	};
	
	// custom datatables sort functions
	jQuery.fn.dataTableExt.oSort['string-date-asc']  = function(a,b) {
		var hour = a.substring(strpos(a, ':')-2, strpos(a, ':'));
		var ampm = a.substring(a.length-2, a.length);
		if (ampm == 'PM' && hour != '12') hour = parseInt(hour)+12;
		a = a.substring(0, strpos(a, ':')-2)+hour+a.substring(strpos(a, ':'), a.length-2)+':00';
		var test = new Date(a);
		x = test.getTime();
		
		hour = b.substring(strpos(b, ':')-2, strpos(b, ':'));
		ampm = b.substring(b.length-2, b.length);
		if (ampm == 'PM' && hour != '12') hour = parseInt(hour)+12;
		b = b.substring(0, strpos(b, ':')-2)+hour+b.substring(strpos(b, ':'), b.length-2)+':00';
		test = new Date(b);
		y = test.getTime();
		return ((x < y) ? -1 : ((x > y) ? 1 : 0));
	};

	jQuery.fn.dataTableExt.oSort['string-date-desc'] = function(a,b) {
		var hour = a.substring(strpos(a, ':')-2, strpos(a, ':'));
		var ampm = a.substring(a.length-2, a.length);
		if (ampm == 'PM' && hour != '12') hour = parseInt(hour)+12;
		a = a.substring(0, strpos(a, ':')-2)+hour+a.substring(strpos(a, ':'), a.length-2)+':00';
		var test = new Date(a);
		x = test.getTime();
		
		hour = b.substring(strpos(b, ':')-2, strpos(b, ':'));
		ampm = b.substring(b.length-2, b.length);
		if (ampm == 'PM' && hour != '12') hour = parseInt(hour)+12;
		b = b.substring(0, strpos(b, ':')-2)+hour+b.substring(strpos(b, ':'), b.length-2)+':00';
		test = new Date(b);
		y = test.getTime();
		return ((x < y) ? 1 : ((x > y) ? -1 : 0));
	};
	
	// set code syntax highlighting
	$(document).ready(function() {
		$('pre code').each(function(i, e) {
			hljs.highlightBlock(e, '    ');
		});
	});
</script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-30869371-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

$(document).ready(function(){
	$('#browser-fail #close-btn').click(function(){
		$('#browser-fail, .pq-modal-cover').fadeOut()
	});
});
</script>
<script src="includes/js/html5-shiv.js" type="text/javascript"></script>­<style>@font-face {font-family:"font";src:url("https://")}@media (touch-enabled),(-webkit-touch-enabled),(-moz-touch-enabled),(-o-touch-enabled),(-ms-touch-enabled),(modernizr){#touch{top:9px;position:absolute}}@media (transform-3d),(-webkit-transform-3d),(-moz-transform-3d),(-o-transform-3d),(-ms-transform-3d),(modernizr){#csstransforms3d{left:9px;position:absolute;height:3px;}}#generatedcontent:after{content:":)";visibility:hidden}</style>
<script type="text/javascript">
//	if($.browser.msie){
//		if(window.scriptReloaded != true){
//			window.scriptReloaded = true;
//			var scripts = $('body script').not('.no-rerun');
//			
//			$.each(scripts, function(key, script){
//				var newScript = $(script).html();
//				
//				if(newScript.length > 0){
//					console.log(newScript);
//					eval(newScript);
//				}	
//			});
//		}
//	}
</script>


</body></html>