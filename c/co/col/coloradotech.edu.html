<!--The following is the downloaded HTML source of the coloradotech.edu privacy policy that was archived on 2019-03-27.
 Please check the original snapshot on the Wayback Machine (https://web.archive.org/web/20190327055650id_/https%3A//www.coloradotech.edu/privacy) for the most accurate reproduction.-->

<!DOCTYPE html><html lang="en-US" class="dyn detail-full-page contents "><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
    
<link rel="apple-touch-icon" sizes="57x57" href="/Media/Default/CTU/favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/Media/Default/CTU/favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/Media/Default/CTU/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/Media/Default/CTU/favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/Media/Default/CTU/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/Media/Default/CTU/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/Media/Default/CTU/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/Media/Default/CTU/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/Media/Default/CTU/favicons/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" sizes="32x32" href="/Media/Default/CTU/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="192x192" href="/Media/Default/CTU/favicons/android-chrome-192x192.png">
<link rel="icon" type="image/png" sizes="16x16" href="/Media/Default/CTU/favicons/favicon-16x16.png">
<link rel="mask-icon" href="/Media/Default/CTU/favicons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-TileImage" content="/Media/Default/CTU/favicons/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">
    <meta name="google-site-verification" content="KmBRF8Tzg2mvjQWSryPRB_rsPkwXSKEFV0Nkk_sXkPs">

    
    <script async="" src="//s.btstatic.com/tag.js#site=ohCN2YD"></script><script src="//cdn.optimizely.com/js/2890121238.js"></script>
  <script>
        var optiPop = function(itemId, path, finder) {
            var url = "/ajaxifycontent/"+itemId;
            $.ajax({
                url: url,
                success: function(html) {
                    var content = $('<div />').html(html).find(path);
                    $(finder).html(content);
                }
            });
        }
    </script>

    <link href="/Modules/CEC.Resources/Styles/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/Themes/ctu-master/Styles/Global/all.min.css" rel="stylesheet" type="text/css">
<!--[if lte IE 11]>
<script src="/Core/Shapes/Scripts/html5.js" type="text/javascript"></script>
<![endif]-->
<script src="/Modules/Orchard.Resources/scripts/jquery.min.js" type="text/javascript"></script>
<script src="/Modules/Orchard.Resources/scripts/jquery-ui.min.js" type="text/javascript"></script>
<meta content="Orchard" name="generator">
<meta content="index,follow" name="robots">
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<link href="https://www.coloradotech.edu/privacy" rel="canonical">
<link href="/Media/Default/CTU/favicons/favicon.ico" rel="shortcut icon" type="image/x-icon">
<title>Colorado Technical University Privacy Policy | CTU</title>
<meta content="This Privacy Policy describes how we treat personal information collected on our sites and apps where it is located. This also includes how we treat information collected when you use our Wi-Fi services. " name="description">
<meta content="Colorado Technical University, CTU" name="keywords">


<script>
    var pl = ["9876543219","2222222222","3333333333","4444444444","5555555555","6666666666","7777777777","8888888888","9999999999"];
    var frmMsg = 'Please correct the following errors:';
    var degreeExcluded = [];
    var degreeException = ["/about","/academics","/admissions","/admissions/prior-learning-assessment/fast-track","/alumni","/apply-online","/career-development","/colorado-springs","/contact","/current-students","/denver","/documents-resources","/financial-aid","/graduation","/military","/military/active","/military/veterans","/military/spouses","/military/military-education-benefits","/military/credit-transfer","/military/ctupatriot","/military/why-ctu","/request-information"];
    var programExcluded = [];
    var programException = ["/about","/academics","/admissions","/admissions/prior-learning-assessment/fast-track","/alumni","/apply-online","/career-development","/colorado-springs","/contact","/current-students","/denver","/documents-resources","/financial-aid","/graduation","/military","/military/active","/military/veterans","/military/spouses","/military/military-education-benefits","/military/credit-transfer","/military/ctupatriot","/military/why-ctu","/request-information"];
    var degSafeVal = '1';
    var progSafeVal = '19';
    var CEC = CEC || {};
    CEC.dr = document.referrer;
    var dataLayer = {
        "pageData": {
            'siteSection': '',
            'sitePath': '',
            'siteQuery': '',
            'degreeLevel': '',
            'program': '',
            'areasOfStudy': '',
            'formItemId': '',
            'formName': '',
            'formIsTcpa': ''
        },
        "form": {
            'campus': '',
            'zip': '',
            'emailAddress': '',
            'degreeOfInterest': '',
            'concentration': ''
        }
    };
    dataLayer.form.httpReferrer = CEC.dr;
</script>

<link href="/Themes/ctu-master/Styles/extend.css" rel="stylesheet" type="text/css">
<link href="/Themes/ctu-master/Styles/faculty-box.css" rel="stylesheet" type="text/css">
<script src="/Modules/FlexSlider/scripts/jquery.flexslider.js" type="text/javascript"></script>    <script>(function (d) { d.className = "dyn" + d.className.substring(6, d.className.length); })(document.documentElement);</script>

    <script type="text/javascript">
    /*LiveEngageScript*/
    var lpTag = lpTag || {};
    lpTag.vars = lpTag.vars || [];
    lpTag.dbs = lpTag.dbs || [];
    lpTag.section = 'default';
    lpTag.tagletSection = 'ctu';
</script>
<script>
    lpTag.sdes = lpTag.sdes || [];
    lpTag.sdes.push(
        {
            "type": "lead",
            "lead": {
                "leadId": "CTU"
            }
        },
        {
            "type": "service",
            "service": {
                "topic": "",
                "category": "",
                "serviceId": ""
            }
        });
</script>
<script charset="UTF-8" src="https://lptag.liveperson.net/tag/tag.js?site=57640154"></script></head>
<body><a href="#" class="back-to-top ctu-icons i-up-arrow" title="scroll back to top" aria-label="Click here to go to the top of the page"></a>
    


<input type="hidden" name="CallCenterOffTimeMon" id="CallCenterOffTimeMon" value="21:00,7:00">
<input type="hidden" name="CallCenterOffTimeTue" id="CallCenterOffTimeTue" value="21:00,7:00">
<input type="hidden" name="CallCenterOffTimeWed" id="CallCenterOffTimeWed" value="21:00,7:00">
<input type="hidden" name="CallCenterOffTimeThu" id="CallCenterOffTimeThu" value="21:00,7:00">
<input type="hidden" name="CallCenterOffTimeFri" id="CallCenterOffTimeFri" value="21:00,7:00">
<input type="hidden" name="CallCenterOffTimeSat" id="CallCenterOffTimeSat" value="21:00,7:00">
<input type="hidden" name="CallCenterOffTimeSun" id="CallCenterOffTimeSun" value="18:00,8:00">
<input type="hidden" name="CallCentreOffDay" id="CallCentreOffDay" value="sunday">
<input type="hidden" name="CallCentreOffDate" id="CallCentreOffDate">
<input type="hidden" name="ServerDateTime" id="ServerDateTime" value="03/27/2019 00:13:58">

    
    
<div class="main-body">
<style>
    .list-heading {
        display: block;
        color: #fff;
        margin: 10px 0 0 0;
        text-transform: uppercase;
        font-size: 16px;
        font-family: "Trade Gothic Bold",Arial,"Helvetica Neue",Helvetica,sans-serif;
    }
</style>

<div class="ctu-menu-container">

    <input type="hidden" name="phheader_0$ctl01$StartTime" id="phheader_0_ctl01_StartTime" value="21:00:00">
    <input type="hidden" name="phheader_0$ctl01$EndTime" id="phheader_0_ctl01_EndTime" value="07:00:00">
    <input type="hidden" name="phheader_0$ctl01$ChatStartTime" id="phheader_0_ctl01_ChatStartTime" value="01:00:00">
    <input type="hidden" name="phheader_0$ctl01$ChatEndTime" id="phheader_0_ctl01_ChatEndTime" value="05:00:00">
    <input type="hidden" name="phheader_0$ctl01$EnableChatHiding" id="phheader_0_ctl01_EnableChatHiding" value="1">

    <header class="container">
        <div class="dt-logo col-md-3">
            <a href="/">
                <div class="ctu-icons i-ctu-logo-red"></div>
                <span class="sr-only">Colorado Technical University</span>
            </a>
        </div>
        <div class="dt-top-icons col-md-9 pr0">
            <div class="button-nav pull-right">
                <ul id="button-menu-standard" class="nav navbar-nav">
                    <li class="button-menu-item">
                        <a id="dt-phone" href="tel:18552300555" alt="phone-landline" style="visibility: visible;">
                            <span class="ctu-icons i-phone-landline"></span>1-855-230-0555
                        </a>
                    </li>
                    <li class="button-menu-item">
                        <div id="lpGlobalHeader"></div>
                    </li>
                    <li class="button-menu-item">
                        <a id="dt-request-info" href="/request-information" class="show">
                            <span class="ctu-icons i-info-i"></span>Request Information
                        </a>
                    </li>
                    <li class="button-menu-item">
                        <a href="#" class="apply-now-pulldown show">Apply Now <span class="ctu-icons i-arrow-down"></span></a>
                        <ul class="apply-now-content" style="display: none;">
                            <li>
                                <a id="applynowOnline" href="https://enrollment.coloradotech.edu/?code=680#/LandingPage">Online</a>
                            </li>
                            <li>
                                <a href="https://my.cs.coloradotech.edu/mycampus/general/ec.aspx?src=16484">Colorado Springs</a>
                            </li>
                            <li>
                                <a href="https://my.denver.coloradotech.edu/mycampus/general/ec.aspx?src=16485">Aurora</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>

        </div>

    </header>

    <div id="lpButtonDiv" style="display: none;"></div>

    <div class="madpow-desktop clearfix ctu-primary-background">
        <nav id="ctu-menu" class="background-shadow-class">
            <div class="container pa0">
                <div class="col-md-12 ctu-menu">
                    <ul class="ctu-nav" aria-label="Degree-Programs" role="list">

                        <li id="ctu-menu-1" role="listitem" tabindex="0">
                            <a href="/degrees">Degree Programs</a>
                            <div class="ctu-menu-sub">
                                <div class="ctu-menu-sub-inner">
                                    <div>
                                            <a href="/degrees/studies" class="list-heading">Area of Study</a>
                                        <ul aria-label="degrees" role="list">
                                            <li role="listitem">
                                                <a href="/degrees/studies/business-and-management">Business &amp; Management</a>
                                            </li>
                                            <li role="listitem">
                                                <a href="/degrees/studies/engineering-and-computer-science">Engineering &amp; Computer Science</a>
                                            </li>
                                            <li role="listitem">
                                                <a href="/degrees/studies/healthcare">Healthcare</a>
                                            </li>
                                            <li role="listitem">
                                                <a href="/degrees/studies/information-systems-and-technology">Information Technology</a>
                                            </li>
                                            <li role="listitem">
                                                <a href="/degrees/studies/nursing">Nursing</a>
                                            </li>
                                            <li role="listitem">
                                                <a href="/degrees/studies/project-management">Project Management</a>
                                            </li>
                                            <li role="listitem">
                                                <a href="/degrees/studies/security-studies">Security Studies &amp; Criminal Justice</a>
                                            </li>
                                            <li role="listitem">
                                                <a href="/degrees/studies/online-accounting-degrees">Accounting</a>
                                            </li>
                                            <li role="listitem">
                                                <a href="/degrees/studies/online-finance-degrees">Finance</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div>
                                            <a href="/degrees" class="list-heading">All Degree Programs</a>
                                        <ul style="margin-top: 20px;" aria-label="undergraduate-degrees" role="list">
                                                <a rel="nofollow" href="/degrees/undergraduate" class="list-heading">UNDERGRADUATE DEGREE PROGRAMS</a>
                                            <li role="listitem">
                                                <a href="/degrees/associate">Associate Degrees</a>
                                            </li>
                                            <li role="listitem">
                                                <a href="/degrees/bachelors">Bachelor's Degrees</a>
                                            </li>
                                        </ul>
                                        <ul aria-label="graduate-degree" role="list">
                                                <a rel="nofollow" href="/degrees/graduate" class="list-heading">GRADUATE DEGREE PROGRAMS</a>
                                            <li role="listitem">
                                                <a href="/degrees/masters">Master's Degrees</a>
                                            </li>
                                            <li role="listitem">
                                                <a href="/degrees/doctorates">Doctoral Degrees</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div>
                                            <a href="/online-degree-programs" class="list-heading">ONLINE DEGREE PROGRAMS</a>
                                        <ul aria-label="online-degrees" role="list">
                                            <li role="listitem">
                                                <a rel="nofollow" style="letter-spacing: -.05em;" href="/degrees?locationid=6&amp;degreelevel=2">Online Undergraduate Degree Programs</a>
                                            </li>
                                            <li role="listitem">
                                                <a rel="nofollow" href="/degrees?locationid=6&amp;degreelevel=3">Online Graduate Degree Programs</a>
                                            </li>
                                        </ul>

                                    </div>
                                </div><!-- /ctu-menu-sub-inner -->
                            </div><!-- /ctu-menu-sub -->
                        </li>

                        <li id="ctu-menu-2" role="listitem" tabindex="0">
                            <a href="/admissions">Admissions</a>
                            <div class="ctu-menu-sub">
                                <div class="ctu-menu-sub-inner">
                                    <div>
                                            <a href="/admissions" class="list-heading">ADMISSIONS AT CTU</a>
                                        <ul aria-label="online-degrees" role="list">
                                            <li role="listitem">
                                                <a href="/admissions/student-admissions-process">Admission Process Overview</a>
                                            </li>
                                            <li role="listitem">
                                                <a href="/admissions/prior-learning-assessment">Work &amp; Life Experience Credits</a>
                                            </li>
                                            <li role="listitem">
                                                <a href="/admissions/prior-learning-assessment/fast-track">CTU Fast Track™</a>
                                            </li>
                                        </ul>
                                            <a href="/graduation-and-tuition-calculator" class="list-heading">Estimate Cost and Grad Date</a>
                                    </div>
                                    <div>
                                        <ul>
                                            <li>
                                                <a href="/admissions/transfer-students">Transfer Students</a>
                                            </li>
                                            <li>
                                                <a href="/admissions/international-students">International Students</a>
                                            </li>
                                            <li>
                                                <a href="/admissions/student-admissions-process/re-admission-students">Re-Admission Students</a>
                                            </li>
                                            <li>
                                                <a href="/military">Military Students</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div>
                                        <ul>
                                            <li>
                                                <a target="_blank" href="http://coloradotech.smartcatalogiq.com/en/current/Catalog">University Catalog</a>
                                            </li>
                                            <li>
                                                <a href="/admissions/ctu-mobile">CTU Mobile App</a>
                                            </li>
                                            <li>
                                                <a href="/alumni/transcript-requests">Transcript Request from CTU</a>
                                            </li>
                                        </ul>
                                        <ul>
                                                <a href="/apply-online" class="list-heading">APPLY NOW</a>
                                        </ul>
                                    </div>
                                </div><!-- /ctu-menu-sub-inner -->
                            </div><!-- /ctu-menu-sub -->
                        </li>

                        <li id="ctu-menu-3" tabindex="0">
                            <a href="/financial-aid">Tuition &amp; Financial Aid</a>
                            <div class="ctu-menu-sub">
                                <div class="ctu-menu-sub-inner">
                                    <div>
                                            <a href="/financial-aid" class="list-heading">TUITION &amp; FINANCIAL AID</a>
                                        <ul>
                                            <li>
                                                <a href="/financial-aid/affordability">Affordable Education</a>
                                            </li>
                                            <li>
                                                <a href="/financial-aid/financing-options">Financing Options</a>
                                            </li>
                                            <li>
                                                <a target="_blank" href="https://coloradotech.studentaidcalculator.com/survey.aspx">Net Price Calculator</a>
                                            </li>
                                            <li>
                                                <a href="/documents-resources">Tuition Resources</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div>
                                            <a href="/financial-aid/financing-options/grants-scholarships" class="list-heading">GRANTS &amp; SCHOLARSHIPS</a>
                                        <ul>
                                            <li>
                                                <a href="/financial-aid/financing-options/grants-scholarships/advantage">Advantage Grant</a>
                                            </li>
                                            <li>
                                                <a href="/financial-aid/financing-options/corpalliances">Corporate Alliances Grant</a>
                                            </li>
                                            <li>
                                                <a href="/financial-aid/financing-options/grants-scholarships/higher-education">Higher Education Grant</a>
                                            </li>
                                            <li>
                                                <a href="/financial-aid/financing-options/grants-scholarships/lifelong-learning">Lifelong Learning Grant</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div>
                                            <a href="/military/military-education-benefits" class="list-heading">Military Financial Aid</a>
                                            <a href="/admissions/prior-learning-assessment/fast-track" class="list-heading">Ways to Save With CTU Fast Track™</a>
                                            <a href="/graduation-and-tuition-calculator" class="list-heading">Estimate Cost and Grad Date</a>
                                    </div>
                                </div><!-- /ctu-menu-sub-inner -->
                            </div><!-- /ctu-menu-sub -->
                        </li>

                        <li id="ctu-menu-4" tabindex="0">
                            <a href="/online-degree-programs">Online &amp; Campuses</a>
                            <div class="ctu-menu-sub">
                                <div class="ctu-menu-sub-inner">
                                    <div>
                                        <ul>
                                            <li>
                                                    <a href="/online-degree-programs" class="list-heading">Online Degree Programs</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div>
                                        <ul>
                                            <li>
                                                    <a href="/denver" class="list-heading">Aurora (Denver Area)</a>
                                            </li>
                                            <li>
                                                    <a href="/colorado-springs" class="list-heading">Colorado Springs</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div>
                                        <ul>
                                            <li>
                                                    <a href="/request-information" class="list-heading">Request Information</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <!-- /ctu-menu-sub-inner -->
                            </div>
                            <!-- /ctu-menu-sub -->
                        </li>

                        <li id="ctu-menu-5" tabindex="0">
                            <a href="/about">About CTU</a>
                            <div class="ctu-menu-sub">
                                <div class="ctu-menu-sub-inner">
                                    <div>
                                            <a href="/about" class="list-heading">About CTU</a>
                                        <ul>
                                            <li>
                                                <a href="/about">Welcome from the President</a>
                                            </li>
                                            <li>
                                                <a href="/about#mission">Mission</a>
                                            </li>
                                            <li>
                                                <a href="/military">Commitment to the Military</a>
                                            </li>
                                            <li>
                                                <a href="/about/educational-alliances">Educational Alliances</a>
                                            </li>
                                            <li>
                                                <a href="/admissions/prior-learning-assessment">Work &amp; Life Experience Credits</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div>
                                            <a href="/about/accreditations" class="list-heading">ACCREDITATION</a>
                                        <ul>
                                            <li>
                                                <a href="/about/affiliations">Affiliations</a>
                                            </li>
                                            <li>
                                                <a href="/about/awards">Awards &amp; Recognitions</a>
                                            </li>
                                        </ul>
                                            <a href="/about/administration" class="list-heading">ADMINISTRATION</a>
                                    </div>
                                    <div>
                                            <a href="/current-students" class="list-heading">STUDENTS &amp; ALUMNI</a>
                                        <ul>
                                            <li>
                                                <a href="/current-students">Current Students</a>
                                            </li>
                                            <li>
                                                <a href="/alumni">Alumni Association</a>
                                            </li>
                                            <li>
                                                <a href="/career-development">Career Development</a>
                                            </li>
                                            <li>
                                                <a href="/graduation">CTU Graduation</a>
                                            </li>
                                            <li>
                                                <a target="_blank" rel="nofollow" href="http://shop.coloradotech.edu">CTU Store</a>
                                            </li>
                                            <li>
                                                <a href="/alumni/transcript-requests">Transcript Request from CTU</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div><!-- /ctu-menu-sub-inner -->
                            </div><!-- /ctu-menu-sub -->
                        </li>

                        <div id="dt-search-pulldown">
                            <div class="nav-dropdown" tabindex="0">
                                <a class="nav-login" id=""><span class="ctu-icons i-arrow-down"></span>Student Login</a>
                                <div class="nav-drop-menus" style="display: none;">
                                    <ul>
                                        <li>
                                            <a rel="nofollow" href="https://studentlogin.coloradotech.edu/_layouts/login/login.aspx?ReturnUrl=%2f">Online Programs</a>
                                        </li>
                                        <li>
                                            <a rel="nofollow" href="https://my.cs.coloradotech.edu/_layouts/login/Login.aspx">Colorado Springs</a>
                                        </li>
                                        <li>
                                            <a rel="nofollow" href="https://my.denver.coloradotech.edu/_layouts/login/Login.aspx">Aurora (Denver area)</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div id="search_container" class="closed">
                                <div id="display-sayt">
                                </div>
                                <div id="phheader_0_ctl02_pnlSearch" onkeypress="javascript: return WebForm_FireDefaultButton(event, 'phheader_0_ctl02_btnSearch');" tabindex="0">
                                    <form action="/Search" class="search-form" method="get">
                                        <label for="txtSearch" class="sr-only">Enter Search Value</label>
                                        <input id="txtSearch" name="q" class="search_input ui-autocomplete-input" type="search" placeholder="Search" value="" autocompletetype="Search" autocomplete="off">
                                        <input type="button" aria-label="Submit Search" name="phheader_0$ctl02$btnSearch" value="" onclick="if (!checkDesktopSearchValue()) { return true; };__doPostBack('phheader_0$ctl02$btnSearch', '');" id="phheader_0_ctl02_btnSearch" class="search_submit ctu-sprites i-search-bl" title="search-button">

                                        <div id="hint"></div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </ul>
                </div>
            </div>
        </nav>
    </div>
</div><div class="hidden-xs appt-ribbon" style="background-color: #0e6291;border-top: 1px solid #fff;">
    <div class="container">
        <div class="row">
            <div class=" col-xs-12 col-sm-12">
                <div class="text-center txt-wht pt15 pb15">
                    <span style="font-size:16px;">Talk to an admissions advisor when it is convenient for you</span>. <a style="background: #d48a00;border-radius:3px;font-size: 16px;color:#FFFFFF;padding: 6px 12px;width: 10%;margin-left: 15px !important;" href="https://booknow.appointment-plus.com/y1b74edg/" class="optzTest-orangeButton">Schedule Now</a>
                </div>
            </div>
        </div>
    </div>
</div>                <div class="main-content-wrap">
                        <!-- Views/Parts/LeadAttribution.cshtml -->



<lead_campaign_id id="lead_campaign_id" source="SiteSettings" value="c23941"></lead_campaign_id>
<lead_lead_source id="lead_lead_source" source="SiteSettings" value="680"></lead_lead_source>
<lead_site_id id="lead_site_id" source="SiteSettings" value=""></lead_site_id>
<lead_vendor_id id="lead_vendor_id" source="SiteSettings" value="773"></lead_vendor_id>
<lead_sitesection_id id="lead_sitesection_id" value="Privacy Policy"></lead_sitesection_id>

<!-- eof.Views/Parts/LeadAttribution.cshtml -->
<lead_degree_level id="lead_degree_level" value="False"></lead_degree_level>
<lead_degree_name id="lead_degree_name" value="False"></lead_degree_name>
<lead_ignore id="lead_ignore" value="True"></lead_ignore>
<lead_remove id="lead_remove" value="True"></lead_remove>

   

<div class="container">

<div class="row">
<div class=" col-xs-12 col-sm-12">

<ol class="breadcrumbs" style="white-space: nowrap;" itemscope="" itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
    <a itemprop="item" href="/">
    <span itemprop="name">Home</span></a>
    <meta itemprop="position" content="1">
  </li>
  <li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
    <span itemprop="name">Privacy</span>
    <meta itemprop="position" content="2">
  </li>
</ol>


</div>
</div>
<div class="row">
<div class=" col-xs-12 col-sm-4">

<div>

   
<div class="secondary-nav-container">
<div class="sticky-opti-pop"></div>

<div class="clearfix mb20"><!-- Mobile Hamburger Nav Icon -->
<div class="dim" style="display:none;"></div>
<div id="screenFlash" style="display:none;"></div>
<div class="off-canvas-fixed-menu" data-target=".panel-group" data-toggle="collapse" id="grey-menu">
    <a href="#"><span class="sr-only">Collapse Accordion</span></a>
</div>

<!-- <div class="panel-group accordion collapse" id="accordion"> -->
<div class="admissions-accordion panel-group accordion collapse" id="accordion">
    <!-- Site Information -->
    <div class="panel panel-default">
        <div class="panel-heading">
            <div class="panel-title">
                <a class="collapsed" data-parent="#accordion" data-toggle="collapse" href="#siteinfo">Site Information</a>
            </div>
        </div>
        <div class="panel-collapse collapse" id="siteinfo">
            <div class="panel-body">
                <ul>
                    <li>
                        <a href="/privacy" data-event-category="navigation" data-event-action="side navigation click" data-event-label="site information | privacy policy">Privacy Policy</a>
                    </li>
                    <li>
                        <a href="/terms-and-conditions" data-event-category="navigation" data-event-action="side navigation click" data-event-label="site information | terms of use">Terms of Use</a>
                    </li>
                    <li>
                        <a href="/about-our-ads" data-event-category="navigation" data-event-action="side navigation click" data-event-label="site information | about our ads">About Our Ads</a>
                    </li>
                    <li>
                        <a href="/financial-aid/student-disclosures" data-event-category="navigation" data-event-action="side navigation click" data-event-label="site information | student disclosures">Student Disclosures</a>
                    </li>
                    <li>
                        <a href="/financial-aid/campus-security-reports" data-event-category="navigation" data-event-action="side navigation click" data-event-label="site information | campus security reports">Campus Security Reports</a>
                    </li>
                    <li>
                        <a href="/closed-campus-information" data-event-category="navigation" data-event-action="side navigation click" data-event-label="site information | closed campus information">Closed Campus Information</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!-- Documents and Resources -->
    <div class="panel panel-default">
        <div class="panel-heading">
            <div class="panel-title">
                <a class="collapsed" data-parent="#accordion" data-toggle="collapse" href="#docs-and-resources">Documents and Resources</a>
            </div>
        </div>
        <div class="panel-collapse collapse" id="docs-and-resources">
            <div class="panel-body">
                <ul>
                    <li>
                        <a href="/documents-resources" data-event-category="navigation" data-event-action="side navigation click" data-event-label="documents and resources| overview">Overview</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
</div>
</div>
</div>
</div>

<div class=" col-xs-12 col-sm-8">

<h1>UPDATED CAREER EDUCATION PRIVACY POLICY – YOUR PRIVACY RIGHTS</h1>

<p>Effective Date: January 2014. Last Updated: May 3, 2017.</p>
<h2>THIS POLICY APPLIES TO THE SITES AND APPS WHERE IT APPEARS.</h2>
<p>This Privacy Policy describes how we treat personal information collected on our sites and apps where it is located. This also includes how we treat information collected when you use our Wi-Fi services. We refer to these as our "Platforms." This policy does not apply to information we collect in other ways, such as information we collect from you in connection with your course work. This policy also does not apply to our privacy obligations under FERPA and similar state laws. To learn more, please visit <a target="_blank" href="http://coloradotech.smartcatalogiq.com/current/Catalog/University-Policies/Notification-of-Rights-under-FERPA-with-respect-to-Student-Records">here</a>.</p>
<h2>WE COLLECT INFORMATION FROM AND ABOUT YOU. </h2>
<p><strong>We collect contact information.</strong> For example, we may collect your name and mailing address. This may include your zip code. We might also collect phone numbers and email addresses. </p>
<p><strong>We collect application and tuition information.</strong> For example we collect this information in your application for admission and financial aid. This includes Social Security number and date of birth. It also includes citizenship or military status. We may also collect information about other schools you have attended and income history. We might also collect your credit card or bank account number and billing address. For more information about how we treat education records and financial information, please visit <a target="blank" href="http://coloradotech.smartcatalogiq.com/current/Catalog/University-Policies/Notification-of-Rights-under-FERPA-with-respect-to-Student-Records">here</a> .</p>
<p><strong>We collect information you post or submit.</strong> We collect information you post in a public space on our Platforms. This may include posts you make on course discussion boards or our social media pages. We may also collect your social media profile information. We might also collect the information you submit to us, such as through our live chat feature.</p>
<p><strong>We collect job application information.</strong> If you apply for a job through our Platform, we collect the information you include in your application. For example, this may include the name and address of your employer and your employment history.</p>
<p><strong>We collect demographic information.</strong> We may collect your age and gender. We may also collect information about your race or ethnicity. </p>
<p><strong>We collect device and location information.</strong> We collect the type and make of device you use to access our Platforms. We may also collect information about the browser you are using. We might look at what site you came from, or what site you visit when you leave us. We may collect information across the devices you use to access our Platform. If you use our app, we might look at how often you use the app and where you downloaded it. This might include your device identification number, IP address or mobile operating system. We may also collect location information. This may include precise location information from your device such as your location when you are on or near campus. </p>
<h2>WE COLLECT INFORMATION ABOUT YOU IN SEVERAL WAYS.</h2>
<p><strong>We collect information directly from you. </strong>For example, might collect information when you request information about our products and services or sign up for an event. We might also collect information when, for example, you sign up to receive communications from us.</p>
<p><strong>We collect information from you passively.</strong> We use common tracking technologies to collect information passively. This includes when you use our Platforms or our WiFi services. </p>
<p><strong>We collect information from third parties.</strong> We may receive information about you from other sources. This might include our business partners. It may also include our education partners, like organizations that administer college-level exams, manage records related to education, or provide scholarships, grants and other financial aid. It might also include other academic institutions. It also includes friends who use our “Its Who U Know” and other referral features. We also get information about you from social media platforms.</p>
<h2>WE COMBINE INFORMATION WE OBTAIN FROM DIFFERENT SOURCES.</h2>
<p>We may combine information that we collect offline with information we collect online. We may also combine information you submit or that we track across multiple devices. We may also combine information we collect from you with information we get about you from others. </p>
<h2>WE USE INFORMATION IN A VARIETY OF WAYS.</h2>
<p><strong>We use your information to communicate with you.</strong> This includes responding to your questions or inquiries or notifying you if you won a promotion. We will also use your information to send you information about your account or about our relationship.  We may send push notifications in our apps.</p>
<p><strong>We use information to provide you with our products and services.</strong> This includes determining your eligibility for our services. It also includes fulfilling your requests.</p>
<p><strong>We use your information to understand your interests and improve our products and services.</strong> We may use your information to make our Platform, products and services better. This may include improving student retention and user experience. We may also use your information to customize your experience with us. For example, we may use your information to determine your interest in our products and services or to better understand what products and services interest you. </p>
<p><strong>We use your information for marketing purposes.</strong> We may provide you with information about current or new products and services or other ads. We might use your information to serve you with ads. These might be third party offers or products we think you might find interesting. We may also have our business partners serve you with ads about our products and services. We may use your geolocation information to send these communications. </p>
<p><strong>We use information for security purposes.</strong> This could include protecting our family of companies and our students. It may also include protecting our Platform.</p>
<p><strong>We use information as otherwise permitted or required by law or as we may notify you.</strong> This includes using your information for our legitimate business needs.</p>
<h2>WE SHARE INFORMATION WITH THIRD PARTIES.</h2>
<p><strong>We share your information within the Career Education Corporation family of companies.</strong> This includes our network of schools and the Career Education Foundation Scholarship Fund</p>
<p><strong>We share your information with third parties who perform services on our behalf.</strong> For example, this may include payment processors or companies that provide identity verification services. It may also include companies that fulfill transcript requests or send communications on our behalf.</p>
<p><strong>We share information with our business partners.</strong> For example, this may include third parties that provide educational products and services related to our business. It may also include social media sites or a third party that co-sponsors a promotion. </p>
<p><strong>We share information with those who help pay for your education.</strong> We may share your information with family members or employers who help pay your tuition. We may also share information with banks or other lenders that provide education loans to you. For more information about how we treat education records and financial information, please visit <a target="_blank" href="http://coloradotech.smartcatalogiq.com/current/Catalog/University-Policies/Notification-of-Rights-under-FERPA-with-respect-to-Student-Records">here</a>.</p>
<p><strong>We share information with third parties for marketing purposes.</strong> This may include third parties that serve ads on our behalf. This may also include third parties in whose products or services we believe you may be interested. These third parties may also share your information with others. These third parties may use your information for their own marketing purposes or the marketing purposes of others. This may include the delivery of interest-based advertising.</p>
<p><strong>Your information may be publicly accessible on our Platforms.</strong> Information you submit in chat rooms or other features can be seen by others who use that features. This may include information about you like the courses in which you are enrolled. It may also include your contact information.</p>
<p><strong>We will share your information with any successor to all or part of our business.</strong> For example, if all or part of our business is sold, we may share your personal information with the new owner. This may include as part of an asset sale, corporate reorganization or other change of control. </p>
<p><strong>We share information with regulating agencies and government entities.</strong> We may share your information with the organizations that analyze our education practices and provide our qualifications to operate as an educational institution. We may also share information with government agencies if we believe we are required to in order to comply with the law or as part of our business operations. For more information about how we treat education records and financial information, please visit <a target="_blank" href="http://coloradotech.smartcatalogiq.com/current/Catalog/University-Policies/Notification-of-Rights-under-FERPA-with-respect-to-Student-Records">here</a>.</p>
<p><strong>We will share information to comply with the law or to protect ourselves.</strong>This includes responding to a court order or subpoena. It could also include sharing information if a government agency or investigatory body requests. We might share information when we are investigating a potential fraud. This could include fraud we think has occurred during a sweepstakes or promotion. We may also share information if you are the winner of a sweepstakes or other contest with anyone who requests a winner’s list.</p>
<p><strong>We will share information for other reasons we may describe to you. </strong></p>
<h2>YOU HAVE CERTAIN CHOICES ABOUT HOW WE USE YOUR INFORMATION.</h2>
<p><strong>You can opt out of receiving our marketing emails. </strong> To stop receiving our promotional emails, follow the instructions in any promotional message you receive from us. Note that even if you opt out of our promotional emails, you will still receive transactional messages from us. </p>

<p><strong>You can control certain cookies and tracking tools. </strong> To learn how to manage how we – and our vendors – use cookies and other tracking tools, and to read our <strong>Do Not Track Policy</strong>, please click <a target="_blank" href="/about-our-ads">here</a>.

</p><p><strong>You can control tools your mobile devices. </strong> For example, you can turn off the GPS locator or push notifications on your phone. </p>
<h2>YOUR CALIFORNIA PRIVACY RIGHTS</h2>
<p>If you reside in California, you have the right to ask us one time each year if we have shared personal information with third parties for their direct marketing purposes. To make a request, please send us an email at <a href="mailto:privacymatters@careered.com">privacymatters@careered.com</a> or write to us at the address listed below. Indicate in your email or letter that you are a California resident making a "California Shine the Light" inquiry. </p>
<h2>OUR PLATFORMS AND CHILDREN.</h2>
<p>Our Platforms are meant for adults. We do not knowingly collect personally identifiable information from children under 13. If you are a parent or legal guardian and think your child under 13 has provided us with information, please contact us at <a href="mailto:privacymatters@careered.com">privacymatters@careered.com</a>. You can also write to us at the address listed at the end of this website Policy. Please mark your inquiries “COPPA Information Request.” Parents, you can learn more about how to protect children's privacy on-line <a target="_blank" href="http://www.consumer.ftc.gov/articles/0031-protecting-your-childs-privacy-online">here</a>.</p>
<h2>WE USE STANDARD SECURITY MEASURES.</h2>
The Internet is not 100% secure. We cannot promise that your use of our Platform will be completely safe. We encourage you to use caution when using the Internet. We use reasonable means to safeguard personal information under our control.  User IDs and passwords are needed to access certain areas of our Platform. It is your responsibility to protect your username and password.<p></p>
<h2>STORAGE OF INFORMATION</h2>
Information we maintain may be stored in the United States. If you live outside of the United States, you understand and agree that we may transfer your personal information to the United States. This site is subject to U.S. laws, which may not provide the same level of protections as those in your own country.<p></p>
<h2>WE MAY LINK TO THIRD PARTY SITES.</h2>
Our Platform may contain links to other third party sites that are not governed by this Policy. If you click on a link to a third party site, you will be taken to a site we do not control.  We are not responsible for the privacy practices used by third party sites. We suggest that you read the privacy policies of those sites carefully. We are not responsible for these third party sites.<p></p>
<h2>HOW TO CONTACT US</h2>
<p>If you have any questions about our privacy practices contact us at <a href="mailto:privacymatters@careered.com">privacymatters@careered.com</a> or by telephone at 847-781-3600. You may also write to us at the following address:</p>
<address>Privacy Matters<br>
Career Education Corporation<br>
231 N. Martingale Road<br>
Schaumburg, IL 60173</address>
<h2>CHANGES TO THIS PRIVACY POLICY</h2>
<p>From time to time, we may change this Privacy Policy. We will notify you of any material changes to this policy as required by law. We will also post an updated copy on our Platforms. Please check our Platforms periodically for updates. </p>

<p>© 2017 Career Education Corporation. All rights reserved.</p>

</div>
</div>
</div>


        </div>                <div class="footer-container">
            
<div>

   

<style>
    /* Footer Modifications*/
    .mdesktop .col-20 {
        float: left;
        width: 20%;
        margin: 0 0 0;
    }
    .mdesktop ul {
        float: none;
        width: 100%;
        margin: 0 0 20px;
    }
    .mdesktop figcaption {
        text-transform: uppercase;
        font-size: 18px;
        font-family: "Trade Gothic Bold",Arial,"Helvetica Neue",Helvetica,sans-serif;
    }
    .footer-list-heading {
        display: block;
        margin: 0 0 15px;
        font-family: "Trade Gothic Bold",Arial,"Helvetica Neue",Helvetica,sans-serif;
        font-size: 18px;
        font-weight: 400;
        letter-spacing: 0;
        line-height: 1.1;
        text-transform: uppercase;
    } 
</style>

<div class="ui-footer-desktop container">
    <div class="row">
        <div class="col-sm-12">
            <ul class="footermenu simpleMenu horiz tradeBold">
                <li>
                    <a href="#" class="ui-uppercase" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="student login button">Student Login<span class="ui-arrow down right"></span></a>
                    <ul class="studentLoginDropdown">
                        <li>
                            <a rel="nofollow" href="https://studentlogin.coloradotech.edu/_layouts/login/login.aspx?ReturnUrl=%2f" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="student portal menu">Online Programs</a>
                        </li>
                        <li>
                            <a rel="nofollow" href="https://my.cs.coloradotech.edu/_layouts/login/Login.aspx" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="student portal menu">Colorado Springs</a>
                        </li>
                        <li>
                            <a rel="nofollow" href="https://my.denver.coloradotech.edu/_layouts/login/Login.aspx" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="student portal menu">Aurora (Denver area)</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="/about/accreditations" class="ui-uppercase" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="accreditations button">Accreditations</a>
                </li>
                <li>
                    <a href="/financial-aid/student-disclosures" class="ui-uppercase" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="gainful employment &amp; disclosures">Gainful Employment &amp; Disclosures</a>
                </li>
            </ul>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12">
            <div class="mdesktop">
                <div class="col-20">
                    <a href="/degrees" class="footer-list-heading" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="degree programs">Degree Programs</a>
                    <figure>
                        <figcaption>Undergraduate</figcaption>
                        <ul>
                            <li>
                                <a href="/degrees/associate" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="associate degrees">Associate Degrees</a>
                            </li>
                            <li>
                                <a href="/degrees/bachelors" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="bachelor's degrees">Bachelor's Degrees</a>
                            </li>
                        </ul>
                    </figure>
                    <figure>
                        <figcaption>Graduate</figcaption>
                        <ul>
                            <li>
                                <a href="/degrees/masters" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="master's degrees">Master's Degrees</a>
                            </li>
                            <li>
                                <a href="/degrees/doctorates" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="doctoral degrees">Doctoral Degrees</a>
                            </li>
                        </ul>
                    </figure>
                    <figure>
                        <figcaption>Online Degree Programs</figcaption>
                        <ul>
                            <li>
                                <a rel="nofollow" href="/degrees?locationId=205" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="all online degrees">All Online Degrees</a>
                            </li>
                        </ul>
                    </figure>
                    <figure>
                        <figcaption>Area of Study</figcaption>
                        <ul>
                            <li>
                                <a href="/degrees/studies/business-and-management" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="business &amp; management">Business &amp; Management</a>
                            </li>
                            <li>
                                <a href="/degrees/studies/engineering-and-computer-science" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="engineering &amp; computer science">Engineering &amp; Computer Science</a>
                            </li>
                            <li>
                                <a href="/degrees/studies/healthcare" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="healthcare">Healthcare</a>
                            </li>
                            <li>
                                <a href="/degrees/studies/information-systems-and-technology" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="information systems &amp; technology">Information Systems &amp; Technology</a>
                            </li>
                            <li>
                                <a href="/degrees/studies/nursing" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="nursing">Nursing</a>
                            </li>
                            <li>
                                <a href="/degrees/studies/project-management" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="project management">Project Management</a>
                            </li>
                            <li>
                                <a href="/degrees/studies/security-studies" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="security studies">Security Studies</a>
                            </li>
                        </ul>
                    </figure>
                </div>
                <div class="col-20">
                    <a href="/admissions" class="footer-list-heading" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="admissions">Admissions</a>
                    <figure>
                        <ul aria-label="Admissions" role="list">
                            <li role="listitem">
                                <a href="/admissions/student-admissions-process" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="admissions process overview">Admissions Process Overview</a>
                            </li>
                            <li role="listitem">
                                <a href="/admissions/prior-learning-assessment" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="work &amp; life experience credits">Work &amp; Life Experience Credits</a>
                            </li>

                            <li role="listitem">
                                <a href="/admissions/prior-learning-assessment/fast-track" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="ctu fast track™">CTU Fast Track™</a>
                            </li>
                        </ul>
                    </figure>
                    <figure>
                        <ul>
                            <li role="listitem">
                                <a href="/military" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="military students">Military Students</a>
                            </li>

                            <li role="listitem">
                                <a href="/admissions/transfer-students" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="transfer students">Transfer Students</a>
                            </li>

                            <li role="listitem">
                                <a href="/admissions/international-students" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="international students">International Students</a>
                            </li>

                            <li role="listitem">
                                <a href="/admissions/student-admissions-process/re-admission-students" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="re admission students">Re-Admission Students</a>
                            </li>
                        </ul>
                    </figure>
                    <figure>
                        <ul>
                            <li>
                                <a href="http://coloradotech.smartcatalogiq.com/en/current/Catalog" target="_blank" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="university catalog">University Catalog</a>
                            </li>
                            <li role="listitem">
                                <a href="/apply-online" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="apply now">Apply Now</a>
                            </li>
                        </ul>
                    </figure>
                </div>
                <div class="col-20">
                    <a href="/financial-aid" class="footer-list-heading" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="tuition &amp; financial aid">Tuition &amp; Financial Aid</a>
                    <figure>
                        <figcaption>Tuition &amp; Fees</figcaption>
                        <ul>
                            <li>
                                <a href="/documents-resources" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="online tuition">Online Tuition</a>
                            </li>
                            <li>
                                <a href="/media/default/ctu/documents/tuition-and-financial-aid/Tuition-and-Fees-DENAUR-CIV.pdf" target="_blank" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="aurora springs campus tuition">Aurora Campus Tuition</a>
                            </li>
                            <li>
                                <a href="/media/default/ctu/documents/tuition-and-financial-aid/Tuition-and-Fees-COS-CIV.pdf" target="_blank" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="colorado springs campus tuition">Colorado Springs Campus Tuition</a>
                            </li>
                        </ul>
                    </figure>
                    <figure>
                        <figcaption>Financial Assistance</figcaption>
                        <ul>
                            <li>
                                <a href="/financial-aid" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="financial aid process overview">Financial Aid Process Overview</a>
                            </li>
                            <li>
                                <a href="/financial-aid/financing-options/grants-scholarships" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="grants and scholarships">Grants and Scholarships</a>
                            </li>
                            <li>
                                <a href="/financial-aid/financing-options" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="loan options">Loan Options</a>
                            </li>
                            <li>
                                <a href="/financial-aid/financing-options/faqs" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="paying for school faqs">Paying for School FAQs</a>
                            </li>
                            <li>
                                <a href="/military/military-education-benefits" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="military &amp; va">Military &amp; VA</a>
                            </li>
                            <li>
                                <a href="/financial-aid/financing-options/corpalliances" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="corporate assistance">Corporate Assistance</a>
                            </li>
                            <li>
                                <a href="https://www.vibeaccount.com/swc/doc/landing/1ymrphwfyi8ceapg223x" target="_blank" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="bankmobile disclosure">BankMobile Disclosure</a>
                            </li>
                        </ul>
                    </figure>
                    <figure>
                        <figcaption>Tools &amp; Calculators</figcaption>
                        <ul>
                            <li>
                                <a href="/graduation-and-tuition-calculator" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="tuition &amp; graduation date calculator">Tuition &amp; Graduation Date Calculator</a>
                            </li>

                            <li>
                                <a href="https://coloradotech.studentaidcalculator.com/survey.aspx" target="_blank" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="net price calculator">Net Price Calculator</a>
                            </li>
                        </ul>
                    </figure>
                </div>
                <div class="col-20">
                    <a href="/online-degree-programs" class="footer-list-heading" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="online degree programs">Online &amp; Campuses</a>
                    <figure>
                        <ul>
                            <li>
                                <a href="/online-degree-programs" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="online degree programs">Online Degree Programs</a>
                            </li>
                            <li>
                                <a href="/denver" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="ctu aurora">CTU Aurora</a>
                            </li>
                            <li>
                                <a href="/colorado-springs" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="ctu colorado-springs">CTU Colorado Springs</a>
                            </li>
                        </ul>
                    </figure>
                    <figure>
                        <figcaption>Popular CTU Online Degrees</figcaption>
                        <ul>
                            <li>
                                <a href="/degrees/bachelors/computer-science" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="bachelor's in computer science">Bachelor's in Computer Science</a>
                            </li>
                            <li>
                                <a href="/degrees/bachelors/criminal-justice" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="bachelor's in criminal justice">Bachelor's in Criminal Justice</a>
                            </li>
                            <li>
                                <a href="/degrees/bachelors/cyber-security" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="bachelor's in cyber security">Bachelor's in Cyber Security</a>
                            </li>
                            <li>
                                <a href="/degrees/bachelors/business/finance" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="bachelor's in finance">Bachelor's in Finance</a>
                            </li>
                            <li>
                                <a href="/degrees/bachelors/healthcare-management" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="bachelor's in healthcare management">Bachelor's in Healthcare Management</a>
                            </li>
                            <li>
                                <a href="/degrees/bachelors/criminal-justice/homeland-security" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="bachelor's in homeland security">Bachelor's in Homeland Security</a>
                            </li>
                            <li>
                                <a href="/degrees/bachelors/business/human-resource-management" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="bachelor's in human resource management">Bachelor's in Human Resource Management</a>
                            </li>
                            <li>
                                <a href="/degrees/bachelors/business/logistics" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="bachelor's in logistics">Bachelor's in Logistics</a>
                            </li>
                            <li>
                                <a href="/degrees/bachelors/business/marketing" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="bachelor's in marketing">Bachelor's in Marketing</a>
                            </li>
                            <li>
                                <a href="/degrees/bachelors/it/software-systems-engineering" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="bachelor's in software systems engineering">Bachelor's in Software Systems Engineering</a>
                            </li>
                            <li>
                                <a href="/degrees/masters/business/healthcare-management" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="mba in healthcare management">MBA in Healthcare Management</a>
                            </li>
                            <li>
                                <a href="/degrees/masters/computer-science" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="master's in computer science">Master's in Computer Science</a>
                            </li>
                            <li>
                                <a href="/degrees/doctorates/computer-science" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="doctor of computer science">Doctor of Computer Science</a>
                            </li>
                        </ul>
                    </figure>
                </div>
                <div class="col-20">
                    <a href="/about" class="footer-list-heading" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="bbout ctu">About CTU</a>
                    <figure>
                        <ul aria-label="About-CTU" role="list">
                            <li role="listitem">
                                <a href="/about/accreditations" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="accreditation">Accreditation</a>
                            </li>
                            <li role="listitem">
                                <a href="/about/awards" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="awards &amp; recognitions">Awards &amp; Recognitions</a>
                            </li>
                            <li role="listitem">
                                <a href="/career-development" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="career development">Career Development</a>
                            </li>
                            <li role="listitem">
                                <a href="/about/educational-alliances" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="educational alliancesn">Educational Alliances</a>
                            </li>
                            <li role="listitem">
                                <a href="/about/administration" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="administration">Administration</a>
                            </li>
                            <li role="listitem">
                                <a href="/about/mission" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="mission">Mission</a>
                            </li>
                            <li role="listitem">
                                <a href="/reviews" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="ctu reviews">CTU Reviews</a>
                            </li>
                            <li role="listitem">
                                <a href="/financial-aid/student-disclosures" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="student disclosures">Student Disclosures</a>
                            </li>
                            <li role="listitem">
                                <a href="/Media/Default/CTU/documents/disclosures/ctu-graduation-and-retention-rates.pdf" target="_blank" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="graduation and retention rates">Graduation and Retention Rates</a>
                            </li>
                            <li role="listitem">
                                <a href="/financial-aid/financing-options/faqs#16" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="school code">School Code</a>
                            </li>
                        </ul>
                    </figure>
                    <figure>
                        <figcaption>Information For</figcaption>
                        <ul>
                            <li role="listitem">
                                <a href="/alumni" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="alumni">Alumni</a>
                            </li>
                            <li role="listitem">
                                <a href="/current-students" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="current students">Current Students</a>
                            </li>
                            <li role="listitem">
                                <a href="/about/jobs" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="job seekers">Job Seekers</a>
                            </li>
                        </ul>
                    </figure>
                    <figure>
                        <figcaption>Media</figcaption>
                        <ul>
                            <li role="listitem">
                                <a href="/blog" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="blog">Blog</a>
                            </li>
                            <li role="listitem">
                                <a href="/contact" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="contact us">Contact Us</a>
                            </li>
                        </ul>
                    </figure>
                    <a href="https://careered.qualtrics.com/jfe/form/SV_0oXJZRfVnW1i0gR" target="_blank" class="footer-list-heading" data-event-category="navigation" data-event-action="bottom navigation click" data-event-label="feedback">Feedback</a>
                    <figure>
                        <ul>
                            <li class="footer-icons sociallinks mt30" role="listitem">
                                <a href="https://www.facebook.com/coloradotech" target="_blank" aria-label="Click to Visit CTU Facebook Page" data-event-category="visitor action" data-event-action="outbound link" data-event-label="https://www.facebook.com/coloradotech"><span class="ctu-icons i-facebook"></span>
                                </a>
                                <a href="http://www.linkedin.com/company/colorado-technical-university" target="_blank" aria-label="Click to Visit CTU LinkedIn Page" data-event-category="visitor action" data-event-action="outbound link" data-event-label="http://www.linkedin.com/company/colorado-technical-university"><span class="ctu-icons i-linkedin"></span>
                                </a>
                                <a href="https://twitter.com/ctuniversity" target="_blank" aria-label="Click to Visit CTU Twitter Page" data-event-category="visitor action" data-event-action="outbound link" data-event-label="https://twitter.com/ctuniversity"><span class="ctu-icons i-twitter"></span>
                                </a>
                                <a href="https://www.youtube.com/user/ctuniversity" target="_blank" aria-label="Click to Watch CTU Youtube Video" data-event-category="visitor action" data-event-action="outbound link" data-event-label="https://www.youtube.com/user/ctuniversity"><span class="ctu-icons i-youTube"></span>
                                </a>
                            </li>
                        </ul>
                    </figure>
                </div>
                <div class="footer-legal">
                    <p class="ctudisclaimer" style="padding-left:0; width:calc(100% - 55px); text-align: left;">
                        Copyright ©  2019 Colorado Technical University (CTU). All rights reserved. No information may be duplicated without CTU's permission. The CTU logo is a registered trademark of Career Education Corporation. CTU cannot guarantee employment or salary. Not all programs are available to residents of all states. CTU does not do business in the Commonwealth of Massachusetts or the European Union and does not accept applications from residents of these jurisdictions seeking to enroll at the University. Programs vary by location and modality; see the University Catalog for details. Financial aid is available for those who qualify. See the Accreditation &amp; Licensure section for information on the agencies that approve and regulate the school's programs, including relevant complaint procedures <a href="/about/accreditations" style="color: #c00009;" title="Click here To Visit Accreditations Page" data-event-category="navigation" data-event-action="inpage link" data-event-label="accreditation info"> Visit Accreditations Page</a>.  For important information about the educational debt, earnings, and completion rates of students who attended these programs and other important disclosures, click the links below.
                    </p>
                    <p class="eacdisclaimer" style="text-align: left;">
Copyright © 2019 CTU.All rights reserved. No information may be duplicated without CTU's permission. The CTU logo is a registered trademark of Career Education Corporation. University grants or scholarships are based on established criteria as published in the university's catalog and are awarded after verification that the conditions of eligibility have been met. Financial aid is available for those who qualify. Not all programs are eligible for possible 30 % reduction in time and money. Courses eligible subject to change. Not all programs are available to residents of all states. Degree programs and concentrations vary by campus and are subject to change. CTU cannot guarantee employment or salary. Not all credits eligible to transfer. See the University Catalog regarding CTU's transfer credit policies. Find employment rates, financial obligations and other disclosures at <a href="//www.coloradotech.edu/financial-aid/student-disclosures" target="_blank" data-event-category="navigation" data-event-action="inpage link" data-event-label="student disclosures">www.coloradotech.edu/financial-aid/student-disclosures</a>. 4435 N Chestnut Street | Colorado Springs, CO 80907.
                    </p>
                </div>
                <div class="footer-legal-links">
                    <a href="/privacy" data-event-category="footer" data-event-action="click" data-event-label="privacy policy">Privacy Policy</a>
                    <a href="/website-accessibility" target="_blank" data-event-category="footer" data-event-action="click" data-event-label="website accessibility">Website Accessibility</a>
                    <a href="/terms-and-conditions" data-event-category="footer" data-event-action="click" data-event-label="terms of use">Terms of Use</a>
                    <a href="/about-our-ads" data-event-category="footer" data-event-action="click" data-event-label="about our ads">About Our Ads</a>
                    <a href="/financial-aid/student-disclosures" data-event-category="footer" data-event-action="click" data-event-label="student disclosures">Student Disclosures</a>
                    <a href="/sitemap" data-event-category="footer" data-event-action="click" data-event-label="sitemap">Sitemap</a>
                    <a href="/financial-aid/campus-security-reports" data-event-category="footer" data-event-action="click" data-event-label="student safety">Student Safety</a>
                    <a href="/contact" data-event-category="footer" data-event-action="click" data-event-label="contact us">Contact Us</a>
                    <span itemscope="" itemtype="http://schema.org/CollegeOrUniversity">
                        <a itemprop="url" href="/" class="external" data-event-category="footer" data-event-action="click" data-event-label="colorado technical university"><span itemprop="name">Colorado Technical University</span>
                        </a>
                        <!-- <span itemprop="telephone">&nbsp;(855) 230-0555</span> -->
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>


</div>
        </div>


</div>
<!--cached-->
    <script src="/Modules/CEC.Base/scripts/dev/DegreePreSelections.min.js" type="text/javascript"></script>
<script src="/Modules/CEC.Resources/scripts/modernizr.min.js" type="text/javascript"></script>
<script src="/Modules/CEC.Resources/scripts/bootstrap.min.js" type="text/javascript"></script>
<script src="/Modules/Orchard.Resources/scripts/jquery.cookie.min.js" type="text/javascript"></script>
<script src="/Themes/ctu-master/Scripts/Global/all.min.js" type="text/javascript"></script>
<script src="/Modules/CEC.Base/scripts/dev/DataLayer.min.js" type="text/javascript"></script>
<script src="/Modules/CEC.Base/scripts/dev/LeadAttribution.min.js" type="text/javascript"></script>

<script>
function runTest142(formIdVar) {
 formIdVar = "#" + formIdVar;
 if ($('.form-test142').length > 0 && $('.nursing-degreelevel-wrap').length > 0) {
  var testHtml = $('.nursing-degreelevel-wrap', formIdVar).html();
  $('.nursing-degreelevel-wrap', formIdVar).detach();

  if ($('.leadform.side-form').length > 0) {
   $('.text-fields', formIdVar).after('<div class="nursing-degreelevel-wrap row">' + testHtml + '</div>');
  } else {
   $('.zip', formIdVar).after('<div class="nursing-degreelevel-wrap row">' + testHtml + '</div>');
  }
 }
}
function test142Setup() {
 var formIdVara = [];
 $.each($(".dynamic-form form"),
  function(i, value) {
   formIdVara.push($(value).attr("id"));
  });
 $.each(formIdVara, function(i, value) {
   if (i < 1) {
    var objc = {};
    objc.formId = $('.form-test142 #' + value).data("objTest142"); // setting to specify the form you are working with
    objc.isVisible =
     true; // setting to specify if the nursing radio buttons are visible on load, "true" will make them visible on page load
    objc.hideDegree =
     false; //setting for hiding degree on page load or not, "true" will enabled hiding degree level radio buttons on load
    objc.hideDisabled =
     true; //setting for hiding or not degree level option if nursing is on, "true" will enable hiding
    objc.greyDisabled =
     true; //setting for making disabled radio buttons grey and not active, "true" will enable greying out
    runTest142(value);
    CEC.nursingRadio.Init(objc);
   } else {
    var objd = {};
    objd.formId = $('.form-test142 #' + value).data("objTest142"); // setting to specify the form you are working with
    objd.isVisible =
     true; // setting to specify if the nursing radio buttons are visible on load, "true" will make them visible on page load
    objd.hideDegree =
     false; //setting for hiding degree on page load or not, "true" will enabled hiding degree level radio buttons on load
    objd.hideDisabled =
     true; //setting for hiding or not degree level option if nursing is on, "true" will enable hiding
    objd.greyDisabled =
     true; //setting for making disabled radio buttons grey and not active, "true" will enable greying out
    runTest142(value);
    CEC.nursingRadioOv.Init(objd);
   }
  });
}
</script><script>
    var androiddevice;
    androiddevice = (/android/i.test(navigator.userAgent.toLowerCase()));
    var iosdevice;
    iosdevice = (/iphone|ipad|ipod/i.test(navigator.userAgent.toLowerCase()));
    var ar = new Array(37, 38, 39, 40);
    var disableArrowKeys = function(e) {
        if ($.inArray(e.keyCode, ar) >= 0) {
            e.preventDefault();
        }
    };
    var del = new Array(8);
    var disableBackspaceKeys = function(e) {
        if ($.inArray(e.keyCode, del) >= 0) {
            e.preventDefault();
        }
    };

    function detectIE() {
        var ua = window.navigator.userAgent;

        var msie = ua.indexOf('MSIE ');
        if (msie > 0) {
            // IE 10 or older => return version number
            return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);
        }

        var trident = ua.indexOf('Trident/');
        if (trident > 0) {
            // IE 11 => return version number
            var rv = ua.indexOf('rv:');
            return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);
        }

        var edge = ua.indexOf('Edge/');
        if (edge > 0) {
            // Edge (IE 12+) => return version number
            return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);
        }

        // other browser
        return false;
    };

    function setSelectedText(elem, selStart, selEnd) {
        if (elem.setSelectionRange) { //standard
            elem.focus();
            elem.setSelectionRange(selStart, selEnd);
        }
    };

    function validateNumCharacter(e) {
        return (/\d/.test(e) || /[A-Za-z]/.test(e));
    };

    document.onkeyup = function(evt) {
        var evt = evt || window.event, //window.event for IE
            el = evt.target || evt.srcElement, //srcElement for IE
            nn = el.nodeName.toLowerCase(),
            kc = evt.which || evt.keyCode; //keyCode for IE

        if (kc == 9 /*tab key*/ && nn == 'input' && (el.id == 'Phone' || el.id == 'overlayFormPhone' || el.id == 'inputPhone')) {
            //an input of type text has been tabbed into,
            //set it's text selection to the end of it:
            //console.log("Yep, thats phone input");
            //console.log("phone number value:"+el.value);
            if (el.value) {
                //setSelectedText(el, 1, el.value.length+1);
                //console.log("Phone input has value");
                //console.log(el.value);
                if (!validateNumCharacter(el.value) && detectIE()) {
                    setSelectedText(el, 1, 1);
                    //console.log("using IE, with no value in the input, set position to 1,1")
                }
            } else {
                setSelectedText(el, 1, 1);
                //console.log("set cursor to 1");
            }

        }
    };



    //IOS fix for cursor position on click

    //$('#requestFormPhoneLabel').text("Doriya833!!");

    $('#Phone, #overlayFormPhone, #inputPhone').on('click touchstart', function(event) {

        if (iosdevice) {

            $(this).addClass("iosstyle");
            var value = $(this).val();
            if ((!value) || value == '' || value == '(___) ___-____') {

                event.preventDefault();
                $(this).focus();
                $(this).prop('selectionStart', 1);
                $(this).prop('selectionEnd', 1);
            }
        }
    });


    $('#Phone, #overlayFormPhone, #inputPhone').on('blur change keyup', function() {
        //console.log("b/c/keyupevent in desktop");
        var value = $(this).val();

        if (detectIE()) {
            //console.log("IE detected in blur/change/keyup");
            if (value && value != '(___) ___-____') {
                //console.log("IE has value, unlock");
                $(this).unbind('keydown', disableArrowKeys);
            } else {
                //console.log("IE lock arrow");
                $(this).keydown(disableArrowKeys);
            }

        } else {
            if (value) {
                //console.log("has value");
                $(this).unbind('keydown', disableArrowKeys);
            } else {
                $(this).keydown(disableArrowKeys);
            }
        }

    });

    $('#Phone, #overlayFormPhone, #inputPhone').on('focus', function() {
        //console.log("focus on!");  
        var value = $(this).val();
        if (!value) {
            //console.log("value is null");
            $(this).keydown(disableArrowKeys);
        }
        if (detectIE()) {
            //console.log("IE detected, value =" + value);
            if (value == '(___) ___-____') {
                //console.log("value=()__-__");
                $(this).keydown(disableArrowKeys);
            }
        }
    });

    //Change the cursor position when came across the ")" and "-"
    //temp position, refined version

    var tempFirstnum;
    if (androiddevice) {
        //console.log('android mobile device');

        $("#Phone, #overlayFormPhone, #inputPhone").bind("change paste keyup", function() {
            //console.log($(this).val()); 
            var tempPos;
            var curPos = $(this).prop('selectionStart');

            //console.log("Current position = " + curPos);
            tempPos = curPos;
            $(this).on('keydown', function() {
                curPos = $(this).prop('selectionStart');
                tempPos = curPos;

                var key = event.keyCode || event.charCode;
                //$('#requestFormEmailLabel').text("keydown,cur/temp = " + curPos +" and "+ tempPos + "Keynumber =" + key);
                if (key == 229 || key == 8) {
                    //console.log("Backspace key pressed");
                    if (tempPos == 6) {
                        //console.log("Cursor position at 5/6");
                        $(this).prop('selectionStart', 4);
                        $(this).prop('selectionEnd', 4);
                    } else if (tempPos == 10) {
                        //$('#requestFormPhoneLabel').text("jump, cur/temp = " + curPos +" and "+ tempPos);
                        $(this).prop('selectionStart', tempPos - 1);
                        $(this).prop('selectionEnd', tempPos - 1);
                    } else {
                        //$('#requestFormPhoneLabel').text("normal removal,cur/temp = " + curPos +" and "+ tempPos);
                        //$(this).prop('selectionStart', tempPos-1);
                        //$(this).prop('selectionEnd', tempPos-1);
                    }
                    curPos = $(this).prop('selectionStart');
                    //$('#requestFormEmailLabel').text("after removal, cur/temp = " + curPos +" and "+ tempPos);
                    tempPos = curPos;
                }

            });
        });
    } else {
        var tempPos;
        var curPos;

        //console.log("Current position = " + curPos);
        // tempPos = curPos;
        $("#Phone, #overlayFormPhone, #inputPhone").on('keydown', function(event) {
            curPos = $(this).prop('selectionStart');
            tempPos = curPos;
            var key = event.keyCode || event.charCode;
            // console.log("Key pressed code:" + key);
            // console.log("current cursor position:" + $(this).prop('selectionStart'));
            if (key == 8) {
                //console.log("Backspace key pressed");
                if (tempPos == 6 || tempPos == 5) {
                    //console.log("Cursor position at 5/6");
                    $(this).prop('selectionStart', 4);
                    $(this).prop('selectionEnd', 4);
                } else if (tempPos == 10) {
                    $(this).prop('selectionStart', tempPos - 1);
                    $(this).prop('selectionEnd', tempPos - 1);
                } else if (tempPos == 1) {
                    event.preventDefault();
                    $(this).prop('selectionStart', 2);
                    $(this).prop('selectionEnd', 2);
                    $(this).keydown(disableBackspaceKeys);
                    //event.preventDefault();
                    var tempValue = $(this).val();
                    tempFirstnum = tempValue.charAt(1);
                    // console.log("tempPos = 1,  TempValue = " + tempValue + "Key code = " + event.keyCode + "tempFirstnum = " + tempFirstnum);
                    return false;
                } else {
                    //$(this).prop('selectionStart', tempPos - 1);
                    //$(this).prop('selectionEnd', tempPos - 1);
                }
                //return false;
            }

        });
    }

    var tempupPos;
    var curupPos;
    $("#Phone, #overlayFormPhone, #inputPhone").on('keyup', function(event) {
        curupPos = $(this).prop('selectionStart');
        tempupPos = curupPos;
        var key = event.keyCode || event.charCode;
        // console.log("Key pressed code:" + key);
        // console.log("current cursor position:" + $(this).prop('selectionStart'));
        if (!detectIE()) {
            if (key == 8 && (!androiddevice)) {
                if (tempupPos == 1) {
                    //console.log("HeyHeyHey, key up pos1 value = " + $(this).val());
                    if ($(this).val() != "") {
                        var test = $(this).val();
                        //if test only contains 1
                        if (test.replace(/[^0,2-9]/g, '')) {
                            $(this).val(test);
                            //$(this).val(test.replace(/[^0,2-9]/g, ''));
                            //console.log("Value now = " + $(this).val());
                        } else {
                            //console.log("rest of the value only contains 1");
                            $(this).val(test);
                            $(this).blur();
                            $(this).focus();
                            //$(this).focus();
                        }


                        $(this).prop('selectionStart', 1);
                        $(this).prop('selectionEnd', 1);
                    } else {
                        //console.log('empty value');
                    }

                }
            }
        } else {
            if (key == 8) {
                if (tempupPos == 1) {
                    // console.log("IE:HeyHeyHey, key up pos1 value = " + $(this).val());
                    //console.log("IE:HeyHeyHey, key up pos1 value = " + $(this).val());
                    if ($(this).val() != "") {
                        var test = $(this).val();
                        var test2 = test.replace(/[^0-9]/g, '');
                        //console.log("Test2 = "+ test2);

                        //if test2 only contains 1
                        if (test2.replace(/[^0,2-9]/g, '')) {
                            //$(this).val(test);
                            //    $(this).val(test.replace(/[^0,2-9]/g, ''));
                            //    console.log("Value now = " + $(this).val());
                            //assign value test2
                            $(this).val(test2);
                            $(this).inputmask("(*99) 999-9999", {
                                definitions: {
                                    '#': {
                                        validator: "[0-9\uFF11-\uFF19A-Za-z\u0410-\u044F\u0401\u0451\u00C0-\u00FF\u00B5]",
                                        cardinality: 1
                                    },
                                    '*': {
                                        validator: "[0,2-9,A-Za-z]",
                                        cardinality: 1
                                    }
                                }
                            });
                        } else {
                            //console.log("rest of the value only contains 1");
                            $(this).val(test2);
                            $(this).val(test2);
                            $(this).inputmask("(*99) 999-9999", {
                                definitions: {
                                    '#': {
                                        validator: "[0-9\uFF11-\uFF19A-Za-z\u0410-\u044F\u0401\u0451\u00C0-\u00FF\u00B5]",
                                        cardinality: 1
                                    },
                                    '*': {
                                        validator: "[0,2-9,A-Za-z]",
                                        cardinality: 1
                                    }
                                }
                            });
                            $(this).blur();
                            $(this).focus();
                        }


                        $(this).prop('selectionStart', 1);
                        $(this).prop('selectionEnd', 1);
                    } else {
                       // console.log('IE:empty value');
                    }

                }
            }
        }


    });

    var phoneNumVal;
    $('#Phone, #overlayFormPhone, #inputPhone').on('keydown', function() {
        phoneNumVal = $(this).val();
    });
    var tPos;
    var cPos;
    //Fix an issue about first digit input 
    $("#Phone, #overlayFormPhone, #inputPhone").on('keyup', function(event) {
        cPos = $(this).prop('selectionStart');
        tPos = cPos;
        var key = event.keyCode || event.charCode;
        var tempvalue = $(this).val();
        if ((key >= 48 && key <= 57) || (key >= 96 && key <= 105)) {
            //console.log("Number key pressed");
            if (tPos == 2) {
                var firstDigit = tempvalue.replace(/[^0-9]/g, '').charAt(0);

                var tempValueFix = firstDigit + phoneNumVal.replace(/[^0-9]/g, '');
                if (detectIE()) {
                    $(this).val(tempValueFix);
                    $(this).inputmask("(*99) 999-9999", {
                        definitions: {
                            '#': {
                                validator: "[0-9\uFF11-\uFF19A-Za-z\u0410-\u044F\u0401\u0451\u00C0-\u00FF\u00B5]",
                                cardinality: 1
                            },
                            '*': {
                                validator: "[0,2-9,A-Za-z]",
                                cardinality: 1
                            }
                        }
                    });
                } else {
                    $(this).val(tempValueFix);
                }
                $(this).prop('selectionStart', 2);
                $(this).prop('selectionEnd', 2);
            }
        }
    });
    //Fix an issue for IE: tab key switch between input will trigger error message
    if (detectIE()) {
        var startVal;
        var errState;
        var validState;
        var endVal;
        var preErrState = false; // true = has error class
        $('#Phone, #overlayFormPhone, #inputPhone').on('focus', function() {
            startVal = $(this).val();
            //console.log("start val =" + startVal);
            errState = $(this).hasClass('input-validation-error'); //true = has error class
            //console.log("errState : " + errState);
            validState = $(this).hasClass('valid'); //true = has valid class
            //console.log("ValidState : " + validState);
            if (startVal == "(___) ___-____" && !($(this).hasClass('input-validation-error'))) {


            };
            //console.log("preErrState : " + preErrState);
            if ((!preErrState)) {

                //console.log("Focus, remove error class");
                $(this).closest('div').find('span').addClass("ie-hidden-style");
                $(this).removeClass('input-validation-error');
                $(this).closest('div').find('span').removeClass("field-validation-error").addClass("field-validation-valid");
                //find cousin element span, remove class add class 
                //$(this).closest('div').find('span').find('span').html("");
                $(this).closest('div').find('span').html("");
            };

        });
        $('#Phone, #overlayFormPhone, #inputPhone').on('blur', function() {
            endVal = $(this).val();
            //console.log("End val =" + endVal);
            //console.log("Inside of the blur event! Start val =" + startVal + " End val="+ endVal);
            if (startVal == "" && endVal == "(___) ___-____" && !errState) {
                //console.log("End val is empty, remove the error message" );
                if (validState) {
                    //console.log("remove error class add valid");
                    $(this).removeClass('input-validation-error').addClass('valid');
                } else {
                    //console.log("remove error class");
                    $(this).removeClass('input-validation-error');
                }

                $(this).closest('div').find('span').removeClass("field-validation-error").addClass("field-validation-valid");
                //find cousin element span, remove class add class 
                //$(this).closest('div').find('span').find('span').html("");
                $(this).closest('div').find('span').html("");
            }
            if (endVal == "(___) ___-____" && errState) {
                $(this).closest('div').find('span').find('span').html("Phone required");
            }
            if ($(this).hasClass('input-validation-error')) {
                preErrState = true;
            } else {
                preErrState = false;
            }
            $(this).closest('div').find('span').removeClass("ie-hidden-style");
        });


    };
//Fix auto fill issue for Chrome/FF
$('#Phone, #overlayFormPhone, #inputPhone').on('input', function() {
    if (/chrom(e|ium)/.test(navigator.userAgent.toLowerCase())) {
       // console.log('Hii2, I am chrome');

        var value = $(this).val();
        //console.log("Input Value = " + value);
        $(this).val(value);
    }
    if (navigator.userAgent.toLowerCase().indexOf('firefox') > -1) {
        //FF
       // console.log("FF");
        var value = $(this).val();
        //console.log("Input Value = " + value);
        $(this).val(value);
    }
    if (navigator.userAgent.indexOf('Safari') != -1 && navigator.userAgent.indexOf('Chrome') == -1)  { 
   //i.e. apply safari class via jquery
        var value = $(this).val();
        //console.log("Input Value = " + value);
        $(this).val(value);
    }
});

    $(window).load(function() {
        var phones = [{
            "mask": "(*##) ###-####"
        }];
        $('#Phone, #overlayFormPhone, #inputPhone').inputmask({
            mask: phones,
            greedy: true,
            definitions: {
                '#': {
                    validator: "[0-9\uFF11-\uFF19A-Za-z\u0410-\u044F\u0401\u0451\u00C0-\u00FF\u00B5]",
                    cardinality: 1
                },
                '*': {
                    validator: "[0,2-9,A-Za-z]",
                    cardinality: 1
                }
            }
        });
    });


    $(document).ready(function() {
        /**
         * @license Input Mask plugin for jquery
         * http://github.com/RobinHerbots/jquery.inputmask
         * Copyright (c) 2010 - 2013 Robin Herbots
         * Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
         * Version: 0.0.0
         */

        (function($) {
            if ($.fn.inputmask === undefined) {
                $.inputmask = {
                    //options default
                    defaults: {
                        placeholder: "_",
                        optionalmarker: {
                            start: "[",
                            end: "]"
                        },
                        quantifiermarker: {
                            start: "{",
                            end: "}"
                        },
                        groupmarker: {
                            start: "(",
                            end: ")"
                        },
                        escapeChar: "\\",
                        mask: null,
                        oncomplete: $.noop, //executes when the mask is complete
                        onincomplete: $.noop, //executes when the mask is incomplete and focus is lost
                        oncleared: $.noop, //executes when the mask is cleared
                        repeat: 0, //repetitions of the mask: * ~ forever, otherwise specify an integer
                        greedy: true, //true: allocated buffer for the mask and repetitions - false: allocate only if needed
                        autoUnmask: false, //automatically unmask when retrieving the value with $.fn.val or value if the browser supports __lookupGetter__ or getOwnPropertyDescriptor
                        clearMaskOnLostFocus: true,
                        insertMode: true, //insert the input or overwrite the input
                        clearIncomplete: false, //clear the incomplete input on blur
                        aliases: {}, //aliases definitions => see jquery.inputmask.extensions.js
                        onKeyUp: $.noop, //override to implement autocomplete on certain keys for example
                        onKeyDown: $.noop, //override to implement autocomplete on certain keys for example
                        showMaskOnFocus: true, //show the mask-placeholder when the input has focus
                        showMaskOnHover: false, //show the mask-placeholder when hovering the empty input
                        onKeyValidation: $.noop, //executes on every key-press with the result of isValid. Params: result, opts
                        skipOptionalPartCharacter: " ", //a character which can be used to skip an optional part of a mask
                        showTooltip: false, //show the activemask as tooltip
                        numericInput: false, //numericInput input direction style (input shifts to the left while holding the caret position)
                        //numeric basic properties
                        isNumeric: false, //enable numeric features
                        radixPoint: "", //".", // | ","
                        skipRadixDance: false, //disable radixpoint caret positioning
                        rightAlignNumerics: true, //align numerics to the right
                        //numeric basic properties
                        definitions: {
                            '9': {
                                validator: "[0-9]",
                                cardinality: 1
                            },
                            'a': {
                                validator: "[A-Za-z\u0410-\u044F\u0401\u0451]",
                                cardinality: 1
                            },
                            '*': {
                                validator: "[A-Za-z\u0410-\u044F\u0401\u04510-9]",
                                cardinality: 1
                            }
                        },
                        keyCode: {
                            ALT: 18,
                            BACKSPACE: 8,
                            CAPS_LOCK: 20,
                            COMMA: 188,
                            COMMAND: 91,
                            COMMAND_LEFT: 91,
                            COMMAND_RIGHT: 93,
                            CONTROL: 17,
                            DELETE: 46,
                            DOWN: 40,
                            END: 35,
                            ENTER: 13,
                            ESCAPE: 27,
                            HOME: 36,
                            INSERT: 45,
                            LEFT: 37,
                            MENU: 93,
                            NUMPAD_ADD: 107,
                            NUMPAD_DECIMAL: 110,
                            NUMPAD_DIVIDE: 111,
                            NUMPAD_ENTER: 108,
                            NUMPAD_MULTIPLY: 106,
                            NUMPAD_SUBTRACT: 109,
                            PAGE_DOWN: 34,
                            PAGE_UP: 33,
                            PERIOD: 190,
                            RIGHT: 39,
                            SHIFT: 16,
                            SPACE: 32,
                            TAB: 9,
                            UP: 38,
                            WINDOWS: 91
                        },
                        //specify keycodes which should not be considered in the keypress event, otherwise the preventDefault will stop their default behavior especially in FF
                        ignorables: [8, 9, 13, 19, 27, 33, 34, 35, 36, 37, 38, 39, 40, 45, 46, 93, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123],
                        getMaskLength: function(buffer, greedy, repeat, currentBuffer, opts) {
                            var calculatedLength = buffer.length;
                            if (!greedy) {
                                if (repeat == "*") {
                                    calculatedLength = currentBuffer.length + 1;
                                } else if (repeat > 1) {
                                    calculatedLength += (buffer.length * (repeat - 1));
                                }
                            }
                            return calculatedLength;
                        }
                    },
                    escapeRegex: function(str) {
                        var specials = ['/', '.', '*', '+', '?', '|', '(', ')', '[', ']', '{', '}', '\\'];
                        return str.replace(new RegExp('(\\' + specials.join('|\\') + ')', 'gim'), '\\$1');
                    }
                };

                $.fn.inputmask = function(fn, options) {
                    var opts = $.extend(true, {}, $.inputmask.defaults, options),
                        msie10 = navigator.userAgent.match(new RegExp("msie 10", "i")) !== null,
                        iphone = navigator.userAgent.match(new RegExp("iphone", "i")) !== null,
                        android = navigator.userAgent.match(new RegExp("android.*safari.*", "i")) !== null,
                        androidchrome = navigator.userAgent.match(new RegExp("android.*chrome.*", "i")) !== null,
                        pasteEvent = isInputEventSupported('paste') && !msie10 ? 'paste' : isInputEventSupported('input') ? 'input' : "propertychange",
                        masksets,
                        activeMasksetIndex = 0;

                    if (typeof fn === "string") {
                        switch (fn) {
                            case "mask":
                                //resolve possible aliases given by options
                                resolveAlias(opts.alias, options);
                                masksets = generateMaskSets();
                                if (masksets.length == 0) {
                                    return this;
                                }

                                return this.each(function() {
                                    maskScope($.extend(true, {}, masksets), 0).mask(this);
                                });
                            case "unmaskedvalue":
                                var $input = $(this),
                                    input = this;
                                if ($input.data('_inputmask')) {
                                    masksets = $input.data('_inputmask')['masksets'];
                                    activeMasksetIndex = $input.data('_inputmask')['activeMasksetIndex'];
                                    opts = $input.data('_inputmask')['opts'];
                                    return maskScope(masksets, activeMasksetIndex).unmaskedvalue($input);
                                } else return $input.val();
                            case "remove":
                                return this.each(function() {
                                    var $input = $(this),
                                        input = this;
                                    if ($input.data('_inputmask')) {
                                        masksets = $input.data('_inputmask')['masksets'];
                                        activeMasksetIndex = $input.data('_inputmask')['activeMasksetIndex'];
                                        opts = $input.data('_inputmask')['opts'];
                                        //writeout the unmaskedvalue
                                        input._valueSet(maskScope(masksets, activeMasksetIndex).unmaskedvalue($input, true));
                                        //clear data
                                        $input.removeData('_inputmask');
                                        //unbind all events
                                        $input.unbind(".inputmask");
                                        $input.removeClass('focus.inputmask');
                                        //restore the value property
                                        var valueProperty;
                                        if (Object.getOwnPropertyDescriptor)
                                            valueProperty = Object.getOwnPropertyDescriptor(input, "value");
                                        if (valueProperty && valueProperty.get) {
                                            if (input._valueGet) {
                                                Object.defineProperty(input, "value", {
                                                    get: input._valueGet,
                                                    set: input._valueSet
                                                });
                                            }
                                        } else if (document.__lookupGetter__ && input.__lookupGetter__("value")) {
                                            if (input._valueGet) {
                                                input.__defineGetter__("value", input._valueGet);
                                                input.__defineSetter__("value", input._valueSet);
                                            }
                                        }
                                        try { //try catch needed for IE7 as it does not supports deleting fns
                                            delete input._valueGet;
                                            delete input._valueSet;
                                        } catch (e) {
                                            input._valueGet = undefined;
                                            input._valueSet = undefined;

                                        }
                                    }
                                });
                                break;
                            case "getemptymask": //return the default (empty) mask value, usefull for setting the default value in validation
                                if (this.data('_inputmask')) {
                                    masksets = this.data('_inputmask')['masksets'];
                                    activeMasksetIndex = this.data('_inputmask')['activeMasksetIndex'];
                                    return masksets[activeMasksetIndex]['_buffer'].join('');
                                } else return "";
                            case "hasMaskedValue": //check wheter the returned value is masked or not; currently only works reliable when using jquery.val fn to retrieve the value 
                                return this.data('_inputmask') ? !this.data('_inputmask')['opts'].autoUnmask : false;
                            case "isComplete":
                                masksets = this.data('_inputmask')['masksets'];
                                activeMasksetIndex = this.data('_inputmask')['activeMasksetIndex'];
                                opts = this.data('_inputmask')['opts'];
                                return maskScope(masksets, activeMasksetIndex).isComplete(this[0]._valueGet().split(''));
                            case "getmetadata": //return mask metadata if exists
                                if (this.data('_inputmask')) {
                                    masksets = this.data('_inputmask')['masksets'];
                                    activeMasksetIndex = this.data('_inputmask')['activeMasksetIndex'];
                                    return masksets[activeMasksetIndex]['metadata'];
                                } else return undefined;
                            default:
                                //check if the fn is an alias
                                if (!resolveAlias(fn, options)) {
                                    //maybe fn is a mask so we try
                                    //set mask
                                    opts.mask = fn;
                                }
                                masksets = generateMaskSets();
                                if (masksets.length == 0) {
                                    return this;
                                }
                                return this.each(function() {
                                    maskScope($.extend(true, {}, masksets), activeMasksetIndex).mask(this);
                                });

                                break;
                        }
                    } else if (typeof fn == "object") {
                        opts = $.extend(true, {}, $.inputmask.defaults, fn);

                        resolveAlias(opts.alias, fn); //resolve aliases
                        masksets = generateMaskSets();
                        if (masksets.length == 0) {
                            return this;
                        }
                        return this.each(function() {
                            maskScope($.extend(true, {}, masksets), activeMasksetIndex).mask(this);
                        });
                    } else if (fn == undefined) {
                        //look for data-inputmask atribute - the attribute should only contain optipns
                        return this.each(function() {
                            var attrOptions = $(this).attr("data-inputmask");
                            if (attrOptions && attrOptions != "") {
                                try {
                                    attrOptions = attrOptions.replace(new RegExp("'", "g"), '"');
                                    var dataoptions = $.parseJSON("{" + attrOptions + "}");
                                    $.extend(true, dataoptions, options);
                                    opts = $.extend(true, {}, $.inputmask.defaults, dataoptions);
                                    resolveAlias(opts.alias, dataoptions);
                                    opts.alias = undefined;
                                    $(this).inputmask(opts);
                                } catch (ex) {} //need a more relax parseJSON
                            }
                        });
                    }

                    //helper functions
                    function isInputEventSupported(eventName) {
                        var el = document.createElement('input'),
                            eventName = 'on' + eventName,
                            isSupported = (eventName in el);
                        if (!isSupported) {
                            el.setAttribute(eventName, 'return;');
                            isSupported = typeof el[eventName] == 'function';
                        }
                        el = null;
                        return isSupported;
                    }

                    function resolveAlias(aliasStr, options) {
                        var aliasDefinition = opts.aliases[aliasStr];
                        if (aliasDefinition) {
                            if (aliasDefinition.alias) resolveAlias(aliasDefinition.alias); //alias is another alias
                            $.extend(true, opts, aliasDefinition); //merge alias definition in the options
                            $.extend(true, opts, options); //reapply extra given options
                            return true;
                        }
                        return false;
                    }

                    function getMaskTemplate(mask) {
                        if (opts.numericInput) {
                            mask = mask.split('').reverse().join('');
                        }
                        var escaped = false,
                            outCount = 0,
                            greedy = opts.greedy,
                            repeat = opts.repeat;
                        if (repeat == "*") greedy = false;
                        //if (greedy == true && opts.placeholder == "") opts.placeholder = " ";
                        if (mask.length == 1 && greedy == false && repeat != 0) {
                            opts.placeholder = "";
                        } //hide placeholder with single non-greedy mask
                        var singleMask = $.map(mask.split(""), function(element, index) {
                            var outElem = [];
                            if (element == opts.escapeChar) {
                                escaped = true;
                            } else if ((element != opts.optionalmarker.start && element != opts.optionalmarker.end) || escaped) {
                                var maskdef = opts.definitions[element];
                                if (maskdef && !escaped) {
                                    for (var i = 0; i < maskdef.cardinality; i++) {
                                        outElem.push(getPlaceHolder(outCount + i));
                                    }
                                } else {
                                    outElem.push(element);
                                    escaped = false;
                                }
                                outCount += outElem.length;
                                return outElem;
                            }
                        });

                        //allocate repetitions
                        var repeatedMask = singleMask.slice();
                        for (var i = 1; i < repeat && greedy; i++) {
                            repeatedMask = repeatedMask.concat(singleMask.slice());
                        }

                        return {
                            "mask": repeatedMask,
                            "repeat": repeat,
                            "greedy": greedy
                        };
                    }
                    //test definition => {fn: RegExp/function, cardinality: int, optionality: bool, newBlockMarker: bool, offset: int, casing: null/upper/lower, def: definitionSymbol}
                    function getTestingChain(mask) {
                        if (opts.numericInput) {
                            mask = mask.split('').reverse().join('');
                        }
                        var isOptional = false,
                            escaped = false;
                        var newBlockMarker = false; //indicates wheter the begin/ending of a block should be indicated

                        return $.map(mask.split(""), function(element, index) {
                            var outElem = [];

                            if (element == opts.escapeChar) {
                                escaped = true;
                            } else if (element == opts.optionalmarker.start && !escaped) {
                                isOptional = true;
                                newBlockMarker = true;
                            } else if (element == opts.optionalmarker.end && !escaped) {
                                isOptional = false;
                                newBlockMarker = true;
                            } else {
                                var maskdef = opts.definitions[element];
                                if (maskdef && !escaped) {
                                    var prevalidators = maskdef["prevalidator"],
                                        prevalidatorsL = prevalidators ? prevalidators.length : 0;
                                    for (var i = 1; i < maskdef.cardinality; i++) {
                                        var prevalidator = prevalidatorsL >= i ? prevalidators[i - 1] : [],
                                            validator = prevalidator["validator"],
                                            cardinality = prevalidator["cardinality"];
                                        outElem.push({
                                            fn: validator ? typeof validator == 'string' ? new RegExp(validator) : new function() {
                                                this.test = validator;
                                            } : new RegExp("."),
                                            cardinality: cardinality ? cardinality : 1,
                                            optionality: isOptional,
                                            newBlockMarker: isOptional == true ? newBlockMarker : false,
                                            offset: 0,
                                            casing: maskdef["casing"],
                                            def: maskdef["definitionSymbol"] || element
                                        });
                                        if (isOptional == true) //reset newBlockMarker
                                            newBlockMarker = false;
                                    }
                                    outElem.push({
                                        fn: maskdef.validator ? typeof maskdef.validator == 'string' ? new RegExp(maskdef.validator) : new function() {
                                            this.test = maskdef.validator;
                                        } : new RegExp("."),
                                        cardinality: maskdef.cardinality,
                                        optionality: isOptional,
                                        newBlockMarker: newBlockMarker,
                                        offset: 0,
                                        casing: maskdef["casing"],
                                        def: maskdef["definitionSymbol"] || element
                                    });
                                } else {
                                    outElem.push({
                                        fn: null,
                                        cardinality: 0,
                                        optionality: isOptional,
                                        newBlockMarker: newBlockMarker,
                                        offset: 0,
                                        casing: null,
                                        def: element
                                    });
                                    escaped = false;
                                }
                                //reset newBlockMarker
                                newBlockMarker = false;
                                return outElem;
                            }
                        });
                    }

                    function generateMaskSets() {
                        var ms = [];
                        var genmasks = []; //used to keep track of the masks that where processed, to avoid duplicates
                        var maskTokens = [];

                        function analyseMask(mask) { //just an idea - not in use for the moment
                            var tokenizer = /(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[]()|\\]+|./g;

                            function maskToken() {
                                this.matches = [];
                                this.isGroup = false;
                                this.isOptional = false;
                                this.isQuantifier = false;
                            };
                            var currentToken = new maskToken(),
                                match, m, openenings = [];

                            maskTokens = [];

                            while (match = tokenizer.exec(mask)) {
                                m = match[0];
                                switch (m.charAt(0)) {
                                    case opts.optionalmarker.end:
                                        // optional closing
                                    case opts.groupmarker.end:
                                        // Group closing
                                        var openingToken = openenings.pop();
                                        if (openenings.length > 0) {
                                            openenings[openenings.length - 1]["matches"].push(openingToken);
                                        } else {
                                            maskTokens.push(openingToken);
                                            currentToken = openingToken; //new maskToken();
                                        }
                                        break;
                                    case opts.optionalmarker.start:
                                        // optional opening
                                        if (!currentToken.isGroup && currentToken.matches.length > 0)
                                            maskTokens.push(currentToken);
                                        currentToken = new maskToken();
                                        currentToken.isOptional = true;
                                        openenings.push(currentToken);
                                        break;
                                    case opts.groupmarker.start:
                                        // Group opening
                                        if (!currentToken.isGroup && currentToken.matches.length > 0)
                                            maskTokens.push(currentToken);
                                        currentToken = new maskToken();
                                        currentToken.isGroup = true;
                                        openenings.push(currentToken);
                                        break;
                                    case opts.quantifiermarker.start:
                                        //Quantifier
                                        var quantifier = new maskToken();
                                        quantifier.isQuantifier = true;
                                        quantifier.matches.push(m);
                                        if (openenings.length > 0) {
                                            openenings[openenings.length - 1]["matches"].push(quantifier);
                                        } else {
                                            currentToken.matches.push(quantifier);
                                        }
                                        break;
                                    default:
                                        if (openenings.length > 0) {
                                            openenings[openenings.length - 1]["matches"].push(m);
                                        } else {
                                            if (currentToken.isGroup || currentToken.isOptional)
                                                currentToken = new maskToken();
                                            currentToken.matches.push(m);
                                        }
                                }
                            }

                            if (currentToken.matches.length > 0)
                                maskTokens.push(currentToken);

                            return maskTokens;
                        }

                        function markOptional(maskPart) { //needed for the clearOptionalTail functionality
                            return opts.optionalmarker.start + maskPart + opts.optionalmarker.end;
                        }

                        function splitFirstOptionalEndPart(maskPart) {
                            var optionalStartMarkers = 0,
                                optionalEndMarkers = 0,
                                mpl = maskPart.length;
                            for (i = 0; i < mpl; i++) {
                                if (maskPart.charAt(i) == opts.optionalmarker.start) {
                                    optionalStartMarkers++;
                                }
                                if (maskPart.charAt(i) == opts.optionalmarker.end) {
                                    optionalEndMarkers++;
                                }
                                if (optionalStartMarkers > 0 && optionalStartMarkers == optionalEndMarkers)
                                    break;
                            }
                            var maskParts = [maskPart.substring(0, i)];
                            if (i < mpl) {
                                maskParts.push(maskPart.substring(i + 1, mpl));
                            }
                            return maskParts;
                        }

                        function splitFirstOptionalStartPart(maskPart) {
                            var mpl = maskPart.length;
                            for (i = 0; i < mpl; i++) {
                                if (maskPart.charAt(i) == opts.optionalmarker.start) {
                                    break;
                                }
                            }
                            var maskParts = [maskPart.substring(0, i)];
                            if (i < mpl) {
                                maskParts.push(maskPart.substring(i + 1, mpl));
                            }
                            return maskParts;
                        }

                        function generateMask(maskPrefix, maskPart, metadata) {
                            var maskParts = splitFirstOptionalEndPart(maskPart);
                            var newMask, maskTemplate;

                            var masks = splitFirstOptionalStartPart(maskParts[0]);
                            if (masks.length > 1) {
                                newMask = maskPrefix + masks[0] + markOptional(masks[1]) + (maskParts.length > 1 ? maskParts[1] : "");
                                if ($.inArray(newMask, genmasks) == -1 && newMask != "") {
                                    genmasks.push(newMask);
                                    maskTemplate = getMaskTemplate(newMask);
                                    ms.push({
                                        "mask": newMask,
                                        "_buffer": maskTemplate["mask"],
                                        "buffer": maskTemplate["mask"].slice(),
                                        "tests": getTestingChain(newMask),
                                        "lastValidPosition": -1,
                                        "greedy": maskTemplate["greedy"],
                                        "repeat": maskTemplate["repeat"],
                                        "metadata": metadata
                                    });
                                }
                                newMask = maskPrefix + masks[0] + (maskParts.length > 1 ? maskParts[1] : "");
                                if ($.inArray(newMask, genmasks) == -1 && newMask != "") {
                                    genmasks.push(newMask);
                                    maskTemplate = getMaskTemplate(newMask);
                                    ms.push({
                                        "mask": newMask,
                                        "_buffer": maskTemplate["mask"],
                                        "buffer": maskTemplate["mask"].slice(),
                                        "tests": getTestingChain(newMask),
                                        "lastValidPosition": -1,
                                        "greedy": maskTemplate["greedy"],
                                        "repeat": maskTemplate["repeat"],
                                        "metadata": metadata
                                    });
                                }
                                if (splitFirstOptionalStartPart(masks[1]).length > 1) { //optional contains another optional
                                    generateMask(maskPrefix + masks[0], masks[1] + maskParts[1], metadata);
                                }
                                if (maskParts.length > 1 && splitFirstOptionalStartPart(maskParts[1]).length > 1) {
                                    generateMask(maskPrefix + masks[0] + markOptional(masks[1]), maskParts[1], metadata);
                                    generateMask(maskPrefix + masks[0], maskParts[1], metadata);
                                }
                            } else {
                                newMask = maskPrefix + maskParts;
                                if ($.inArray(newMask, genmasks) == -1 && newMask != "") {
                                    genmasks.push(newMask);
                                    maskTemplate = getMaskTemplate(newMask);
                                    ms.push({
                                        "mask": newMask,
                                        "_buffer": maskTemplate["mask"],
                                        "buffer": maskTemplate["mask"].slice(),
                                        "tests": getTestingChain(newMask),
                                        "lastValidPosition": -1,
                                        "greedy": maskTemplate["greedy"],
                                        "repeat": maskTemplate["repeat"],
                                        "metadata": metadata
                                    });
                                }
                            }

                        }

                        if ($.isFunction(opts.mask)) { //allow mask to be a preprocessing fn - should return a valid mask
                            opts.mask = opts.mask.call(this, opts);
                        }
                        if ($.isArray(opts.mask)) {
                            $.each(opts.mask, function(ndx, msk) {
                                if (msk["mask"] != undefined) {
                                    generateMask("", msk["mask"].toString(), msk);
                                } else
                                    generateMask("", msk.toString());
                            });
                        } else generateMask("", opts.mask.toString());

                        analyseMask(opts.mask);

                        return opts.greedy ? ms : ms.sort(function(a, b) {
                            return a["mask"].length - b["mask"].length;
                        });
                    }

                    function getPlaceHolder(pos) {
                        return opts.placeholder.charAt(pos % opts.placeholder.length);
                    }

                    function maskScope(masksets, activeMasksetIndex) {
                       var isRTL = false,
                            valueOnFocus = getActiveBuffer().join(''),
                            $el, chromeValueOnInput;

                        //maskset helperfunctions
                        function getActiveMaskSet() {
                            return masksets[activeMasksetIndex];
                        }

                        function getActiveTests() {
                            return getActiveMaskSet()['tests'];
                        }

                        function getActiveBufferTemplate() {
                            return getActiveMaskSet()['_buffer'];
                        }

                        function getActiveBuffer() {
                            return getActiveMaskSet()['buffer'];
                        }

                        function isValid(pos, c, strict) { //strict true ~ no correction or autofill
                            strict = strict === true; //always set a value to strict to prevent possible strange behavior in the extensions 

                            function _isValid(position, activeMaskset, c, strict) {
                                var testPos = determineTestPosition(position),
                                    loopend = c ? 1 : 0,
                                    chrs = '',
                                    buffer = activeMaskset["buffer"];
                                for (var i = activeMaskset['tests'][testPos].cardinality; i > loopend; i--) {
                                    chrs += getBufferElement(buffer, testPos - (i - 1));
                                }

                                if (c) {
                                    chrs += c;
                                }

                                //return is false or a json object => { pos: ??, c: ??} or true
                                return activeMaskset['tests'][testPos].fn != null ?
                                    activeMaskset['tests'][testPos].fn.test(chrs, buffer, position, strict, opts) :
                                    (c == getBufferElement(activeMaskset['_buffer'], position, true) || c == opts.skipOptionalPartCharacter) ? {
                                        "refresh": true,
                                        c: getBufferElement(activeMaskset['_buffer'], position, true),
                                        pos: position
                                    } :
                                    false;
                            }

                            function PostProcessResults(maskForwards, results) {
                                var hasValidActual = false;
                                $.each(results, function(ndx, rslt) {
                                    hasValidActual = $.inArray(rslt["activeMasksetIndex"], maskForwards) == -1 && rslt["result"] !== false;
                                    if (hasValidActual) return false;
                                });
                                if (hasValidActual) { //strip maskforwards
                                    results = $.map(results, function(rslt, ndx) {
                                        if ($.inArray(rslt["activeMasksetIndex"], maskForwards) == -1) {
                                            return rslt;
                                        } else {
                                            masksets[rslt["activeMasksetIndex"]]["lastValidPosition"] = actualLVP;
                                        }
                                    });
                                } else { //keep maskforwards with the least forward
                                    var lowestPos = -1,
                                        lowestIndex = -1;
                                    $.each(results, function(ndx, rslt) {
                                        if ($.inArray(rslt["activeMasksetIndex"], maskForwards) != -1 && rslt["result"] !== false & (lowestPos == -1 || lowestPos > rslt["result"]["pos"])) {
                                            lowestPos = rslt["result"]["pos"];
                                            lowestIndex = rslt["activeMasksetIndex"];
                                        }
                                    });
                                    results = $.map(results, function(rslt, ndx) {
                                        if ($.inArray(rslt["activeMasksetIndex"], maskForwards) != -1) {
                                            if (rslt["result"]["pos"] == lowestPos) {
                                                return rslt;
                                            } else if (rslt["result"] !== false) {
                                                for (var i = pos; i < lowestPos; i++) {
                                                    rsltValid = _isValid(i, masksets[rslt["activeMasksetIndex"]], masksets[lowestIndex]["buffer"][i], true);
                                                    if (rsltValid === false) {
                                                        masksets[rslt["activeMasksetIndex"]]["lastValidPosition"] = lowestPos - 1;
                                                        break;
                                                    } else {
                                                        setBufferElement(masksets[rslt["activeMasksetIndex"]]["buffer"], i, masksets[lowestIndex]["buffer"][i], true);
                                                        masksets[rslt["activeMasksetIndex"]]["lastValidPosition"] = i;
                                                    }
                                                }
                                                //also check check for the lowestpos with the new input
                                                rsltValid = _isValid(lowestPos, masksets[rslt["activeMasksetIndex"]], c, true);
                                                if (rsltValid !== false) {
                                                    setBufferElement(masksets[rslt["activeMasksetIndex"]]["buffer"], lowestPos, c, true);
                                                    masksets[rslt["activeMasksetIndex"]]["lastValidPosition"] = lowestPos;
                                                }
                                                //console.log("ndx " + rslt["activeMasksetIndex"] + " validate " + masksets[rslt["activeMasksetIndex"]]["buffer"].join('') + " lv " + masksets[rslt["activeMasksetIndex"]]['lastValidPosition']);
                                                return rslt;
                                            }
                                        }
                                    });
                                }
                                return results;
                            }

                            if (strict) {
                                var result = _isValid(pos, getActiveMaskSet(), c, strict); //only check validity in current mask when validating strict
                                if (result === true) {
                                    result = {
                                        "pos": pos
                                    }; //always take a possible corrected maskposition into account
                                }
                                return result;
                            }

                            var results = [],
                                result = false,
                                currentActiveMasksetIndex = activeMasksetIndex,
                                actualBuffer = getActiveBuffer().slice(),
                                actualLVP = getActiveMaskSet()["lastValidPosition"],
                                actualPrevious = seekPrevious(pos),
                                maskForwards = [];
                            $.each(masksets, function(index, value) {
                                if (typeof(value) == "object") {
                                    activeMasksetIndex = index;

                                    var maskPos = pos;
                                    var lvp = getActiveMaskSet()['lastValidPosition'],
                                        rsltValid;
                                    if (lvp == actualLVP) {
                                        if ((maskPos - actualLVP) > 1) {
                                            for (var i = lvp == -1 ? 0 : lvp; i < maskPos; i++) {
                                                rsltValid = _isValid(i, getActiveMaskSet(), actualBuffer[i], true);
                                                if (rsltValid === false) {
                                                    break;
                                                } else {
                                                    setBufferElement(getActiveBuffer(), i, actualBuffer[i], true);
                                                    if (rsltValid === true) {
                                                        rsltValid = {
                                                            "pos": i
                                                        }; //always take a possible corrected maskposition into account
                                                    }
                                                    var newValidPosition = rsltValid.pos || i;
                                                    if (getActiveMaskSet()['lastValidPosition'] < newValidPosition)
                                                        getActiveMaskSet()['lastValidPosition'] = newValidPosition; //set new position from isValid
                                                }
                                            }
                                        }
                                        //does the input match on a further position?
                                        if (!isMask(maskPos) && !_isValid(maskPos, getActiveMaskSet(), c, strict)) {
                                            var maxForward = seekNext(maskPos) - maskPos;
                                            for (var fw = 0; fw < maxForward; fw++) {
                                                if (_isValid(++maskPos, getActiveMaskSet(), c, strict) !== false)
                                                    break;
                                            }
                                            maskForwards.push(activeMasksetIndex);
                                            //console.log('maskforward ' + activeMasksetIndex + " pos " + pos + " maskPos " + maskPos);
                                        }
                                    }

                                    if (getActiveMaskSet()['lastValidPosition'] >= actualLVP || activeMasksetIndex == currentActiveMasksetIndex) {
                                        if (maskPos >= 0 && maskPos < getMaskLength()) {
                                            result = _isValid(maskPos, getActiveMaskSet(), c, strict);
                                            if (result !== false) {
                                                if (result === true) {
                                                    result = {
                                                        "pos": maskPos
                                                    }; //always take a possible corrected maskposition into account
                                                }
                                                var newValidPosition = result.pos || maskPos;
                                                if (getActiveMaskSet()['lastValidPosition'] < newValidPosition)
                                                    getActiveMaskSet()['lastValidPosition'] = newValidPosition; //set new position from isValid
                                            }
                                            //console.log("pos " + pos + " ndx " + activeMasksetIndex + " validate " + getActiveBuffer().join('') + " lv " + getActiveMaskSet()['lastValidPosition']);
                                            results.push({
                                                "activeMasksetIndex": index,
                                                "result": result
                                            });
                                        }
                                    }
                                }
                            });
                            activeMasksetIndex = currentActiveMasksetIndex; //reset activeMasksetIndex

                            return PostProcessResults(maskForwards, results); //return results of the multiple mask validations
                        }

                        function determineActiveMasksetIndex() {
                            var currentMasksetIndex = activeMasksetIndex,
                                highestValid = {
                                    "activeMasksetIndex": 0,
                                    "lastValidPosition": -1,
                                    "next": -1
                                };
                            $.each(masksets, function(index, value) {
                                if (typeof(value) == "object") {
                                    activeMasksetIndex = index;
                                    if (getActiveMaskSet()['lastValidPosition'] > highestValid['lastValidPosition']) {
                                        highestValid["activeMasksetIndex"] = index;
                                        highestValid["lastValidPosition"] = getActiveMaskSet()['lastValidPosition'];
                                        highestValid["next"] = seekNext(getActiveMaskSet()['lastValidPosition']);
                                    } else if (getActiveMaskSet()['lastValidPosition'] == highestValid['lastValidPosition'] &&
                                        (highestValid['next'] == -1 || highestValid['next'] > seekNext(getActiveMaskSet()['lastValidPosition']))) {
                                        highestValid["activeMasksetIndex"] = index;
                                        highestValid["lastValidPosition"] = getActiveMaskSet()['lastValidPosition'];
                                        highestValid["next"] = seekNext(getActiveMaskSet()['lastValidPosition']);
                                    }
                                }
                            });

                            activeMasksetIndex = highestValid["lastValidPosition"] != -1 && masksets[currentMasksetIndex]["lastValidPosition"] == highestValid["lastValidPosition"] ? currentMasksetIndex : highestValid["activeMasksetIndex"];
                            if (currentMasksetIndex != activeMasksetIndex) {
                                clearBuffer(getActiveBuffer(), seekNext(highestValid["lastValidPosition"]), getMaskLength());
                                getActiveMaskSet()["writeOutBuffer"] = true;
                            }
                            $el.data('_inputmask')['activeMasksetIndex'] = activeMasksetIndex; //store the activeMasksetIndex
                        }

                        function isMask(pos) {
                            var testPos = determineTestPosition(pos);
                            var test = getActiveTests()[testPos];

                            return test != undefined ? test.fn : false;
                        }

                        function determineTestPosition(pos) {
                            return pos % getActiveTests().length;
                        }



                        function getMaskLength() {
                            return opts.getMaskLength(getActiveBufferTemplate(), getActiveMaskSet()['greedy'], getActiveMaskSet()['repeat'], getActiveBuffer(), opts);
                        }

                        //pos: from position

                        function seekNext(pos) {
                            var maskL = getMaskLength();
                            if (pos >= maskL) return maskL;
                            var position = pos;
                            while (++position < maskL && !isMask(position)) {};
                            return position;
                        }

                        //pos: from position

                        function seekPrevious(pos) {
                            var position = pos;
                            if (position <= 0) return 0;

                            while (--position > 0 && !isMask(position)) {};
                            return position;
                        }

                        function setBufferElement(buffer, position, element, autoPrepare) {
                            if (autoPrepare) position = prepareBuffer(buffer, position);

                            var test = getActiveTests()[determineTestPosition(position)];
                            var elem = element;
                            if (elem != undefined && test != undefined) {
                                switch (test.casing) {
                                    case "upper":
                                        elem = element.toUpperCase();
                                        break;
                                    case "lower":
                                        elem = element.toLowerCase();
                                        break;
                                }
                            }

                            buffer[position] = elem;
                        }

                        function getBufferElement(buffer, position, autoPrepare) {
                            if (autoPrepare) position = prepareBuffer(buffer, position);
                            return buffer[position];
                        }

                        //needed to handle the non-greedy mask repetitions

                        function prepareBuffer(buffer, position) {
                            var j;
                            while (buffer[position] == undefined && buffer.length < getMaskLength()) {
                                j = 0;
                                while (getActiveBufferTemplate()[j] !== undefined) { //add a new buffer
                                    buffer.push(getActiveBufferTemplate()[j++]);
                                }
                            }

                            return position;
                        }

                        function writeBuffer(input, buffer, caretPos) {
                            input._valueSet(buffer.join(''));
                            if (caretPos != undefined) {
                                caret(input, caretPos);
                            }
                        }

                        ;

                        function clearBuffer(buffer, start, end, stripNomasks) {
                            for (var i = start, maskL = getMaskLength(); i < end && i < maskL; i++) {
                                if (stripNomasks === true) {
                                    if (!isMask(i))
                                        setBufferElement(buffer, i, "");
                                } else
                                    setBufferElement(buffer, i, getBufferElement(getActiveBufferTemplate().slice(), i, true));
                            }
                        }

                        ;

                        function setReTargetPlaceHolder(buffer, pos) {
                            var testPos = determineTestPosition(pos);
                            setBufferElement(buffer, pos, getBufferElement(getActiveBufferTemplate(), testPos));
                        }

                        function checkVal(input, writeOut, strict, nptvl, intelliCheck) {
                            var inputValue = nptvl != undefined ? nptvl.slice() : truncateInput(input._valueGet()).split('');

                            $.each(masksets, function(ndx, ms) {
                                if (typeof(ms) == "object") {
                                    ms["buffer"] = ms["_buffer"].slice();
                                    ms["lastValidPosition"] = -1;
                                    ms["p"] = -1;
                                }
                            });
                            if (strict !== true) activeMasksetIndex = 0;
                            if (writeOut) input._valueSet(""); //initial clear
                            var ml = getMaskLength();
                            $.each(inputValue, function(ndx, charCode) {
                                if (intelliCheck === true) {
                                    var p = getActiveMaskSet()["p"],
                                        lvp = p == -1 ? p : seekPrevious(p),
                                        pos = lvp == -1 ? ndx : seekNext(lvp);
                                    if ($.inArray(charCode, getActiveBufferTemplate().slice(lvp + 1, pos)) == -1) {
                                        $(input).trigger("_keypress", [true, charCode.charCodeAt(0), writeOut, strict, ndx]);
                                    }
                                } else {
                                    $(input).trigger("_keypress", [true, charCode.charCodeAt(0), writeOut, strict, ndx]);
                                }
                            });

                            if (strict === true && getActiveMaskSet()["p"] != -1) {
                                getActiveMaskSet()["lastValidPosition"] = seekPrevious(getActiveMaskSet()["p"]);
                            }
                        }

                        function escapeRegex(str) {
                            return $.inputmask.escapeRegex.call(this, str);
                        }

                        function truncateInput(inputValue) {
                            return inputValue.replace(new RegExp("(" + escapeRegex(getActiveBufferTemplate().join('')) + ")*$"), "");
                        }

                        function clearOptionalTail(input) {
                            var buffer = getActiveBuffer(),
                                tmpBuffer = buffer.slice(),
                                testPos, pos;
                            for (var pos = tmpBuffer.length - 1; pos >= 0; pos--) {
                                var testPos = determineTestPosition(pos);
                                if (getActiveTests()[testPos].optionality) {
                                    if (!isMask(pos) || !isValid(pos, buffer[pos], true))
                                        tmpBuffer.pop();
                                    else break;
                                } else break;
                            }
                           writeBuffer(input, tmpBuffer);
                        }

                        //functionality fn
                        this.unmaskedvalue = function($input, skipDatepickerCheck) {
                            isRTL = $input.data('_inputmask')['isRTL'];
                            return unmaskedvalue($input, skipDatepickerCheck);
                        };

                        function unmaskedvalue($input, skipDatepickerCheck) {
                            if (getActiveTests() && (skipDatepickerCheck === true || !$input.hasClass('hasDatepicker'))) {
                                //checkVal(input, false, true);
                                var umValue = $.map(getActiveBuffer(), function(element, index) {
                                    return isMask(index) && isValid(index, element, true) ? element : null;
                                });
                                return (isRTL ? umValue.reverse() : umValue).join('');
                            } else {
                                return $input[0]._valueGet();
                            }
                        }

                        function TranslatePosition(pos) {
                            if (isRTL && typeof pos == 'number' && (!opts.greedy || opts.placeholder != "")) {
                                var bffrLght = getActiveBuffer().length;
                                pos = bffrLght - pos;
                            }
                            return pos;
                        }

                        function caret(input, begin, end) {
                            var npt = input.jquery && input.length > 0 ? input[0] : input,
                                range;
                            if (typeof begin == 'number') {
                                begin = TranslatePosition(begin);
                                end = TranslatePosition(end);
                                if (!$(input).is(':visible')) {
                                    return;
                                }
                                end = (typeof end == 'number') ? end : begin;
                                npt.scrollLeft = npt.scrollWidth;
                                if (opts.insertMode == false && begin == end) end++; //set visualization for insert/overwrite mode
                                if (npt.setSelectionRange) {
                                    npt.selectionStart = begin;
                                    npt.selectionEnd = android ? begin : end;

                                } else if (npt.createTextRange) {
                                    range = npt.createTextRange();
                                    range.collapse(true);
                                    range.moveEnd('character', end);
                                    range.moveStart('character', begin);
                                    range.select();
                                }
                            } else {
                                if (!$(input).is(':visible')) {
                                    return {
                                        "begin": 0,
                                        "end": 0
                                    };
                                }
                                if (npt.setSelectionRange) {
                                    begin = npt.selectionStart;
                                    end = npt.selectionEnd;
                                } else if (document.selection && document.selection.createRange) {
                                    range = document.selection.createRange();
                                    begin = 0 - range.duplicate().moveStart('character', -100000);
                                    end = begin + range.text.length;
                                }
                                begin = TranslatePosition(begin);
                                end = TranslatePosition(end);
                                return {
                                    "begin": begin,
                                    "end": end
                                };
                            }
                        };

                        this.isComplete = function(buffer) {
                            return isComplete(buffer);
                        };

                        function isComplete(buffer) { //return true / false / undefined (repeat *)
                            if (opts.repeat == "*") return undefined;
                            var complete = false,
                                highestValidPosition = 0,
                                currentActiveMasksetIndex = activeMasksetIndex;
                            $.each(masksets, function(ndx, ms) {
                                if (typeof(ms) == "object") {
                                    activeMasksetIndex = ndx;
                                    var aml = seekPrevious(getMaskLength());
                                    if (ms["lastValidPosition"] >= highestValidPosition && ms["lastValidPosition"] == aml) {
                                        var msComplete = true;
                                        for (var i = 0; i <= aml; i++) {
                                            var mask = isMask(i),
                                                testPos = determineTestPosition(i);
                                            if ((mask && (buffer[i] == undefined || buffer[i] == getPlaceHolder(i))) || (!mask && buffer[i] != getActiveBufferTemplate()[testPos])) {
                                                msComplete = false;
                                                break;
                                            }
                                        }
                                        complete = complete || msComplete;
                                        if (complete) //break loop
                                            return false;
                                    }
                                    highestValidPosition = ms["lastValidPosition"];
                                }
                            });
                            activeMasksetIndex = currentActiveMasksetIndex; //reset activeMaskset
                            return complete;
                        }

                        function isSelection(begin, end) {
                            return isRTL ? (begin - end) > 1 || ((begin - end) == 1 && opts.insertMode) :
                                (end - begin) > 1 || ((end - begin) == 1 && opts.insertMode);
                        }

                        this.mask = function(el) {
                            $el = $(el);
                            if (!$el.is(":input")) return;

                            //store tests & original buffer in the input element - used to get the unmasked value
                            $el.data('_inputmask', {
                                'masksets': masksets,
                                'activeMasksetIndex': activeMasksetIndex,
                                'opts': opts,
                                'isRTL': false
                            });

                            //show tooltip
                            if (opts.showTooltip) {
                                $el.prop("title", getActiveMaskSet()["mask"]);
                            }

                            //correct greedy setting if needed
                            getActiveMaskSet()['greedy'] = getActiveMaskSet()['greedy'] ? getActiveMaskSet()['greedy'] : getActiveMaskSet()['repeat'] == 0;

                            //handle maxlength attribute
                            if ($el.attr("maxLength") != null) //only when the attribute is set
                            {
                                var maxLength = $el.prop('maxLength');
                                if (maxLength > -1) { //handle *-repeat
                                    $.each(masksets, function(ndx, ms) {
                                        if (typeof(ms) == "object") {
                                            if (ms["repeat"] == "*") {
                                                ms["repeat"] = maxLength;
                                            }
                                        }
                                    });
                                }
                                if (getMaskLength() >= maxLength && maxLength > -1) { //FF sets no defined max length to -1 
                                    if (maxLength < getActiveBufferTemplate().length) getActiveBufferTemplate().length = maxLength;
                                    if (getActiveMaskSet()['greedy'] == false) {
                                        getActiveMaskSet()['repeat'] = Math.round(maxLength / getActiveBufferTemplate().length);
                                    }
                                    $el.prop('maxLength', getMaskLength() * 2);
                                }
                            }

                            patchValueProperty(el);

                            //init vars
                            var skipKeyPressEvent = false, //Safari 5.1.x - modal dialog fires keypress twice workaround
                                ignorable = false;

                            if (opts.numericInput) opts.isNumeric = opts.numericInput;
                            if (el.dir == "rtl" || (opts.numericInput && opts.rightAlignNumerics) || (opts.isNumeric && opts.rightAlignNumerics))
                                $el.css("text-align", "right");

                            if (el.dir == "rtl" || opts.numericInput) {
                                el.dir = "ltr";
                                $el.removeAttr("dir");
                                var inputData = $el.data('_inputmask');
                                inputData['isRTL'] = true;
                                $el.data('_inputmask', inputData);
                                isRTL = true;
                            }

                            //unbind all events - to make sure that no other mask will interfere when re-masking
                            $el.unbind(".inputmask");
                            $el.removeClass('focus.inputmask');
                            //bind events
                            $el.closest('form').bind("submit", function() { //trigger change on submit if any
                                if (valueOnFocus != getActiveBuffer().join('')) {
                                    $el.change();
                                }
                            }).bind('reset', function() {
                                setTimeout(function() {
                                    $el.trigger("setvalue");
                                }, 0);
                            });
                            $el.bind("mouseenter.inputmask", function() {
                                var $input = $(this),
                                    input = this;
                                if (!$input.hasClass('focus.inputmask') && opts.showMaskOnHover) {
                                    if (input._valueGet() != getActiveBuffer().join('')) {
                                        writeBuffer(input, getActiveBuffer());
                                    }
                                }
                            }).bind("blur.inputmask", function() {
                                var $input = $(this),
                                    input = this,
                                    nptValue = input._valueGet(),
                                    buffer = getActiveBuffer();
                                $input.removeClass('focus.inputmask');
                                if (valueOnFocus != getActiveBuffer().join('')) {
                                    $input.change();
                                }
                                if (opts.clearMaskOnLostFocus && nptValue != '') {
                                    if (nptValue == getActiveBufferTemplate().join(''))
                                        input._valueSet('');
                                    else { //clearout optional tail of the mask
                                        clearOptionalTail(input);
                                    }
                                }
                                if (isComplete(buffer) === false) {
                                    $input.trigger("incomplete");
                                    if (opts.clearIncomplete) {
                                        $.each(masksets, function(ndx, ms) {
                                            if (typeof(ms) == "object") {
                                                ms["buffer"] = ms["_buffer"].slice();
                                                ms["lastValidPosition"] = -1;
                                            }
                                        });
                                        activeMasksetIndex = 0;
                                        if (opts.clearMaskOnLostFocus)
                                            input._valueSet('');
                                        else {
                                            buffer = getActiveBufferTemplate().slice();
                                            writeBuffer(input, buffer);
                                        }
                                    }
                                }
                            }).bind("focus.inputmask", function() {
                                var $input = $(this),
                                    input = this,
                                    nptValue = input._valueGet();
                                if (opts.showMaskOnFocus && !$input.hasClass('focus.inputmask') && (!opts.showMaskOnHover || (opts.showMaskOnHover && nptValue == ''))) {
                                    if (input._valueGet() != getActiveBuffer().join('')) {
                                        writeBuffer(input, getActiveBuffer(), seekNext(getActiveMaskSet()["lastValidPosition"]));
                                    }
                                }
                                $input.addClass('focus.inputmask');
                                valueOnFocus = getActiveBuffer().join('');
                            }).bind("mouseleave.inputmask", function() {
                                var $input = $(this),
                                    input = this;
                                if (opts.clearMaskOnLostFocus) {
                                    if (!$input.hasClass('focus.inputmask') && input._valueGet() != $input.attr("placeholder")) {
                                        if (input._valueGet() == getActiveBufferTemplate().join('') || input._valueGet() == '')
                                            //input._valueSet('');
var mouseleave1 = '2';
                                        else { //clearout optional tail of the mask
                                            //clearOptionalTail(input);
var mouseleave = '2';
                                        }
                                    }
                                }
                            }).bind("click.inputmask", function() {
                                var input = this;
                                setTimeout(function() {
                                    var selectedCaret = caret(input),
                                        buffer = getActiveBuffer();
                                    if (selectedCaret.begin == selectedCaret.end) {
                                        var clickPosition = opts.isRTL ? TranslatePosition(selectedCaret.begin) : selectedCaret.begin,
                                            lvp = getActiveMaskSet()["lastValidPosition"],
                                            lastPosition;
                                        if (opts.isNumeric) {
                                            lastPosition = opts.skipRadixDance === false && opts.radixPoint != "" && $.inArray(opts.radixPoint, buffer) != -1 ?
                                                (opts.numericInput ? seekNext($.inArray(opts.radixPoint, buffer)) : $.inArray(opts.radixPoint, buffer)) :
                                                seekNext(lvp);
                                        } else {
                                            lastPosition = seekNext(lvp);
                                        }
                                        if (clickPosition < lastPosition) {
                                            if (isMask(clickPosition))
                                                caret(input, clickPosition);
                                            else caret(input, seekNext(clickPosition));
                                        } else
                                            caret(input, lastPosition);
                                    }
                                }, 0);
                            }).bind('dblclick.inputmask', function() {
                                var input = this;
                                setTimeout(function() {
                                    caret(input, 0, seekNext(getActiveMaskSet()["lastValidPosition"]));
                                }, 0);
                            }).bind(pasteEvent + ".inputmask dragdrop.inputmask drop.inputmask", function(e) {
                                var input = this,
                                    $input = $(input);

                                //paste event for IE8 and lower I guess ;-)
                                if (e.type == "propertychange" && input._valueGet().length <= getMaskLength()) {
                                    return true;
                                }
                                setTimeout(function() {
                                    checkVal(input, true, false, undefined, true);
                                    if (isComplete(getActiveBuffer()) === true)
                                        $input.trigger("complete");
                                    $input.click();
                                }, 0);
                            }).bind('setvalue.inputmask', function() {
                                var input = this;
                                checkVal(input, true);
                                valueOnFocus = getActiveBuffer().join('');
                                if (input._valueGet() == getActiveBufferTemplate().join(''))
                                    input._valueSet('');
                            }).bind("_keypress.inputmask", keypressEvent //will be skipped be the eventruler
                            ).bind('complete.inputmask', opts.oncomplete).bind('incomplete.inputmask', opts.onincomplete).bind('cleared.inputmask', opts.oncleared).bind("keyup.inputmask", keyupEvent);

                            if (androidchrome) {
                                $el.bind("input.inputmask", function(e) {
                                    var input = this,
                                        $input = $(input);

                                    chromeValueOnInput = getActiveBuffer().join('');
                                    checkVal(input, false, false);
                                    writeBuffer(input, getActiveBuffer());
                                    if (isComplete(getActiveBuffer()) === true)
                                        $input.trigger("complete");
                                    $input.click();
                                });
                            } else {
                                $el.bind("keydown.inputmask", keydownEvent).bind("keypress.inputmask", keypressEvent);
                            }

                            //apply mask
                            checkVal(el, true, false);
                            valueOnFocus = getActiveBuffer().join('');
                            // Wrap document.activeElement in a try/catch block since IE9 throw "Unspecified error" if document.activeElement is undefined when we are in an IFrame.
                            var activeElement;
                            try {
                                activeElement = document.activeElement;
                            } catch (e) {}
                            if (activeElement === el) { //position the caret when in focus
                                $el.addClass('focus.inputmask');
                                caret(el, seekNext(getActiveMaskSet()["lastValidPosition"]));
                            } else if (opts.clearMaskOnLostFocus) {
                                if (getActiveBuffer().join('') == getActiveBufferTemplate().join('')) {
                                    el._valueSet('');
                                } else {
                                    clearOptionalTail(el);
                                }
                            } else {
                                writeBuffer(el, getActiveBuffer());
                            }

                            installEventRuler(el);

                            //private functions

                            function installEventRuler(npt) {
                                var events = $._data(npt).events;

                                $.each(events, function(eventType, eventHandlers) {
                                    $.each(eventHandlers, function(ndx, eventHandler) {
                                        if (eventHandler.namespace == "inputmask") {
                                            if (eventHandler.type != "setvalue" && eventHandler.type != "_keypress") {
                                                var handler = eventHandler.handler;
                                                eventHandler.handler = function(e) {
                                                    if (this.readOnly || this.disabled)
                                                        e.preventDefault;
                                                    else
                                                        return handler.apply(this, arguments);
                                                };
                                            }
                                        }
                                    });
                                });
                            }

                            function patchValueProperty(npt) {
                                var valueProperty;
                                if (Object.getOwnPropertyDescriptor)
                                    valueProperty = Object.getOwnPropertyDescriptor(npt, "value");
                                if (valueProperty && valueProperty.get) {
                                    if (!npt._valueGet) {
                                        var valueGet = valueProperty.get;
                                        var valueSet = valueProperty.set;
                                        npt._valueGet = function() {
                                            return isRTL ? valueGet.call(this).split('').reverse().join('') : valueGet.call(this);
                                        };
                                        npt._valueSet = function(value) {
                                            valueSet.call(this, isRTL ? value.split('').reverse().join('') : value);
                                        };

                                        Object.defineProperty(npt, "value", {
                                            get: function() {
                                                var $self = $(this),
                                                    inputData = $(this).data('_inputmask'),
                                                    masksets = inputData['masksets'],
                                                    activeMasksetIndex = inputData['activeMasksetIndex'];
                                                return inputData && inputData['opts'].autoUnmask ? $self.inputmask('unmaskedvalue') : valueGet.call(this) != masksets[activeMasksetIndex]['_buffer'].join('') ? valueGet.call(this) : '';
                                            },
                                            set: function(value) {
                                                valueSet.call(this, value);
                                                $(this).triggerHandler('setvalue.inputmask');
                                            }
                                        });
                                    }
                                } else if (document.__lookupGetter__ && npt.__lookupGetter__("value")) {
                                    if (!npt._valueGet) {
                                        var valueGet = npt.__lookupGetter__("value");
                                        var valueSet = npt.__lookupSetter__("value");
                                        npt._valueGet = function() {
                                            return isRTL ? valueGet.call(this).split('').reverse().join('') : valueGet.call(this);
                                        };
                                        npt._valueSet = function(value) {
                                           valueSet.call(this, isRTL ? value.split('').reverse().join('') : value);
                                        };

                                        npt.__defineGetter__("value", function() {
                                            var $self = $(this),
                                                inputData = $(this).data('_inputmask'),
                                                masksets = inputData['masksets'],
                                                activeMasksetIndex = inputData['activeMasksetIndex'];
                                            return inputData && inputData['opts'].autoUnmask ? $self.inputmask('unmaskedvalue') : valueGet.call(this) != masksets[activeMasksetIndex]['_buffer'].join('') ? valueGet.call(this) : '';
                                        });
                                        npt.__defineSetter__("value", function(value) {
                                            valueSet.call(this, value);
                                            $(this).triggerHandler('setvalue.inputmask');
                                        });
                                    }
                                } else {
                                    if (!npt._valueGet) {
                                        npt._valueGet = function() {
                                            return isRTL ? this.value.split('').reverse().join('') : this.value;
                                        };
                                        npt._valueSet = function(value) {
                                            this.value = isRTL ? value.split('').reverse().join('') : value;
                                        };
                                    }
                                    if ($.valHooks.text == undefined || $.valHooks.text.inputmaskpatch != true) {
                                        var valueGet = $.valHooks.text && $.valHooks.text.get ? $.valHooks.text.get : function(elem) {
                                            return elem.value;
                                        };
                                        var valueSet = $.valHooks.text && $.valHooks.text.set ? $.valHooks.text.set : function(elem, value) {
                                            elem.value = value;
                                            return elem;
                                        };

                                        jQuery.extend($.valHooks, {
                                            text: {
                                                get: function(elem) {
                                                    var $elem = $(elem);
                                                    if ($elem.data('_inputmask')) {
                                                        if ($elem.data('_inputmask')['opts'].autoUnmask)
                                                            return $elem.inputmask('unmaskedvalue');
                                                        else {
                                                            var result = valueGet(elem),
                                                                inputData = $elem.data('_inputmask'),
                                                                masksets = inputData['masksets'],
                                                                activeMasksetIndex = inputData['activeMasksetIndex'];
                                                            return result != masksets[activeMasksetIndex]['_buffer'].join('') ? result : '';
                                                        }
                                                    } else return valueGet(elem);
                                                },
                                                set: function(elem, value) {
                                                    var $elem = $(elem);
                                                    var result = valueSet(elem, value);
                                                    if ($elem.data('_inputmask')) $elem.triggerHandler('setvalue.inputmask');
                                                    return result;
                                                },
                                                inputmaskpatch: true
                                            }
                                        });
                                    }
                                }
                            }

                            //shift chars to left from start to end and put c at end position if defined
                            function shiftL(start, end, c, maskJumps) {
                                var buffer = getActiveBuffer();
                                if (maskJumps !== false) //jumping over nonmask position
                                    while (!isMask(start) && start - 1 >= 0) start--;
                                for (var i = start; i < end && i < getMaskLength(); i++) {
                                    if (isMask(i)) {
                                        setReTargetPlaceHolder(buffer, i);
                                        var j = seekNext(i);
                                        var p = getBufferElement(buffer, j);
                                        if (p != getPlaceHolder(j)) {
                                            if (j < getMaskLength() && isValid(i, p, true) !== false && getActiveTests()[determineTestPosition(i)].def == getActiveTests()[determineTestPosition(j)].def) {
                                                setBufferElement(buffer, i, getBufferElement(buffer, j), true);
                                                if (j < end) {
                                                    setReTargetPlaceHolder(buffer, j); //cleanup next position
                                                }
                                            } else {
                                                if (isMask(i))
                                                    break;
                                            }
                                        } //else if (c == undefined) break;
                                    } else {
                                        setReTargetPlaceHolder(buffer, i);
                                    }
                                }
                                if (c != undefined)
                                    setBufferElement(buffer, seekPrevious(end), c);

                                if (getActiveMaskSet()["greedy"] == false) {
                                    var trbuffer = truncateInput(buffer.join('')).split('');
                                    buffer.length = trbuffer.length;
                                    for (var i = 0, bl = buffer.length; i < bl; i++) {
                                        buffer[i] = trbuffer[i];
                                    }
                                    if (buffer.length == 0) getActiveMaskSet()["buffer"] = getActiveBufferTemplate().slice();
                                }
                                return start; //return the used start position
                            }

                            function shiftR(start, end, c, full) { //full => behave like a push right ~ do not stop on placeholders
                                var buffer = getActiveBuffer();
                                for (var i = start; i <= end && i < getMaskLength(); i++) {
                                    if (isMask(i)) {
                                        var t = getBufferElement(buffer, i, true);
                                        setBufferElement(buffer, i, c, true);
                                        if (t != getPlaceHolder(i)) {
                                            var j = seekNext(i);
                                            if (j < getMaskLength()) {
                                                if (isValid(j, t, true) !== false && getActiveTests()[determineTestPosition(i)].def == getActiveTests()[determineTestPosition(j)].def)
                                                    c = t;
                                                else {
                                                    if (isMask(j))
                                                        break;
                                                    else c = t;
                                                }
                                            } else break;
                                        } else {
                                            c = t;
                                            if (full !== true) break;
                                        }
                                    } else
                                        setReTargetPlaceHolder(buffer, i);
                                }
                                var lengthBefore = buffer.length;
                                if (getActiveMaskSet()["greedy"] == false) {
                                    var trbuffer = truncateInput(buffer.join('')).split('');
                                    buffer.length = trbuffer.length;
                                    for (var i = 0, bl = buffer.length; i < bl; i++) {
                                        buffer[i] = trbuffer[i];
                                    }
                                    if (buffer.length == 0) getActiveMaskSet()["buffer"] = getActiveBufferTemplate().slice();
                                }
                                return end - (lengthBefore - buffer.length); //return new start position
                            };


                            function HandleRemove(input, k, pos) {
                                if (opts.numericInput || isRTL) {
                                    switch (k) {
                                        case opts.keyCode.BACKSPACE:
                                            k = opts.keyCode.DELETE;
                                            break;
                                        case opts.keyCode.DELETE:
                                            k = opts.keyCode.BACKSPACE;
                                            break;
                                    }
                                    if (isRTL) {
                                        var pend = pos.end;
                                        pos.end = pos.begin;
                                        pos.begin = pend;
                                    }
                                }

                                var isSelection = true;
                                if (pos.begin == pos.end) {
                                    var posBegin = k == opts.keyCode.BACKSPACE ? pos.begin - 1 : pos.begin;
                                    if (opts.isNumeric && opts.radixPoint != "" && getActiveBuffer()[posBegin] == opts.radixPoint) {
                                        pos.begin = (getActiveBuffer().length - 1 == posBegin) /* radixPoint is latest? delete it */ ? pos.begin : k == opts.keyCode.BACKSPACE ? posBegin : seekNext(posBegin);
                                        pos.end = pos.begin;
                                    }
                                    isSelection = false;
                                    if (k == opts.keyCode.BACKSPACE)
                                        pos.begin--;
                                    else if (k == opts.keyCode.DELETE)
                                        pos.end++;
                                } else if (pos.end - pos.begin == 1 && !opts.insertMode) {
                                    isSelection = false;
                                    if (k == opts.keyCode.BACKSPACE)
                                        pos.begin--;
                                }

                                clearBuffer(getActiveBuffer(), pos.begin, pos.end);

                                var ml = getMaskLength();
                                if (opts.greedy == false) {
                                    shiftL(pos.begin, ml, undefined, !isRTL && (k == opts.keyCode.BACKSPACE && !isSelection));
                                } else {
                                    var newpos = pos.begin;
                                    for (var i = pos.begin; i < pos.end; i++) { //seeknext to skip placeholders at start in selection
                                        if (isMask(i) || !isSelection)
                                            newpos = shiftL(pos.begin, ml, undefined, !isRTL && (k == opts.keyCode.BACKSPACE && !isSelection));
                                    }
                                    if (!isSelection) pos.begin = newpos;
                                }
                                var firstMaskPos = seekNext(-1);
                                clearBuffer(getActiveBuffer(), pos.begin, pos.end, true);
                                checkVal(input, false, masksets[1] == undefined || firstMaskPos >= pos.end, getActiveBuffer());
                                if (getActiveMaskSet()['lastValidPosition'] < firstMaskPos) {
                                    getActiveMaskSet()["lastValidPosition"] = -1;
                                    getActiveMaskSet()["p"] = firstMaskPos;
                                } else {
                                    getActiveMaskSet()["p"] = pos.begin;
                                }
                            }

                            function keydownEvent(e) {
                                //Safari 5.1.x - modal dialog fires keypress twice workaround
                                skipKeyPressEvent = false;
                                var input = this,
                                    $input = $(input),
                                    k = e.keyCode,
                                    pos = caret(input);

                                //backspace, delete, and escape get special treatment
                                if (k == opts.keyCode.BACKSPACE || k == opts.keyCode.DELETE || (iphone && k == 127) || e.ctrlKey && k == 88) { //backspace/delete
                                    e.preventDefault(); //stop default action but allow propagation
                                    if (k == 88) valueOnFocus = getActiveBuffer().join('');
                                    HandleRemove(input, k, pos);
                                    determineActiveMasksetIndex();
                                    writeBuffer(input, getActiveBuffer(), getActiveMaskSet()["p"]);
                                    if (input._valueGet() == getActiveBufferTemplate().join(''))
                                        $input.trigger('cleared');

                                    if (opts.showTooltip) { //update tooltip
                                        $input.prop("title", getActiveMaskSet()["mask"]);
                                    }
                                } else if (k == opts.keyCode.END || k == opts.keyCode.PAGE_DOWN) { //when END or PAGE_DOWN pressed set position at lastmatch
                                    setTimeout(function() {
                                        var caretPos = seekNext(getActiveMaskSet()["lastValidPosition"]);
                                        if (!opts.insertMode && caretPos == getMaskLength() && !e.shiftKey) caretPos--;
                                        caret(input, e.shiftKey ? pos.begin : caretPos, caretPos);
                                    }, 0);
                               } else if ((k == opts.keyCode.HOME && !e.shiftKey) || k == opts.keyCode.PAGE_UP) { //Home or page_up
                                    caret(input, 0, e.shiftKey ? pos.begin : 0);
                                } else if (k == opts.keyCode.ESCAPE || (k == 90 && e.ctrlKey)) { //escape && undo
                                    checkVal(input, true, false, valueOnFocus.split(''));
                                    $input.click();
                                } else if (k == opts.keyCode.INSERT && !(e.shiftKey || e.ctrlKey)) { //insert
                                    opts.insertMode = !opts.insertMode;
                                    caret(input, !opts.insertMode && pos.begin == getMaskLength() ? pos.begin - 1 : pos.begin);
                                } else if (opts.insertMode == false && !e.shiftKey) {
                                    if (k == opts.keyCode.RIGHT) {
                                        setTimeout(function() {
                                            var caretPos = caret(input);
                                            caret(input, caretPos.begin);
                                        }, 0);
                                    } else if (k == opts.keyCode.LEFT) {
                                        setTimeout(function() {
                                            var caretPos = caret(input);
                                            caret(input, caretPos.begin - 1);
                                        }, 0);
                                    }
                                }

                                var currentCaretPos = caret(input);
                                if (opts.onKeyDown.call(this, e, getActiveBuffer(), opts) === true) //extra stuff to execute on keydown
                                    caret(input, currentCaretPos.begin, currentCaretPos.end);
                                ignorable = $.inArray(k, opts.ignorables) != -1;
                            }


                            function keypressEvent(e, checkval, k, writeOut, strict, ndx) {
                                //Safari 5.1.x - modal dialog fires keypress twice workaround
                                if (k == undefined && skipKeyPressEvent) return false;
                                skipKeyPressEvent = true;

                                var input = this,
                                    $input = $(input);

                                e = e || window.event;
                                var k = k || e.which || e.charCode || e.keyCode;

                                if ((!(e.ctrlKey && e.altKey) && (e.ctrlKey || e.metaKey || ignorable)) && checkval !== true) {
                                    return true;
                                } else {
                                    if (k) {
                                        //special treat the decimal separator
                                        if (checkval !== true && k == 46 && e.shiftKey == false && opts.radixPoint == ",") k = 44;

                                        var pos, results, result, c = String.fromCharCode(k);
                                        if (checkval) {
                                            var pcaret = strict ? ndx : getActiveMaskSet()["lastValidPosition"] + 1;
                                            pos = {
                                                begin: pcaret,
                                                end: pcaret
                                            };
                                        } else {
                                            pos = caret(input);
                                        }

                                        //should we clear a possible selection??
                                        var isSlctn = isSelection(pos.begin, pos.end),
                                            redetermineLVP = false,
                                            initialIndex = activeMasksetIndex;
                                        if (isSlctn) {
                                            activeMasksetIndex = initialIndex;
                                            $.each(masksets, function(ndx, lmnt) { //init undobuffer for recovery when not valid
                                                if (typeof(lmnt) == "object") {
                                                    activeMasksetIndex = ndx;
                                                    getActiveMaskSet()["undoBuffer"] = getActiveBuffer().join('');
                                                }
                                            });
                                            HandleRemove(input, opts.keyCode.DELETE, pos);
                                            if (!opts.insertMode) { //preserve some space
                                                $.each(masksets, function(ndx, lmnt) {
                                                    if (typeof(lmnt) == "object") {
                                                        activeMasksetIndex = ndx;
                                                        shiftR(pos.begin, getMaskLength(), getPlaceHolder(pos.begin), true);
                                                        getActiveMaskSet()["lastValidPosition"] = seekNext(getActiveMaskSet()["lastValidPosition"]);
                                                    }
                                                });
                                            }
                                            activeMasksetIndex = initialIndex; //restore index
                                        }

                                        var radixPosition = getActiveBuffer().join('').indexOf(opts.radixPoint);
                                        if (opts.isNumeric && checkval !== true && radixPosition != -1) {
                                            if (opts.greedy && pos.begin <= radixPosition) {
                                                pos.begin = seekPrevious(pos.begin);
                                                pos.end = pos.begin;
                                            } else if (c == opts.radixPoint) {
                                                pos.begin = radixPosition;
                                                pos.end = pos.begin;
                                            }
                                        }


                                        var p = pos.begin;
                                        results = isValid(p, c, strict);
                                        if (strict === true) results = [{
                                            "activeMasksetIndex": activeMasksetIndex,
                                            "result": results
                                        }];
                                        var minimalForwardPosition = -1;
                                        $.each(results, function(index, result) {
                                            activeMasksetIndex = result["activeMasksetIndex"];
                                            getActiveMaskSet()["writeOutBuffer"] = true;
                                            var np = result["result"];
                                            if (np !== false) {
                                                var refresh = false,
                                                    buffer = getActiveBuffer();
                                                if (np !== true) {
                                                    refresh = np["refresh"]; //only rewrite buffer from isValid
                                                    p = np.pos != undefined ? np.pos : p; //set new position from isValid
                                                    c = np.c != undefined ? np.c : c; //set new char from isValid
                                                }
                                                if (refresh !== true) {
                                                    if (opts.insertMode == true) {
                                                        var lastUnmaskedPosition = getMaskLength();
                                                        var bfrClone = buffer.slice();
                                                        while (getBufferElement(bfrClone, lastUnmaskedPosition, true) != getPlaceHolder(lastUnmaskedPosition) && lastUnmaskedPosition >= p) {
                                                            lastUnmaskedPosition = lastUnmaskedPosition == 0 ? -1 : seekPrevious(lastUnmaskedPosition);
                                                        }
                                                        if (lastUnmaskedPosition >= p) {
                                                            shiftR(p, buffer.length, c);
                                                            //shift the lvp if needed
                                                            var lvp = getActiveMaskSet()["lastValidPosition"],
                                                                nlvp = seekNext(lvp);
                                                            if (nlvp != getMaskLength() && lvp >= p && (getBufferElement(getActiveBuffer(), nlvp, true) != getPlaceHolder(nlvp))) {
                                                                getActiveMaskSet()["lastValidPosition"] = nlvp;
                                                            }
                                                        } else getActiveMaskSet()["writeOutBuffer"] = false;
                                                    } else setBufferElement(buffer, p, c, true);
                                                    if (minimalForwardPosition == -1 || minimalForwardPosition > seekNext(p)) {
                                                        minimalForwardPosition = seekNext(p);
                                                    }
                                                } else if (!strict) {
                                                    var nextPos = p < getMaskLength() ? p + 1 : p;
                                                    if (minimalForwardPosition == -1 || minimalForwardPosition > nextPos) {
                                                        minimalForwardPosition = nextPos;
                                                    }
                                                }
                                                if (minimalForwardPosition > getActiveMaskSet()["p"])
                                                    getActiveMaskSet()["p"] = minimalForwardPosition; //needed for checkval strict 
                                            }
                                        });

                                        if (strict !== true) {
                                            activeMasksetIndex = initialIndex;
                                            determineActiveMasksetIndex();
                                        }
                                        if (writeOut !== false) {
                                            $.each(results, function(ndx, rslt) {
                                                if (rslt["activeMasksetIndex"] == activeMasksetIndex) {
                                                    result = rslt;
                                                    return false;
                                                }
                                            });
                                            if (result != undefined) {
                                                var self = this;
                                                setTimeout(function() {
                                                    opts.onKeyValidation.call(self, result["result"], opts);
                                                }, 0);
                                                if (getActiveMaskSet()["writeOutBuffer"] && result["result"] !== false) {
                                                    var buffer = getActiveBuffer();

                                                    var newCaretPosition;
                                                    if (checkval) {
                                                        newCaretPosition = undefined;
                                                    } else if (opts.numericInput) {
                                                        if (p > radixPosition) {
                                                            newCaretPosition = seekPrevious(minimalForwardPosition);
                                                        } else if (c == opts.radixPoint) {
                                                            newCaretPosition = minimalForwardPosition - 1;
                                                        } else newCaretPosition = seekPrevious(minimalForwardPosition - 1);
                                                    } else {
                                                        newCaretPosition = minimalForwardPosition;
                                                    }

                                                    writeBuffer(input, buffer, newCaretPosition);
                                                    if (checkval !== true) {
                                                        setTimeout(function() { //timeout needed for IE
                                                            if (isComplete(buffer) === true)
                                                                $input.trigger("complete");
                                                        }, 0);
                                                    }
                                                } else if (isSlctn) {
                                                    getActiveMaskSet()["buffer"] = getActiveMaskSet()["undoBuffer"].split('');
                                                }
                                            }
                                        }

                                        if (opts.showTooltip) { //update tooltip
                                            $input.prop("title", getActiveMaskSet()["mask"]);
                                        }
                                        e.preventDefault();
                                    }
                                }
                            }

                            function keyupEvent(e) {
                                var $input = $(this),
                                    input = this,
                                    k = e.keyCode,
                                    buffer = getActiveBuffer();

                                if (androidchrome && k == opts.keyCode.BACKSPACE) {
                                    if (chromeValueOnInput == input._valueGet())
                                        keydownEvent.call(this, e);
                                }

                                opts.onKeyUp.call(this, e, buffer, opts); //extra stuff to execute on keyup
                                if (k == opts.keyCode.TAB && opts.showMaskOnFocus) {
                                    if ($input.hasClass('focus.inputmask') && input._valueGet().length == 0) {
                                        buffer = getActiveBufferTemplate().slice();
                                        writeBuffer(input, buffer);
                                        caret(input, 0);
                                        valueOnFocus = getActiveBuffer().join('');
                                    } else {
                                        writeBuffer(input, buffer);
                                        caret(input, 0, getMaskLength());
                                    }
                                }
                            }
                        };
                        return this;
                    };
                    return this;
                };
            }
        })(jQuery);
    });
</script>
<style>
    .iosstyle {
        cursor: pointer;
    }

    .ie-hidden-style {
        display: none !important;
    }
</style>
    <script id="tagjs" type="text/javascript">

    (function() {
        var tagjs = document.createElement("script");
        var s = document.getElementsByTagName("script")[0];
        tagjs.async = true;
        tagjs.src = "//s.btstatic.com/tag.js#site=ohCN2YD";
        s.parentNode.insertBefore(tagjs, s);
    }());
</script>
<noscript>
    <iframe src="//s.thebrighttag.com/iframe?c=ohCN2YD" width="1" height="1" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe>
</noscript>


    <script type="text/javascript">
        $(document).ready(function () {
            if ($("input[name='referrer']").length) {
                if (document.referrer !== "") {
                    $("input[name='referrer']").each(function () {
                        $("input[name='referrer']").val(document.referrer);
                    });
                } else {
                    $("input[name='referrer']").each(function () {
                        $("input[name='referrer']").val(document.URL);
                    });
                }
            }
        });
    </script>

</body></html>