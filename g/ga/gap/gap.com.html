<!--The following is the downloaded HTML source of the gap.com privacy policy that was archived on 2015-05-06.
 Please check the original snapshot on the Wayback Machine (https://web.archive.org/web/20150506073503id_/http%3A//www.gap.com/customerService/info.do%3Fcid%3D2331) for the most accurate reproduction.-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US" class=" grunticon grunticon"><!-- Content annotation process successful --><head>
	<title> | Gap</title>
	




	
		
	
	
			


	
			
			
	
	
	
	






<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Language" content="en-US">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<meta name="robots" content="noodp,noydir">

	
	
        <meta name="description" content="There's more at Gap.com including Petites and Tall sizes, kids slim and husky sizes, and baby bedding. You'll also find your favorite T-shirts, jeans, shirts, outerwear and accessories. Gap has everything you need for the season">
	


	
	
	
	<link rel="shortcut icon" href="/favicon.ico">
	<link rel="icon" href="/favicon.ico">
	<link rel="apple-touch-icon" sizes="144x144" href="/assets/common/apple-touch-icon-144x144.png">	
	<link rel="apple-touch-icon" sizes="114x114" href="/assets/common/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/assets/common/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="57x57" href="/assets/common/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/common/apple-touch-icon-144x144-precomposed.png">	
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/assets/common/apple-touch-icon-114x114-precomposed.png">
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/assets/common/apple-touch-icon-72x72-precomposed.png">
	<link rel="apple-touch-icon-precomposed" sizes="57x57" href="/assets/common/apple-touch-icon-57x57-precomposed.png">
	

	




	
		
	
	
			


	
			
			
	
	
	
	







<link rel="stylesheet" type="text/css" media="screen, print" href="/gzip_N1107520251/optimizedBundles/globalOptimized.css">













<style type="text/css">
	#universalBarTabs {
	    background: white;
	}
	#universalInlineBagContainer, #universalMarketingContainerTop {background:url(/content/0008/703/523/universalBar_bkg.png) repeat-x; }
	.universalBarBackground {background:url(/content/0008/703/523/universalBar_bkg.png) repeat-x; }
</style>


	<style type="text/css">
	.universalButtonSprite {
	   background: url(/content/0005/771/822/universal_button_sprite.gif) no-repeat top left;
	   width: 0px;
	 }
	</style>
	<link rel="stylesheet" type="text/css" href="/content/0005/771/822/universal_button_sprites.css">


	<style type="text/css">
	.brandButtonsAndAssetsSprite {
	   background: url(/content/0002/444/294/brand_buttons_and_assets_sprite.gif) no-repeat top left;
	   width: 0px;
	}
	</style>
	<link rel="stylesheet" type="text/css" href="/content/0002/444/294/brand_buttons_and_assets_sprites.css">


	<style type="text/css">
	.brand {
	   background: url(/content/0008/703/523/universal_bar_sprites.png) no-repeat top left;
	   width: 0px;
	 }
	</style>
	<link rel="stylesheet" type="text/css" href="/content/0008/703/523/universal_bar_sprites.css">




	




	
		
	
	
			


	
			
			
	
	
	
	






<link rel="stylesheet" type="text/css" href="/css/common/layouts/en/nonBrowse.css">
<link rel="stylesheet" type="text/css" href="/css/customerService/layouts/en/customerService.css">


<style type="text/css">
	#mainContent {width: 988px; border:0;}
	#mainContentContainer {padding:0px 0px 0px 0px;}
	#mainContentContainer #mainContent {width: 826px;}
	#upperFoot #upperLtFootContainer {width: 604px;}
</style>	

	
		
		
			




	
		
	
	
			


	
			
			
	
	
	
	






<link rel="stylesheet" type="text/css" href="/css/customerService/content/en/content.css">
		
	
	




	
		
	
	
			


	
			
			
	
	
	
	








  <!--[if (lt IE 9) & (!IEMobile)]>
    
      
        <link href="/Asset_Archive/static-content/build/css/meta_common.css" rel="stylesheet">
      
    
  <![endif]-->

  <!--[if (gte IE 9) | (IEMobile)]><!-->
    
      
        <link href="/Asset_Archive/static-content/build/css/meta_common.css" rel="stylesheet">
      
    
  <!--<![endif]-->


<link rel="stylesheet" href="/Asset_Archive/static-content/build/grunticon/logos/icons.data.svg.css" media="all"><link rel="stylesheet" href="/Asset_Archive/static-content/build/grunticon/icons/icons.data.svg.css" media="all"><link rel="stylesheet" href="/content/static/grunticon-logos/icons.data.svg.css"><link rel="stylesheet" href="/content/static/grunticon-icons/icons.data.svg.css"><script>
/*! grunt-grunticon Stylesheet Loader - v2.1.3 | https://github.com/filamentgroup/grunticon | (c) 2015 Scott Jehl, Filament Group, Inc. | MIT license. */
(function(e){function t(t,n,r,o){"use strict";function a(){for(var e,n=0;u.length>n;n++)u[n].href&&u[n].href.indexOf(t)>-1&&(e=!0);e?i.media=r||"all":setTimeout(a)}var i=e.document.createElement("link"),l=n||e.document.getElementsByTagName("script")[0],u=e.document.styleSheets;return i.rel="stylesheet",i.href=t,i.media="only x",i.onload=o||null,l.parentNode.insertBefore(i,l),a(),i}var n=function(r,o){"use strict";if(r&&3===r.length){var a=e.navigator,i=e.Image,l=!(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")||e.opera&&-1===a.userAgent.indexOf("Chrome")||-1!==a.userAgent.indexOf("Series40")),u=new i;u.onerror=function(){n.method="png",n.href=r[2],t(r[2])},u.onload=function(){var e=1===u.width&&1===u.height,a=r[e&&l?0:e?1:2];n.method=e&&l?"svg":e?"datapng":"png",n.href=a,t(a,null,null,o)},u.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",document.documentElement.className+=" grunticon"}};n.loadCSS=t,e.grunticon=n})(this);(function(e,t){"use strict";var n=t.document,r="grunticon:",o=function(e){if(n.attachEvent?"complete"===n.readyState:"loading"!==n.readyState)e();else{var t=!1;n.addEventListener("readystatechange",function(){t||(t=!0,e())},!1)}},a=function(e){return t.document.querySelector('link[href$="'+e+'"]')},c=function(e){var t,n,o,a,c,i,u={};if(t=e.sheet,!t)return u;n=t.cssRules?t.cssRules:t.rules;for(var l=0;n.length>l;l++)o=n[l].cssText,a=r+n[l].selectorText,c=o.split(");")[0].match(/US\-ASCII\,([^"']+)/),c&&c[1]&&(i=decodeURIComponent(c[1]),u[a]=i);return u},i=function(e){var t,o,a;o="data-grunticon-embed";for(var c in e){a=c.slice(r.length);try{t=n.querySelectorAll(a+"["+o+"]")}catch(i){continue}if(t.length)for(var u=0;t.length>u;u++)t[u].innerHTML=e[c],t[u].style.backgroundImage="none",t[u].removeAttribute(o)}return t},u=function(t){"svg"===e.method&&o(function(){i(c(a(e.href))),"function"==typeof t&&t()})};e.embedIcons=i,e.getCSS=a,e.getIcons=c,e.ready=o,e.svgLoadedCallback=u,e.embedSVG=u})(grunticon,this);

  // GRUNTICON FOR BRAND LOGOS
  grunticon(["/Asset_Archive/static-content/build/grunticon/logos/icons.data.svg.css", "/Asset_Archive/static-content/build/grunticon/logos/icons.data.png.css", "/Asset_Archive/static-content/build/grunticon/logos/icons.fallback.css"]);

  // GRUNTICON FOR ALL OTHER ICONS
  grunticon(["/Asset_Archive/static-content/build/grunticon/icons/icons.data.svg.css", "/Asset_Archive/static-content/build/grunticon/icons/icons.data.png.css", "/Asset_Archive/static-content/build/grunticon/icons/icons.fallback.css"], grunticon.svgLoadedCallback);
</script>
<noscript>
  <!-- GRUNTICON FOR BRAND LOGOS -->
  <link href="/Asset_Archive/static-content/build/grunticon/logos/icons.fallback.css" rel="stylesheet">

  <!-- GRUNTICON FOR ALL OTHER ICONS -->
  <link href="/Asset_Archive/static-content/build/grunticon/icons/icons.fallback.css" rel="stylesheet">
</noscript>


	<style type="text/css" title="styles" media="screen">
			




	
		
	
	
			


	
			
			
	
	
	
	






	

	
	
	

	
	
	
	
			
	
		
	
		
					
			
		   
			
		
	
	</style>
	




	
		
	
	
			


	
			
			
	
	
	
	







<script type="text/javascript">
//<![CDATA[
    var pasRepository = {
        attrNames : null
       };
	// ]]>
</script>

<!-- @TemplateContentLayout(templateRegionName:"gid.common.siteWide.businessCode.pasAttributes") -->
<!-- Begin Enabling PAS Testing -->
<script type="text/javascript">
//<![CDATA[
    var pasRepository = {
        attrNames : "GOLDIVPREF"
    };
// ]]>
</script>
<!-- End Enabling PAS Testing -->

	




	
		
	
	
			


	
			
			
	
	
	
	











	


    










<!-- Ensure that date is always formated for en_US for processing at the JavaScript tier -->



<!-- Reset localeCode to default standard -->




<script type="text/javascript" src="/gzip_878393942/optimizedBundles/tealeafOptimized.js"></script>


<script type="text/javascript">
//<![CDATA[
	var environmentModelValues = {
    	isLoggingServiceActive: 'false',	
		isReserveInStoreActive: 'true'
    };
    
	TeaLeaf.Event.Configuration.tlqueueeventstimer = "900000" || 900000,
    TeaLeaf.Event.Configuration.tlqueueeventsmaxsz = "8192" || 8192
 // ]]>
</script>






	
		
	
	
			


	
			
			
	
	
	
	







<script type="text/javascript">
    var resourceBundleValues = {
        strOutOfStockMessageWithSizes : "not available in",
        strOutOfStockWithoutSizes : "not available",
        strQuantityLabel : "select qty",
        strOtherVariants : "also in",
        strColorLabel : "Select",
        strSizeDim1Label : "Select",
        strSizeDim2Label : "Select",
        strBagErrorPrefix : "please select a",
        strBagErrorPrefix2 : "please select an",
        strBagErrorSuffix : "before adding to bag",
        strOnOrderMessage : "on order &#8211; est&#46; ship date&#58;",
        strOnOrderHoverMessage : "on order &#8211;",
        strOnOrderHoverMessageShipDate : "click for ship date",
        strLowInventoryMessage : "low inventory, order now for best selection",
        strProductDetailLink : "more details",
        strSizeChartLink : "size chart",
        strVariantLegalCopy : "prices may vary",
        strIsImported : "Imported.",
        strIsNotImported : "Made in USA.",
        strRegularVariant : "regular",
        strColorOutOfStockLabel : "no longer available",
        strAddToBagAltText : "Select color and size before adding to bag",
        strAddToBagAltTextActive : "Click to add item to bag",
        strAddToBagAltTextOut : "Out of stock",
        strAddToBagAltTextOutfit : "Click to add selected items to bag",
        strinlineBagScreenTextReaderMessage : "Added to bag: #{styleDescription}, color: #{color}, size: #{size}, price: #{subTotal}, quantity: #{quantity}",
        common: {
            monday: "Monday",
            tuesday: "Tuesday",
            wednesday: "Wednesday",
            thursday: "Thursday",
            friday: "Friday",
            saturday: "Saturday",
            sunday: "Sunday",
            january: "January",
            february: "February",
            march: "March",
            april: "April",
            may: "May",
            june: "June",
            july: "July",
            august: "August",
            september: "September",
            october: "October",
            november: "November",
            december: "December",
            regularVariant: "Regular"
        },
        profile: {
        	personalizedMyAccount : "'s account",
        	yourAccount : "Your account",
        	signOut : "Sign out",
        	isRecognizedUser : "Not you?",
        	changeUserMessageTemplate : "(Not #{name}?)",
        	signIn : "Sign in",
        	orderStatus : "Orders and returns",
        	orderStatusV2 : "Order Status",
        	shippingTo : "Shipping to",
        	weak : "Weak",
        	fair : "Fair",
        	good : "Good",
        	strong : "Strong",
        	sameAsUser : "Weak: Same as user",
        	sameAsHint : "Weak: Same as hint",
        	rewards : "Rewards",
        	accountSettings : "Account Settings",
        	haveAnAccount : "Have an account?"      	
        },
        inLineBag :{
            labelColor : "Color",
	        labelSize : "Size",
			labelQuantity : "Qty",
			labelPrice : "Price",
			itemInSingular : "item in",
			itemInPlural : "items in",
			lineItemJp : "???common.universal.lineItem.text.lineItemJp???",
			lineItemBag : "bag",
			yourBag : "your bag",
			addedTo : "Added to",
			inlineBagItemSingular : "item in",
			inlineBagItemPlural : "items in",
	    	inlineBagItemJp : "???common.universal.navigation.TopNavCommon.text.inlineBagItemJp???"
	    },
	    discounts :{
	    	rewardMessage : "Redeem Your <div id='ribbon'><div id='ribbonAmount'>$#{rewardValue}</div></div> in Rewards",
	    	offersAndRewardsMessage : "<div id='ribbonOffersAndRewards'><div id='ribbonAmountOffersAndRewards'>$#{rewardValue}</div></div>"
		},
        product : {
	        groupNameOverview : "overview",
	        groupNameTips : "tips",
	        groupNameFabric : "fabric & care",
	        groupNameFit : "fit & sizing",
	        groupNameDefault : "fit & sizing",
	        productImage : "product image",
	        productColor : "color",
	        thumbnail : "thumbnail",
	        productText : "product",
	        outfitView : "Outfit View",
	        closeQuicklook : "close quicklook",
	        additionalView : "Additional View",
	        sizeChart : "Size Chart",
	        colorAndSizeSelectError : "Select color and size before adding to bag",
	        sizeTabText : "Size & Color",
	        overviewTabText : "Overview",
	        imageText : "image"
         },
       	infoPopupsAltTextClose : "Close",
       	checkOut : {
       		noGiftWrapText : "No gift wrap",
       		promotionDetailsText : "Promotion Details",
       		shoppingBagCountText: "<span>Your Shopping Bag</span>: #{count} item</span>",
       		shoppingBagCountPluralText: "<span>Your Shopping Bag</span>: #{count} items</span>"
       	},
       	currency : "$",
       	localeFrenchCanada: "fr_CA",
       	localeEnglishCanada: "en_CA",
       	courrencyCode : "USD",
       	priceSuffix : ".00",
       	intlShipSiteRedirectContent : {
           	ca : {
		        siteSelectorLabel : "Shop the Canada site",           	 
		        contentMessage1 : "Free shipping on orders of $50 or more",           	 
		        contentMessage2 : "All orders, all the time",           	 
		        contentMessage3 : "No duties. No handling fees. No kidding.",           	 
		        calloutMessage : "Selecting this option redirects you to the Canadian site."
       		},
       		gb : {
		        siteSelectorLabel : "Shop the EU site",           	 
		        contentMessage1 : "Delivery Simplified: £4 ",           	 
		        contentMessage2 : "Returns are Free",           	 
		        contentMessage3 : "2 Stores, 1 Checkout",           	 
		        calloutMessage : "Selecting this option redirects you to our EU site."
       		}           				               	 
       	},
       	brand : {
       		brandUrl1 : "gap.com",
       		brandUrl2 : "bananarepublic.com",
       		brandUrl3 : "oldnavy.com",
       		brandUrl4 : "piperlime.com",
       		brandUrl10 : "athleta.com",
       		brandUrl7 : "gapcanada.ca",
       		brandUrl8 : "bananarepublic.ca",
       		brandUrl9 : "oldnavy.ca",
       		brandUrl20 : "gap.co.uk",
       		brandUrl21 : "bananarepublic.co.uk",
       		brandUrl24 : "gap.co.jp",
       		brandUrl25 : "bananarepublic.co.jp",
       		brandUrl28 : "gap.eu",
       		brandUrl29 : "bananarepublic.eu"
       	}
       	,
       	storeLocations : {
       		fistTitle : "Find In Store",
       		storesWithin : "Stores within",
       		storesWithin2 : "",	
       		milesOf : "miles of",	
       		milesOfWrapped : "miles of",	
       		locNotFound : "Check stores near you for this product.",	
       		edit : "Edit",
            continueBTN : "Continue",   
            validateUsCanMsg : "Please enter a valid ZIP code",  
            limited : "Limited",
            available : "Available",
            unavailable : "Unavailable",
            sortBy : "Sort by",
            headerStores : "Stores",
            headerHours :  "Hours",
            headerDistance : "Distance",
            headerAvailability : "Availability",
            legalLink : "???common.universal.storeLocations.list.legalLink???",
            phoneLabel : "Phone",
            weekdayHoursLabel : "Store Hours",
            specialHoursLabel : "Special Hours",
            updatedAvailability : "(updated every 20-30 minutes)"
       	},
        storeLocator : {
            mapDirectionsMsg : "Enter a Street Address, City, State or ZIP code",
            findAStore : "Find a store near",
            clearSearch : "Clear",
            findStores : "Find",
            storeDetails : "Store Detail",
            getDirections : "Get Directions",
            mapsApiLoadFailMsg : "We are sorry Google Maps did not load. Please try again.",
            noStoresFoundMsg : "Sorry, we have no stores that fit your search criteria. <br/> Please change your search and try again.",
            legalPleaseNote:  "PLEASE NOTE: Product location information is updated every 20-30 minutes.",
            legalText:  "In-store prices may vary and may differ from online prices.",

            onlyAvailableOnline : "This item is not currently available in stores.",
            selectASize : "Please select a size above to see store availability.",
            noStoresInList : "Sorry, we have no stores that fit your search criteria. Please edit your search above to try again.",
            unavailableInStores: "Sorry, your selection is currently unavailable in the stores. Please change your selection and try again.",
            postalCodeEditTitle: "Check store availability",
            milesOfPcode : "miles of ZIP code",   
			within: "within",
            storePricesVary: "store prices may vary",
            limitedBubble:  "Before you visit the store, please call to make sure this item is still in stock. A sales associate can put it on hold for you.",
            limitedBubbleReservable:  "To ensure availability, click the &quot;Reserve in Store&quot; button to have a sales associate look for the item and hold it for you.",
            unitOfMeasure: "miles",
            fisCheckStoreAvailability: "Click &quot;Find In Store&quot; to check store availability",
            checkStoreAvailability: "check store availability",
            select: "select"
        },
        reserveInStore: {
        	featureButtonLabel: "Reserve In Store",
            baseTitle: "Reserve In Store at",
            required: "Required",
        	needInfoHeader: "We need a little info to reserve this item",
        	emailMessage: "We'll email you as soon as we locate your item,<br/>usually in about an hour",
        	firstNameLabel: "First Name",
        	lastNameLabel: "Last Name",
        	emailLabel: "Email",
        	textMessage: "Should we text you, too? (optional)",
			optInMessage: "Sign up for our emails to get first dibs on new arrivals, can't-miss deals and more.",
        	specialHandling: "Is this a gift, Gap?",
        	mobileNumberLabel: "Mobile number",
        	includeAreaCode: "Include area code",
        	dataRatesMessage: "Data rates may apply",
        	reserveButtonLabel: "Reserve",
        	buttonSeperator: "or",
        	cancelButtonLabel: "Cancel",
        	legalMessage: "Used only to contact you about your request.",
        	firstNameError: "Please provide your first name",
        	lastNameError: "Please provide your last name",
        	emailError: "Type a valid email address",
        	mobileNumberError: "Type a valid mobile phone number",
        	thanksHeaderLine1MinusName: "Thanks, #{NAME}!",
        	thanksOpenHeaderLine2: "We'll look for your item now",
        	thanksClosedHeaderLine2: "We'll look for your item when the store opens",
        	risCloserOpen: "It's that easy!",
        	risCloserClosed: "We'll be in touch again soon!",
			risInfoBodyOpen1: "In about an hour, we'll send you an email to confirm that your item is ready. (We'll text you, too, if you chose that option.)",
			risInfoBodyOpen2: "Check the email for where to pick up your item in the store.",
			risInfoBodyOpen3: "We'll hold your item until closing time,",
			risInfoBodyClosed1: "The store is currently closed.  As soon as it opens, we'll look for your item.",
			risInfoBodyClosed2: "After we find it, we'll send you an email to confirm that the item is ready for you&#151; usually within an hour of opening. (We'll text you, too, if you chose that option.)",
			risInfoBodyClosed3: "",
			risOpenerOpen: "After we find it:",
			risOpenerClosed: "",
			continueButtonLabel: "Continue Shopping",
			titleRequestReceived: ": Request Received",
			storeSelected: "You've selected this store:",
			storeHours: "Store Hours",
			itemLabel: "Item",
			colorLabel: "Color",
			sizeLabel: "Size",
			priceLabel: "Price",
			storeHoursLabel: "Store Hours:",
			specialHoursLabel: "Special Hours:",
			youveSelected: "You've selected this store:",
			holdMessage: "PLEASE NOTE: You can reserve up to five items per day. After we confirm (by email or text) that the item is ready, we hold it for you until the store closes the following day.",
			tryAnotherStore: "Try another store",
			openClosedServiceFailureHeader2: "We'll look for your item",
			openClosedServiceFailureBody: "After we find it, we'll send you an email to confirm that the item is ready for you. (We'll text you, too, if you chose that option.)",
			reservationRequestFailureHeader: "Technical Difficulties",
			reservationRequestFailureBody: "We are currently experiencing technical difficulties. Please try again later or call us for assistance.",
			
			overCapacityTitleExtension: ": Request not completed",
			overCapacityHeaderLine1: "We're sorry, this store is",
			overCapacityHeaderLine2: "over its daily reservation limit.",
			overCapacityOpener: "You can try the following:",
			overCapacityInfoBody1: "Reserve this item today at <a href='' id='risAnotherStore'>another nearby store</a>.",
			overCapacityInfoBody2: "Call the <a href='/customerService/store.do?storeid=#{storeId}'>#{storeName}</a> store at #{phoneNumber} directly to reserve your item.",
			overCapacityInfoBody3: "Reserve this item tomorrow at <a href='/customerService/store.do?storeid=#{storeId}'>#{storeName}</a>.",
			overCapacityCloser: "We apologize for the inconvenience."
        }
        
       	

    };
</script>



<script type="text/javascript">
    var isClientStateManagementActive = "true";
</script>

<script type="text/javascript">
	/**
	 * GIDBrandSiteConstructor is a class that is a data store for sister GID site data.
	 * Instantiated as gidBrandSiteConstruct in JsGlobalFunctions.jsp by a method in NavLogicTag.java
	 * @constructor
	 *
	 * @author Byung Kim
	 * @date 10/24/2007
	 */
	function GIDBrandSiteConstructor (
			currentBrandCode,
			cookieDomain,
			currentBrandSiteId,
			sbsViewAllState,
			sitesVisited,
			sbsPreferences,
			sslPrefix,
			isCommonDomainOn,
			renderOnCurrentBrandUrl,
			sisterSiteActionPath,
			gidBrandSites) {
			this.currentBrandCode = currentBrandCode;
			this.cookieDomain  = cookieDomain;
			this.currentBrandSiteId = currentBrandSiteId;
			this.sbsViewAllState = sbsViewAllState;
			this.sbsPreferences = sbsPreferences;
			this.sslPrefix = sslPrefix;
			this.isCommonDomainOn  = isCommonDomainOn;
			this.renderOnCurrentBrandUrl  = renderOnCurrentBrandUrl;
			this.sisterSiteActionPath = sisterSiteActionPath;
			this.hasGIDBrandSites = (gidBrandSites && gidBrandSites.length > 0);
			this.sisterSiteUrlParams = "?isViewAll=" + this.sbsViewAllState + this.sbsPreferences;
			this.tempBrandSites = gidBrandSites;
			this.gidBrandSites = [];
			this.visitedSites = sitesVisited;
	};
	
 	
	var gidBrandSiteConstruct = new GIDBrandSiteConstructor(1, ".gap.com", "GAP", 0, "1", "", "secure-", true,false, "/browse/sistersitelink.do", [{brandName:"gap.com",brandCode:"1",brandDisplayName:"Gap",brandAbbr:"GAP",secureUrl:"https://secure-www.gap.com",unsecureUrl:"http://www.gap.com",imageServiceUrl:""},{brandName:"oldnavy.com",brandCode:"3",brandDisplayName:"Old Navy",brandAbbr:"ON",secureUrl:"https://secure-oldnavy.gap.com",unsecureUrl:"http://oldnavy.gap.com",imageServiceUrl:""},{brandName:"bananarepublic.com",brandCode:"2",brandDisplayName:"Banana Republic",brandAbbr:"BR",secureUrl:"https://secure-bananarepublic.gap.com",unsecureUrl:"http://bananarepublic.gap.com",imageServiceUrl:""},{brandName:"Athleta.com",brandCode:"10",brandDisplayName:"Athleta",brandAbbr:"AT",secureUrl:"https://secure-athleta.gap.com",unsecureUrl:"http://athleta.gap.com",imageServiceUrl:""}]);
	
</script>


	
		
		
			<script type="text/javascript" src="/gzip_1226798933/optimizedBundles/globalEnhancedOptimized.js"></script>

			
			<script type="text/javascript">
				// Activation of the navigationService and associated Managers
				navigationService.model.isActive = ('true' === 'true')
		                || ('true' === 'true')
		                || ('true' === 'true')
		                || ('true' === 'true');
				navigationService.paginationHelper.constants.MAX_PRODUCTS_PER_PAGE = Number('300') || 24;
			</script>
		
	






	
	
		<script src="/gid/js/common/layouts/en/iPad2.js"></script>
		<script type="text/javascript">
		if (navigator.userAgent.indexOf("iPad") != -1) {
			iPadInit();
			if (window.location.pathname.indexOf("/browse/") === 0) {
				window.addEventListener('touchstart', function(evt) { imageLoader.fetch(); }, false);
			}
		}
		</script>
	







	




<script type="text/javascript">
	// <![CDATA[

		Object.extend(brandConst, {

			UNIVERSAL_BUTTON_CONTENT_PATH : "/content/0005/771/822/",
			BRANDED_BUTTON_AND_ASSET_CONTENT_PATH : "/content/0002/444/294/",
			BRAND1_BADGE_CONTENT_PATH : "/content/0001/195/897/",
			BRAND2_BADGE_CONTENT_PATH : "/content/0001/195/955/",
			BRAND3_BADGE_CONTENT_PATH : "/content/0001/195/958/",
			BRAND4_BADGE_CONTENT_PATH : "/content/0008/703/911/",
			BRAND7_BADGE_CONTENT_PATH : "/content/0001/195/897/",
			BRAND8_BADGE_CONTENT_PATH : "/content/0001/195/955/",
			BRAND9_BADGE_CONTENT_PATH : "/content/0001/195/958/",
			BRAND10_BADGE_CONTENT_PATH : "/content/0008/723/283/",
			BRAND20_BADGE_CONTENT_PATH : "/content/0001/195/897/",
			BRAND21_BADGE_CONTENT_PATH : "/content/0001/195/955/",
			BRAND24_BADGE_CONTENT_PATH : "/content/0001/195/897/",
			BRAND25_BADGE_CONTENT_PATH : "/content/0001/195/955/",
			BRAND28_BADGE_CONTENT_PATH : "/content/0001/195/897/",
			BRAND29_BADGE_CONTENT_PATH : "/content/0001/195/955/",
			
			BRAND_LOCALE : "en_US",
			COUNTRY_NAME_UK : "United Kingdom",
            CATALOG_2_ACTIVE: "",
            INTERNATIONAL_SHIPPING_CURRENCY_CODE: "",
            INTERNATIONAL_SHIPPING_COUNTRY_CODE: "",
            PRODUCT_2_ACTION: "product.do",
            PRODUCTDATA_2_ACTION: "productData.do",
            DIVISION_2_ACTION: "division.do",
            SUBDIVISION_2_ACTION: "subdivision.do",
            HOME_2_ACTION: "home.do",
            DATE_IN_USE: "05/06/2015 03:35 AM",
            PREVIOUS_LOCALE : "en_US",
            
            IS_NAV2_ENABLED: 'false',
            IS_FACET_ENABLED: 'true',
            IS_OPTIMIZED_PRODUCT_PAGE_ACTIVE: 'false' ==  "true"
            
		});

		/** 
		 * Call to setBrandSites must occur AFTER the various brand BADGE_CONTENT_PATH variables are set.
		 * Prior to this call, other brand information will not be available via gidBrandSiteConstruct.  
		 **/
		if (window["gidBrandSiteConstruct"] != undefined) {
			gidBrandSiteConstruct.setBrandSites();
		}
		
	// ]]>
</script>	
	
<!-- reportingServiceType = h -->
<!-- catalogServiceType = 2 -->
<!-- catalogCacheType = 0 -->
<!-- catalogDormantTesting = false -->
<!-- catalogRemoteCacheActive =  -->
<!-- catalogNavigationActive = true -->
<!-- catalogSwatchesActive =  -->
<!-- catalogCategoryActive = true -->
<!-- catalogCategorySearchActive = true -->
<!-- catalogSearchActive = true -->
<!-- catalogMppActive = true -->
<!-- InternationalShippingCurrencyCode =  -->
<!-- InternationalShippingCountryCode=  -->
<!-- InternationalForeignExchangeRate =  -->
<!-- InternationalForeignExchangeRateQuoteId =  -->
<!-- InternationalForeignExchangeRoundUpValue =  -->
<!-- InternationalShippingPremiumPriceValues =  -->
<!-- hbaseProductMashupActive = true -->
<!-- isProductCategoryFacetedSearchActive = true -->
<!-- searchEnabled = true -->
<!-- isFacetedCategoryActive = true -->
<!-- isFacetedCategorySearchActive = true -->
<!-- brandTemplateServiceActive = true -->
<!-- categoryPageCachingActive = true -->
<!-- isStoreLocationsActive  = true -->
<!-- isMerchLocatorActive  = true -->
<!-- shippingOptionsFeatureActive  = true -->
<!-- isLoggingServiceActive  = false -->
<!-- catalogCategoryFeaturesEnabled  = power_reviews,quick_links,cj_feed,top_left_nav,ecom_rest_services,categories,local_static_data_cache -->
<!-- localCacheActive  = false -->
<!-- isLocalCacheDisabled  = true -->
<!-- isPageContentDataActive  = true -->
<!-- isKeywordSearchDrivenByEaskAsk  =  -->

<!-- pageTemplateInfo: pageId: 378805
			isTileOverrideDefinedFromParameter: false
			isTileOverrideDefinedFromPageContent: false
			isTemplateTileNameDefined: true
			templateTileName (tile definition inserted): gid.customerService.content.variant.10000734
			templateTileNameFromPageContent: gid.customerService.content.variant.10000734
			templateTileNameSuffix: 
			overrideTemplateTileNameFromPageContent: null
			templateTileNameFromParameter: null
			pageMode: default -->

<!-- faceted category white list =  -->
<!-- faceted category black list =  -->
<!-- isSolrEnabled = false -->
<!-- isFaceted = true -->
<!-- isCategorySearchFaceted  = true -->
<!-- isOptimizedProductPageActive  = false -->
<!-- surveyPopupDistribution  =  -->
<!-- isClientStateManagementActive  = true -->

<!-- isMobileProxyActive  = false -->
<!-- pageBreakpoint  = default -->
<!-- enhancedCheckoutActive  = false -->


<script type="text/javascript">
	// <![CDATA[
 	// Output gidConfig property here for s_account:
	reportingService.controller.reportingManager.reportingAccount = "gapproduction,gapgidproduction";
	reportingService.controller.reportingManager.mobileReportingAccount = "gapgapmobile,gapgidmobile";

	(function(reportSuiteJsObjectDefinition) {
		reportingService.controller.reportingManager.brandReportSuites  = reportSuiteJsObjectDefinition || {};
	})({brandSuites:{1:"gapproduction",2:"gapbananaproduction",3:"gapoldnavyproduction",4:"gappiperproduction",10:"gapathletaproduction"}, globalSuite:"gapgidproduction"});

	(function(reportSuiteJsObjectDefinition) {
		reportingService.controller.reportingManager.brandMobileReportSuites  = reportSuiteJsObjectDefinition || {};
	})({brandSuites:{1:"gapgapmobile",2:"gapbananamobile",3:"gapoldnavymobile",4:"gappipermobile",10:"gapathletamobile"}, globalSuite:"gapgidmobile"});
	
	reportingService.controller.reportingManager.currencyType = "USD";
	reportingService.controller.reportingManager.marketSpecificOmnitureUrl =  "metrics.gap.com";
	reportingService.controller.reportingManager.marketSpecificSecureOmnitureUrl =  "securemetrics.gap.com";

	browserService = new BrowserService();
	browserService.controller.managers.mobileBrowserManager.model.isMobileProxyActive =
		'false' == 'true';
	browserService.controller.managers.mobileBrowserManager.model.currentBusinessUnitMobileUrl =
		"http://m.gap.com";

	browserService.controller.managers.mobileBrowserManager.model.isMobileBrowserManagerActive =
		"true" === "true";
			
	
	browserService.controller.managers.mobileBrowserManager.constants.MOBILE_BROWSERS_TO_REDIRECT = ["iphone","ipod","android:mobile"];
	browserService.controller.init.main();
	

	contentService = new ContentService();

	responsiveService.model.pageBreakpoint = "default";
 	// ]]>
</script>


	
	
		<script type="text/javascript" src="/gid/js/common/layouts/en/pixelManagement/pixelManagementService.js"></script>
	

	
<script type="text/javascript">
// <![CDATA[
	
		
            
	            searchCID = "";
	            with (reportingService.controller.viewManagers.commonViewManager.model) {
					commonCurrentPageName = unUnicode("gp:customerService");
					commonCurrentBusinessId = (searchCID != "" ? searchCID : "");
					commonBrandPrefix = unUnicode("gp");
					commonChannelName = unUnicode("customerService");
					commonCurrentPath = "/info";
				}
				
				omni.strCurrentPageName = reportingService.controller.viewManagers.commonViewManager.model.commonCurrentPageName;
				
            
		
	
		
		
			
			
			
				
			
		
		objSearchBox.strDefaultText = 'Keyword / Style #';

		

		
		
		 
			
			
        
        
		RockbridgeSurvey.brandsVisited = "1";
	// ]]>
</script>
<script type="text/javascript">
// <![CDATA[
		
		   if(location.protocol == "http:"){
			  domain = "http://www.gap.com";
			  domain = domain.replace("http://","");
			  index = domain.lastIndexOf (":");
			  if(index > 0){
			  	domain = domain.substring(0,index);
			  }
			  
			  cdDomain = "http://www.gap.com";
			  cdDomain = cdDomain.replace("http://","");
			  index = cdDomain.lastIndexOf (":");
			  if(index > 0){
			  	cdDomain = cdDomain.substring(0,index);
			  }
			  if(location.hostname == cdDomain){
				  deleteDomainCookies(location.hostname,'false');
			  }
			}
		
		
		if (window["personalizationService"] != undefined) {
			with (personalizationService.model) {
				globalShipping.isGlobalShippingActive = "true";
				globalShipping.shippingOptionsActive = "true";
				parentCategoryBusinessCatalogItemId = "";
			}
			personalizationService.controller.init.main();
		}
		
		
		if (window["categoryService"] != undefined) {
			if (window["categoryInfo"] != undefined) {
				categoryService.controller.init.main();
			}
		}
		
		 
		
		if (window["storeLocationsService"] != undefined) {
			storeLocationsService.model.isStoreLocationsServiceActive = "true";
		}
		
 // ]]>	
 </script>	

<script type="text/javascript">
	var _checkoutFlowStateMachine = checkoutFlowStateMachine();
</script>

	




	
		
	
	
			


	
			
			
	
	
	
	






<script type="text/javascript" src="/gid/js/customerService/layouts/en/customerServiceApplicationFunctions.js"></script>



	
		
		
			




	
		
	
	
			


	
			
			
	
	
	
	





 
		
	
	




	
		
	
	
			


	
			
			
	
	
	
	







<!-- @TemplateContentLayout(templateRegionName:"gid.common.siteWide.businessCode.regionTop") -->

<!-- BEGIN - WCD Sitewide Container 1 -->
<!-- BEGIN Content Item File: /content/0009/440/370/cn9440370.html -->

<!-- !!!!!!!!!!!!!!!!!!!!!!!!!  WCD_WCD JS & CSS Head Legacy !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
<style type="text/css">

/* Product Page Final Sale title override 2/19 cleanup */
#productNameText { line-height:16px; margin-top:0 }
#productNameText #productMarketingFlag {color:#FF3300;font-size:16px; line-height:18px;padding-bottom:10px }

/*override no returns asset */
.brand1 #productMailOnlyReturn .sprite, .brand1 #productIntlMailOnlyReturn .sprite, .brand1 #productFreeReturn .sprite, .brand1 #productNonreturnable .sprite, .brand1 #productNotIntlShip .sprite {
    background: url("/Asset_Archive/GPWeb/content/0007/698/652/assets/sprites-norefunds-override.gif") no-repeat scroll left top rgba(0, 0, 0, 0);
    height: 16px;
    vertical-align: middle;
    width: 25px;
}

.brand1 #productNonreturnable .nonreturnable, .brand1 #productNotIntlShip .notintlship {
    background-position: 0 -441px;
}

/* Added 07.03.14 - Fix Return Only - Ollie */
.brand1 #productMailOnlyReturn .mailonly, .brand1 #productIntlMailOnlyReturn .intlmailonly {
	background-position: 0 -416px !important;
}

.brand1 #productMailOnlyReturn, .brand1 #productIntlMailOnlyReturn, .brand1 #productFreeReturn, .brand1 #productNonreturnable, .brand1 #productNotIntlShip {
    background-color: #C1C1C1;
    color: #FF3300;
    font-weight: bold;
}

/* BEGIN ProductPages_EDFS Copy Update */

#newTabWindow { border:1px #c1c1c1 solid; border-top:0; font-size: 11px; margin: 0; padding: 1px 10px 10px; width: 308px; color:#000;}
#newTabWindow .italCopy {font-size:9px;font-style:italic;}
#newTabWindow ul { color:#666; font-size:10px; list-style-type:disc; margin-bottom:10px; padding:0; }
#newTabWindow li { margin-left:20px; }



/* GOL LAYOUT US*/

/** product info alignment **/
a.productItemName:link, a.productItemName:visited, a.productItemName:hover, a.productItemName:active {
    text-align: center;
}
.priceDisplay, .priceDisplayStrike, .priceDisplaySale {
    text-align: center;
}
.productMarketingFlag {
	display:block;
    text-align: center;
}
.productCatItem span.mupSupMessage {
    padding: 2px 6px 2px 6px;
    text-align: center;
}

/** END product info alignment **/


/* remove outlines on image maps */
area { outline: none; }

/*+++++++++++++ VI -- CATEGORY PAGES +++++++++++++++++++*/ 
	.brand1 .quicklook-sprites, .brand7 .quicklook-sprites, .brand20 .quicklook-sprites {background:transparent url(/Asset_Archive/GPWeb/content/0002/444/294/brand_buttons_and_assets_sprite.gif) no-repeat scroll left top;}
		
	#shopBySizeContainer{background:#F0F0F0;}
	
	#shopBySizeTools {background:url("/Asset_Archive/GPWeb/content/0002/447/007/assets/shopbysize_hdr.gif") no-repeat scroll 13px 0 #F0F0F0; height: 14px; margin:0; padding:0px  2px 2px 102px; white-space:nowrap; width:712px;}
	
	#shopBySizeTools li a {color:#000; font-weight:bold; text-decoration:none; text-transform:uppercase;}
	
	/*shop by size: size chart layout adjustment */
	#shopBySizeTools li {padding-top:-1px; _padding-top:-1px; *padding-top:-1px;}	
	
	/*pagination*/
	#tabTable,
	#tabTableOff .categoryPaging a:link,
	#tabTableOff .categoryPaging a:visited, 
	#tabTableOff .categoryPaging a:hover, 
	#tabTableOff .categoryPaging a:active { color:#000; }
	
/*+++++++++++++ END: VI -- CATEGORY PAGES+++++++++++++++++++*/ 

/*+++++++++++++ BEGIN: LEFT SIDE NAVIGATION OVERRIDE+++++++++++++++++++*/ 
	
	#sideNav  {background-color:transparent !important;color:#000000;}
	#sideNav a:hover {color:#999;}
	
	#sideNav ul.category{margin:3px 0px 0px 0px}
	#sideNav li.header {border-top:1px solid #000; padding:6px 0px 0px 10px; margin-right:3px;}
	#sideNav li.header.firstHeader {border-top:1px solid transparent; padding:6px 0px 3px 10px;}	
	
	#sideNav li.category {margin:0px 0px 0px 11px;}
	
	#sideNav li.categorySelected{background-image:none; margin-left:0px; padding: 0 0 0 6px;}
	#sideNav a.categorySelected:link, #sideNav a.categorySelected:visited, #sideNav a.categorySelected:active, #sideNav a.categorySelected:hover {margin:0px 0px 0px 5px;}	
	#sideNav a.categorySelected:link, #sideNav a.categorySelected:visited, #sideNav a.categorySelected:active, #sideNav a.categorySelected:hover {color:#999;}
	
	#sideNav li.subCategory {margin:0px 0px 0px 5px;}
	#sideNav a.subCategorySelected:link, #sideNav a.subCategorySelected:visited, #sideNav a.subCategorySelected:active, #sideNav a.subCategorySelected:hover {color:#999;}
	
	/*Sale Category and subcategory on Left Side Navigation*/
	#sideNav li.sale a.subCategorySelected:link, #sideNav li.sale a.subCategorySelected:visited, #sideNav li.sale a.subCategorySelected:active, #sideNav li.sale a.subCategorySelected:hover{color: #999;}	

	#sideNav li.sale a.subCategory:hover{color: #999;}
	/*END:Sale Category and subcategory on Left Side Navigation*/
			
	/*Reduce top margin for the first header on the left side navigation*/
		#sideNav #categoryNav11674{margin-top:-4px; *margin-top:0px; _margin-top:0px; border-top:1px solid transparent;}/*reduce top margin for the first header (Special Sizes) in Women DP and removes top border*/	
		#sideNav #categoryNav77397{margin-top:-4px; *margin-top:0px; _margin-top:0px; border-top:1px solid transparent;}/*reduce top margin for the first header (Features) in Body DP and removes top border*/		
		#sideNav #categoryNav77320{margin-top:0px; _margin-top:0px; *margin-top:0px; border-top:1px solid transparent;}/*reduce top margin for the first header (Features) in Maternity DP*/				
		#sideNav #categoryNav37862{margin-top:0px; border-top:1px solid transparent;}/*reduce top margin for the first header (Special Sizes) in Men DP*/		
		#sideNav #categoryNav6258{margin-top:0px; border-top:1px solid transparent;}/*reduce top margin for the first header (Special Sizes) in Girls DP*/
		#sideNav #categoryNav6174{margin-top:0px; border-top:1px solid transparent;}/*reduce top margin for the first header (Special Sizes) in Boys DP*/
		
		#sideNav #categoryNav77344{margin-top:0px; border-top:1px solid transparent;}/*reduce top margin for the first header (Collections) in Toddler Girls DP*/
		#sideNav #categoryNav77345{margin-top:0px; border-top:1px solid transparent;}/*reduce top margin for the first header (Collections) in Toddler Boys DP*/
		
		#sideNav #categoryNav70107{margin-top:0px; border-top:1px solid transparent;}/*reduce top margin for the first header (Special Sizes) in Infant Girls DP*/
		#sideNav #categoryNav70172{margin-top:0px; border-top:1px solid transparent;}/*reduce top margin for the first header (Special Sizes) in Infant Boys DP*/
		
		#sideNav #categoryNav26637{margin-top:0px; border-top:1px solid transparent;}/*reduce top margin for the first header Sale DP*/
		
		
	/* END: reduce top margin for the first header on the left side navigation*/
	
	
	/*SALE DIVISION LEFT SIDE NAV*/
		#categoryNav26637{border-top:1px solid #000; padding:0px 0px 0px 0px;}/*Sale top line*/			
		li.categoryActive  #categoryNav26637 {padding:0px 0px 0px 6px;}
		#sideNav #categoryNav26637 a.sale category:link, #sideNav a.sale category:visited, #sideNav a.sale category:active, #sideNav a.sale category:hover {color:#999;}
		
		/*Women Category and subcategories*/
		#sideNav #categoryNav26637 a.sale:link, #sideNav a.sale:visited, #sideNav a.sale:active, #sideNav a.sale:hover{color:#c00;}
		#sideNav #categoryNav26637 a.sale:hover{color:#c00;}
		#sideNav #categoryNav26637 a.categorySelected:link, #sideNav #categoryNav26637 a.categorySelected:visited, #sideNav #categoryNav26637 a.categorySelected:active, #sideNav #categoryNav26637 a.categorySelected:hover {color:#999;}
		#sideNav #categoryNav26637 a.subCategorySelected:link, #sideNav #categoryNav26637 a.subCategorySelected:visited, #sideNav #categoryNav26637 a.subCategorySelected:active, #sideNav #categoryNav26637 a.subCategorySelected:hover {color:#999;}

		/*Body Category and subcategories*/
		#sideNav #categoryNav64826 a.sale:link, #sideNav a.sale:visited, #sideNav a.sale:active, #sideNav a.sale:hover{color:#c00;}
		#sideNav #categoryNav64826 a.sale:hover{color:#c00;}
		#sideNav #categoryNav64826 a.categorySelected:link, #sideNav #categoryNav64826 a.categorySelected:visited, #sideNav #categoryNav64826 a.categorySelected:active, #sideNav #categoryNav64826 a.categorySelected:hover {color:#999;}
		#sideNav #categoryNav64826 a.subCategorySelected:link, #sideNav #categoryNav64826 a.subCategorySelected:visited, #sideNav #categoryNav64826 a.subCategorySelected:active, #sideNav #categoryNav64826 a.subCategorySelected:hover {color:#999;}

		/*MaternityCategory and subcategories*/
		#sideNav #categoryNav26689 a.sale:link, #sideNav a.sale:visited, #sideNav a.sale:active, #sideNav a.sale:hover{color:#c00;}
		#sideNav #categoryNav26689 a.sale:hover{color:#c00;}
		#sideNav #categoryNav26689 a.categorySelected:link, #sideNav #categoryNav26689 a.categorySelected:visited, #sideNav #categoryNav26689 a.categorySelected:active, #sideNav #categoryNav26689 a.categorySelected:hover {color:#999;}
		#sideNav #categoryNav26689 a.subCategorySelected:link, #sideNav #categoryNav26689 a.subCategorySelected:visited, #sideNav #categoryNav26689 a.subCategorySelected:active, #sideNav #categoryNav26689 a.subCategorySelected:hover {color:#999;}

		/*Men Sale Category and subcategories*/
		#sideNav #categoryNav26265 a.sale:link, #sideNav a.sale:visited, #sideNav a.sale:active, #sideNav a.sale:hover{color:#c00;}
		#sideNav #categoryNav26265 a.sale:hover{color:#c00;}
		#sideNav #categoryNav26265 a.categorySelected:link, #sideNav #categoryNav26265 a.categorySelected:visited, #sideNav #categoryNav26265 a.categorySelected:active, #sideNav #categoryNav26265 a.categorySelected:hover {color:#999;}
		#sideNav #categoryNav26265 a.subCategorySelected:link, #sideNav #categoryNav26265 a.subCategorySelected:visited, #sideNav #categoryNav26265 a.subCategorySelected:active, #sideNav #categoryNav26265 a.subCategorySelected:hover {color:#999;}

		/*Boys Sale Category and subcategories*/
		#sideNav #categoryNav26418 a.sale:link, #sideNav a.sale:visited, #sideNav a.sale:active, #sideNav a.sale:hover{color:#c00;}
		#sideNav #categoryNav26418 a.sale:hover{color:#c00;}
		#sideNav #categoryNav26418 a.categorySelected:link, #sideNav #categoryNav26418 a.categorySelected:visited, #sideNav #categoryNav26418 a.categorySelected:active, #sideNav #categoryNav26418 a.categorySelected:hover {color:#999;}
		#sideNav #categoryNav26418 a.subCategorySelected:link, #sideNav #categoryNav26418 a.subCategorySelected:visited, #sideNav #categoryNav26418 a.subCategorySelected:active, #sideNav #categoryNav26418 a.subCategorySelected:hover {color:#999;}

		/*Girls Sale Category and subcategories*/
		#sideNav #categoryNav26603 a.sale:link, #sideNav a.sale:visited, #sideNav a.sale:active, #sideNav a.sale:hover{color:#c00;}
		#sideNav #categoryNav26603 a.sale:hover{color:#c00;}
		#sideNav #categoryNav26603 a.categorySelected:link, #sideNav #categoryNav26603 a.categorySelected:visited, #sideNav #categoryNav26603 a.categorySelected:active, #sideNav #categoryNav26603 a.categorySelected:hover {color:#999;}
		#sideNav #categoryNav26603 a.subCategorySelected:link, #sideNav #categoryNav26603 a.subCategorySelected:visited, #sideNav #categoryNav26603 a.subCategorySelected:active, #sideNav #categoryNav26603 a.subCategorySelected:hover {color:#999;}

		/*Toddler Boy Sale Category and subcategories*/
		#sideNav #categoryNav26208 a.sale:link, #sideNav a.sale:visited, #sideNav a.sale:active, #sideNav a.sale:hover{color:#c00;}
		#sideNav #categoryNav26208 a.sale:hover{color:#c00;}
		#sideNav #categoryNav26208 a.categorySelected:link, #sideNav #categoryNav26208 a.categorySelected:visited, #sideNav #categoryNav26208 a.categorySelected:active, #sideNav #categoryNav26208 a.categorySelected:hover {color:#999;}
		#sideNav #categoryNav26208 a.subCategorySelected:link, #sideNav #categoryNav26208 a.subCategorySelected:visited, #sideNav #categoryNav26208 a.subCategorySelected:active, #sideNav #categoryNav26208 a.subCategorySelected:hover {color:#999;}

		/*Toddler Girl Sale Category and subcategories*/
		#sideNav #categoryNav26041 a.sale:link, #sideNav a.sale:visited, #sideNav a.sale:active, #sideNav a.sale:hover{color:#c00;}
		#sideNav #categoryNav26041 a.sale:hover{color:#c00;}
		#sideNav #categoryNav26041 a.categorySelected:link, #sideNav #categoryNav26041 a.categorySelected:visited, #sideNav #categoryNav26041 a.categorySelected:active, #sideNav #categoryNav26041 a.categorySelected:hover {color:#999;}
		#sideNav #categoryNav26041 a.subCategorySelected:link, #sideNav #categoryNav26041 a.subCategorySelected:visited, #sideNav #categoryNav26041 a.subCategorySelected:active, #sideNav #categoryNav26041 a.subCategorySelected:hover {color:#999;}
		
		/*Baby Boy Sale Category and subcategories*/
		#sideNav #categoryNav42529 a.sale:link, #sideNav a.sale:visited, #sideNav a.sale:active, #sideNav a.sale:hover{color:#c00;}
		#sideNav #categoryNav42529 a.sale:hover{color:#c00;}
		#sideNav #categoryNav42529 a.categorySelected:link, #sideNav #categoryNav42529 a.categorySelected:visited, #sideNav #categoryNav42529 a.categorySelected:active, #sideNav #categoryNav42529 a.categorySelected:hover {color:#999;}
		#sideNav #categoryNav42529 a.subCategorySelected:link, #sideNav #categoryNav42529 a.subCategorySelected:visited, #sideNav #categoryNav42529 a.subCategorySelected:active, #sideNav #categoryNav42529 a.subCategorySelected:hover {color:#999;}

		/*Baby Girl Sale Category and subcategories*/
		#sideNav #categoryNav26032 a.sale:link, #sideNav a.sale:visited, #sideNav a.sale:active, #sideNav a.sale:hover{color:#c00;}
		#sideNav #categoryNav26032 a.sale:hover{color:#c00;}
		#sideNav #categoryNav26032 a.categorySelected:link, #sideNav #categoryNav26032 a.categorySelected:visited, #sideNav #categoryNav26032 a.categorySelected:active, #sideNav #categoryNav26032 a.categorySelected:hover {color:#999;}
		#sideNav #categoryNav26032 a.subCategorySelected:link, #sideNav #categoryNav26032 a.subCategorySelected:visited, #sideNav #categoryNav26032 a.subCategorySelected:active, #sideNav #categoryNav26032 a.subCategorySelected:hover {color:#999;}
		
		/* Shop By Size Text in Left Hand Nav for G, B, TG, TB css overide */
		#sideNavCategories #categoryNav98252, #sideNavCategories #categoryNav98255, #sideNavCategories #categoryNav98248, #sideNavCategories #categoryNav98250  {border-top: 1px solid #000; padding: 10px 0px 0px 10px; font-weight: bold; margin: 10px 3px 0 0; font-size: 11px;}

	/*END: SALE DIVISION LEFT SIDE NAV*/

	/*BEGIN: PIPERLIME SHOE SHOP COLORATION: M,B,G */
	#sideNav #categoryNav48371 a.category {color:#77BB00;}

	#sideNav #categoryNav48371 a.categorySelected {color:#77BB00;}

	#sideNav #categoryNav39790 a.category {color:#77BB00;}

	#sideNav #categoryNav39790 a.categorySelected {color:#77BB00;}

	#sideNav #categoryNav39791 a.category {color:#77BB00;}

	#sideNav #categoryNav39791 a.categorySelected {color:#77BB00;}
	/*END: PIPERLIME SHOE SHOP COLORATION: M,B,G */

	
/*+++++++++++++ END: LEFT SIDE NAVIGATION OVERRIDE+++++++++++++++++++*/ 

/*+++++++++++++ BEGIN: PRODUCT PAGE LAYOUT +++++++++++++++++++*/ 
	
	
	.brand1 .imgDiv {background-color:white; border:1px solid #fff;}/*product images keyline to white */
	
	#productContentLeft{margin-top:22px; _margin-top:22px; *margin-top:22px;}/*(used to be margin-top:12px -- move product page up*/
	#productContentRight{margin-top:22px; _margin-top:22px; *margin-top:22px;}/*(used to be margin-top:12px -- move product page up*/
	
	#productNameText, #productNameText h2, #productNameText h1 {color:#000; padding-left:0px}/*overrides product header shift and color*/
	
	/*font and rule for the sizing box*/
	.brand1 #swatchContent input, .brand1 #quickLookSwatches input, .brand1 #shoppingBagEditSwatches input, .brand1 #colorSwatches input, .brand1 #swatchContent button, .brand1 #quickLookSwatches button, .brand1 #shoppingBagEditSwatches button, .brand1 #colorSwatches button, .brand7 #swatchContent input, .brand7 #quickLookSwatches input, .brand7 #shoppingBagEditSwatches input, .brand7 #colorSwatches input, .brand7 #swatchContent button, .brand7 #quickLookSwatches button, .brand7 #shoppingBagEditSwatches button, .brand7 #colorSwatches button, .brand20 #swatchContent input, .brand20 #quickLookSwatches input, .brand20 #shoppingBagEditSwatches input, .brand20 #colorSwatches input, .brand20 #swatchContent button, .brand20 #quickLookSwatches button, .brand20 #shoppingBagEditSwatches button, .brand20 #colorSwatches button {border:1px solid #666; color:#333;}

	
	
	/*tabs*/
	.brand1 #variantButtons .on {color:#000; font-weight:bold;}
	.brand1 #variantButtons .off{background-color:#ccc; color:#000;}
	/*END: tabs*/
	
	/*reviews segment*/
	#reviewSummary #reviewSummaryData #averageOverallRating{background-color:#fff;}
	/*END: reviews segment*/
	
	/*add to bag segment*/
	#addToBagContent {background-color:#ccc;}
	#quantityContent label {color:#fff; font-weight:bold;}
	#selectionConfirmText {color:#fff; font-weight:bold;}
	#priceText {color:#000;}
	/* END:add to bag segment*/
	
	/*about this product segment*/
	#tabWindow {background-color:#fff;}
	.copyBlock {color:#000; font-weight:bold;}
	#tabWindow ul {color:#000;}
	/*about theis product segment end*/
	
	
	/*Quick Look size charts button*/
	.brand1 .sprite-sizeChart, .brand7 .sprite-sizeChart, .brand20 .sprite-sizeChart{ background-image:url("/Asset_Archive/GPWeb/content/0002/444/294/brand_buttons_and_assets_sprite.gif"); background-position: 0 -1286px; width: 63px; height: 20px; }

	/*Image Tools on Product page and Quick Look popup -- zoom and view larger*/
	.brand1 img.sprite-button_more_views, .brand7 img.sprite-button_more_views, .brand20 img.sprite-button_more_views {background:url("/Asset_Archive/GPWeb/content/0002/444/294/brand_buttons_and_assets_sprite.gif"); background-position: 0 -936px; width: 72px; height: 16px; } /*View Larger button on Quick Look popup*/ 	
	
	.brand1 #imageTools #moreViewsBtn, .brand1 #moduleProductImageTools #moreViewsBtn{background-image:url("/Asset_Archive/GPWeb/content/0002/444/294/brand_buttons_and_assets_sprite.gif"); background-position: 0 -936px; width: 72px; height: 16px; margin-left:10px; }
	
	.brand1 #imageTools #moreViewsBtn, .brand1 #moduleProductImageTools #moreViewsBtn{background:url("/Asset_Archive/GPWeb/content/0002/444/294/brand_buttons_and_assets_sprite.gif"); background-position: 0 -936px; width: 72px; height: 16px; margin-left:10px; }	
	
	.brand1 #imageTools .over{background:url("/Asset_Archive/GPWeb/content/0002/444/294/brand_buttons_and_assets_sprite.gif"); background-position: 0 -1697px; width: 103px; height: 11px;}
	.brand1 #imageTools .over{background-image:url("/Asset_Archive/GPWeb/content/0002/444/294/brand_buttons_and_assets_sprite.gif"); background-position: 0 -1697px; width: 103px; height: 11px;}

	.brand1 #imageTools .out{background:url("/Asset_Archive/GPWeb/content/0002/444/294/brand_buttons_and_assets_sprite.gif"); background-position: 0 -1636px; width: 115px; height: 11px;} 

	.brand1 #imageTools .out{background-image:url("/Asset_Archive/GPWeb/content/0002/444/294/brand_buttons_and_assets_sprite.gif"); background-position: 0 -1636px; width: 115px; height: 11px;} 


	/*Image Thumbs key line*/
	.brand1 .thumbs, .brand7 .thumbs, .brand20 .thumbs {border-color:#999;}	
	.brand1 .thumbSelected, .brand7 .thumbSelected, .brand20 .thumbSelected {border-color:#999;}
	
	/*Write Review*/
	#noReviewsData a, #noReviewsData a:link, #noReviewsData a:visited, #noReviewsData a:hover, #noReviewsData a:active{color:#000;}
	
	#mainContent #crossSellBox{background-color:#fff; margin:75px 0 10px 21px; position:relative;}
	#crossSellTop{background-color:#fff;}

	/*Out Of Stock Button Placement*/
	.brand1 .sprite-button_add_to_bag_out, .brand7 .sprite-button_add_to_bag_out, .brand20 .sprite-button_add_to_bag_out {background-position: 0 -799px;float: right;height: 20px;margin-top: 5px;width: 73px;}
	
	/* Update Add to Bag  states, black for on state, grey for off state JP 11/26/12 */
	.brand1 input.sprite-button_add_to_bag_off, .brand7 input.sprite-button_add_to_bag_off, .brand20 input.sprite-button_add_to_bag_off {
    background: url("/Asset_Archive/GPWeb/content/0002/444/294/brand_buttons_and_assets_sprite.gif") repeat scroll 0 -732px transparent;
    height: 17px;
    width: 72px;
	}
	
	.brand1 input.sprite-button_add_to_bag_on, .brand1 input.sprite-button_add_to_bag_over, .brand7 input.sprite-button_add_to_bag_on, .brand7 input.sprite-button_add_to_bag_over, .brand20 input.sprite-button_add_to_bag_on, .brand20 input.sprite-button_add_to_bag_over {
    background: url("/Asset_Archive/GPWeb/content/0002/444/294/brand_buttons_and_assets_sprite.gif") repeat scroll 0 -665px transparent;
    height: 17px;
    width: 72px;
	}
	
	
/*+++++++++++++ END: PRODUCT PAGE LAYOUT +++++++++++++++++++*/ 

/*+++++++++++++ BEGIN: OUTFIT PAGE  LAYOUT +++++++++++++++++++*/ 

#outfitContent #outfitName{color:#000; font-size:13px; font-weight:bold;}

/* Update Add to Bag  states, black for on state, grey for off state JP 11/26/12 */
.brand1 #addToBagContent input.addToBagBtn, .brand1 #confirmationContentTop input.addToBagBtn, .brand1 #confirmationContentBottom input.addToBagBtn {
    background: url("/Asset_Archive/GPWeb/content/0002/444/294/brand_buttons_and_assets_sprite.gif") repeat scroll 0 -732px transparent;
    height: 17px;
    width: 72px;
}
.brand1 #addToBagContent input.off, .brand1 #confirmationContentTop input.off, .brand1 #confirmationContentBottom input.off {
    background-position: 0 -732px;
}
.brand1 #addToBagContent input.on, .brand1 #confirmationContentTop input.on, .brand1 #confirmationContentBottom input.on {
    background: url("/Asset_Archive/GPWeb/content/0002/444/294/brand_buttons_and_assets_sprite.gif") repeat scroll 0 -665px transparent;
    height: 17px;
    width: 72px;
}


/*+++++++++++++ END: OUTFIT PAGE  LAYOUT +++++++++++++++++++*/ 


/*+++++++++++++ BEGIN: CUSTOMER SERVICE  LAYOUT +++++++++++++++++++*/ 
	#mainContent .csContentPage {padding:10px 10px 10px 35px;}
	#mainContent .header1 {margin:10px 0px 10px 0px; color:#000;}

/*+++++++++++++ END: CUSTOMER SERVICE LAYOUT +++++++++++++++++++*/

/*+++++++++++++ BEGIN: RESPONSIVE CHECKOUT STYLES ++++++++++++++*/

.promoDetail {width:85%;}   
dl.promoContent {overflow: hidden;color: #999;}
.promoItem >  dd:nth-of-type(1){ width:34%;}
.promoItem > dd:nth-of-type(2){  width:63%;}
html.breakpoint-mobile #shoppingBagDetail.collapsed dl.promoItem {display:none;}

/*+++++++++++++ END: RESPONSIVE CHECKOUT STYLES ++++++++++++++*/
</style>



<script type="text/javascript">

/***BEGIN GOL LEGACY JS OVERRIDES *****/

/* BEGIN GOL Petite/Tall Lef Nav linking override to link to Petite (85032) /Tall (85035) divisions -JP 08/22/2012 */
/* Added GOL Big & Tall Left Nav linking override to link to Big & Tall(87388) division -JP 11/16/2012 */

// document.observe("dom:loaded",function() {

// 	//update left nav Petite and Tall links in Women's subDivision
// 	var wDirPetiteLink = $('categoryNav47018');
// 	var wDirTallLink = $('categoryNav48054');
	
// 	//update left nav Tall and Women links in Petite Division
// 	var petiteDirTallLink = $('categoryNav85039');
// 	var petiteDirWomLink = $('categoryNav85040');
	
// 	//update left nav Petite and Womens links in Tall Division
// 	var tallDirPetiteLink = $('categoryNav85044');
// 	var tallDirWomLink = $('categoryNav85046');
	
// 	//update left nav Big & Tall link in Men's Division
// 	var bigTallLink = $('categoryNav87386');
	
// 	//update left nav Men's link in MBT Division
// 	var mDirLink = $('categoryNav87395');
	
	
// 		if (wDirPetiteLink) {
// 			wDirPetiteLink.firstDescendant().href="/browse/division.do?cid=85032";
// 		}
// 		if (wDirTallLink) {
// 			wDirTallLink.firstDescendant().href="/browse/division.do?cid=85035";
// 		}
		
// 		if (petiteDirTallLink) {
// 			petiteDirTallLink.firstDescendant().href="/browse/division.do?cid=85035";
// 		}
// 		if (petiteDirWomLink) {
// 			petiteDirWomLink.firstDescendant().href="/browse/subDivision.do?cid=5646";
// 		}
		
// 		if (tallDirPetiteLink) {
// 			tallDirPetiteLink.firstDescendant().href="/browse/division.do?cid=85032";
// 		}
// 		if (tallDirWomLink) {
// 			tallDirWomLink.firstDescendant().href="/browse/subDivision.do?cid=5646";
// 		}
		
		
// 		if (bigTallLink) {
// 			bigTallLink.firstDescendant().href="/browse/division.do?cid=87388";
// 		}
				
// 		if (mDirLink) {
// 			mDirLink.firstDescendant().href="/browse/subDivision.do?cid=5065";
// 		}

// });

/* END GOL Added Big & Tall Left Nav linking override to link to Big & Tall(87388) division -JP 11/16/2012 */
/* END GOL Petite/Tall Lef Nav linking override to link to Petite (85032) /Tall (85035) divisions -JP 08/22/2012 */

/* BEGIN GOL OVERRIDE to HIGHLIGHT "WOMEN" in Top Navigation for Petite and Tall Divisions - JP 08/22/2012 */
/* ADDED GOL HIGHLIGHT "MEN" in Top Navigation for Big & Tall Division - JP 11/16/2012 */

document.observe("dom:loaded",function() {

	if (location.pathname == "/browse/category.do")  {	

		var womensDivision = $('division5643');
		var mensDivision = $('division5063');
		var thisDivision = "";
		
		if(window['reportingService']){
			thisDivision = reportingService.controller.viewManagers.commonViewManager.model.commonChannelName;
			thisDivision = thisDivision.replace(/&amp;/g, '');//remove '&amp;' since they can't be used in the url
			thisDivision = thisDivision.replace(/&/g, ''); //remove '&' since they can't be used in the url
			thisDivision = thisDivision.replace(/^\s+|\t+|\n+| |\s+$/g, '') ; //remove space ex "Big Tall" now "BigTall"
		}
		
		//console.log (thisDivision);
		
		if ((thisDivision == "Tall") || (thisDivision == "Petite")) {
			if (womensDivision){
			
				thisState = womensDivision.className;
				if (thisState.indexOf('_notSelected') > 0) {
 					womensDivision.className = thisState.replace('_notSelected', '_selected');
				}
			
			}
		} 
		
		
		if (thisDivision == "BigTall") {
			if (mensDivision){
			
				thisState = mensDivision.className;
				if (thisState.indexOf('_notSelected') > 0) {
 					mensDivision.className = thisState.replace('_notSelected', '_selected');
				}
			
			}
		} 
	}		
		
});

/* END HIGHLIGHT "MEN" in Top Navigation for Big & Tall Division - JP 11/16/2012 */
/* END OVERRIDE to HIGHLIGHT "WOMEN" in Top Navigation for Petite and Tall Divisions - JP 08/22/2012 */

  /*Override src of Find and Reset buttons on Category VI pages*/
  
  function overrideButton() {
	if( $('shopBySizeSelections') ) {
	 
	 //var controlHolder = $('shopBySizeSelections').select('li.sizeFinderFind');
	  //controlHolder = controlHolder[0];
	  var controlHolder = $('shopBySizeSelections');
	  var controlImage1 = controlHolder.select('img.button_find_sm');
	  controlImage1 = controlImage1[0];
	  controlImage1.src = "/assets/common/clear.gif";

	  //var controlHolder2 = $('shopBySizeSelections').select('li.sizeFinderReset');
	  //controlHolder2 = controlHolder2[0];
	  var controlHolder2 = $('shopBySizeSelections');
	  var controlImage2 = controlHolder2.select('img.button_reset_sm');
	  controlImage2 = controlImage2[0];
	  controlImage2.src = "/assets/common/clear.gif";
	}
  }
  
//  Event.observe( window, 'load', overrideButton );
  
    /* 05/16/11 updated to be 11.04 compatible. override size chart buttons on category page */
	
  		if (window["categoryService"] != undefined) {
		//Release  11.04 categoryService IS defined
		
		//run insertion code
			Event.observe(document, 'categoryProductGrid:ready', overrideButton );
			
		//end Release 11.04
	
		} else {
	
		//Release 11.03 
		
			Event.observe( window, 'load', overrideButton );
		//end Release 11.03
		}
		
/* 05/16/11 updated to be 11.04 compatible. override size chart buttons on category page */

  /*Override src of Close Window button in the View Larger popup*/
  
  function overrideCloseWindowButton() {
	if( $('close_button') ) {
	 	$('close_button').src = "/Asset_Archive/GPWeb/content/0002/581/055/assets/button_close_window.gif";	  
	}
  }
  
  Event.observe( window, 'load', overrideCloseWindowButton );
  
  //CATEGORY VI - change "See our size charts" text

document.observe("dom:loaded",function() {
    var sizeChartHolder = $('shopBySizeContainer');
	if( sizeChartHolder ) {
	  var sizeChartLink = sizeChartHolder.select('a');
	  sizeChartLink = sizeChartLink[0];
	  if(sizeChartLink) {
	    sizeChartLink.update('SIZE CHARTS');
	  }
	}
});
//CATEGORY VI - change "See our size charts" text

/* begin override to fix broken Privacy Policy link fix on  Sign In Page  */

if( location.pathname == "/profile/sign_in.do" ) {
 document.observe("dom:loaded", function() {
   if($('privacyPolicyLink')) {
    $('privacyPolicyLink').getElementsByTagName("a")[0].setAttribute('href','/customerService/info.do?cid=2331');
   }
 })
}

/* end override to fix broken Privacy Policy link fix on  Sign In Page  */
  
/***END GOL LEGACY JS OVERRIDES *****/
</script>

<!-- BEGIN iPad Patches -->
<!-- update 08/26/13 to remove from checkout pages for Responsive Checkout-->
<script type="text/javascript">
if (!window.responsiveService || !responsiveService.api.isInitialized()) {
	var wcdViewPortNavigator = navigator.userAgent;
	if(wcdViewPortNavigator.indexOf("iPad") != -1) {
		document.write('<meta name = "viewport" content = "width = 1024">');
	} 
}
</script>
<link rel="apple-touch-icon" href="/gid/assets/common/en/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="/gid/assets/common/en/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="114x114" href="/gid/assets/common/en/apple-touch-icon-retina.png">
<link rel="apple-touch-icon" sizes="144x144" href="/gid/assets/common/en/apple-touch-icon-retina.png">
<!-- END iPad Patches -->

<!-- BEGIN Responsive Checkout Patches -->
<script type="text/javascript">
// verify universalBarContainer div has background on checkout
if (location.pathname.indexOf("/checkout/") != -1) {
	Event.observe(window, "load", function() {
		var checkoutEDFSContainer = jQuery('#universalBarContainer');
		if (checkoutEDFSContainer != undefined) {
			jQuery(checkoutEDFSContainer).addClass('universalBarBackground');
		}
	});
}
</script>
<!-- END Responsive Checkout Patches -->

<!-- BEGIN FACEBOOK LIKE  -->
<script type="text/javascript">
// Facebook like button
if( (location.pathname == '/browse/product.do') ) {
	var fbProductPageLikeButton = {
		initialize: function() { },
		model: {
			searchDexPageStructure: 'http%3A%2F%2Fwww.gap.com%2Fproducts%2F'
		},
		controller: {
			init: function() {
				if( ! $('fb_like') ) {
					var model = fbProductPageLikeButton.model;
					
					/*var productName = productPage.objP.strVendorName.toLowerCase().replace(/ /g,'-') + '-';
					productName = productName + productPage.objP.strProductStyleName.toLowerCase().replace(/ /g,'-');
					productName = productName + '-P' + productPage.productId + '.jsp';*/
					
					var productName = escape('P' + productPage.productId + '.jsp?tid=gpsm000009');
					
					var fbLikeDiv = new Element('div', {id:'fb_like',style:'margin-top:7px'});
					//var fbLikeDivStr = '<iframe src="http://www.facebook.com/plugins/like.php?href=' + model.searchDexPageStructure + productName + '&amp;amp;send=false&amp;amp;layout=button_count&amp;amp;width=330&amp;amp;show_faces=false&amp;amp;action=like&amp;amp;colorscheme=default&amp;amp;font=Arial&amp;amp;height=24" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:330px; height:24px" allowTransparency="true"></iframe>';
					
					var fbLikeDivStr = '<iframe src="http://www.facebook.com/plugins/like.php?href=' + model.searchDexPageStructure + productName + '&send=false&layout=button_count&width=330&show_faces=false&action=like&colorscheme=light&font&height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:330px; height:21px" allowTransparency="true"></iframe>'
					
					fbLikeDiv.update( fbLikeDivStr );
					$('variantButtons').insert({ before:fbLikeDiv });
				}
			}
		}
	}
	
	productPage.initializeVariantButtons = productPage.initializeVariantButtons.wrap( function( originalMethod ) {
		originalMethod();
		fbProductPageLikeButton.controller.init();
	});
}
</script>
<!-- END FACEBOOK LIKE  -->


<!-- BEGIN Update to account email preferences link with new hosted page -->
<script type="text/javascript">
if (location.href.indexOf('cid=81268') > -1 ) {
	Event.observe(window, "load", function() {
		if ( $('tosignupBody') ) {
			var linksToScan = $('tosignupBody').select('a');
			var linkToScan;
			if (linksToScan && linksToScan.length > 0 ) {
				for ( var i = 0; i < linksToScan.length; i++) {
					linkToScan = linksToScan[i];
					if (linkToScan.href.indexOf('join_email_list_confirm.do') > -1 ) {
						linkToScan.href = '/profile/info.do?cid=48755';
					}
				}
			}
		}
	});
}

</script>
<!-- END Update to account email preferences link with new hosted page -->

<!-- Begin Variable to detect brand disrupters 3/21/13 -->

<script type="text/javascript"> 
var wcdBrandDisrupterDidFire = false;
</script>

<!-- End Variable to detect brand disrupters 3/21/13 -->

<!-- begin url fix for .do breaking in the left nav -->
<script type="text/javascript">
var leftNavUrlPatch = {
    init: function() {
        var sideNavCategories = $('sideNavCategories');
        if(sideNavCategories) {
        	var htmlStr = sideNavCategories.innerHTML;
        	htmlStr = htmlStr.replace(/href=".do/g, 'href="/browse/category.do');
        	$('sideNavCategories').innerHTML = htmlStr;
        }
    }
};
Event.observe(window, "load", leftNavUrlPatch.init);
</script>
<!-- end url fix for .do breaking in the left nav -->

<!-- BEGIN content override CNOV-91 Correct Store Locator Name - CARLSBAD PREMIUM  -->
<script type="text/javascript">
if( location.pathname == "/customerService/storeLocator.do" ) {
    Event.observe(document, 'filterTools:ready', function() {
    
        var tempIntervalId = setInterval(function(){
            var parentElement = jQuery('.detailsGroup');
            if(parentElement.length > 0){
                clearInterval(tempIntervalId);
                updateDetailsGroupForCarlsbadOutlet(parentElement);
            }
        },750);
        
        updateDetailsGroupForCarlsbadOutlet = function(parentElement){ 
            parentElement.children(":contains('CARLSBAD PREMIUM')").parent().children('.storeType').each(function(i,element){jQuery(element).text('Baby Gap Outlet')})
        };
        
    });
} 
</script>
<!-- END content override CNOV-91 Correct Store Locator Name - CARLSBAD PREMIUM  -->

<script type="text/javascript">
//////////////////////////////////////////////////
///////  Find in Store Gift Card Supression  - 03.04.13 ///////////////
/////// jim kwak  /////////////
//////////////////////////////////////////////////

if (location.pathname == "/browse/product.do") {	
	Event.observe(window, "load", function() {
		if(location.href.indexOf("000173") > 0){
			if ($('findInStoreTabWindow')){
				$('findInStoreTabWindow').setStyle({display: 'none'});
			}
		}
	});
}
// end Find in Store Gift Card Supression
</script>


<!-- Begin Gap/BR Store Locator override to pre-select Outlets -->
<script type="text/javascript">

// Gap/BR Store Locator override to pre-select Outlets
if( location.pathname == '/customerService/storeLocator.do' ) {
	
var wcdStoreLocatorUpdater = {
	preselectOutlet : function() {
		if( $('filter_outlet') ) {
			$('filter_outlet').checked = true;
		}
	},
	presetOutletCookie : function() {
		if( storeLocatorManager.controller.setBrandCookieVar ) {
			storeLocatorManager.controller.setBrandCookieVar(storeLocatorManager.constants.cookies.FILTERS, "Gap Outlet");
		}
	}
}

// Observe building of tools/filter area of map
Event.observe(document, 'filterTools:ready', function() {
	var isOutletPreselect = gidLib.getQuerystringParam('showOutlets');
	if( isOutletPreselect == 'true' ) {
		wcdStoreLocatorUpdater.preselectOutlet();
	}
});

if( storeLocatorManager && storeLocatorManager.controller && storeLocatorManager.controller.eventHandlers && storeLocatorManager.controller.eventHandlers.personalizationDataReadyHandler ) {
	storeLocatorManager.controller.eventHandlers.personalizationDataReadyHandler = storeLocatorManager.controller.eventHandlers.personalizationDataReadyHandler.wrap( function( om ) {
		var isOutletPreselect = gidLib.getQuerystringParam('showOutlets');
		if( isOutletPreselect == 'true' ) {
			wcdStoreLocatorUpdater.presetOutletCookie();
		}
		om();
	});
}

}

</script>
<!-- End Gap/BR Store Locator override to pre-select Outlets -->

<!-- Begin WCD "Pin" button insert -->
<script type="text/javascript">

var wcdPinItButtonInsert = {
	pinItStr: '',
	pinItDiv: '',
	pinDesc: '',
	pinMedia: '',
	pinURL: '',
	pinItDivStr: '',
	
	insert_pinIt_Btn : function() {
		if ($('fb_like') && !$('pinItDiv')) {
			jQuery("#fb_like").css({ "margin-left" : "45px", "overflow" : " hidden", "width" : "200px", "margin-top" : "-22px"});
			wcdPinItButtonInsert.pinURL = encodeURIComponent(window.location.href);
	
			if ($('product_image')){
				wcdPinItButtonInsert.pinMedia = encodeURIComponent($('product_image').src);
			}
			if ($('productNameText')){
				wcdPinItButtonInsert.pinDesc = jQuery('.productName').html();
				//pinDesc = $('productNameText').textContent;
			}
			if (jQuery('.description').length > 0){
				if (jQuery('.description').html() != ''){
					wcdPinItButtonInsert.pinDesc = wcdPinItButtonInsert.pinDesc + ' - ' + jQuery('.description').html();
					//pinDesc = pinDesc + ' - ' + $('quickLookProductDescription').textContent;
				}		
			}
			wcdPinItButtonInsert.pinDesc = encodeURIComponent(wcdPinItButtonInsert.pinDesc);
			wcdPinItButtonInsert.pinDesc = wcdPinItButtonInsert.pinDesc.replace("'","");
			
			wcdPinItButtonInsert.pinItStr = 'http://pinterest.com/pin/create/button/?url=' + wcdPinItButtonInsert.pinURL + '&media=' + wcdPinItButtonInsert.pinMedia + '&description=' + wcdPinItButtonInsert.pinDesc;
		
			wcdPinItButtonInsert.pinItDiv = new Element('div', {id:'pinItDiv'});
			wcdPinItButtonInsert.pinItDivStr = '<a href="javascript:void(0);" onclick="window.open(\'' + wcdPinItButtonInsert.pinItStr + '\',\'pinIt\',\'toolbar=0,status=0,width=620,height=500\');"><img src="/Asset_Archive/GPWeb/content/0006/556/731/assets/builder_pinit.png" /></a>';
			wcdPinItButtonInsert.pinItDiv.update( wcdPinItButtonInsert.pinItDivStr );
			$('fb_like').insert({ before:wcdPinItButtonInsert.pinItDiv });
	
			Event.observe(colorSwatchContent, "click", wcdPinItButtonInsert.updatePinIt);
			Event.observe(pinItDiv, "click", wcdPinItButtonInsert.pinItTracking);
		}	
	},
	
	updatePinIt : function() {
		wcdPinItButtonInsert.pinURL = window.location.href;
		if (wcdPinItButtonInsert.pinURL.indexOf("pid=") > 0){
			wcdPinItButtonInsert.pinURL = wcdPinItButtonInsert.pinURL.substring(0,wcdPinItButtonInsert.pinURL.indexOf("pid=") + 4);
			wcdPinItButtonInsert.pinURL = wcdPinItButtonInsert.pinURL + productPage.objV.arrayVariantStyleColors[productPage.selectedColor].strColorCodeId;
		}
		wcdPinItButtonInsert.pinURL = encodeURIComponent(wcdPinItButtonInsert.pinURL);
		if ($('product_image')){
			wcdPinItButtonInsert.pinMedia = encodeURIComponent($('product_image').src);
		}
		if ($('productNameText')){
			wcdPinItButtonInsert.pinDesc = jQuery('.productName').html();
		}
		if (jQuery('.description').length > 0){
			if (jQuery('.description').html() != ''){
				wcdPinItButtonInsert.pinDesc = wcdPinItButtonInsert.pinDesc + ' - ' + jQuery('.description').html();
			}		
		}
		wcdPinItButtonInsert.pinDesc = encodeURIComponent(wcdPinItButtonInsert.pinDesc);
		wcdPinItButtonInsert.pinDesc = wcdPinItButtonInsert.pinDesc.replace("'","");
		wcdPinItButtonInsert.pinItStr = 'http://pinterest.com/pin/create/button/?url=' + wcdPinItButtonInsert.pinURL + '&media=' + wcdPinItButtonInsert.pinMedia + '&description=' + wcdPinItButtonInsert.pinDesc;
		wcdPinItButtonInsert.pinItDivStr = '<a href="javascript:void(0);" onclick="window.open(\'' + wcdPinItButtonInsert.pinItStr + '\',\'pinIt\',\'toolbar=0,status=0,width=620,height=500\');"><img src="/Asset_Archive/GPWeb/content/0006/556/731/assets/builder_pinit.png" /></a>';
		wcdPinItButtonInsert.pinItDiv.update( wcdPinItButtonInsert.pinItDivStr );
	},
	
	pinItTracking: function() {
		s.linkTrackVars='eVar6';
		if( brandConst.BRAND_ID == 'AT' ) { s.eVar6='ATOLPin'; }
		else if( brandConst.BRAND_ID == 'GP' ) { s.eVar6='GOLPin'; }
		else if( brandConst.BRAND_ID == 'PL' ) { s.eVar6='PLOLPin'; }
		else if( brandConst.BRAND_ID == 'BR' ) { s.eVar6='BROLPin'; }
		else if( brandConst.BRAND_ID == 'ON' ) { s.eVar6='ONOLPin'; }
		else { s.eVar6='unknownPin'; }
		s.tl(this,'o',s.eVar6);
		return true; 
	}
}

if (location.pathname == "/browse/product.do") {	
	Event.observe(document, 'productPage:ready', function(){
		wcdPinItButtonInsert.insert_pinIt_Btn();
	});
}	

// Out-of-stock page redirect code
var closedURL = document.location.href;
// check to see if on store closed page
if( closedURL.indexOf('store-closed') > -1 || closedURL.indexOf('OutOfStockNoResults') > -1 ) {
    var pinRef = document.referrer;
    // check to see if referred from Pinterest
    if( pinRef.indexOf('pinterest.com') > -1 ) {
        // if so, redirect to brand homepage
        var newURL = 'http://' + document.location.host;
        window.location = newURL;
    }
}

</script>
<!-- End WCD "Pin" button insert -->


<script type="text/javascript">
//Begin CNOV-101 - Adding Gift Card Devalue Copy fix
Event.observe(window,"load", function() {
	if(location.pathname == "/checkout/order.do"){ 
		jQuery("#billingSummaryInputGiftCardPin, #billingInputGiftCardPin").after("<div id='giftCardCopyAdded' style='margin-bottom:15px;color:#736967;font-size: 87.5%;'>Please note: when using multiple gift cards, gift card values will be applied in order of decreasing value.</div>").delay(1);
		jQuery("#billingGiftCardBalanceCardPin").after("<div id='giftCardCopyPopUpAdded' style='margin-top:10px;margin-left:15px;margin-bottom:15px;font-size: 87.5%;'>Please note: when using multiple gift cards, gift card values will be applied in order of decreasing value.</div>").delay(1);
	}
});
//End CNOV-101 - Adding Gift Card Devalue Copy fix

</script>



<script type="text/javascript">
//var prodShipRetInfoCookieCutter = new ProdShipRetInfoCookieCutter("0622PRODSHIPRETINFO","mktUniversalPersist","0622PRODSHIPRETINFO_SEG","prodPageShipRetInfo","25-25-25-25","8","none");
var plProductSegmentName = "0622PRODSHIPRETINFO_SEGC";
if( location.pathname == "/browse/product.do" ) {

	if( plProductSegmentName == "0622PRODSHIPRETINFO_SEGC"  ) {
		var ProductPageShipReturnInserter = Class.create();
		ProductPageShipReturnInserter.prototype = {
			initialize: function() { },
			model: {
				
			},
			controller: {
				init: function( segment ) { 
					var newTabWindowDiv = new Element('div',{id:'newTabWindow'});
					var prodType;
					var shipReturnContent;
					// General online exclusives
					if( $('productMailOnlyReturn') && $('productMailOnlyReturn').style.display != 'none' ) {
						prodType = "generalExclusive";
					}
					// Select online excuses
					else if( $('productFreeReturn') && $('productFreeReturn').style.display != 'none' ) {
						prodType = "selectExclusive";
					}
					// General
					else { 
						prodType = "general";
					}
					switch( segment ) {
						case "0622PRODSHIPRETINFO_SEGB":
							switch( prodType ) {
								case "general":
									shipReturnContent = '<div class="copyBlock">shipping *<\/div><ul><li>7-9 business days - FREE Every Day ($50 min)<\/li><li>3-5 business days - $7.00<\/li><li>2 business days - $17.00<\/li><li>1 business day  - $22.00<\/li><\/ul><div class="copyBlock">returns &amp; exchanges<\/div><ul><li>FREE returns to stores<\/li><li>FREE exchanges<\/li><li>Returns by mail - $6.00<\/li><\/ul>* <a href="javascript:void(0)" onclick="return productPageShipReturnInserter.controller.openPopAndSendToOmni()">Learn More<\/a>';
									break;
									
								case "generalExclusive":
									shipReturnContent = '<div class="copyBlock">shipping *<\/div><ul><li>7-9 business days - FREE Every Day ($50 min)<\/li><li>3-5 business days - $7.00<\/li><li>2 business days - $17.00<\/li><li>1 business day  - $22.00<\/li><\/ul><div class="copyBlock">returns &amp; exchanges<\/div><ul><li>Returns by mail - $6.00<\/li><li>FREE exchanges<\/li><\/ul>* <a href="javascript:void(0)" onclick="return productPageShipReturnInserter.controller.openPopAndSendToOmni()">Learn More<\/a>';
									break;
									
								case "selectExclusive":
									shipReturnContent = '<div class="copyBlock">shipping *<\/div><ul><li>7-9 business days - FREE Every Day ($50 min)<\/li><li>3-5 business days - $7.00<\/li><li>2 business days - $17.00<\/li><li>1 business day  - $22.00<\/li><\/ul><div class="copyBlock">returns &amp; exchanges<\/div><ul><li>FREE returns (by mail only)<\/li><li>FREE exchanges<\/li><\/ul>* <a href="javascript:void(0)" onclick="return productPageShipReturnInserter.controller.openPopAndSendToOmni()">Learn More<\/a>';
									break;
							}
							break;
							
						case "0622PRODSHIPRETINFO_SEGC":  //added no returns on Final Sale 2/20/14 JP
							switch( prodType ) {
								case "general":
									shipReturnContent = '<div class="copyBlock">shipping &amp; returns </div><ul><li>FREE shipping on all orders over $50<br /><span class="italCopy">Select  the "FREE" option in the shopping bag</span></li><li>$7 Flat Rate for orders under $50</li><li>FREE returns &amp; exchanges by mail &amp; to stores on all orders</li><li>No returns or exchanges on final sale items.</li></ul><a href="javascript:void(0)" onclick="return productPageShipReturnInserter.controller.openPopAndSendToOmni()">Learn More</a><br/><br/>Print out a <a href="http://www.gap.com/profile/returns_address_entry.do">prepaid UPS label</a> or a <a href="http://www.shipmentmanager.com/Gap/default.aspx?merchantid=1392" target="_new">prepaid U.S. Postal Service SmartLabel&trade;</a>.';
									break;
									
								case "generalExclusive":
									shipReturnContent = '<div class="copyBlock">shipping &amp; returns </div><ul><li>FREE shipping on all orders over $50<br /><span class="italCopy">Select  the "FREE" option in the shopping bag</span></li><li>$7 Flat Rate for orders under $50</li><li>FREE returns &amp; exchanges by mail</li><li>No returns or exchanges on final sale items.</li></ul><a href="javascript:void(0)" onclick="return productPageShipReturnInserter.controller.openPopAndSendToOmni()">Learn More</a><br/><br/>Print out a <a href="http://www.gap.com/profile/returns_address_entry.do">prepaid UPS label</a> or a <a href="http://www.shipmentmanager.com/Gap/default.aspx?merchantid=1392" target="_new">prepaid U.S. Postal Service SmartLabel&trade;</a>.';
									break;
									
								case "selectExclusive":
									shipReturnContent = '<div class="copyBlock">shipping &amp; returns </div><ul><li>FREE shipping on all orders over $50<br /><span class="italCopy">Select  the "FREE" option in the shopping bag</span></li><li>$7 Flat Rate for orders under $50</li><li>FREE returns &amp; exchanges by mail</li><li>No returns or exchanges on final sale items.</li></ul><a href="javascript:void(0)" onclick="return productPageShipReturnInserter.controller.openPopAndSendToOmni()">Learn More</a><br/><br/>Print out a <a href="http://www.gap.com/profile/returns_address_entry.do">prepaid UPS label</a> or a <a href="http://www.shipmentmanager.com/Gap/default.aspx?merchantid=1392" target="_new">prepaid U.S. Postal Service SmartLabel&trade;</a>.';
									break;
							}
							break;
							
						case "0622PRODSHIPRETINFO_SEGD":
							switch( prodType ) {
								case "general":
									shipReturnContent = '<div class="copyBlock">shipping &amp; returns <\/div><ul><li>Everyday FREE shipping on any order over $50<br /><span class="italCopy">Select  the "FREE" option in the shopping bag<\/span><\/li><li>Will arrive in 7-9 business days*<\/li><li>Faster shipping available, starting at $7 Flat Rate<\/li><li>FREE exchanges and FREE returns to stores<\/li><\/ul>* <a href="javascript:void(0)" onclick="return productPageShipReturnInserter.controller.openPopAndSendToOmni()">Learn More<\/a>';
									break;
									
								case "generalExclusive":
									shipReturnContent = '<div class="copyBlock">shipping &amp; returns <\/div><ul><li>Everyday FREE shipping on any order over $50<br /><span class="italCopy">Select  the "FREE" option in the shopping bag<\/span><\/li><li>Will arrive in 7-9 business days*<\/li><li>Faster shipping available, starting at $7 Flat Rate<\/li><li>Return by mail only<\/li><li>FREE exchanges<\/li><\/ul>* <a href="javascript:void(0)" onclick="return productPageShipReturnInserter.controller.openPopAndSendToOmni()">Learn More<\/a>';
									break;
									
								case "selectExclusive":
									shipReturnContent = '<div class="copyBlock">shipping &amp; returns <\/div><ul><li>Everyday FREE shipping on any order over $50<br /><span class="italCopy">Select  the "FREE" option in the shopping bag<\/span><\/li><li>Will arrive in 7-9 business days*<\/li><li>Faster shipping available, starting at $7 Flat Rate<\/li><li>FREE returns (by mail only)<\/li><li>FREE exchanges<\/li><\/ul>* <a href="javascript:void(0)" onclick="return productPageShipReturnInserter.controller.openPopAndSendToOmni()">Learn More<\/a>';
									break;
							}
							break;
							
					}
					newTabWindowDiv.update( shipReturnContent );
					if( $('tabWindow') && ! $('newTabWindow') ) {
						var tabWindow = $('tabWindow');
						tabWindow.insert({ after:newTabWindowDiv });
					}
				},
				sendToOmni: function( elt, eventName ) {
					s.tl( elt , 'o', eventName);
				},
				openPopAndSendToOmni: function() {
					productPageShipReturnInserter.controller.sendToOmni( 'shippingReturn', 'Product Page Shipping & Return' );
					return gidLib.layeredPopup.openLayeredPopup({str:'/customerService/info.do?cid=2019',id:'shippingOptions',width:398,height:265,style:{name:'universalPopup'}});
				}
			},
			view: {
				
			}	
		};
	
		var productPageShipReturnInserter =  new ProductPageShipReturnInserter();
		
        productPage.loadProduct = productPage.loadProduct.wrap(
                        function( originalMethod ) {
                               originalMethod();
                               var currentPID = gidLib.getQuerystringParam('pid');
                               currentPID = currentPID.substr(0,6);
                               if( currentPID != '000066' && currentPID != '000079' && currentPID != '000138' ) {   // Here's where you check specific product ID, change this to whatever you want to exclude
                                               productPageShipReturnInserter.controller.init( plProductSegmentName );
                               }
                        }
        );
		
	}
}

</script>
<!-- END ProductPages_EDFS Copy Update -->



<!-- REVIEWS 2.0 CSS OVERRIDES -->
<script type="text/javascript">

	if(location.pathname == "/browse/product.do"){
		

	    function CheckIE(){
		    var Browser;
		    Browser = navigator.userAgent;
		    if (Browser.indexOf("Trident") != -1 || jQuery.browser.msie){
				jQuery(".mainContentWrapper").width(632);
		    }
	    }

		reviews2Flag = {

			init: function(){
				//Add "Ratings" to the number of ratings in the top widget
				//"Rating" for 1 rating
				//"Ratings" for 0 or more than 1 rating
				//Do not fire if there is already a "Rating" string after # of reviews
				if(jQuery(".bv-rating-ratio-count:contains('Rating')").length < 1){
					if(parseInt(jQuery( "[itemprop='reviewCount']" ).html()) === 1){
						jQuery( "[itemprop='reviewCount']" ).append(' Rating');
					}else{
						jQuery( "[itemprop='reviewCount']" ).append(' Ratings');
					}

					//Remove border on the top widget
					jQuery(".bv-primarySummary-rating-container").attr('style', 'border-style: none !important;')

					//Remove fit review sliders
					jQuery(".bv-content-details-container").attr('style', 'display: none !important;');			

					//Remove number next to "Overall" rating sliders
					jQuery(".bv-secondary-rating-summary-rating").attr('style', 'display: none !important;');

					//Flush out review content across the review container
					jQuery(".bv-content-details-offset-on, .bv-content-details-offset-off").attr('style', 'width: 100% !important;left: 10px !important; position: relative !important;');

					//Align the author's name
					jQuery(".bv-author-location span").attr('style', 'position: relative !important; left: 5px !important;');

					//Reduce size of "Write a Review" button at the very top widget
					jQuery(".bv-prs-container .bv-submission-button").attr('style', 'font-size: 11px !important; padding: 0 0 10px !important;');

					//Remove borders on left-hand side individual reviews
					jQuery(".bv-author-userstats").attr('style', 'border-style: none !important;left: 3px !important;margin: 5px 7px !important;position: relative !important;');

					//Decrease width of left-hand side "Votes" data label
					jQuery(".bv-author-userstats-votes").attr('style', 'width: 50px !important;');
				}

				
				//console.log("REVIEWS 2.0 OVERRIDES ACTIVE");
			}

		}

		//Prevent doubling
		var productPageLoaded = false;
		
		Event.observe(document, 'productPage:ready', function() {
			//console.log("EVENT OBSERVE FIRED");
			if(productPageLoaded == false){
				productPageLoaded = true;
				CheckIE();
				reviews2Flag.init.delay(3);
			}
		});


//Swatch Change
		productPage.setColor = productPage.setColor.wrap(function(om, i) {
			om(i);
			//run your function
			reviews2Flag.init.delay(1.5);
		});

//Size Change
		productPage.setSizeDimension1 = productPage.setSizeDimension1.wrap(function(om, i) {
			om(i);
			//run your function
			reviews2Flag.init();
		});

//Size Change
		productPage.setSizeDimension2 = productPage.setSizeDimension2.wrap(function(om, i) {
			om(i);
			//run your function
			reviews2Flag.init();
		});

	}

</script>

<!--END REVIEWS 2.0 CSS OVERRIDES-->

<!-- Begin Guest Checkout from 2/19 cleanup -->
<script type="text/javascript">
Event.observe(document, "dom:loaded", function () {
var gcoURL = document.location.hostname;
var gcoSegmentLetter = "";
if (gcoURL.indexOf("m.") > -1) {
  	gcoSegmentLetter = "C"
  } else { 
  	gcoSegmentLetter = "A"
  }
  clientStateManagementService.api.persist('gcoMode', 'seg', gcoSegmentLetter);
  clientStateManagementService.api.persist('gcahMode', 'seg', gcoSegmentLetter);
  if ($("registrationSaveInfoContainer")){
  	$("registrationSaveInfoContainer").update('<div class="gcoContent" id="gcoTempContent"><div style="width:401px;height:auto;">Creating an account offers several benefits:<br>&nbsp;&nbsp;&nbsp;&nbsp;-Faster checkout<br>&nbsp;&nbsp;&nbsp;&nbsp;-Easy access to order history<br>&nbsp;&nbsp;&nbsp;&nbsp;-Signs you in to all Gap, Inc. websites<br></div></div>');
  }
});	
</script>
<!-- End Guest Checkout from 2/19 cleanup -->




<script type="text/javascript">

if( location.pathname == "/browse/product.do" ) {

	var productPageFinalSale = {

		init: function() {

			// Marketing flag
			var prodTargetCopy = 'Final Sale';
			var prodMarketingFlag = '';
			var prodMarketingFlagTxt = '';
			if( $('productPageMarketingFlagStyle') && $('productPageMarketingFlagStyle').getStyle('display') == 'block' ) {
				prodMarketingFlag = $('productPageMarketingFlagStyle').select('span.productMarketingFlag');
				if( prodMarketingFlag && prodMarketingFlag.length > 0 ) {
					prodMarketingFlag = prodMarketingFlag[0];
					if( prodMarketingFlag.innerHTML != '' ) { 

						prodMarketingFlagTxt = prodMarketingFlag.innerHTML;

						$('productPageMarketingFlagStyle').hide();

						//console.log(prodMarketingFlagTxt);
						if( prodMarketingFlagTxt != '' && prodMarketingFlagTxt == prodTargetCopy) {

							var prodMarketingFlagElt = new Element('div', { id:'productMarketingFlag' });
							prodMarketingFlagElt.update( prodMarketingFlagTxt );
							$('productNameText').insert({ top:prodMarketingFlagElt });

							//update swatch flag copy
							jQuery( "#swatchContent" ).find( "#productPageMarketingFlagColor" ).css( "color", "#FF3300" );
							//jQuery( "#productPageMarketingFlagColor" ).find( "span.productMarketingFlag" ).css( "color", "#FF3300" );
						}
					}
				}
			}

			/*if( prodMarketingFlagTxt != '' && prodMarketingFlagTxt == prodTargetCopy) {
				//$('productNameText').insert({ top:new Element('br') });
				var prodMarketingFlagElt = new Element('div', { id:'productMarketingFlag' });
				prodMarketingFlagElt.update( prodMarketingFlagTxt );
				$('productNameText').insert({ top:prodMarketingFlagElt });
			}*/
		}

	}



	productPage.loadProduct = productPage.loadProduct.wrap(
		function( originalMethod ) {
			originalMethod();
			productPageFinalSale.init();
		}
	);
}
</script>
<!-- END: Product Page Final Sale title override 2/19 cleanup -->

<!-- END Content Item File: /content/0009/440/370/cn9440370.html -->

<!-- END - WCD Sitewide Container 1 -->

<!-- BEGIN - WCD Sitewide Container 2 -->
<!-- BEGIN Content Item File: /content/0009/708/587/cn9708587.html -->

<!-- !!!!!!!!!!!!!!!!!!!!!!!!!  WCD JS & CSS Head Seasonal GOL BRAND SPECIFIC OVERRIDES!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
<style type="text/css">
/**** BEGIN GOL Seasonal Layout ****/
body {
    background: none repeat scroll 0 0 #FFFFFF;
    overflow-x: hidden;
}



#sideNav li.categorySelected{background-image:none; margin-left:0px; padding: 0 0 0 6px;}



/*** BEGIN Checkout Promo Details Legal Pop-up Styling override: add padding GOL request 2/12/13 ***/
body.popup #bodyContainer .shortDescMsg {padding:5px;line-height: 16px;}
body.popup #bodyContainer .promoCode {padding-left:5px;}
body.popup #bodyContainer p{padding:5px;}
body.popup, body.popup #bodyContainer {
    background: none repeat scroll 0 0 #FFFFFF !important;
}
/*** END Checkout Promo Details Legal  Pop-up Styling override: add padding GOL request 2/12/13 ***/

/**** END BACKGROUND WHITE BG ***/

/*****BEGIN CATEGORY PAGE OVERRIDES *****/

/* begin override promo pricing expression coloration */
.productCatItem span.mupSupMessage { color: #FF3300;font-weight:bold;} /*red and bold message under cat item*/
/* end override promo pricing expression coloration */

.categoryContent {
	background-color: white; /*CHANGE BACKGROUND TO WHITE */
}


/*keyline to white/reassign keyline */
#mainContent {border:none;}
#mainContentContainer {border:none;}
#mainContentContainer {border-left:none;border-right:none;}

/*remove bottom keyline from main content*/
#mainContent {border-bottom:none;background-color:#FFF}
#mainContentContainer {border-bottom:none;background-color:#FFF !important;}
/* #mainContentContainer {border-bottom:none;background-color:transparent !important;} */

#sideNav  {background-color:#FFF !important;color:#000;}
/*end reassign keyline */

/*dotted key line removed from maincontent added to sidenav added for 7.12 add contentOvveride*/
/*#mainContentContainer #mainContent {background-color:transparent !important;border:medium none; background-image:none;}*/
#mainContentContainer #mainContent {background-color:#FFF;border:medium none; background-image:none;}

/*****END CATEGORY PAGE OVERRIDES *****/

/*****BEGIN FOOTER OVERRIDES *****/
#footer {color:#666; font-size:9px;}
#footer a:link, #footer a:visited, #footer a:active{color:#000;}
/*****END FOOTER OVERRIDES *****/

/**** END GOL Seasonal Layout: SPRING 2013 Background  - 12/26/2013 ****/

/**** BEGIN CUSTOM WCD CSS STYLES ****/
.subMargin15 { margin-bottom: 15px; }


/**** END CUSTOM WCD CSS STYLES ****/

/**** BEGIN:  BANNER INSERT CODE CSS****/

* html #categoryProductGrid .brand1 productCatItem { height:357px }
*:first-child+html #categoryProductGrid .brand1 productCatItem { height:357px }
#categoryProductGrid .clear5 { display:none;height:0; }
#tabTableOff .header4 {clear:both;}
#vi_banner_ID10000384 {display: none;}
#categoryNameHeader {display: none;}

*html #newContentBanner { display:inline;}
#newContentBanner {

display: inline;
_display: inline;
float:left;
margin:8px 2px 50px 1px !important;
*margin-top:1px;
*margin-bottom:20px;
*margin-right:2px;
height:269px;
overflow:hidden;
padding:0px !important;
_padding:0px !important;
min-width:187px;


}

.subHeaderWCDMarketing{

display: inline;
_display: inline;
float:left;
margin:8px 2px 50px 1px !important;
*margin-top:1px;
*margin-bottom:20px;
*margin-right:2px;
height:269px;
overflow:hidden;
padding:0px !important;
_padding:0px !important;
min-width:187px;

}

#categoryNameHeader {
    background-color: #000033 !important;
    line-height: 18px;
    margin: 0;
    padding: 13px 0 13px 21px;
	margin-left: 3px
}

#catname, #subcatname, #subsubcatname {
color:#FFFFFF;
font-family:arial;
font-size:18px;
font-weight:bold;
}

/**** END:  BANNER INSERT CODE CSS ****/

/***** BEGIN JBOX DEFAULT STYLES *****/
#jbox {
  overflow: auto;
}

#jbox #backdrop {
  background: #000000;
  width: 100%;
  height: 100%;
  overflow: auto;
  left: 0;
  opacity: 0.75;
  filter: alpha(opacity = 75);
  z-index: 999;

  position: fixed;
  _position: absolute;
  top: 0;
  _top: expression(eval(document.body.scrollTop));
}

#jbox #box {
  background: transparent;
  left: 50%;
  z-index: 1000;
  position: fixed;
  _position: absolute;
  top: 50%;
  box-shadow: 4px 4px 25px rgba(0, 0, 0, .5);
  -moz-box-shadow: 4px 4px 25px rgba(0,0,0,.5);
  -webkit-box-shadow: 4px 4px 25px rgba(0, 0, 0, .5);

  border: 1px solid #333333;
}

#jbox #topbar {
  position: absolute;
  top: -25px;
  width: 100%;
}

#jbox #title {
  position: absolute;
  left: 0;
  font-family: Arial, Helvetica, Sans-serif;
  font-size: 14px;
  color: #ffffff;
}

#jbox #close {
  position: absolute;
  right: 0;
}

#jbox #close a {
  display: block;
  color: #ffffff;
  text-decoration: none;
  font-family: Arial, Helvetica, Sans-serif;
  font-size: 14px;
}

#jbox #close a:hover {
  text-decoration: underline;
}

#jbox #iframeContainer,
#jbox #iframeContainer #iframe {
  background: #ffffff;
  margin: 0;
  padding: 0;
  overflow: hidden;
}

#jbox #loading {
  position: absolute;
  color: #000000;
  top: 15px;
  left: 15px;
  font-family: Arial, Helvetica, sans-serif;
  font-size: 14px;
}

#jbox #loading img {
  margin-right: 10px;
}
/***** BEGIN JBOX DEFAULT STYLES *****/
</style>


<script type="text/javascript">
/**********************BEGIN JS SEASONAL OVERRIDES: GOL BRAND SPECIFIC************************/

/*BEGIN Launch Free Shipping/Free Returns EDFS  Legal Pop-up with URL param 062713 */
Event.observe(window,"load", function(){
	// GB suppression
	var showEDFSLegalPop = gidLib.getQuerystringParam("freeShipLegalPop");
	
	if (showEDFSLegalPop) {
		if(showEDFSLegalPop == "true"){
			gidLib.layeredPopup.openLayeredPopup({str:'/browse/info.do?cid=47471',id:'edfsPopup',width:490,height:500});
		} 
	} 

});
/*END Launch Free Shipping/Free Returns EDFS  Legal Pop-up with URL param 062713 */

/* Redirect Baby Boy Division to Baby */
if (location.pathname == '/browse/subDivision.do?cid=42022') {

	var url = "/browse/subDivision.do?cid=6487";
	location = url;
	location.href (url);
} 

/*end Redirect Baby Boy Division to Baby*/


if ( (location.pathname == "/browse/product.do") || (location.pathname == "/browse/outfit.do") ) {
	document.observe("dom:loaded", function() {
        var productMainContent = $('mainContent');
		//productMainContent.setAttribute('style', 'background-color:#ffffff !important');
		productMainContent.setStyle({ backgroundColor: "#ffffff"});
		//productMainContent.style.backgroundColor="#ffffff";
	});
} else {


}

/***** BEGIN GOL BANNER INSERT CODE ON VI PAGES*******/
if( location.pathname == "/browse/category.do" ) {

	facetcategoryMarketingRejigger = {
		
		init: function() {
				// Check for marketing content for subheaders
				if( window['categoryMarketingData'] ) {
						// Loop through and identify subheaders
						if( $('tabTableOff') ) {
							var subHeaders = $('tabTableOff').select('h2.header4');
							var subHeader, subHeaderName, eltToInsertAfter, marketingDiv;
							
							//all UL elements
							var ulELements = $('tabTableOff').select('ul');
							var ulElement;
							
							if( subHeaders && subHeaders.length > 0 ) {
								for( var i=0; i < subHeaders.length; i++ ) {
									subHeader = subHeaders[i];
									subHeaderName = subHeader.innerHTML;
									//remove spaces and characters
									subHeaderName = subHeaderName.replace(/\s/g,''); //remove all white space
									subHeaderName = subHeaderName.replace(/&amp;/g, '');//remove '&amp;' since they can't be used in the url
									subHeaderName = subHeaderName.replace(/&/g, ''); //remove '&' since they can't be used in the url
                  subHeaderName = subHeaderName.replace(/[^a-zA-Z]+/g,''); // remove anything not A-Z 
									subHeaderName = subHeaderName.toLowerCase();
									
									ulElement = ulELements[i];
									
															
									// Find divider1s after header4s to determine where to insert marketing - facets off
									eltToInsertAfter = subHeader.next();
									
									//facets find next UL tag after subheader to insert content before - facets on
									var locateFirstUL = ulElement;
																
									for( var j=0; j < categoryMarketingData.subheaders.length; j++ ) {
										if( subHeaderName == categoryMarketingData.subheaders[j].subHeaderName ) {
										
											marketingDiv = new Element('div', { id: 'subHeaderMarketing' + i, className: 'subHeaderWCDMarketing' });
											
																			
											if( $( categoryMarketingData.subheaders[j].subHeaderMarketingContent ) ) {
													marketingDiv.update( $( categoryMarketingData.subheaders[j].subHeaderMarketingContent ).innerHTML );
													
													locateFirstUL.insert({ before:marketingDiv });				
											}
										}
									}						
								}				
							}
						}
				
				
				
				}
				// If no subheader marketing content for any, move name into first square of grid
				else {
	
					// Marketing banner
					if( $('vi_banner_ID10000384') ) {
					
						var viBannerCheck = $('vi_banner_ID10000384').innerHTML;
						viBannerCheck = viBannerCheck.replace(/\s/g,''); //remove all white space
						
						if (viBannerCheck != '') { //check to see if marketing content is assigned, added due to new wide banner container
						var htmlBannerStr = $('vi_banner_ID10000384').innerHTML;
							
							htmlBannerDiv = new Element('div', { id: 'newContentBanner' });
							htmlBannerDiv.update( htmlBannerStr );
										
							//insert marketing into first slot
							if( $('tabTableOff') ) {
												
								/*facets */
								var firstGridSquare = $('tabTableOff').select('ul');
														
								
								if( firstGridSquare && firstGridSquare.length > 0 ) {
									firstGridSquare = firstGridSquare[0];
									firstGridSquare.insert({ before: htmlBannerDiv });
								}
							}
						}
					}
	
					// HTML banner
					if( $('categoryNameHeader') ) {
					
						var htmlBannerContent = $('categoryNameHeader');
						htmlBannerContent.style.display = "block";

					} 
				
				} 
				
				
		} //end init
	}
	
document.observe('categoryFacetedSearchGrid:ready',facetcategoryMarketingRejigger.init);

//Event.observe( document, 'categoryProductGrid:ready', facetcategoryMarketingRejigger.init );
		
}
/* END GOL BANNER INSERT CODE ON VI PAGES */

/**
* JBOX:
* A simple popup box overlay that provides easy styling through the use of CSS. Default style is a simple borderless popup, with a CSS box-shadow.
* Main idea is to simplify the popup process. Utilization of CSS to calculate positioning, less realiance on JS.
*
* @author: Jacob Moretti
* @date: 10/05/2012
* @last-revised: 10/29/2012
*
* PROPERTIES OF JBOX ->
* @property (INT) width: width of the popup
* @property (INT) height: height of the popup
* @property (STRING) url: url for iframe
* @property (STRING) title: title to display above popup
* @property (STRING) jboxID: div id of the popup container that holds everything
* @property (STRING) backdropID: id of the backdrop overlay div
* @property (STRING) titleID: id of the title div
* @property (STRING) closeID: id of the close div
* @property (STRING) boxID: id of the box div that holds #titleID, #closeID, and #iframeID
* @property (STRING) iframeContainerID: id of the div container that holds the iframe
* @property (STRING) iframeID: id of the iframe
* @property (STRING) iframeName: name of the iframe
**/

var jbox = {

  // initial properties
  width: 300,
  height: 300,
  url: "",
  title: "",
  jboxID: "jbox",
  backdropID: "backdrop",
  boxID: "box",
  topbarID: "topbar",
  titleID: "title",
  closeID: "close",
  iframeContainerID: "iframeContainer",
  iframeID: "iframe",
  iframeName: "jboxIframe",

  // hold default options for fallback
  defaultOptions:
  {
    width: 300,
    height: 300,
    url: "",
    title: "",
    jboxID: "jbox",
    backdropID: "backdrop",
    boxID: "box",
    topbarID: "topbar",
    titleID: "title",
    closeID: "close",
    iframeContainerID: "iframeContainer",
    iframeID: "iframe",
    iframeName: "jboxIframe"
  },

  // set passed in options
  setOptions : function(options)
  {
    this.width = options.width;
    this.height = options.height;
    this.url = options.url;
    this.title = (options.title == null || options.title == "") ? this.defaultOptions.title : options.title;
    this.jboxID = (options.jboxID == null || options.jboxID == "") ? this.defaultOptions.jboxID : options.jboxID;
    this.backdropID = (options.backdropID == null || options.backdropID == "") ? this.defaultOptions.backdropID : options.backdropID;
    this.boxID = (options.boxID == null || options.boxID == "") ? this.defaultOptions.boxID : options.boxID;
    this.topbarID = (options.topbarID == null || options.topbarID == "") ? this.defaultOptions.topbarID : options.topbarID;
    this.titleID = (options.titleID == null || options.titleID == "") ? this.defaultOptions.titleID : options.titleID;
    this.closeID = (options.closeID == null || options.closeID == "") ? this.defaultOptions.closeID : options.closeID;
    this.iframeContainerID = (options.iframeContainerID == null || options.iframeContainerID == "") ? this.defaultOptions.iframeContainerID : options.iframeContainerID;
    this.iframeID = (options.iframeID == null || options.iframeID == "") ? this.defaultOptions.iframeID : options.iframeID;
    this.iframeName = (options.iframeName == null || options.iframeName == "") ? this.defaultOptions.iframeName : options.iframeName;
  },

  // method for checking existence of custom data attributes
  checkDataAttributes : function()
  {
    // listen for a click on all anchors with rel=jbox
    $$("[rel='jbox']").invoke('observe', 'click', function(e) {
      // grab the element clicked
      var thisElement = e.findElement("[rel='jbox']");

      // gather each of the data jbox attributes
      var options = {};
      options.width = $(thisElement).getAttribute('data-jbox-width');
      options.height = $(thisElement).getAttribute('data-jbox-height');
      options.url = $(thisElement).getAttribute('data-jbox-url');
      options.title = $(thisElement).getAttribute('data-jbox-title');
      options.jboxID = $(thisElement).getAttribute('data-jbox-jboxID');
      options.backdropID = $(thisElement).getAttribute('data-jbox-backdropID');
      options.boxID = $(thisElement).getAttribute('data-jbox-boxID');
      options.topbarID = $(thisElement).getAttribute('data-jbox-topbarID');
      options.titleID = $(thisElement).getAttribute('data-jbox-titleID');
      options.closeID = $(thisElement).getAttribute('data-jbox-closeID');
      options.iframeContainerID = $(thisElement).getAttribute('data-jbox-iframeContainerID');
      options.iframeID = $(thisElement).getAttribute('data-jbox-iframeID');
      options.iframeName = $(thisElement).getAttribute('data-jbox-iframeName');

      // now open the box using the options we gathered above
      jbox.boxIt(options);

      e.preventDefault();
    });
  },

  // main method to create the actual overlay
  boxIt : function(options)
  {
    // set options that have been passed
    jbox.setOptions(options);

    // insert all the necessary HTML for the structure of the overlay box.
    // the div#jboxID holds everything, styled to zero opacity initially.
    // the iframe#iframeID is also styled to zero opacity
    // NOTE: In order to properly place the div#boxID in the center of the screen
    // we take the width/2, height/2, and set them as negative margins for top and left respectively.
    // Also note that the "X" for the close button is wrapped in a span tag, this is incase you
    // need to hide the "X" and use your own image - you can do so through CSS
    $(document.body).insert('<div id="' + this.jboxID + '" style="display:none;">' +
        '<div id="' + this.backdropID + '"></div>' +

        '<div id="' + this.boxID + '" style="width: ' + this.width + 'px; height: ' + this.height + 'px; margin: -' + (this.height/2) + 'px 0 0 -' + (this.width/2) + 'px;">' +

          '<div id="' + this.topbarID + '">' +

            '<div id="' + this.titleID + '">' + this.title + '</div>' +

            '<div id="' + this.closeID + '"><a href="#close"><span>X</span></a></div>' +

          '</div>' +

          '<div id="' + this.iframeContainerID + '" style="width:' + this.width + 'px;height:' + this.height + 'px;"><iframe id="' + this.iframeID + '" scrolling name="' + this.iframeName + '" src="' + this.url + '" style="display:none;width:' + this.width + 'px;height:' + this.height + 'px;" frameborder="0"></iframe></div>'+

        '</div>' +

      '</div>'
    );

    // now that the HTML has been inserted
    // lets open the box up
    jbox.open();
  },

  open : function()
  {
    // show jbox as its initially hidden
    $(jbox.jboxID).show();
    
    // in order to properly center the title
    // we take its width/2 and set as negative left margin
    var titleWidth = $(this.titleID).getWidth() / 2;
    $(this.titleID).setStyle({left: "50%", marginLeft: "-" + titleWidth + "px"});
    
    // add closing behaviors
    jbox.addCloseBehaviors();

    // check to see if the document in the iframe is done loading
    this.checkLoading();
  },

  close : function()
  {
  	// we blank out the src as a workaround for IE
  	$(jbox.iframeID).src = "";
    // remove the html markup
    $(jbox.jboxID).remove();
  },

  checkLoading : function()
  {
    // the iframe#iframeID is still hidden
    // we add some loading text in the div#iframeContainer
    $(this.iframeContainerID).insert('<div id="loading"><img src="/Asset_Archive/GPWeb/content/0009/708/587/assets/loading.gif" alt="loading" align="left" /> loading...</div>');

    // listen for when the iframe has completed loading its content
    Event.observe(jbox.iframeID, "load", function()
    {
      // when loading is complete
      // remove the markup completely
      jQuery('#loading').remove();
      // show iframe, as its initially hidden
      $(jbox.iframeID).show();
	  $(jbox.iframeID).setStyle({ 'width': jbox.width + 'px', 'height': jbox.height + 'px' });
    });
  },

  // method for listening to clicks to close the box
  // we want to avoid inline JS so its controlled here
  addCloseBehaviors: function()
  {
    // watch for a click on the anchor inside the div#closeID
    $$('#' + this.closeID + ' a')[0].observe("click", function(e)
    {
      jbox.close();
      e.preventDefault();
    });

    // watch for a click on div#backdropID
    $(this.backdropID).observe("click", function(e)
    {
      jbox.close();
      e.preventDefault();
    });
  }

}

/* JBOX DATA ATTRIBUTE INIT */
Event.observe(window,"load",jbox.checkDataAttributes);

/***END JBOX CODE ***/


/**********************END JS SEASONAL OVERRIDES************************/
</script>
<script type="text/javascript" src="/Asset_Archive/GPWeb/content/0009/708/587/assets/wcdLib_101414.js"></script>



<script type="text/javascript">
/* Email Sign-up Pop-up on HP */

//var hasDIparam = gidLib.getQuerystringParam('DI');
var hasTIDparam = gidLib.getQuerystringParam('tid');
var getTIDstring = hasTIDparam.substr(0, 4); //look for first two characters in EV string ex. GP
var emailCookieName = "GOL_hasSeenEmailpop";
var hasSeenEmailPop = gidLib.getCookieVar("mktUniversalPersist", emailCookieName);
if (location.hostname.indexOf('m.gap') > -1) {
  hasSeenEmailPop = 1;
}

//if(hasDIparam == "" || hasDIparam == undefined) { //Exclude if &DI param
if(hasTIDparam == "" || hasTIDparam == undefined || getTIDstring != 'gpem') { //Exclude if &EV param

	// Initialize popup to use Personalization Data
	if( window['personalizationService'] ) {
		var wcdIsPersonalizationDataReady = false;
		document.observe('personalizationData:ready', function() {
			wcdIsPersonalizationDataReady = true;
		});
		Event.observe(window, 'load', function() {
			if( wcdIsPersonalizationDataReady ) {
				launchEmailPopUpHP();
			}
			else {
				document.observe('personalizationData:ready', function() {

					launchEmailPopUpHP();
				
        });	
			}
		});
	} else if(getTIDstring == 'gpem'){
		//EV present from email, set cookie to suppress through session
		gidLib.setCookieVar("mktUniversalPersist", emailCookieName, "1");	

	}

} //end isDI


function launchEmailPopUpHP() {
	
	//var emailCookieName = "092013_hasSeenEmailpop";
	//var hasSeenEmailPop = gidLib.getCookieVar("mktUniversalPersist", emailCookieName);
	//var emailCookieNameDI = "DI";
	//var customerid = gidLib.getCookie('customerId');
	//var hasEmailDI = gidLib.getCookieVar("mktUniversalPersist", emailCookieNameDI);


  if(document.cookie.indexOf("emailCookieRemindMeLater")>=0 ){
    gidLib.setCookieVar("mktUniversalPersist", emailCookieName, "2");
  }


  // if(document.cookie.indexOf("emailCookieRemindMeLater")<0 ){
  //   gidLib.setCookieVar("mktUniversalPersist", emailCookieName, "2");
  // }

	if( marketMessageService.requestOriginCountryCode == 'US' || marketMessageService.requestOriginCountryCode == '' ) { //only show pop-up to US and WIP
	
		if ( location.pathname != "/buy/shopping_bag.do" && location.pathname != "/checkout/order.do" && location.pathname != "/checkout/orderConfirm.do" && hasSeenEmailPop != "1"&& document.cookie.indexOf("emailCookieRemindMeLater")<0) { //launch only on HP & set cookie to only show once
			
				//if (hasEmailDI == "" || hasEmailDI == undefined || customerid == 0) { //check for DI cookie is not present and customerId (ex. 40895368|||)
				//if (hasEmailDI == "" || hasEmailDI == undefined) { //check for DI cookie is not present and customerId (ex. 40895368|||)

						//auto-pop email
						jbox.boxIt({width:633,height:640,url:"/browse/info.do?cid=1000698"});	
						gidLib.setCookieVar("mktUniversalPersist", emailCookieName, "1");	

				//}
		
		}else {		
				//no pop-up, control
		}
	} //end marketingMessageService
}


/* End Sign-up Pop-up on HP */

</script>

<!-- ==========================
override baby gift shop left nav 
============================ -->
<script type="text/javascript">
  jQuery(function($) {
    $(document).ready(function() {
      //check if baby gift shop category link exists and gift sets link exists li tags
      if ($('#categoryNav1027011').length && $('#categoryNav1027019')){
        //console.info('on a baby page and gift shop AND gift sets category links exist');
        //change css of gift shop link
        $('#categoryNav1027011').css({
          'font-size': '10px',
          'font-weight': 'bold',
          'color':'#000d42',
          'border-top': 'solid 1px',
          'border-bottom': 'solid 1px',
          'margin-bottom': '4px',
          'margin-top': '10px'
        });
        //change css of gift sets
        $('#categoryNav1029391').css({
          'border-bottom':'solid 1px',
          'padding-bottom':'4px'
        });
        //change a href of gift shop link
        $('#categoryNav1027011 a').attr('href','/browse/info.do?cid=1028245');
      }
    });
  });

</script>


<!-- END Content Item File: /content/0009/708/587/cn9708587.html -->

<!-- END - WCD Sitewide Container 2 -->

<!-- BEGIN - WCD Sitewide Container 3 -->
<!-- BEGIN Content Item File: /content/0008/792/725/cn8792725.html -->

<!-- begin CSS Hot Fix contentOverride  -->
<style type="text/css">

/* Begin Hide PL Universal Button - 4/28/15 */
#universalBar .universalBarTable #universalBarTabs { width:263px !important }
#universalBar .universalBarTable #universalMarketingContainerTop { width:511px !important }
#universalBar .universalBarTable #universalInlineBagContainer{ width:213px !important }
/* End Hide PL Universal Button - 4/28/15 */

/* -- begin swim fix -- */
.specialHoursDate{
float: left !important;
width: 85px !important;
}

#quickLookMarketingFlagStyle .productMarketingFlag {
text-align: left !important;
}

#quickLookMarketingFlagColor .productMarketingFlag {
text-align: left !important;
}

/* -- end swim fix -- */

/* -- contentOverride130 begin remove associated JS override -- */
#noCookie {display:none;}
.siteErrorSpacer {display:none;}
/* -- contentOverride130 end remove associated JS override -- */

/* Begin CNOV-89 - Rewards in Checkout */
#rewardPanel .rewardsListContainer {width: 101%;}
/* End CNOV-89 - Rewards in Checkout */

/* Begin CNOV-105 - Fix facet flyout invisible in iOS7 */
#flyout_size_invisible_edge, #flyout_brand_invisible_edge {
	-webkit-transform: translate3d(0, 0, 0);
}
/* End CNOV-105 - Fix facet flyout invisible in iOS7 */


/* Begin CNOV-117 CSS overrides */
.primaryButtonA, .primaryButtonB, 
.secondaryButtonA, .secondaryButtonB, 
.tertiaryButtonA, .tertiaryButtonB, .tertiaryButtonC { font-family: Arial, Helvetica, sans-serif; }

.breakpoint-small .responsiveShoppingBag .securityAndPoliciesSM { display: block }
.breakpoint-small .responsiveShoppingBag .securityAndPoliciesLXL { display: none }
.breakpoint-medium .responsiveShoppingBag .securityAndPoliciesSM { display: block }
.breakpoint-medium .responsiveShoppingBag .securityAndPoliciesLXL { display: none }

.breakpoint-large .responsiveShoppingBag .securityAndPoliciesSM { display: none }
.breakpoint-large .responsiveShoppingBag .securityAndPoliciesLXL { display: block }
.breakpoint-xlarge .responsiveShoppingBag .securityAndPoliciesSM { display: none }
.breakpoint-xlarge .responsiveShoppingBag .securityAndPoliciesLXL { display: block }
/* End CNOV-117 CSS overrides */

</style>
<!-- end CSS Hot Fix contentOverride  -->

<!-- contentOverride114 begin -->
<script type="text/javascript">
if (window["imageLoader"]) {
	// Undo the event binding
	if (window["categoryInfo"]) {
		if (categoryInfo.categoryPageCachingActive == "true") {
			Event.stopObserving(document, 'categoryProductGrid:ready', imageLoader.initLoader);
		}
	}
	if (!isImageLoaderObserverSet) {
		Event.stopObserving(document, "dom:loaded", imageLoader.initLoader);
	}
	// Override the init method
	ImageLoaderConstructor.prototype.init = function() {
		this.reset();
		var productGrid = this.productGrid = $('tabTable')||$('tabTableOff')||$('searchProductIteration')||$$('div[class="categoryContent"]')[0];
		if(!productGrid) return;
		// make imageLoader forward/backward compatible with SOLR/ORA category page
		// ---------------------
		this.productList = $('mainContent').select('div[class~="productCatItem"]');
		if(this.productList.length == 0) {
			this.productList = $('mainContent').select('li[class~="productCatItem"]');
		} 
		if(this.productList.length == 0) return;
		// ---------------------
		
		this.initializeImages(this.productList, this.imgs);
		
		var firstProductImg = Selector.findChildElements(this.productList[0], ['img']);
		this.shouldFlipImgArray = firstProductImg[0].id == this.imgs[this.imgs.length - 1].img.id;
		var productDim = this.productList[0].getDimensions();
		var productViewportRowCount = this.browserDim[1] / productDim.height;
		this.groupSize = Math.ceil(productViewportRowCount) * this.productPerRow;
		this.groupCount = Math.ceil(this.productList.size() / this.groupSize);
		
		var productGridDim = productGrid.getDimensions();
		var productRowCount = Math.floor(productGridDim.height / productDim.height);
		var rowSize = productRowCount / this.groupCount;
		var rowsHeight = productDim.height * rowSize;
		
		this.rowsHeightInverse = 1/rowsHeight;
		var productGridOffset = Position.cumulativeOffset(productGrid);
		this.minHeight = productGridOffset[1];
		this.maxHeight = this.minHeight + productGridDim.height - rowsHeight;
		
		this.scrollHandler = this.fetch.bind(imageLoader);
		Event.observe(window, 'scroll', this.scrollHandler);
		this.fetch();
	};
	// re-instantiate imageLoader
	window['imageLoader'] = null;
	window['imageLoader'] = new ImageLoaderConstructor();
	// re-bind events
	window['isImageLoaderObserverSet'] = false;
	if (window["categoryInfo"]) {
		if (categoryInfo.categoryPageCachingActive == "true") {
			Event.observe(document, 'categoryProductGrid:ready', imageLoader.initLoader);
			window['isImageLoaderObserverSet'] = true;
		}
	}
	if (!window['isImageLoaderObserverSet']) {
		Event.observe(document, "dom:loaded", imageLoader.initLoader);
		window['isImageLoaderObserverSet'] = true;
	}
}
</script>
<!-- contentOverride114 end -->


<!-- begin contentOverride 101 -->
<script type="text/javascript">
if(window['productPage'] || window['quickLook']) {
	[window['productPage'], window['quickLook']].each( function(obj) { 
		if (!obj) return;
		obj.getPriceText = function(strPrice,strSalePrice) {
			return (!strSalePrice || strSalePrice == '' ? strPrice : '<strike>' + strPrice + '</strike><span class="salePrice">' + strSalePrice + '</span>');
		};
    });
}
</script>
<!-- end contentOverride 101 -->
 
  <!-- begin contentOverride23 -->
  <script type="text/javascript">
// FEDEX TRACKING	
(function() {
    if (location.pathname == "/profile/shipment_detail.do") {
        Event.onDOMReady(function() {
            var as = $$('a[href*=http://fedex.com/Tracking?action=track&language=english&cntry_code=us&initial=x&tracknumbers]');
            as.each(function(a){
                if (a && a.href) {
                    var url = a.href;
                    if (url.indexOf("tracknumbers=") == -1) {
                        url = url.replace("tracknumbers","tracknumbers=");
                        a.href = url;
                    }
                }
            });
        });
    }
})();
</script>
  <!-- end contentOverride23 -->
<!-- begin contentOverride Product Review  - pid 719978 talk to Cindy Jermaine or Ollie  -->
<script type="text/javascript">
if(location.pathname == "/browse/product.do" && gidLib.getQuerystringParam("pid") == "719978"){    
	//Event.observe(window, "load", function(){
	
		var changedDefaultReviews = false;     
		productReviewService.controller.productManager.view.productReviewDetails.setCustomerReviewsDataToPage = 
			productReviewService.controller.productManager.view.productReviewDetails.setCustomerReviewsDataToPage.wrap(function(originalMethod){
				originalMethod();         
				var selectReviews = $('productReviewsSortSelect');                
				if(!changedDefaultReviews && selectReviews){
					selectReviews.selectedIndex = 0;            
					selectReviews.onchange();           
					changedDefaultReviews = true;       
				}
			});
	//});
}
</script>
<!-- override 36 - account order status help link fix -->
<!-- add returns link to headerLinks -->
<script type="text/javascript">
// <![CDATA[
/* MODIFY CS RETURNS link 11.13.12 JP */
if( ( location.pathname == '/profile/order_status_detail.do' ) || ( location.pathname == '/profile/shipment_detail.do' ) || ( location.pathname == '/profile/order_history.do' ) || (location.pathname == '/profile/single_order_detail.do')) {
  var OrderStatusHelpLinkOverride = Class.create({
	initialize:function() {
	},
	model: {
		orderStatusLinkFixed:'/customerService/info.do?cid=81266',
		
		orderReturnsLinkContent:'<a href="/customerService/info.do?cid=81264">Returns</a>'
	},
	controller:{
		init:{
			main:function() {
				var model = orderStatusHelpLinkOverride.model;
				// Find order status link
				var orderStatusLink = $('mainContent');
				orderStatusLink = orderStatusLink.select('div.headerLinks');
				if( orderStatusLink && orderStatusLink.length > 0 ) {
					orderStatusLink = orderStatusLink[0];
					orderStatusLink = orderStatusLink.select('a');
					if( orderStatusLink && orderStatusLink.length > 1 ) {
						orderStatusLink = orderStatusLink[1];
						orderStatusLink.href = model.orderStatusLinkFixed;
					}
					if((location.pathname == '/profile/single_order_detail.do') && orderStatusLink.length == 1) {
						orderStatusLink = orderStatusLink[0];
						orderStatusLink.href = model.orderStatusLinkFixed;
					}
				}	
				
				// Add order returns link
				
				var orderReturnsLink = $('mainContent');
				
				orderReturnsLink = orderReturnsLink.select('div.headerLinks');
				
				if( orderReturnsLink && orderReturnsLink.length > 0 ) {
					orderReturnsLink = orderReturnsLink[0];
					
					orderReturnsLink.insert({top: model.orderReturnsLinkContent});
				}
			}
		}
	}
  });
  var orderStatusHelpLinkOverride = new OrderStatusHelpLinkOverride();
  Event.observe( window, 'load', function() {
	orderStatusHelpLinkOverride.controller.init.main();
  });
}	
// ]]>
</script>
<!-- BEGIN: content override 97 -->
<script type="text/javascript">
document.observe('dom:loaded',function() {
	if (location.pathname == "/customerService/storeLocator.do") {
		if ($('iFrameContent')) $('iFrameContent').setStyle({
			width : "988px",
			height : "560px"
		});
	}
});
</script>
<!-- END: content override 97 -->
<!-- BEGIN: content override 100 Global Gateway -->
<script type="text/javascript">
if(window['resourceBundleValues'] &&
resourceBundleValues.intlShipSiteRedirectContent.ca.contentMessage1){
   resourceBundleValues.intlShipSiteRedirectContent.ca.contentMessage1 = 'Free shipping on orders of $50 or more';
   resourceBundleValues.intlShipSiteRedirectContent.ca.contentMessage2 = ''; 
}
</script>
<!-- END: content override 100 Global Gateway -->

<!-- Begin Content Override 107 please remove css-->
<script type="text/javascript">
document.observe("dom:loaded", function() {
	var parentEle = $('completeRegistrationPanel');
	if (parentEle) {
		var badElements = parentEle.getElementsBySelector('img[class="universalButtonSprite universalButtonSpriteQuickLookClose"]');
		badElements.each(function(ele) {
			ele.className = ele.className + 'On';
		});
	}
});
</script>
<!-- End Content Override 107 please remove css-->
<!-- contentOverride113 begin -->
<script type="text/javascript">
if (window['checkout'] && checkout.controller && checkout.controller.modules.billing ) {
	checkout.controller.modules.billing.getBillingRequest = checkout.controller.modules.billing.getBillingRequest.wrap(
		function(old) {
			var status = false;
			try { status = old(); }
			catch(e) { status = false; }
			finally { status = false; }
			return status;
		}
	);
}
if (window['checkout'] && checkout.controller && checkout.controller.modules.signIn ) {
	checkout.controller.modules.signIn.getSignInRequest = checkout.controller.modules.signIn.getSignInRequest.wrap(
		function(old) {
			var status = false;
			try { status = old(); }
			catch(e) { status = false; }
			finally { status = false; }
			return status;
		}
	);
}
</script>
<!-- contentOverride113 end -->
<!-- begin contentOverride130 with associated CSS override -->
<script type="text/javascript">
	if (location.pathname == "/cookieFailure.do") {
		Event.observe(window,'load',function() {
			$('noCookie').style.display = "block";
			$$('.siteErrorSpacer').invoke('setStyle',{"display":"block"});
		});
	}
</script>
<!-- end contentOverride130 with associated CSS override-->
<!-- BEGIN IT Override #138 - excessive omniture call mitigation -->
<script type="text/javascript">
if (reportingService && reportingService.controller.viewManagers.rewardBannerViewManager && reportingService.controller.viewManagers.rewardBannerViewManager.controller) {
reportingService.controller.viewManagers.rewardBannerViewManager.controller.getReportRequest = function() {};
}
</script>
<!-- END IT Override #138 - excessive omniture call mitigation -->
<!-- BEGIN content override CNOV-9 JS -->
<script type="text/javascript">
function swapSignInFormTarget() {
	var signInFormTargetLocation = location.search;
		if (signInFormTargetLocation.indexOf('.jsp') > -1) {
			 var currentSignInTargetURL = $('existing_targetURL').value;
			 var currentRegisterTargetURL = $('new_targetURL').value;
			 if (currentSignInTargetURL.indexOf('www') == -1) {
				 if (currentSignInTargetURL && currentSignInTargetURL.indexOf('.jsp') > -1) {
					 var newSignInTargetURL = 'http://www.gap.com' + currentSignInTargetURL;
				 } else {
					 var newSignInTargetURL = '/';
				 }
				 // set target URL value
				 $('existing_targetURL').value = newSignInTargetURL;
			 }
			 if (currentRegisterTargetURL.indexOf('www') == -1) {
				 if (currentRegisterTargetURL && currentRegisterTargetURL.indexOf('.jsp') > -1) {
					 var newRegisterTargetURL = 'http://www.gap.com' + currentRegisterTargetURL;
				 } else {
					 var newRegisterTargetURL = '/';
				 }
				 $('new_targetURL').value = newRegisterTargetURL;
			 }
		}
}
	if (location.pathname =='/profile/sign_in.do') {
		document.observe("dom:loaded",function() {
			swapSignInFormTarget();																 
		});
}
</script>
<!-- END content override CNOV-9 JS -->
<!-- BEGIN content override CNOV-17 (MalformedJSON handler -->
<script type="text/javascript">

//CNOV-17
if (brandConst.IS_NAV2_ENABLED === 'true' && brandConst.IS_FACET_ENABLED === 'true' && window['reportingService'] && reportingService.controller.viewManagers.categoryFacetedSearchViewManager && reportingService.controller.viewManagers.categoryFacetedSearchViewManager.controller) {

    /**
     * Tries to parse for a doubled '}}' at the end of the json.  If that succeeds, then process and report
     * "malformedJSONFixed".  Otherwise report "malformedJSON" and retry once.  If still failing, report
     * "malformedJSONTwice" and display an error to the user.
     **/
    navigationService.controller.managers.categoryFacetedSearchManager.controller.handlers.getCategoryFacetedSearchDataHandlers.malformedJSONHandler = function (response, e) {
        var categoryFacetedSearchManager = navigationService.controller.managers.categoryFacetedSearchManager;
        var model = categoryFacetedSearchManager.model;
        var viewManager = reportingService.controller.viewManagers.categoryFacetedSearchViewManager;

        var returnErrorToUser = false;

        // If doubled trailing "}}"
        if (/}}$/.test(response.transport.responseText)) {
            var newJSON = response.transport.responseText.substring(0, response.transport.responseText.length - 1);
            try {
                response.responseJSON = newJSON.evalJSON();
            } catch (e) {
                if (!model.isRetry) {

                    // Note that we're attempting a retry
                    model.isRetry = true;

                    document.fire("categoryFacetedSearchDataRequest:end");
                    model.dataRequestStatus = categoryFacetedSearchManager.constants.requestStatus.END;

                    viewManager.model.exceptionType = "malformedJSON";
                    viewManager.controller.getReportRequest();

                    categoryFacetedSearchManager.controller.getCategoryFacetedSearchData(null, model.latestFacetRequestUrl + "&retry=true");

                    return;
                } else {
                    // Retry also failed
                    returnErrorToUser = true;
                    viewManager.model.exceptionType = "malformedJSONTwice";

                }
            }

            // Re-parse worked

            model.isRetry = false;

            if (!returnErrorToUser) {
                viewManager.model.exceptionType = "malformedJSONFixed";
                response.transport.response = newJSON;
            }
        } else {

            if (!model.isRetry) {

                // Note that we're attempting a retry
                model.isRetry = true;

                document.fire("categoryFacetedSearchDataRequest:end");
                model.dataRequestStatus = categoryFacetedSearchManager.constants.requestStatus.END;

                viewManager.model.exceptionType = "malformedJSON";
                viewManager.controller.getReportRequest();

                categoryFacetedSearchManager.controller.getCategoryFacetedSearchData(null, model.latestFacetRequestUrl + "&retry=true");
            } else {
                returnErrorToUser = true;
                viewManager.model.exceptionType = "malformedJSONTwice";

                // clear retry
                model.isRetry = false;
            }
        }

        // Have to report error to user
        if (returnErrorToUser) {
            var view = categoryFacetedSearchManager.view;

            if (categoryFacetedSearchManager.model.isDomReady) {
                view.renderExceptionErrorMessage();
            } else {
                Event.observe(window, 'load', view.renderExceptionErrorMessage);
            }
        }

    };



    navigationService.controller.managers.categoryFacetedSearchManager.controller.handlers.getCategoryFacetedSearchDataHandlers.successHandler = navigationService.controller.managers.categoryFacetedSearchManager.controller.handlers.getCategoryFacetedSearchDataHandlers.successHandler.wrap(function (originalMethod, response) {
        // Workaround for "fixed" bad JSON
        if (response.responseJSON == undefined) {
            // Should have been previously handled as an exception
            if (response.request.responseJSON == null) {
                return;
            }

            response.responseJSON = response.request.responseJSON;
            response.responseText = response.request.responseText;
        }

	originalMethod(response);

    });
}
</script>
<!-- END content override CNOV-17 JS -->

<!-- BEGIN content override CNOV-WCD-Quicklinks-Removal-Override -->
<script type="text/javascript">
 
if( window["crossLink"] ) {
  crossLink.wct = '';
}
 
</script>
<!-- END content override CNOV-WCD-Quicklinks-Removal-Override -->


<!-- Begin CNOV-55: Fix for bad left nav links -->
<script type="text/javascript">
var leftNavUrlPatch = {
	init: function() {
        	var sideNavCategories = $('sideNavCategories');
                if(sideNavCategories){
                	var htmlStr = sideNavCategories.innerHTML;
                        htmlStr = htmlStr.replace(/href=".do/g, 'href="/browse/category.do');
                        $('sideNavCategories').innerHTML = htmlStr;
			if (navigationService && navigationService.controller && navigationService.controller.managers && navigationService.controller.managers.categoryFacetedSearchManager && navigationService.controller.managers.categoryFacetedSearchManager.view) {
				navigationService.controller.managers.categoryFacetedSearchManager.view.updateCurrentCategoryLink();
			}
		}
	}
};
Event.observe(window, "load", leftNavUrlPatch.init);
</script>
<!-- End CNOV-55: Fix for bad left nav links -->

<!-- Begin CNOV-79 - responsive checkout release -->

<script type="text/javascript">

(function() {

    // config stuff
    var wcdName = 'chkoutMode50',
        wcdSuite = 'mktUniversalPersist',
        codeName = 'checkoutMode',
        codeVar = 'isEnhanced',
        wcdSegPrefix = 'SEG_',
        forceModeName = 'forceMode',
        isUSMarket = /\.com$/.test(location.host),
        segments = isUSMarket ? '50-50' : '100-0',
        eVar = '42',
        isCheckoutPage = window.location.pathname === '/checkout/order.do' && window.checkout,
        domain = (window.gidBrandSiteConstruct || {}).cookieDomain || null;

    CheckoutABTest();



    function CheckoutABTest() {

        function fixCheckoutShoppingBag() {
        	if (!isCheckoutPage) return;

            jQuery(window).load(function() {
            	var shouldFix = window.responsiveService && !responsiveService.api.isMobileBrowser();
            	if (!shouldFix) return;

            	jQuery('#shoppingBagDetail').css({'overflow': 'visible', 'height': 'auto', 'max-height':'none'});
            });
      
        }


        function fixIE7Crash() {
            if (!clientBrowser.isIE7) return;
            if (!window.gidLib ) return;

            gidLib.inProgressIndicator.open = function(args) {
                this.args = args;
                var requestInProgressMaskNode = this.createRequestInProgressNode();
                this.setInProgressNodeMessage();
                this.setPosition();
                
                this.hiddenDropDownNodes = gidLib.hideDropDownsUnderElement(requestInProgressMaskNode); // IE 6x layer bug - select inputs show through layers.
                Event.observe(window,"resize",gidLib.inProgressIndicator.setPosition);
                
            };
        }

        (function fixInterstitial() {
            if (!window.gidLib || (window.gidLib && !gidLib.layeredPopup)) return;

            gidLib.layeredPopup.openInterstitialDisplay = function(args) {
                var color = (args.color ? args.color : "#fff");
                var opacity = (args.opacity ? args.opacity : "0.65");
                var rgbColors;

                if (clientBrowser.isIE9Up && color[0] === '#') {
                    rgbColors = gidLib.hex2rgb(color);
                    color = 'rgba(' + rgbColors.red + ',' + rgbColors.green + ',' + rgbColors.blue + ',' + opacity + ')';
                } else if ((clientBrowser.isIE8 || clientBrowser.isIE7) && color.indexOf('rgba') >= 0){
                    color = '#ccc';
                }

                this.hasBuzz = (args.buzz != undefined ? args.buzz : true);
                var id = "layeredPopupInterstitial";
                var interstitial = $(id);
                if (!interstitial) {
                    interstitial = $(document.createElement("div"));
                    interstitial.id = id;
                    document.body.appendChild(interstitial);
                    Event.observe(interstitial,"click",this.interstitialBuzzEffect.bind(this));
                }

                var clientWidth = (document.documentElement && document.documentElement.clientWidth ? document.documentElement.clientWidth : document.body.clientWidth);
                var clientHeight = (document.documentElement && document.documentElement.clientHeight ? document.documentElement.clientHeight : document.body.clientHeight);
                var scrollLeft = (document.documentElement && document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft);
                var scrollTop = (document.documentElement && document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop);
                var docW = clientWidth + scrollLeft;
                var docH = (clientBrowser.isIE ? document.body.offsetHeight : (document.documentElement ? document.documentElement.offsetHeight : document.body.offsetHeight));
                if (clientHeight > docH) docH = clientHeight;
                interstitial.setStyle({
                    position:"absolute",
                    top:"0px",
                    left:"0px",
                    width:docW+"px",
                    height:docH+"px",
                    display:"block",
                    background:color,
                    zIndex:"98",
                    opacity:opacity,
                    filter:"alpha(opacity=" + (opacity*100) + ")"
                });
            };
        })();

        function handleSegB() {
            var codeValue = escape(codeVar + '=true');
            gidLib.setCookie(codeName, codeValue, null, '/', domain);

            fixIE7Crash();
            fixCheckoutShoppingBag();
        }

        handleSegB();
    }

})();


</script>
<!-- End CNOV-79 - responsive checkout release -->


<!-- CNOV-61: A/B test for style versus style color engagement-->
<script type="text/javascript">
// <![CDATA[

var NAV2TestCookieCutter = Class.create();
NAV2TestCookieCutter.prototype = {
	initialize:function(CookieVarName,CookieUsedName,CookieValueBase,ForcedModeBaseName,SegmentBreakdown,theEvar,plExcept) {
		this.EvarToUse = theEvar != "" ? theEvar : false;
		this.CookieVariableName = CookieVarName;
		this.CookieUsed = CookieUsedName;
		this.CookieValueBase = CookieValueBase;
		this.SegBreakdown = SegmentBreakdown.split("-");
		this.DoesTheCookieExist = gidLib.getCookieVar(this.CookieUsed, this.CookieVariableName);
		this.RetrievedCookieValue = gidLib.getCookieVar(this.CookieUsed, this.CookieVariableName);
		this.QuickSegment = '';
		this.piperlimeException = plExcept;
		this.userNeedsSync = false;
		this.ForcedModeBase = ForcedModeBaseName;
		this.ModeArrayIndex = this.SegBreakdown.length;
		this.modeArray = new Array();
		this.modeArray[0] = "a";
		this.modeArray[1] = "b";
		
		if (location.href.indexOf(this.ForcedModeBase) >= 1) {
			this.forcedMode();
		}else{
			this.cookieScanner();
		}
	},

	forcedMode:function() {
		for (i = 0; i < this.ModeArrayIndex; i++) {
			if (location.href.indexOf(this.ForcedModeBase + "=" + this.modeArray[i]) >= 1) {
				this.UserSegment = this.CookieValueBase + this.modeArray[i].toUpperCase();
				this.QuickSegment = this.modeArray[i].toUpperCase();
			}
		}
		
		gidLib.setCookieVar(this.CookieUsed,this.CookieVariableName,this.UserSegment);
		if (this.EvarToUse) {
			this.setABTestVariable(this.UserSegment);
		}

		userNeedsSync = true;
	},

	cookieScanner:function() {
		if (this.DoesTheCookieExist) {
			if (this.EvarToUse) {
				this.setABTestVariable(this.RetrievedCookieValue);
			}

			for (i = 0; i < this.ModeArrayIndex; i++) {
				if (this.RetrievedCookieValue == (this.CookieValueBase + this.modeArray[i].toUpperCase())) {
					this.QuickSegment = this.modeArray[i].toUpperCase();
					break;
				}
			}
		} else {
			this.tagManager();
		}
	},

	tagManager:function() {
		this.Segmentation = Math.floor((Math.random()*100)+1); // chooses 1 to 100
		this.FloorThreshold = 0;
		this.TopThreshold = 0;
		
		for (i = 0; i < this.ModeArrayIndex; i++){
			this.TopThreshold = this.FloorThreshold + parseInt(this.SegBreakdown[i]);
			if ((this.Segmentation > this.FloorThreshold) && (this.Segmentation <= this.TopThreshold)){
				this.UserSegment = this.CookieValueBase + this.modeArray[i].toUpperCase();
				this.QuickSegment = this.modeArray[i].toUpperCase();
				break;
			} else {
				this.FloorThreshold = this.TopThreshold;
			}
		}
		
		gidLib.setCookieVar(this.CookieUsed,this.CookieVariableName,this.UserSegment);

		if (this.EvarToUse) {
			this.setABTestVariable(this.UserSegment);
		}
	},
	
	setABTestVariable: function(setValue) {
		thisEvar = 'eVar' + this.EvarToUse;
		ABTestVariables[thisEvar] = setValue;
	}
};


var navCookieCutter = new NAV2TestCookieCutter('NAV2FACETS_1306A_v2_GROUP_TEST', 'mktUniversalPersist', 'navGroupSEG', 'navForceMode', '0-100', '0', '');

if (window.UrlBuilder !== undefined) {
	UrlBuilder.getProductSearchServiceUrl = UrlBuilder.getProductSearchServiceUrl.wrap(function(oM,pageId) {
		var result = oM(pageId);
	
		var abTestVar = ABTestVariables['eVar0'];
		if (abTestVar != undefined) {
			result += "&segment=" + abTestVar;
		}
	
		return result;
	});
}

// ]]>
</script>
<!-- End CNOV-61 -->









<!-- Begin CNOV-87 v3 -->
<script type="text/javascript">

(function() {

	var orderBrandsCookie = 'strOrderBrands';
    var agentDescription = browserService.api.agentDescription().toLowerCase();
    var isSafari = false;
    if (agentDescription.indexOf('safari') != -1) {
          isSafari = true; 
    }

	function isMobileShoppingBag() {
		return (window.location.host.indexOf('m.') >= 0
		                && (window.location.pathname.indexOf('/buy/shopping') >= 0 ||
		                	window.location.pathname.indexOf('edit_shipping_method_bag') >= 0))
		                && window.shoppingBag &&
		                !shoppingBag.controller.checkoutManager.shouldUseAbsoluteCheckoutPath();
	}

	function isCheckout() {
		return window.location.pathname.indexOf('/checkout/') >= 0 && window.checkout != null; 
	}

	function isOrderConfirm() {
		return window.location.pathname.indexOf('/checkout/orderConfirm.do') >= 0;	
	}


	function setOrderBrands(brands) {
		if (!isSafari && window.localStorage) {
			if (brands === '') {
				localStorage.removeItem(orderBrandsCookie);
			} else {
				localStorage.setItem(orderBrandsCookie, brands);
			}
			
		}
		setCookieVar("omniSession",orderBrandsCookie,brands);
	}

	function getOrderBrands() {
		if (!isSafari && window.localStorage) {
			return localStorage.getItem(orderBrandsCookie) || '';
		} else {
			return getCookieVar("omniSession",orderBrandsCookie) || '';
		}
                return '';
	}

	function trackOrderBrandsOnOrder() {
		if (!window.reportingService || !(
			window.reportingService 
			&& reportingService.controller.viewManagers.orderViewManager
			&& reportingService.controller.viewManagers.orderViewManager.controller)) return;
		
		var oldSetPlaceOrderValues = reportingService.controller.viewManagers.orderViewManager.controller.helper.setPlaceOrderReportingValues;
		reportingService.controller.viewManagers.orderViewManager.controller.helper.setPlaceOrderReportingValues = function() {
			oldSetPlaceOrderValues();

			var isOrderBrandsEmpty = (getCookieVar("omniSession","strOrderBrands") || '').length === 0;

			var helper = reportingService.controller.viewManagers.orderViewManager.controller.helper;
			var productInfo = helper.getPlaceOrderReportingProductsHelper(); 
			var productBrands = productInfo.productBrands;

			setOrderBrands(productBrands);
			
			var isOrderBrandsEmptyAfterReset = (getOrderBrands() || '').length === 0;

			var cookieLimit = browserService.controller.getCookieLimits();
			var isCookieSizeTooLarge = (document.cookie.length > cookieLimit.totalMaxSize) || (document.cookie.split(';').length > cookieLimit.maxCount);
			s.eVar0 = 'orderPlacement: brandsEmpty=' + isOrderBrandsEmpty + ', brandsEmptyAfterReset=' + isOrderBrandsEmptyAfterReset + ', cookieTooLarge: ' + isCookieSizeTooLarge;
			s.t();
		} ;	
	}

	function trackOrderBrandsOnOrderConfirm() {
		if (!window.reportingService || !(window.reportingService
			&& reportingService.controller.viewManagers.orderConfirmViewManager
			&& reportingService.controller.viewManagers.orderConfirmViewManager.controller)) return;
		
		reportingService.controller.viewManagers.orderConfirmViewManager.controller.setReportModel = function() {
			var commonViewManager = reportingService.controller.viewManagers.commonViewManager;
			var orderConfirmViewManager = reportingService.controller.viewManagers.orderConfirmViewManager;
			var commonModel = commonViewManager.model;
			var orderConfirmModel = orderConfirmViewManager.model;
			var order = orderConfirmModel.order;
			var reportName = orderConfirmViewManager.reportName;
			var sAccount = null;
			
			order.zip = getCookieVar("omniSession","strOrderZip");
			order.state = getCookieVar("omniSession","strOrderState");
			order.countryCode = getCookieVar("omniSession","strOrderCountryCode");
			// get product bag contents:
			// updated: correct info at (orderController.js)getPlaceOrderReportingProductsHelper:function()
			order.products = orderConfirm.productsInBag;			
			order.cardTypeName = getCookieVar("omniSession","strCardTypeName");
			order.orderBrands = getOrderBrands();
			/* 
			1) omni.objOrder.strOrderId is set on the page - depends on server side datum.
			2) Check to confirm order exists with data based on order id check.
			Only if order exists should the "s" values be set.
			*/
			if (order.orderId != "") {
				orderConfirmModel.sProducts = commonModel.getSProductsFromBag(order.products, reportName);
				
				try {
					orderConfirmModel.events = orderConfirmViewManager.controller.getEventsFromsProduct(orderConfirmModel.sProducts);
				} catch (error) {
					// Default to all events if an error occurs
					orderConfirmModel.events = "purchase, event3, event4, event5, event6, event7, event16, event18, event43, event44, event45, event48";
				} 
				
				// set on orderViewManager.js
				if (commonModel.backordered) {
					orderConfirmModel.events += ", event31, event30, event29";
				}
				orderConfirmModel.viewType = reportingService.constants.viewTypes.ORDER_CONFIRM_VIEW;
			}

			// Purge all values to prevent a re-read of the data.
			setCookieVar("omniSession","strOrderZip","");
			setCookieVar("omniSession","strOrderState","");
			setCookieVar("omniSession","strOrderCountryCode","");
			setCookieVar("omniSessionProducts","strOrderProducts","");
			setCookieVar("omniSession","strOrderId","");
			setCookieVar("omniSession","strCardTypeName", "");
			setCookieVar("omniSession","hasOpenBag","");
			setCookieVar("omniSession","strOrderBrands","");

			// var suite = omni.environmentSuites[omni.objCurrentServer.suite];
			var suite = reportingService.controller.reportingManager.brandReportSuites;
			if (suite && window["gidBrandSiteConstruct"]) {
				var reportingSuites = [];
				var brandSuiteIterator = function(brandSite) {
					if (brandSite && order.orderBrands.include(brandSite.brandAbbr)
							&& suite.brandSuites[brandSite.brandCode] != undefined) {
						reportingSuites.push(suite.brandSuites[brandSite.brandCode]);
					}
				};
				gidBrandSiteConstruct.gidBrandSites.each(brandSuiteIterator);
				reportingSuites.push(suite.globalSuite);
				responsiveService.api.whenMobile(function(){
					var mobileSuite = reportingService.controller.reportingManager.brandMobileReportSuites;
					reportingSuites.push(mobileSuite.brandSuites[gidBrandSiteConstruct.currentBrandCode]);	
					reportingSuites.push(mobileSuite.globalSuite);					
				});
				sAccount = reportingSuites.join(",");
				orderConfirmModel.sAccount = sAccount;
			}     	
		};
        
        var oldOrderConfirmTransmission = reportingService.controller.viewManagers.orderConfirmViewManager.controller.setReportTransmissionVars;
        reportingService.controller.viewManagers.orderConfirmViewManager.controller.setReportTransmissionVars = function() {
			oldOrderConfirmTransmission();

			var cookieLimit = browserService.controller.getCookieLimits();
			var isBrandsEmpty = (s.eVar34 || '').length === 0;

			if (isBrandsEmpty) {
				s.eVar34 = getOrderBrands();
				isBrandsEmpty = (s.eVar34 || '').length === 0;
			}

			var isCookieTooLarge = (document.cookie.length > cookieLimit.totalMaxSize) || (document.cookie.split(';').length > cookieLimit.maxCount);
			s.eVar0 = reportingService.controller.viewManagers.orderConfirmViewManager.model.sAccount;
            s.prop57 = 'orderConfirm: brandsEmpty=' + isBrandsEmpty + ', cookieTooLarge: ' + isCookieTooLarge;

			setOrderBrands('');
		} ;	
	}

	function fixCookieLimit() {
		if (!window.browserService || responsiveService.controller.getViewport) return;

		browserService.controller.getCookieLimits = function() {
			var userAgent = navigator.userAgent;
			var isIE = userAgent.indexOf('MSIE') >= 0;
			var isChrome = userAgent.indexOf('Chrome/') >= 0;
			var isFirefox = userAgent.indexOf('Firefox/') >= 0;
			var isSafari = userAgent.indexOf('Safari/') >= 0;
			var self = browserService;

			var cookieFunc = null,
                cookieObj = null,
				cookieLimitApi = self.model.cookieLimits.api;
			if (isIE) {
				cookieObj = cookieLimitApi.Explorer(8);
			} else if (isChrome) {
				cookieObj = cookieLimitApi.Chrome();
			} else if (isFirefox) {
				cookieObj = cookieLimitApi.Firefox();
			} else if (isSafari) {
				cookieObj = cookieLimitApi.Safari();
			} else {
				cookieObj = cookieLimitApi.defaultLimits();
			}

			return cookieObj;	
		};

	}

	if (isMobileShoppingBag()) {
		fixCookieLimit();
		window.ABTestVariables.eVar0 = window.location.pathname;	
	} else if (isCheckout()) {
		fixCookieLimit();
		window.ABTestVariables.eVar0 = window.location.host;

		trackOrderBrandsOnOrder();
	} else if (isOrderConfirm()) {
		fixCookieLimit();
		trackOrderBrandsOnOrderConfirm();
	}
	

})();

</script>
<!-- End CNOV-87 -->

<!-- Begin CNOV-93 - cookie purge test -->
<script type="text/javascript">

gidLib.removeCookieVar('mktUniversalPersist', 'ONOL0527flyout@#@0614');

(function() {

var cookiesToKeep = ['042315_hasSeenEmailpop','042415GapPopUpABTest','ATOLProdFeedABTest2','ABSeg','03072015_Email_Acq_Popup','0924_Email_Acq_Popup','PVIDVOL021815','signInExpandCollapseViewEnabled','GAC_AB021715_100_0_Seg','PRB021915_update','ATOLProdFeedABTest','0121_Email_Acq_Popup','ATOLHP_PAS_Test','onAutoApply','HPemailPopup011915','1115_Email_Acq_Popup','wishlist','wishlist2','rBagSet4','BRCATBackViewAB','PVIDVOL','surgeShippingTest2014','onMobilepromoApply','VOLCTRLDE0901','mobilepromoukeu08212014','hasSeenInterrupter0819','0807_RM_HPVideo_Popup','0807_RMJP_HPVideo_Popup','VME_AB073114','mobilepromoApply','ATpromo072314','VOLCTRLEU0723','segHopTest','REVIEWSGPVOLCTRL0701','0630_Email_Acq_Popup','VOLCTRLDE0703','mtlPilot2014_ver3','brong_063014','responsiveShoppingBagMode','ATpromo062314','ATOL_lastBZPos','06062014_hasSeenDCclosurePopup','testBRFS0522','1405_GBMystery','windyCity2014pilot','ProdRecLaunch51514','hasClosedSticker','ONOL_hasSeenEmailpopCA','ONOL_hasSeenEmailpopUS','testBRFS2014','ProdRec5114','SpecialLaydownAVTest','0501_hasSeenEmailpopDE','0501_DE_Email_Acq_Popup','ProdRec5114','windyCity2014relaunch','ONOLMystery','ppabtest','windyCity2014v6','windyCity2014v5','showShipOptionsTest','ONOLVIAUTOSCROLL', 'ONOL_SUPERCASH_SEG', '1205HLCookie', 'hasCMClosedSticker_uk', 'hasCMClosedSticker_eu', '7412086_Flash_SEG', 'NAV2FACETS_1306A_v2_GROUP_TEST', '7342063_Flash_SEG', 'chkoutModeInt100A', '1114HLCookie','gb_disruptor_eu','gb_disruptor_uk','gidOnlyPromoCheck', 'gidOnlyPromoStartedInBrand', 'showStore_v2', 'GB_disruptor', 'chkoutModeInt100', 'chkoutMode50', '7129518_HDLNDSRPT', '1007_Email_Acq_Popup ', '092013_hasSeenEmailpop', 'FacetPermutations100113', 'ONOL_PROMO_HDLN_DSRPT', '0926VC', 'DI','plEmailPopupSeen', 'atolGapPromoPop', 'globalInterceptDontShow', 'vvdisruptorvalue', 'plEmailSource', 'BrandsShortcutSeg', 'seenCookiePopup', 'globalInterceptSeenAlready', 'wcdCheckoutCountryPreselect', 'globalInterceptDontShow', 'wcdPreferredLocale', '040213JPFISAB','050313JPLuckyAB', 'userSetShippingViaGlobeTrotterPopup', 'userSetDontShowGlobeTrotter'];
var CookiePurger = {
			clean: function() {

			var cookieLimit = browserService.controller.getCookieLimits();
			var isCookieTooLarge = (document.cookie.length > cookieLimit.totalMaxSize - 1000) || (document.cookie.split(';').length > cookieLimit.maxCount);
			var isMobileBrowser = browserService.controller.managers.mobileBrowserManager.model.isMobileBrowser;
			var isCookieTooLarge = isCookieTooLarge || (isMobileBrowser && document.cookie.length > 3000);

			if (isCookieTooLarge) {
				this.clearCookie("globalSession");
				this.cleanCookie("mktGlobalSession");
				this.cleanCookie("mktUniversalPersist");
			}

		},
		cleanCookie: function(cookieName) {
			var cookieStr = gidLib.getCookie(cookieName);
			if (cookieStr != '') {
				var cookieArray = cookieStr.split('&');
				var newCookiStr = '';
				var cookieVar;

				cookieArray.each(function(cookieArrayPair, i) {
					cookieVar = cookieArrayPair.split('=');
					cookieVar = cookieVar[0];

					if (cookiesToKeep.include(cookieVar)) {
						newCookiStr = newCookiStr + cookieArrayPair;
						if (i < cookieArray.length) {
							newCookiStr = newCookiStr + '&';
						}
					}
				});
				newCookiStr = newCookiStr.substr(0, newCookiStr.length - 1);

				// Reset cookie with new value
				var cookieConfiguration = cookieManagementService.api.getCookieConfigurationByCookieName(cookieName);
				if (cookieConfiguration != null) {
					/* Cookie is managed by cookieManagementService so proceed with cookieConfiguration from service. */
					gidLib.setCookie(cookieConfiguration.name,
						escape(newCookiStr),
						cookieConfiguration.expirationDate,
						cookieConfiguration.path,
						cookieConfiguration.domain,
						cookieConfiguration.isSecure);
				} else {
					/* Cookie is not managed by cookieManagementService so proceed with default execution. */
					var expDate = (expDate != null ? expDate : gidLib.getFutureDate({
						"years": 5
					}));
					var cookieParams = gidLib.setCookieParamsHelper(cookieName, expDate);
					/* Set cookie */
					gidLib.setCookie(cookieName,
						escape(newCookiStr),
						cookieParams.exp,
						cookieParams.path,
						cookieParams.domain,
						cookieParams.isSecure);
				}
			}
		},
		clearCookie: function(cookieName) {
			if (cookieName != null) {
				var newCookieValue = "";
				var cookieConfiguration = cookieManagementService.api.getCookieConfigurationByCookieName(cookieName);
				if (cookieConfiguration != null) {
					/* Cookie is managed by cookieManagementService so proceed with cookieConfiguration from service. */
					gidLib.setCookie(cookieConfiguration.name,
						escape(newCookieValue),
						cookieConfiguration.expirationDate,
						cookieConfiguration.path,
						cookieConfiguration.domain,
						cookieConfiguration.isSecure);
				} else {
					/* Cookie is not managed by cookieManagementService so proceed with default execution. */
					var cookieParams = gidLib.setCookieParamsHelper(cookieName, expDate);
					/* Set cookie */
					gidLib.setCookie(cookieName,
						escape(newCookieValue),
						cookieParams.exp,
						cookieParams.path,
						cookieParams.domain,
						cookieParams.isSecure);
				}
			}
		}

	};

	window.CookiePurger = CookiePurger;
	if ((window.location.pathname == "/buy/shopping_bag.do") || (window["checkout"] && window.location.pathname == "/checkout/order.do")) {
		CookiePurger.clean();
	}

})();
</script>
<!-- End CNOV-93 - cookie purge test -->

<!-- Begin CNOV-107 - Reviews Jump Link patch code -->
<script type="text/javascript">

// add anchor back from top review stars to reviews section
Event.observe(window,"load",function() {
	if (location.href.indexOf("product.do") > 0) {
		if($("reviewSummaryDataSmall") && $("reviewSummaryHeaderGID") ){
			$("reviewSummaryHeaderGID").insert("<a name='reviewSummaryAnchor'></a>");
	
			var smallstars = $("averageOverallRatingSmall");
			$("averageOverallRatingSmall").remove();
			$("reviewSummaryDataSmall").insert("<a href='#reviewSummaryAnchor'><div id='averageOverallRatingSmall'>" + smallstars.innerHTML + "</div></a>");
		}
	}
});
// end of add anchor back from top review stars to reviews section

</script>
<!-- End CNOV-107 - Reviews Jump Link patch code -->



<!-- Begin CNOV-110 -->
<script type="text/javascript">
jQuery(document).ready(
	function() {
		var shoppingBagAnchors = jQuery("a[href='/buy/shopping_bag.do']");
		if (gidBrandSiteConstruct && shoppingBagAnchors.length > 0) {
			/* Elements are present on display, so collect the hrefs. */
			var currentBrandCode = gidBrandSiteConstruct.currentBrandCode;
			var secureUrl = gidBrandSiteConstruct.gidBrandSites[currentBrandCode].secureUrl;
			var secureShoppingBagUrl =  secureUrl + "/buy/shopping_bag.do";
			jQuery.each(shoppingBagAnchors, function(i, shoppingBagAnchor) {
				shoppingBagAnchor.href = secureShoppingBagUrl;
			});
		}
	}
);
// Update to fix 'your bag' text link in shopping bag area
document.observe('personalizationData:ready', function() {
	var shoppingBagAnchors = jQuery("#universalInlineBagContainer a[href='/buy/shopping_bag.do']");
	if (gidBrandSiteConstruct && shoppingBagAnchors.length > 0) {
		var currentBrandCode = gidBrandSiteConstruct.currentBrandCode;
		var secureUrl = gidBrandSiteConstruct.gidBrandSites[currentBrandCode].secureUrl;
		var secureShoppingBagUrl =  secureUrl + "/buy/shopping_bag.do";
		jQuery.each(shoppingBagAnchors, function(i, shoppingBagAnchor) {
			shoppingBagAnchor.href = secureShoppingBagUrl;
		});
	}
});
</script>
<!-- End CNOV-110 -->

<!-- Begin CNOV-112 -->
<script type="text/javascript">
if (window.location.pathname.indexOf('/buy/shopping_bag.do') != -1) {
	if (window["shoppingBagPage"]) {
		shoppingBagPage.loadProductData = function(strProductId,dataLoaderAction,strVariantId,strStyleColorId,productBrandCode) {
			if (strProductId == 0) return;
			this.productId = strProductId; this.variantId = strVariantId;
			this.dataLoaderAction = dataLoaderAction;
			var currentLocale = personalizationService.model.personalizationData.personalizationInfoV1.userContext.localeCode;
			var productDataUrl = this.getProductDataUrl(strProductId, strVariantId, strStyleColorId, currentLocale);
			if (!productBrandCode || productBrandCode == gidBrandSiteConstruct.currentBrandCode ) {

				document.fire("productPage:dataRequest");
				if (typeof this.processInlineProductData == 'function' && brandConst.IS_OPTIMIZED_PRODUCT_PAGE_ACTIVE && dataLoaderAction == "initial") {
					this.processInlineProductData();
				}
				else {
					new Ajax.Request(
						productDataUrl,
						{
							method: 'get',
							onComplete: this.parseProductDataAjaxResponse.bind(this),
							onException: this.productDataExceptionHandler
						}
					);
				}
			} else {
				var gidBrand = gidBrandSiteConstruct.gidBrandSites[parseInt(productBrandCode, 10)];
				if (gidBrand) {
					var args = {strProductId:strProductId};
					gidLib.loadScript({
						callerObject:this,
						src:gidBrand.secureUrl + productDataUrl,
						timeout:{
							handler:this.loadScriptTimeoutHandler.bind(this),
							args:args,
							timeDelay:20
						},
						callback:{
							handler:this.loadScriptCallbackHandler.bind(this),
							args:args,
							timeDelay:0.1
						}
					});
				}
			}
		}
	}
}
</script>
<!-- End CNOV-112 -->

<!-- Begin CNOV-113 - shopping bag Learn More popup fix -->
<script type="text/javascript">
if( location.pathname == '/buy/shopping_bag.do' || location.pathname == '/buy/shopping_bag_delete_item.do' || location.pathname == '/buy/shopping_bag_save_item.do' || location.pathname == '/buy/shopping_bag_move_item.do' || location.pathname == '/buy/edit_shipping_method_bag.do' ) {

jQuery(document).ready(
	function() {
		// Addition from AS
		responsiveService.model.pageStrategies = {};
		// Popup link fix - change all /customerService & /browse popups to /buy
		var linkToUpdate = jQuery('.shippingOptionLearnMoreLink a[onclick], #contentItemContainer10000425 a[onclick]');
		if( linkToUpdate.length > 0 ) {
			linkToUpdate.each( function( index, linkElement ) {
				if( jQuery( linkElement ).attr('href').indexOf('/customerService/info.do') > -1 || jQuery( linkElement ).attr('onclick').indexOf('/customerService/info.do') > -1 || jQuery( linkElement ).attr('href').indexOf('/browse/info.do') > -1 || jQuery( linkElement ).attr('onclick').indexOf('/browse/info.do') > -1 ) {
					var linkHref = jQuery( linkElement ).attr('href');
					var linkOnClick = jQuery( linkElement ).attr('onclick');
					linkHref = linkHref.replace('/customerService/info','/buy/info').replace('/browse/info','/buy/info');
					linkOnClick = linkOnClick.replace('/customerService/info','/buy/info').replace('/browse/info','/buy/info');
					jQuery( linkElement ).attr('href', linkHref );
					jQuery( linkElement ).attr('onclick', linkOnClick );
				}
      });
		}
	}
);

}
</script>
<!-- End CNOV-113 - shopping bag Learn More popup fix -->

<!-- Begin CNOV-115 - shopping bag returns link fix -->
<script type="text/javascript">
if( location.pathname == '/buy/shopping_bag.do' || location.pathname == '/buy/shopping_bag_delete_item.do' || location.pathname == '/buy/shopping_bag_save_item.do' || location.pathname == '/buy/shopping_bag_move_item.do' || location.pathname == '/buy/edit_shipping_method_bag.do' ) {

/* Returns page CIDs by BU
GP US - 81264, ON US - 82724, BR US - 80735, PL US - 80975, AT US - 79311
GP CA - 2326, ON CA - 3325, BR CA - 1324
GP EU - 2326, BR EU - 1324
GP JP - 81264, BR JP - 80735 */

jQuery(document).ready(
	function() {
		var wcdReturnsLinkUpdater = {
			// Returns Link CIDs by brand code
			cidsByBrandCode : { 
				'1':'81264', '3':'82724', '2':'80735', '4':'80975', '10':'79311',
				'7':'2326', '9':'3325', '8':'1324',
				'20':'2326', '21':'1324', '28':'2326', '29':'1324',
				'24':'81264', '25':'80735'
			},
			updateLink: function() {
				if( gidBrandSiteConstruct && gidBrandSiteConstruct.currentBrandCode ) {
					// Determine CID to add by brand code
					var brandCode = gidBrandSiteConstruct.currentBrandCode;
					var returnLinkCid = '';
					for( var key in wcdReturnsLinkUpdater.cidsByBrandCode ) {
						if( key == brandCode ) returnLinkCid = wcdReturnsLinkUpdater.cidsByBrandCode[key];
					}

					// Update the link
					var linkToUpdate = jQuery('.shoppingInformationLinks a');
					linkToUpdate.each( function( index, element ) {
						var linkHtml = jQuery(element).html();
						if( linkHtml.toLowerCase().indexOf('return') > -1 ) {
							jQuery(element).attr('href','/customerService/info.do?cid=' + returnLinkCid );
						}
          });
				}
			}			
		}
		wcdReturnsLinkUpdater.updateLink();
	}
);

}

</script>
<!-- End CNOV-115 - shopping bag returns link fix -->

<!-- Begin CNOV-119 - Hide Private Policy link in signin page -->
<script type="text/javascript">
if ((location.pathname != '/profile/sign_in.do') || (location.pathname != '/profile/validate_sign_in.do')){
	jQuery(document).ready(function(){
		jQuery("#privacyPolicyLink").hide();
	});
};
</script>
<!-- End CNOV-119 - Hide Private Policy link in signin page -->

<!-- Begin CNOV-117 - Responsive Shopping Bag US launch -->
<script type="text/javascript">
// Responsive shopping bag enable
if( location.hostname.substr(0,2) != 'm.' ) {

	var responsiveBagCookieCheck = gidLib.getCookieVar('mktUniversalPersist','responsiveShoppingBagMode');
	var shoppingBagRedirect = false;
	if( responsiveBagCookieCheck != 'responsiveBag_SegB' ) {
		gidLib.removeCookieVar('mktUniversalPersist', 'responsiveShoppingBagMode');
		// setCookieVar doesn't work properly
		//gidLib.setCookieVar('mktUniversalPersist','responsiveShoppingBagMode','responsiveBag_SegB');

		var expDate = (expDate != null ? expDate : gidLib.getFutureDate({ "years": 5 }));
		var domain = (window.gidBrandSiteConstruct || {}).cookieDomain || null;
		
		var cookieStr = gidLib.getCookie('mktUniversalPersist');
		if (cookieStr != '') {
			var cookieArray = cookieStr.split('&');
			var newCookiStr = '';
			var cookieVar;

			cookieArray.each(function(cookieArrayPair, i) {
				cookieVar = cookieArrayPair.split('=');
				cookieVar = cookieVar[0];

				if (cookieVar != 'responsiveShoppingBagMode') {
					newCookiStr = newCookiStr + cookieArrayPair;
					if (i < cookieArray.length) {
						newCookiStr = newCookiStr + '&';
					}
				}
			});
			newCookiStr += 'responsiveShoppingBagMode=responsiveBag_SegB';

			// Reset cookie with new value

			/* Set cookie */
			gidLib.setCookie('mktUniversalPersist', escape(newCookiStr), expDate, '/', domain );
		}
		else {
			gidLib.setCookie('mktUniversalPersist', escape('responsiveShoppingBagMode=responsiveBag_SegB'), expDate, '/', domain );
		}
				
		if( location.pathname == '/buy/shopping_bag.do' || location.pathname == '/buy/shopping_bag_delete_item.do' || location.pathname == '/buy/shopping_bag_save_item.do' || location.pathname == '/buy/shopping_bag_move_item.do' || location.pathname == '/buy/edit_shipping_method_bag.do' ) {
			// Omni tracking of users in cart with no resp bag cookie
			//s.tl( this, 'o', "Desktop user in legacy bag, redirected");
			shoppingBagRedirect = true;
		}
	}
	if( shoppingBagRedirect == true ) {
		var alreadyRedirected = gidLib.getQuerystringParam('bagRedirect');
		if( alreadyRedirected != 'true' ) {
			window.location = '/buy/shopping_bag.do?bagRedirect=true';
		}
		else {
			//s.tl( this, 'o', "Desktop user in legacy bag, already redirected");
		}
	}

}

var responsiveBagAbTestOn = false;
if( location.pathname == '/buy/shopping_bag.do' || location.pathname == '/buy/shopping_bag_delete_item.do' || location.pathname == 'buy/shopping_bag_save_item.do' || location.pathname == '/buy/edit_shipping_method_bag.do' ) {
	// To be replaced by AB test var
	responsiveBagAbTestOn = ( gidLib.getCookieVar('mktUniversalPersist','responsiveShoppingBagMode') == 'responsiveBag_SegB' ) ? true : false;
}

// Responsive bag JS overrides
if( window["responsiveBagAbTestOn"] != null && responsiveBagAbTestOn ) {

	// iPad postage stamp fix
	if( navigator.userAgent.indexOf("iPad") > -1 ) {
		document.write('<style type="text/css">#universalBarContainer #universalMarketingContainerTop { width:auto !important }<\/style>');
		if( window["fixTopForiPad"] != null ) { 
			fixTopForiPad = fixTopForiPad.wrap( function( om ) { });
		}
	}
	
	// Pixman fix
	if (!pixelManagementService.constants.DATE_IN_USE) { 
		pixelManagementService.constants.DATE_IN_USE = brandConst.DATE_IN_USE;
	}
	// Fix to ensure if pixman misses shopping bag ready, it catches from the below. Doesn't re-fire pixman pixels
	jQuery(document).ready(function () {
		setTimeout(function () {
			//document.fire('shoppingBag:ready');
			jQuery(document).trigger('shoppingBag:ready');
		}, 2000);
	});
	
	// Update promo and return links to launch in new tab
	var app = angular.module('gid.app.shoppingBag.directives');
	app.config(function($provide) {
		$provide.decorator('shoppingBagAboutYourOrderDirective', function($delegate) {
			var directive = $delegate[0];
			directive.compile = function () {
				return function (scope, element, attrs) {
					var i = 0;
					scope.$watch('$parent.shoppingBagData.shoppingBag.activeItems', function (newActiveItems) {
						if( jQuery(window).width() < 569 ) {
							//console.log('ativeItems changed');
							var promoIds = [];
							angular.forEach(scope.upsellPromos, function (up) { promoIds.push(up.promoId); } );
							angular.forEach(scope.appliedPromos, function (ap) { promoIds.push(ap.promoId); } );
							jQuery('div.promos').each(function () {
								//console.log('inside  jquery');
								jQuery(this).unbind('click');
								var aEl = jQuery('.promo a', jQuery(this));
								aEl.unbind('click');
								var promoURL = scope.promoUrlPrefix + promoIds.shift();
								//console.log(promoURL);
								aEl.attr('href', promoURL);
								aEl.attr('target', '_blank');
							});
						}
					});
				};
			};
			return $delegate;
		});
	});

	// Update 7-9 day ship option text
	var shoppingBagTransformerModule = angular.module('gid.transformer.shoppingBagTransformer');
	shoppingBagTransformerModule.config(function($provide) {
		$provide.decorator('shoppingBagTransformer', function($delegate) {
			var oldTransformResponse    = $delegate.transformResponse;
			var oldTransformBagResponse = $delegate.transformBagResponse;

			var overrideShippingData = function(jsonData) {
				if (jsonData.shoppingBag && jsonData.shoppingBag.shippingInfo) {
					// Change isInternationalShipping flag from a boolean to a string to fix BorderFree checkout
					var isInternationalShipping = jsonData.shoppingBag.shippingInfo.isInternationalShipping;
					jsonData.shoppingBag.shippingInfo.isInternationalShipping = 
						(isInternationalShipping === true || isInternationalShipping === 'true') ? 'true' : 'false';

					if (jsonData.shoppingBag.shippingInfo.shippingOptions) {
						var shipOptions = jsonData.shoppingBag.shippingInfo.shippingOptions;
						
						// Remove 2096 (Windy City), 3000,3001 (Surge test) from array and set to JSON data
						/*shipOptions = shipOptions.filter( function (el) {
							return el.shippingId !== "2096" && el.shippingId !== "3000" && el.shippingId !== "3001";
						});
						jsonData.shoppingBag.shippingInfo.shippingOptions = shipOptions;*/
						
						// Change Description for standard option
						shipOptions.each( function( elt, idx ) {
							if( elt.description == '7-9 business days' ) elt.description = '7-9 business days - FREE Every Day ($50 min)'; 
						});
					} 
				}
				return jsonData;
			};

			$delegate.transformResponse = function(data, headers) {
				var jsonData = oldTransformResponse(data, headers);
				return overrideShippingData(jsonData);
			};

			$delegate.transformBagResponse = function(data) {
				var jsonData = oldTransformBagResponse(data);
				return overrideShippingData(jsonData);
			}

			return $delegate;
		});
	});
		
	// Double-click delete override
	var shoppingBagServiceModule = angular.module('gid.services.shoppingBagService');
	shoppingBagServiceModule.config(function($provide) {
		$provide.decorator('shoppingBagService', function($delegate, $q) {
			var asyncFuncPromises = [];
			$delegate.syncCall = function (asyncFunc) {
				var len = asyncFuncPromises.length;
				var lastAsyncFuncPromise = (len > 0) ? asyncFuncPromises[len - 1].promise : null;
				var asyncFuncArgs = Array.prototype.slice.call(arguments, 1);
				var asyncFuncDefer = $q.defer();
				var asyncFuncPromise = asyncFuncDefer.promise;
				var actionId = asyncFuncArgs[0];
				for (var i = asyncFuncPromises.length - 1; i >= 0; --i) {
					var afp = asyncFuncPromises[i];
					if (afp.id === actionId) { return afp.promise; }
				}
				asyncFuncPromises.push({ id: actionId, promise: asyncFuncPromise });
				var callAsyncFunc = function () {
					asyncFunc.apply(this, asyncFuncArgs)
					.then(function (response) { 
						asyncFuncPromises.shift();
						asyncFuncDefer.resolve(response);
					},function (reason) { 
						asyncFuncPromises.shift();
						asyncFuncDefer.reject(reason);
					});
				};
				if (lastAsyncFuncPromise) {       	    	   
					lastAsyncFuncPromise.then(function() {
					callAsyncFunc();
				});
				}
				else {
					callAsyncFunc();
				}
				return asyncFuncPromise;
			};
			return $delegate;
		});
	});	
	
	
}

// Android fix
if( location.pathname == '/checkout/order.do' ) {
	if( window.responsiveService ){
		responsiveService.controller.handlers.androidHandler = function(){}
	}
}

</script>
<!-- End CNOV-117 - Responsive Shopping Bag CA launch -->

<!-- Begin CNOV-123 IOS 8 PP Hover Events Patch -->
<script type="text/javascript">
////////////////////////////////////////////////// 
/////////  IOS 8 PP Hover Events Patch v3  ///////
//////////////////////////////////////////////////

var iOS8PPPatch = function() {
	var iOS8PPPatchURL = document.location.href;
	var iOS8PPPatchDevice = navigator.userAgent;
	if (((iOS8PPPatchURL.indexOf("product.do") > 0) || (iOS8PPPatchURL.indexOf("outfit.do") > 0)) && ((iOS8PPPatchDevice.indexOf("Version/8") > 0) || (iOS8PPPatchDevice.indexOf("CriOS") > 0) && (iOS8PPPatchDevice.indexOf("Mobile") > 0)) ) {		
//console.info("iOS 8 Patching...");		
		//// take action and remove the offending events on the first touch...
		var ColorSwatchArr = jQuery("#colorSwatchContent").children("input");
		var SizeChoiceArr1 = jQuery("#sizeDimension1Swatches").children("button");
		var SizeChoiceArr2 = jQuery("#sizeDimension2Swatches").children("button");
		var QLColorSwatchArr = jQuery("#quickLookColorSwatches").children("input");
		var QLSizeChoiceArr1 = jQuery("#quickLookSize1Swatches").children("button");
		var QLSizeChoiceArr2 = jQuery("#quickLookSize2Swatches").children("button");
		for (i = 0; i < ColorSwatchArr.length; i++) {
			var myButton = document.getElementById(ColorSwatchArr[i].id);
			myButton.removeAttribute('onfocus');
			myButton.removeAttribute('onmouseover');
			myButton.removeAttribute('onmouseout');
			myButton.setAttribute("onclick","productPage.swatchOver('color'," + i + ");productPage.setColor(" + i + ");");		
		}
		
		for (j = 0; j < SizeChoiceArr1.length; j++) {
			var myButton = document.getElementById(SizeChoiceArr1[j].id);
			myButton.removeAttribute('onfocus');
			myButton.removeAttribute('onmouseover');
			myButton.removeAttribute('onmouseout');		
		}
		
		for (k = 0; k < SizeChoiceArr2.length; k++) {
			var myButton = document.getElementById(SizeChoiceArr2[k].id);
			myButton.removeAttribute('onfocus');
			myButton.removeAttribute('onmouseover');
			myButton.removeAttribute('onmouseout');		
		}
		for (i = 0; i < QLColorSwatchArr.length; i++) {
			var myButton = document.getElementById(QLColorSwatchArr[i].id);
			myButton.removeAttribute('onfocus');
			myButton.removeAttribute('onmouseover');
			myButton.removeAttribute('onmouseout');	
			myButton.setAttribute("onclick","outfitPage.swatchOver('color'," + i + ");outfitPage.setColor(" + i + ");");		
	
		}
		
		for (j = 0; j < QLSizeChoiceArr1.length; j++) {
			var myButton = document.getElementById(QLSizeChoiceArr1[j].id);
			myButton.removeAttribute('onfocus');
			myButton.removeAttribute('onmouseover');
			myButton.removeAttribute('onmouseout');		
		}
		
		for (k = 0; k < QLSizeChoiceArr2.length; k++) {
			var myButton = document.getElementById(QLSizeChoiceArr2[k].id);
			myButton.removeAttribute('onfocus');
			myButton.removeAttribute('onmouseover');
			myButton.removeAttribute('onmouseout');		
		}
	}		
}

Event.observe(document,"productPage:ready",iOS8PPPatch);
Event.observe(document,"outfitPage:dataRequest", function() {
	if (document.location.href.indexOf("outfit.do") > 0) {
		var outfitArray = jQuery("div.sProductImage");
		for (i = 0; i < outfitArray.length; i++) {
			outfitArray[i].setAttribute("onclick","outfitPage.moduleToggle("+ i +"); iOS8PPPatch();");
		}
	}
});
if (document.location.href.indexOf("outfit.do") > 0) {
	if(outfitPage){
		if (outfitPage.openOutfit) {
			outfitPage.openOutfit = outfitPage.openOutfit.wrap(function(om,n) {
				om(n);
				iOS8PPPatch();
			});
		}
	}
}



</script>
<!-- End CNOV-123 IOS 8 PP Hover Events Patch -->


<script type="text/javascript">
//stop google auto complete from running 12-16-14
/*jQuery(document).ready(function() {
	jQuery('.pac-container').css('visibility','hidden!important');	
			//the code gets activated on key up after 3 characters, 50 char max in field, never get to 100, the code never gets activated
			jQuery ('#shippingAddressFieldGroup4-shippingAddressLine1').click(function() {
				setTimeout(function() {
	 				minChars = 100;	
					//autocomplete = 1;	   
					}, 1000);
  				});
			jQuery ('#shippingAddressFieldGroup4-shippingAddressLine1').focus(function() {
  				setTimeout(function() {
	 				minChars = 100;	
					//autocomplete = 1;		   
					},1000);
				});
			jQuery ('#shippingAddressFieldGroup4-shippingAddressLine1').keyup(function() {
  			setTimeout(function() {
	 				minChars = 100;	
					//autocomplete = 1;		   
					}, 1000);
				});
		});
		*/
				//END stop google auto complete from running 12-16-14
</script>

<!-- Begin Gift Message Emoji Errors 1/9 - by Ollie - contact Dilip & Cristina T for more info -->
<script type="text/javascript">
Event.observe(window,"load", function() {
	if(location.pathname == "/checkout/order.do"){ 
		jQuery("div#giftMessageSubSection > div.subHeadingCol").after("<span style='color:#993333;font-size: 75%;'>We can not accept emojis in gift messages.  Adding them may delay delivery of your item.</span>");}
	});
</script>
<!-- End Gift Message Emoji Errors 1/9 - by Ollie - contact Dilip & Cristina T for more info -->

<!-- Begin CNOV-129 - Adding alt tags + accessibility fixes - contact Quannon/Ollie -->
<script type="text/javascript">

jQuery(window).ready(function(){
	jQuery('#dragImg').attr('alt', 'Gap');
	jQuery('#zoomImg').attr('alt', 'Gap');
	jQuery('#selImageLink').attr('alt', 'Gap');
	jQuery('#crossSellImg').attr('alt', 'Gap');
	jQuery(".checkoutButtonContainer > a > img").attr('alt','Gap');
	
	jQuery("#productUpsellLink").attr('href','javascript:void(0)');
	jQuery("#promoLink").attr('href','javascript:void(0)');
	
	jQuery('#inlineBagItemMessage').prepend('<label for="inlineBagItemMessageItem" style="display:none;">Item Message</label>');
	
});

</script>
<!-- End CNOV-129 - Adding alt tags + accessibility fixes - contact Quannon/Ollie -->

<!-- Begin Add One Stitch Closer Title -->
<script type="text/javascript">

Event.observe(document, "productPage:ready", function() {
	var productToFind = jQuery("span.productName").text()
	if ((location.pathname == '/browse/product.do') && (productToFind.indexOf("International Women's Day") > -1)){
		jQuery('#productNameText').prepend('<span style="color:#FF3300">One Stitch Closer</span><br>');
	}
});
</script>
<!-- End Add One Stitch Closer Title -->

<!-- BEGIN Fix for iPad, Safari checkout issue -->
<script type="text/javascript">

if( location.pathname == '/checkout/order.do' ) {
	var wcdIPadSafariCheckoutFixer = function() {
		// Check for iOS 8.3, iPad, and Safari (and not Chrome)
		var userAgent = navigator.userAgent;
		var iOS = parseFloat( ('' + (/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec( userAgent ) || [0,''])[1]).replace('undefined', '3_2').replace('_', '.').replace('_', '') ) || false;
		//console.log('iOS detect = ' + iOS );
		if( iOS.toString().indexOf('8.3') > -1 && userAgent.indexOf('iPad') > -1 && userAgent.indexOf('Safari') > -1 && userAgent.indexOf('Chrome') == -1 ) {
			jQuery('#billingCardNumber').attr('onchange','').attr('onblur','');		
		}
	}
	
	jQuery(document).ready(function(e) {
    wcdIPadSafariCheckoutFixer();
  });
}

</script>
<!-- END Fix for iPad, Safari checkout issue -->

<!-- BEGIN Fix shopping bag link for sem customers - Byung -->
<script type="text/javascript">
	if (location.href.indexOf("sem=true") != -1) {
		Event.observe(document,"updateDomWithPersonalizationData:completed", function () {
			jQuery('#universalInlineBagContainer').find('a').each(function(){
				if (this.href.indexOf('shopping_bag.do') != -1) this.href = "http://" + location.hostname + "/buy/shopping_bag.do";
			});
		});
	}
</script>
<!-- END Fix shopping bag link for sem customers - Byung -->



<!-- END Content Item File: /content/0008/792/725/cn8792725.html -->

<!-- END - WCD Sitewide Container 3 -->

<!-- BEGIN - WCD Sitewide Container 4 -->

<!-- END - WCD Sitewide Container 4 -->

<!-- BEGIN - WCD Sitewide Container 5 -->
<!-- BEGIN Content Item File: /content/0009/192/623/cn9192623.html -->

<style type="text/css">
.vidThumb {background-size: contain;overflow: hidden;position: relative}
.vidThumbA {background-size: contain;overflow: hidden;position: relative}
#prodVidLG {display: block;position: absolute;visibility: hidden}
#prodVidLGA {display: block;position: absolute;visibility: visible}
.vidhid {visibility: hidden}
div#product_image_bg video {width: 260px}
div#vidTrigger {display:inline-block !important;}
.prodCc {color:#C00;}
</style>
<!--[if lt IE 9 ]>
<script>
var is_ie_lt9 = true;
</script>
<![endif]-->

<script type="text/javascript">
(function( $ ) {
var eventNames = ['categoryFacetedSearchGrid:ready','productPage:ready'];
  $.each(eventNames, function(index,eventName) {
  document.observe(eventName,function(){ 
  $(document).trigger(eventName);
  });
  });
})( jQuery );
;(function ($, window) {
 
var intervals = {};
var removeListener = function(selector) {
 
	if (intervals[selector]) {
		
		window.clearInterval(intervals[selector]);
		intervals[selector] = null;
	}
};
var found = 'waitUntilExists.found';
 
/**
 * @function
 * @property {object} jQuery plugin which runs handler function once specified
 *           element is inserted into the DOM
 * @param {function|string} handler 
 *            A function to execute at the time when the element is inserted or 
 *            string "remove" to remove the listener from the given selector
 * @param {bool} shouldRunHandlerOnce 
 *            Optional: if true, handler is unbound after its first invocation
 * @example jQuery(selector).waitUntilExists(function);
 */
 
$.fn.waitUntilExists = function(handler, shouldRunHandlerOnce, isChild) {
 
	var selector = this.selector;
	var $this = $(selector);
	var $elements = $this.not(function() { return $(this).data(found); });
	
	if (handler === 'remove') {
		
		// Hijack and remove interval immediately if the code requests
		removeListener(selector);
	}
	else {
 
		// Run the handler on all found elements and mark as found
		$elements.each(handler).data(found, true);
		
		if (shouldRunHandlerOnce && $this.length) {
			
			// Element was found, implying the handler already ran for all 
			// matched elements
			removeListener(selector);
		}
		else if (!isChild) {
			
			// If this is a recurring search or if the target has not yet been 
			// found, create an interval to continue searching for the target
			intervals[selector] = window.setInterval(function () {
				
				$this.waitUntilExists(handler, shouldRunHandlerOnce, true);
			}, 500);
		}
	}
	
	return $this;
};
 
}(jQuery, window));


jQuery( document ).ready(function( $ ) {

	var thisDivision = "";
    if (window['reportingService']) {
        thisDivision = reportingService.controller.viewManagers.commonViewManager.model.commonChannelName;
    }
	
	//if(thisDivision == "") { thisDivision = 'noDivisionVideo' }
	var getDivision = thisDivision //.toLowerCase();
	var onlyDivisions = ['women', 'ウィメンズ', 'femme', 'Women', 'Femme'];
	if(jQuery.inArray(getDivision, onlyDivisions) > -1) {	
	if( window["categoryPage"] != null ) { 
	
	
	
	$('<style type="text/css">input[thumbtype="AV9"] {display: none;}</style>').appendTo($('head')[0]);
	
	}
	
	
	if( window["productPage"] != null ) { 
	 
	
	$('<style type="text/css">input[thumbtype="AV9"] {display: none;}</style>').appendTo($('head')[0]);
	/*console.log('step1');*/
	//check AB status first
	
	function PvidVolCntrlTest() {
/*console.log('PvidVol runs');*/
	//var VolControlSegment = gidLib.getCookieVar("mktUniversalPersist", "PVIDVOL021815");
	
	if (window['is_ie_lt9'] != undefined) {
		
		VolControlSegment = "PVIDSEGD"	
	}
	
	else {
		//run the pvid test
			$('input[thumbtype="AV9"]').waitUntilExists(function() {
			
			
			prodVidBuilder();
			
			
			
				});
		
	}
	
}		

	function prodVidBuilder() {
				
	
			function getUrlParameter(sParam)
{
	var sPageURL = window.location.search.substring(1);
	var sURLVariables = sPageURL.split('&');
	for (var i = 0; i < sURLVariables.length; i++)
	{
		var sParameterName = sURLVariables[i].split('=');
		if (sParameterName[0] == sParam)
		{
            return sParameterName[1];
			}
		}
}
	
	var pidVal = getUrlParameter('pid');
	//var cidVal = getUrlParameter('cid');
	//var vidVal = getUrlParameter('vid');
	//var verVal = window.location.hash.substr(1);
	//var filVal = '';
	//pVidT = 0;
	
	//check EU/UK
	if ((window.location.href.indexOf( '.uk') > -1) || (window.location.href.indexOf( '.eu') > -1))  {
		var clrC = pidVal.slice(-2);
		pidVal = pidVal.slice(3, -3).concat(clrC + "0");
		/*console.log(pidVal);*/
		 
	}
		var pidValUs = parseInt(pidVal.substring(0,8).concat('2'));
		var pidValCa = parseInt(pidVal.substring(0,8).concat('3'));
		var pidValJp = parseInt(pidVal.substring(0,8).concat('6'));
		var pidValEu = parseInt(pidVal.substring(0,8).concat('0'));
		
		
		
		//check all variants
		//US
		jQuery.ajax({
    url:'/Asset_Archive/GPWeb/content/0008/743/835/assets/video/' + pidValUs + '_m.jpg',
    type:'HEAD',
    error: function()
    {
        //file not exists
		/*console.log('not finding US');*/
		//CA
		jQuery.ajax({
    url:'/Asset_Archive/GPWeb/content/0008/743/835/assets/video/' + pidValCa + '_m.jpg',
    type:'HEAD',
    error: function()
    {
        //file not exists
		/*console.log('not finding CA');*/
		//JP
		jQuery.ajax({
    url:'/Asset_Archive/GPWeb/content/0008/743/835/assets/video/' + pidValJp + '_m.jpg',
    type:'HEAD',
    error: function()
    {
        //file not exists
		//console.log('not finding JP');
		//EU
		jQuery.ajax({
    url:'/Asset_Archive/GPWeb/content/0008/743/835/assets/video/' + pidValEu + '_m.jpg',
    type:'HEAD',
    error: function()
    {
        //file not exists
		/*console.log('not finding EU');*/
		return;
		
    },
    success: function()
    {
        //file exists
		/*console.log('found EU');*/
		pidVal = pidValEu;
		prodVidMkt();
    }
});//END EU
    },
    success: function()
    {
        //file exists
		/*console.log('found JP');*/
		pidVal = pidValJp;
		prodVidMkt();
    }
});//END JP
    },
    success: function()
    {
        //file exists
		/*console.log('found CA');*/
		pidVal = pidValCa;
		prodVidMkt();
    }
});//END CA
    },
    success: function()
    {
        //file exists
		/*console.log('found US nested check2');*/
		pidVal = pidValUs;
		prodVidMkt();
    }
});//END US
		
		
		
		
		//end check all variants
	
	function prodVidMkt() {
		
		var isAv9 = $('input[thumbtype="AV9"]');
		var posterBG = ('/Asset_Archive/GPWeb/content/0008/743/835/assets/video/' + pidVal + '_m.jpg');
		isAv9.replaceWith('<div id="vidTrigger" class="thumbs vidThumb"><img id="playbuttonImg" src ="/Asset_Archive/GPWeb/content/0008/743/835/assets/vidbtn51d.png" style="position:absolute; left:0px; top:0px;"/></div>');
		$('<style type="text/css">input[thumbtype="AV9"] {display: none;}</style>').appendTo($('head')[0]);
		$( '#vidTrigger' ).css('background-image', 'url(' + posterBG + ')');
		
		if (!($( '#prodVidLG' ).length)) {
 			$( '#product_image_bg' ).prepend( "<video id='prodVidLG' poster='\/Asset_Archive\/GPWeb\/content\/0008\/743\/835\/assets\/video\/" + pidVal + "_m.jpg' crossorigin='anonymous' loop><source src='\/Asset_Archive\/GPWeb\/content\/0008\/743\/835\/assets\/video\/" + pidVal + "_m.mp4' type='video\/mp4'><source src='\/Asset_Archive\/GPWeb\/content\/0008\/743\/835\/assets\/video\/" + pidVal + "_m.webm' type='video\/webm'>Your browser does not support the video tag. </video>" );	
				}
				
					/////VIDEO CONTROLS AND THUMB
	
			//***VIDEO THUMB***//
	var pvid = {
		vidState: $( '#product_image_bg video' ),
		vidBtn: $( '#playbuttonImg' ),
		vidTrig: $( '#vidTrigger' ),
		thumbState: $( "input[class*='thumb']" ),
		dragState: $('#dragLayer'),
		toolState: $( '#imageTools' ),
	
	}

		//***VIDEO ELEMENT AND CONTROLS***///	
pvid.vidTrig.mouseover(function() {
  	pvid.vidState.css( 'visibility', 'visible' );
	
	if ( !pvid.vidTrig.hasClass( "vidThumbA" ) ) {
		pvid.vidTrig.attr( 'class', 'thumbSelected vidThumb' );
	}
	
 	
	if ( pvid.vidState.get(0).paused ) {
	  pvid.vidBtn.css( 'top', '-91px' );//play b
 		 }
  	else {
	  pvid.vidBtn.css( 'top', '-274px' );//pause a
	}
  
	});

pvid.vidTrig.mouseout(function() {
	
	if ( !pvid.vidTrig.hasClass( "vidThumbA" ) ) {
	pvid.vidState.css( 'visibility', 'hidden' );
	pvid.vidTrig.attr( 'class', 'thumbs vidThumb' );
	}
  
	if ( pvid.vidState.get(0).paused ) {
	pvid.vidBtn.css( 'top', '0px' );//play b
		}
	else {
	pvid.vidBtn.css( 'top', '-182px' )//pause b182
		}
  
	});


pvid.vidTrig.click(function () {
	pvid.dragState.hide();
	pvid.toolState.css( 'visibility', 'hidden' );
	pvid.thumbState.attr( 'class', 'thumbs' );
	pvid.vidTrig.attr( 'class', 'thumbSelected vidThumbA' );
	pvid.vidState.css( 'visibility', 'visible' );
	
	if ( pvid.vidState.get(0).paused ) {
    pvid.vidState.get(0).play(); 
	pvid.vidBtn.css( 'top', '-274px' );
	//tracking here
	
	s.linkTrackVars='eVar7'; 
	s.eVar7='ProductVideo_CTA'; 
	s.tl(this,'o',s.eVar7); 

		}
    else {
	pvid.vidState.get(0).pause();
	pvid.vidBtn.css( 'top', '-91px' );
		}
	});
	
pvid.thumbState.mouseover(function () {
					
	pvid.vidState.css('visibility', 'hidden');
				
	});
	
pvid.thumbState.mouseout(function () {
		
	if ( pvid.vidTrig.hasClass( 'vidThumbA' ) ) {
	pvid.thumbState.attr( 'class', 'thumbs' );
	pvid.vidState.css( 'visibility', 'visible' );
		};
				
					
					
	});
	
pvid.thumbState.click(function () {
	
	if ( pvid.vidState.get(0).play ) {
    pvid.vidState.get(0).pause();
	pvid.vidState.get(0).currentTime = 2.75305;
	pvid.vidBtn.css( 'top', '0px' );  
   		};
			
	pvid.vidState.css( 'visibility', 'hidden' );
	pvid.vidTrig.attr( 'class', 'thumbs vidThumb' );
	pvid.toolState.css( 'visibility', 'visible' );
	pvid.dragState.show();
	
		 });	
	
	 $( '#product_image_bg video' ).bind('contextmenu', function() 
    {
        return false;
    }); 
	 //end 
	
	};
	
	
	
		
		
	}
	PvidVolCntrlTest();
	
	}
}

$(document).on('webkitfullscreenchange mozfullscreenchange fullscreenchange', function(e)
{
    $('#dragLayer').hide();
	});
});



</script>

<!-- END Content Item File: /content/0009/192/623/cn9192623.html -->

<!-- END - WCD Sitewide Container 5 -->

<!-- BEGIN - WCD Sitewide Container 6 -->
<!-- BEGIN Content Item File: /content/0009/630/364/cn9630364.html -->


<style type="text/css">
/* CSS to hide PL from Intl Shipping popup itself */
#shippingOptions #bg_us_ol { display:none }
/* North America/US case */
#shippingOptions #nativeShippingContainer div, #shippingOptions #globalShippingContainer div { margin:0 0 0 67px }
/* Canada case */
#nativeAndGlobalRegion #regionSpecificGlobal #globalContainer_CA { left:84px }
/* Asia case */
#shippingOptionsBusinessUnitsContainer #globalShippingContainer { left:63px }
/* EU shippable case */
#regionSpecificGlobal #globalContainer #globalUnits { left:58px }
#regionSpecificGlobal #globalContainer #globalUnits #at_us_ol { margin:0 0 0 45px }

/* Global Gateway */
#shippingOptionsPopUp #regionSpecificNative #currencyForEurope .currencyBritish { font-size:11px }
#shippingOptionsPopUp #regionSpecificNative #currencyForEurope .britishPoundText { font-size:11px }
#shippingOptionsPopUp #regionSpecificGlobal .currency { font-size:11px }

#gatewayBackdrop { background: #000000; width: 100%; height: 100%; overflow: auto; left: 0; opacity: 0.65; filter: alpha(opacity = 65); z-index: 97; position: fixed; _position: absolute; top: 0; _top: expression(eval(document.body.scrollTop)); }

/* CSS fix for CZ/HU selection */
#nativeShippingContainer .gap_eu_ol, #nativeShippingContainer .gap_e2_ol { float:left; width:60px; height:60px }
#nativeShippingContainer .gap_eu_ol a, #nativeShippingContainer .gap_e2_ol a { display:block; float:left; color:#828282; padding-top:48px; text-decoration:none; width:60px; background-image:url("/assets/common/shippingOptions/gap_unselected.png"); background-repeat:no-repeat; text-align:center }
#nativeShippingContainer .gap_eu_ol_Selected, #nativeShippingContainer .gap_e2_ol_Selected { background-image: url("/assets/common/shippingOptions/gap_selected.png") !important; background-repeat:no-repeat }
#nativeShippingContainer .gap_eu_ol_Selected a, #nativeShippingContainer .gap_e2_ol_Selected a { background-image:none }

#nativeShippingContainer .br_eu_ol, #nativeShippingContainer .br_e2_ol { float:left; width:80px; height:60px; margin:0 0 0 52px; }
#nativeShippingContainer .br_eu_ol a, #nativeShippingContainer .br_e2_ol a { display:block; float:left; color:#828282; padding-top:48px; text-decoration:none; width:80px; background-image:url("/assets/common/shippingOptions/br_unselected.png"); background-repeat:no-repeat; background-position:10px 0; text-align:center }
#nativeShippingContainer .br_eu_ol_Selected, #nativeShippingContainer .br_e2_ol_Selected { background-image: url("/assets/common/shippingOptions/br_selected.png") !important; background-repeat:no-repeat; background-position:10px 0 }
#nativeShippingContainer .br_eu_ol_Selected a, #nativeShippingContainer .br_e2_ol_Selected a { background-image:none }

#nativeOrGlobalRegion #nativeShippingContainer { top:59px; left:63px }
#nativeOrGlobalRegion #globalGatewayCurrency .currencyBritish { font-size:11px; color: #828282; font-family: "Helvetica Neue",Helvetica,Arial,sans-serif; height: 22px; bottom: 0; left: 12px; position: absolute; text-align: left; width: 51px; }
#nativeOrGlobalRegion #globalGatewayCurrency .britishPoundText { font-size: 11px; color: #000000; font-family: "Helvetica Neue",Helvetica,Arial,sans-serif; height: 22px; bottom: 0; left: 70px; position: absolute; text-align: left; width: 100px; }

#rollOverNative, #rollOverGlobal { display:none }

</style>

<script type="text/javascript">
// WCD global intercept code 
//
// Two types of intercepts
// - WCD intercept - layout/function fully controlled by WCD
// - Global Gateway intercept - cookieing functionality, background image, save checkbox controlled by WCD, rest is Global Gateway function call
// - Note: some countries still missing from Global Gateway API: AG, BZ, HR, MV, MC, SR

var globalIntercept = {
	model: {
		wcdAssetPath:'/Asset_Archive/GPWeb/content/0009/630/364/assets/',
		showTranslatedExperienceToEU: true,
		businessUnit:'GP_US',
		brandName:'Gap',
		brandURL:'www.gap.com',
		countryCode:'',
		trackingId:'',
		autoPoppedFlag:false,
		wcdRootDomain:'',
		
		// Which countries launch which intercept - array of coutnry codes
		wcdInterceptCoutnries:['CN','HK','TW'],
		globalGatewayCountries:['AE','AR','AT','AU','BB','BD','BE','BG','BH','BN','BO','BR','CA','CH','CL','CO','CR','CY','CZ','DE','DK','DO','EC','EE','EG','ES','FI','FR','GB','GR','GT','HN','HT','HU','ID','IE','IL','IN','IT','JM','JO','KH','KR','KW','LI','LK','LT','LU','LV','MA','MO','MT','MX','NI','NL','NO','NZ','OM','PA','PE','PH','PK','PL','PT','PY','QA','RO','SA','SE','SG','SI','SK','SV','TH','TR','TT','UK','ZA','JP','BG','HR','PL','RO'],
		
		// Life of intercept cookie by region
		interceptCookieLife: {
			oneDayCookie: ['AT','BE','CZ','DE','DK','EE','ES','FI','FR','GB','HU','IE','IT','LT','LU','LV','MT','NL','PT','SE','SK','SI','BG','HR','PL','RO'],
			thirtyDayCookie: ['CN','HK','TW','JP','GLOBAL']
		},
		
		// Personalization Data check, needed for origin country
		isPersonalizationDataReady:false
	},
	controller: {
		init: function() {
			var model = globalIntercept.model;
			var controller = globalIntercept.controller;
			// Set root domain for cookieing
			if( location.hostname.indexOf('.wip.gidapps.com') > -1 ) { model.wcdRootDomain = '.wip.gidapps.com'; }
			else if( location.hostname.indexOf('.app.gidapps.com') > -1 ) { model.wcdRootDomain = '.app.gidapps.com'; }
			else if( location.hostname.indexOf('.gap.com') > -1 ) { model.wcdRootDomain = '.gap.com'; }
			var isSetDontDisplayCookie = gidLib.getCookieVar('mktUniversalPersist','globalInterceptDontShow');
			var isSetSeenAlreadyCookie = gidLib.getCookieVar('mktInterceptPersist','globalInterceptSeenAlready');
			model.countryCode = marketMessageService.requestOriginCountryCode;
			var forceVariable = gidLib.getQuerystringParam('intercept',true);
			// Do NOT show if kwid=1 in URL (biz dev link)
			var isKwidPage = gidLib.getQuerystringParam('kwid',true);
			
			// Check for valid force parameter and override country code
			if( forceVariable != '' && ( model.wcdInterceptCoutnries.include( forceVariable ) || model.globalGatewayCountries.include( forceVariable ) ) ) {
				model.countryCode = forceVariable;
			}
			
			// If gatewayPassed parameter in URL then user just came from a gateway popup so mimic cookie settings and set flag
			var gatewayPassed = gidLib.getQuerystringParam('gatewayPassed',true);
			if( gatewayPassed != '' ) {
				gidLib.setCookieVar( 'mktUniversalPersist', 'globalInterceptDontShow', 'true' );
				gidLib.setCookie( 'mktInterceptPersist', 'globalInterceptSeenAlready=true', gidLib.getFutureDate({'days':'1'}), '/', model.wcdRootDomain );
				isSetDontDisplayCookie = 'true';
				isSetSeenAlreadyCookie = 'true';
			}			
			
			// If on shopping bag/checkout pages, do not auto-launch
			var bagCheckoutDomainCheck = location.pathname;
			if( bagCheckoutDomainCheck.indexOf('/buy/') > -1 || bagCheckoutDomainCheck.indexOf('/checkout/') > -1 ) {
				gidLib.setCookieVar( 'mktUniversalPersist', 'globalInterceptDontShow', 'true' );
				gidLib.setCookie( 'mktInterceptPersist', 'globalInterceptSeenAlready=true', gidLib.getFutureDate({'days':'1'}), '/', model.wcdRootDomain );
				isSetDontDisplayCookie = 'true';
				isSetSeenAlreadyCookie = 'true';
			}
			
			// Check that 'don't show' cookie has not been set, 'already seen' cookie has not been set and that country code is valid, else launch!
			if( ( isSetDontDisplayCookie == '' && isSetSeenAlreadyCookie == '' && isKwidPage != '1' && ( model.wcdInterceptCoutnries.include( model.countryCode ) || model.globalGatewayCountries.include( model.countryCode ) ) || forceVariable != '' ) ) {
				
				// Construct TID
				model.trackingId = model.businessUnit + '_INT_' + model.countryCode;
				
				if( model.showTranslatedExperienceToEU && globalInterceptTranslator ) {
					globalInterceptTranslator.model.countryCode = model.countryCode;
				}
				
				// Launch WCD Intercept
				if( model.wcdInterceptCoutnries.include( model.countryCode ) ) {
					controller.launchWCDIntercept( model.countryCode, model.trackingId );
				}
			
				// Launch Global Gateway intercepr
				else if( model.globalGatewayCountries.include( model.countryCode ) ) {
					siteNavigation.showShippingOptionsOverlay( true, model.countryCode, model.trackingId, 'notHeavy', true );
				}
				
				// Set 'already seen' cookie lifespan - 1 or 30 days (Global Gateway countries are 30 days)
				var globalPopupSeenExpireTime;
				if( model.interceptCookieLife.oneDayCookie.include( model.countryCode ) ) {
					globalPopupSeenExpireTime = gidLib.getFutureDate({'days':'1'});
				}
				else if( model.interceptCookieLife.thirtyDayCookie.include( model.countryCode ) || ( model.interceptCookieLife.thirtyDayCookie.include('GLOBAL') && model.globalGatewayCountries.include( model.countryCode ) ) ) {
					globalPopupSeenExpireTime = gidLib.getFutureDate({'days':'30'});
				}
				gidLib.setCookieVar( 'mktInterceptPersist', 'globalInterceptSeenAlready', 'true', globalPopupSeenExpireTime );

				// Send data to Omniture
				s.pageName = model.businessUnit.toLowerCase() + ":" + model.countryCode + ":launch_intercept";
				s.tl( this, 'o', model.businessUnit.toLowerCase() + ":" + model.countryCode + ":launch_intercept");
			}
		},
		
		// Launch WCD intercept - unique layout by applicable country code: CN, HK, TW
		launchWCDIntercept: function( countryCode, trackingId ) {
			var model = globalIntercept.model;
			var controller = globalIntercept.controller;

			// Build intercept template by country code
			switch( model.countryCode ) {
				// Japan intercept - iframed to JP email sign-up
				case 'JP':
					var interceptWidth = 690;
					var interceptHeight = 755;
					var interceptTemplate = new Template(
						'<div id="jpIntercept"><iframe id="jpSignUp" src="https://m.gap.co.jp/evt/pc/index.php?event=Al%9B%AF%EE%D8%9F%C2%A1%3D%D7%A5%D2%94%85%2F%C5%83%FF%B8%D9%DB%D7%B74%97%DC%E4%1D%F4%18%EB" width="100%" height="750" frameborder="0"><\/iframe><\/div>'
					);

					break;
					
				// China, Hong Kong, Taiwan intercept - image-based intercept with 'don't show' checkbox
				case 'CN':
				case 'HK':
				case 'TW':
					var interceptWidth = 505;
					var interceptHeight = 368;
					var interceptLinkMap;
					var interceptLinkMap2;
					var interceptLinkMap3;
					var interceptLinkMapUS;
					var interceptRegion;
					var siteLink;
					switch( model.countryCode ) {
						case 'CN':
							interceptLinkMap = '302,156,387,176';
							interceptLinkMap2 = '85,242,170,264';
							interceptLinkMap3 = '32,283,157,309';
							interceptLinkMapUS = '193,284,349,309';
							interceptRegion = 'China';
							siteLink = 'http://www.gap.cn/';
							assetName = 'CN.gif';
							checkboxTop = '352';
							checkboxLeft = '39';
							break;
							
						case 'HK':
							interceptLinkMap = '302,156,388,176';
							interceptLinkMap2 = '28,242,113,264';
							interceptLinkMap3 = '36,284,230,309';
							interceptLinkMapUS = '245,284,401,309';
							interceptRegion = 'Hong Kong';
							siteLink = 'http://www.gap.hk/';
							assetName = 'HK.gif';
							checkboxTop = '352';
							checkboxLeft = '39';
							break;
							
						case 'TW':
							interceptLinkMap = '277,156,363,176';
							interceptLinkMap2 = '28,241,117,260';
							interceptLinkMap3 = '32,282,201,309';
							interceptLinkMapUS = '206,283,363,310';
							interceptRegion = 'Taiwan';
							siteLink = 'http://www.gap.tw/';
							assetName = 'TW1.gif';
							checkboxTop = '322';
							checkboxLeft = '371';
							break;
					}
					
					// Construct template and launch
					var interceptTemplate = new Template(
						'<img src="#{wcdAssetPath}' + assetName + '" style="width:489px;height:365px;border:none;" usemap="#intlInterceptMap" />' +
						'<map name="intlInterceptMap" id="intlInterceptMap">' + 
							'<area shape="rect" coords="' + interceptLinkMap + '" href="' + siteLink + '" onclick="globalInterceptPopup.controller.twSavePrefs(\'' + siteLink + '\')" alt="Shop #{brandName} in ' + interceptRegion + '" />' + 
							'<area shape="rect" coords="' + interceptLinkMap2 + '" href="' + siteLink + '" onclick="globalInterceptPopup.controller.twSavePrefs(\'' + siteLink + '\')" alt="Shop #{brandName} in ' + interceptRegion + '" />' + 
							'<area shape="rect" coords="' + interceptLinkMap3 + '" href="' + siteLink + '" onclick="globalInterceptPopup.controller.twSavePrefs(\'' + siteLink + '\')" alt="Shop #{brandName} in ' + interceptRegion + '" />' + 
							'<area shape="rect" coords="' + interceptLinkMapUS + '" href="javascript:void(0)" onclick="globalIntercept.controller.processWCDIntercept(\'#{brandURL}\'); gidLib.layeredPopup.closeLayeredPopup()" alt="Shop #{brandName} U.S." />' + 
						'</map>' + 
						'<div style="position: absolute; float: left; top: ' + checkboxTop + 'px; left: ' + checkboxLeft + 'px;">' + 
							'<input id="wcdInterceptDontShow" type="checkbox" checked="checked" />' + 
						'</div>'
					);
	
					break;
			}
			gidLib.layeredPopup.openLayeredPopup({ str:interceptTemplate.evaluate( globalIntercept.model ), id:'GlobalIntercept', width:interceptWidth, height:interceptHeight, title:'' });
			$('layeredPopupFrameTop').setStyle({ 'textIndent':'-9999px', 'overflow':'hidden' });
		},

		// Process WCD for applicable countries - if in CN/HK/TW and gap.com selected, continue to show WCD intercept
		processWCDIntercept: function( brandLink ) {
			if( $('wcdInterceptDontShow').checked && ( brandLink.indexOf('gap.cn') == -1 || brandLink.indexOf('gap.hk') == -1 ) ) {
				gidLib.setCookieVar('mktUniversalPersist','globalInterceptDontShow','true');
			}
			else {
				gidLib.removeCookieVar('mktUniversalPersist','globalInterceptDontShow');
				gidLib.removeCookieVar('mktInterceptPersist','globalInterceptSeenAlready');
			}
		},
		
		// Add 'save prefs' checkboxes to Global Gateway intercepts
		addSavePrefsCheck: function() {
			var savePrefsStr = '<p style="float:right; width:194px; padding-top:3px">&nbsp;&nbsp;&nbsp;<input type="checkbox" id="savePrefsCheck" style="vertical-align:text-top" /> Save preferences</p>';
			if( $('shippingOptionsCancelButtons') ) {
			  $('shippingOptionsCancelButtons').update( $('shippingOptionsCancelButtons').innerHTML + savePrefsStr );
			  $('shippingOptionsCancelButtons').setStyle({ width:'255px', textAlign:'left' });
			}
			if( $('shippingOptionsCurrencySelect') ) {
				$('shippingOptionsCurrencySelect').setStyle({ fontSize:'11px' });
			}
			if( $('shippingOptionsCancelButton') ) {
				$('shippingOptionsCancelButton').onclick = function() { siteNavigation.closeShippingOptionsOverlay(); }
			}
		}
	}
};

// Wrap shipping option processor in cookie setting mechanism
/*if( location.pathname != '/checkout/order.do' && shippingOptionsService && shippingOptionsService.controller && shippingOptionsService.controller.continuePressed ) {
	shippingOptionsService.controller.continuePressed = shippingOptionsService.controller.continuePressed.wrap( function( om ) {
		if( $('savePrefsCheck') ) {
			if( $('savePrefsCheck').checked ) {
				gidLib.setCookieVar('mktUniversalPersist','globalInterceptDontShow','true');
			}
		}
		om();
	});
}*/

// Initialize popup
if( window['siteNavigation'] ) {
	if( window['personalizationService'] ) {
		document.observe('personalizationData:ready', function() {
			globalIntercept.model.isPersonalizationDataReady = true;
		});
		Event.observe(window, 'load', function() {
			if( globalIntercept.model.isPersonalizationDataReady ) {
				globalIntercept.controller.init();
			}
			else {
				document.observe('personalizationData:ready', function() {
					globalIntercept.controller.init();
				});	
			}
		});
	}
	else {
		Event.observe( window, 'load', function() {
			globalIntercept.controller.init();
		});
	}
}

</script>

<!-- Global Gateway Euro/.co.uk display fix - to be removed with euro site launch -->
<script type="text/javascript">

if( window["shippingOptionsService"] ) {
	if( shippingOptionsService && shippingOptionsService.view ) {
		if( shippingOptionsService.view.regionAndCountrySelect ) {
			shippingOptionsService.view.regionAndCountrySelect = shippingOptionsService.view.regionAndCountrySelect.wrap( function( om, nativeSize, globalSize ) {
				om( nativeSize, globalSize );
				var euCountryCodeArray = ['AT','BE','CZ','DK','EE','FI','FR','DE','HU','IE','IT','LV','LT','LU','MT','NL','PT','SK','SI','ES','SE','GB','BG','HR','PL','RO'];
				var currentCountry = shippingOptionsService.model.shippingOptionsInfo.requestedShippingCountryCode;
				if( euCountryCodeArray.include( currentCountry ) ) {
					if( $('britishPoundText') ) $('britishPoundText').update('British Pounds');
					if( $('orderProcessingPounds') ) $('orderProcessingPounds').hide();
				}
			});
		}
		
		if( shippingOptionsService.view.countrySelected ) {
			shippingOptionsService.view.countrySelected = shippingOptionsService.view.countrySelected.wrap( function( om ) {
				om();
				var euCountryCodeArray = ['AT','BE','CZ','DK','EE','FI','FR','DE','HU','IE','IT','LV','LT','LU','MT','NL','PT','SK','SI','ES','SE','GB','BG','HR','PL','RO'];
				var currentCountry = shippingOptionsService.model.shippingOptionsInfo.requestedShippingCountryCode;
				if( euCountryCodeArray.include( currentCountry ) ) {
					if( $('britishPoundText') ) $('britishPoundText').update('British Pounds');
					if( $('orderProcessingPounds') ) $('orderProcessingPounds').hide();
				}
			});
		}
		
		if( shippingOptionsService.view.displayingBusinessUnits ) {
			shippingOptionsService.view.displayingBusinessUnits = shippingOptionsService.view.displayingBusinessUnits.wrap( function( om, container, brnadsInOrder, innerContainer, businessUnitUrls, brandsDotCom, brandDivs ) {
				om( container, brnadsInOrder, innerContainer, businessUnitUrls, brandsDotCom, brandDivs );
				
				// Update Borderfree to Borderfree
				if( $('globalInstructionText') ) {
					var BorderfreeTxt = $('globalInstructionText').innerHTML;
					BorderfreeTxt = BorderfreeTxt.replace('Borderfree','Borderfree');
					$('globalInstructionText').update( BorderfreeTxt );
				}
				if( $('bottomGlobalInstruction') ) {
					var BorderfreeTxt = $('bottomGlobalInstruction').innerHTML;
					BorderfreeTxt = BorderfreeTxt.replace('Borderfree','Borderfree');
					$('bottomGlobalInstruction').update( BorderfreeTxt );
				}
				
				var euCountryCodeArray = ['AT','BE','CZ','DK','EE','FI','FR','DE','HU','IE','IT','LV','LT','LU','MT','NL','PT','SK','SI','ES','SE','GB','BG','HR','PL','RO'];
				var currentCountry = shippingOptionsService.model.shippingOptionsInfo.requestedShippingCountryCode;
				if( euCountryCodeArray.include( currentCountry ) && currentCountry != 'GB' ) {
					if( $('gap_eu_ol_a') && $('gap_eu_ol_a').innerHTML.indexOf('.co.uk') > -1 ) $('gap_eu_ol_a').update('gap.eu');
					if( $('br_eu_ol_a') && $('br_eu_ol_a').innerHTML.indexOf('.co.uk') > -1 ) $('br_eu_ol_a').update('bananarepublic.gap.eu');

					if( currentCountry == 'CZ' || currentCountry == 'HU' || currentCountry == 'PL' ) { $('orderProcessingPoundsCZHU').show(); }
					
					// Show legal message
					$('orderProcessingPounds').setStyle({ display:'block', padding:'0 5px 0 0' });
				}
				else if( currentCountry == 'GB' ) {
					if( $('gap_eu_ol_a') && $('gap_eu_ol_a').innerHTML.indexOf('.eu') > -1 ) $('gap_eu_ol_a').update('gap.co.uk');
					if( $('br_eu_ol_a') && $('br_eu_ol_a').innerHTML.indexOf('.eu') > -1 ) $('br_eu_ol_a').update('bananarepublic.gap.co.uk');
					
					// Hide legal message
					$('orderProcessingPounds').setStyle({ display:'none' });
				}
				else {
					$('orderProcessingPounds').setStyle({ display:'none' });
					if( $('orderProcessingPoundsCZHU') ) {
						if( currentCountry == 'CZ' || currentCountry == 'HU' ) { $('orderProcessingPoundsCZHU').show(); }
						else { $('orderProcessingPoundsCZHU').hide(); }
					}
				}
			});
		}
		
		if( shippingOptionsService.view.constructUrlAndAddTid ) {
			shippingOptionsService.view.constructUrlAndAddTid = shippingOptionsService.view.constructUrlAndAddTid.wrap( function( om, url, brandName, domainName ) {
				om( url,brandName,domainName );
				if( shippingOptionsService.model.brandURL.indexOf('.eu') > -1 && shippingOptionsService.model.brandURL.indexOf('tid=') == -1 ) {
					if( shippingOptionsService.model.brandURL.indexOf('bananarepublic.gap.eu')  > -1 || shippingOptionsService.model.brandURL.indexOf('brol.app.gidapps.eu') > -1 || shippingOptionsService.model.brandURL.indexOf('brol.wip.gidapps.eu') > -1 ) {
						shippingOptionsService.model.brandURL = shippingOptionsService.model.brandURL + '/?tid=BRINTLSHIP';
					}
					else if( shippingOptionsService.model.brandURL.indexOf('gap.eu')  > -1 || shippingOptionsService.model.brandURL.indexOf('gol.app.gidapps.eu') > -1 || shippingOptionsService.model.brandURL.indexOf('gol.wip.gidapps.eu') > -1 ) {
						shippingOptionsService.model.brandURL = shippingOptionsService.model.brandURL + '/?tid=GOINTLSHIP';
					}
				}
				
				// Adjust domain if needed
				var countrySelected = shippingOptionsService.model.shippingOptionsInfo.requestedShippingCountryCode;
				if( countrySelected == 'GB' && shippingOptionsService.model.brandURL.indexOf('.eu') > -1 ) {
					shippingOptionsService.model.brandURL = shippingOptionsService.model.brandURL.replace('.eu','.co.uk');
				}
				else if( countrySelected != 'GB' && shippingOptionsService.model.brandURL.indexOf('.co.uk') > -1 ) {
					shippingOptionsService.model.brandURL = shippingOptionsService.model.brandURL.replace('.co.uk','.eu');					
				}
				
				// Turkey domain adjustment
				if( countrySelected == 'TR' ) {
					shippingOptionsService.model.brandURL = shippingOptionsService.model.brandURL.replace('www.gol.wip.gidapps.eu','www.gap.com.tr').replace('www.gol.app.gidapps.eu','www.gap.com.tr').replace('www.gap.eu','www.gap.com.tr').replace('www.brol.wip.gidapps.eu','bananarepublic.gap.com.tr').replace('www.brol.app.gidapps.eu','bananarepublic.gap.com.tr').replace('bananarepublic.gap.eu','bananarepublic.gap.com.tr');
				}
				
				// Add 'came through gateway from' and locale URL parameters
				if( globalIntercept.model.businessUnit != '' ) {
					//var gatewayTracker = gidBrandSiteConstruct.currentBrandSiteId + gidBrandSiteConstruct.cookieDomain.replace('.gap','').replace('.gapcanada','').replace('.wip.gidapps','').replace('.app.gidapps','');
					var gatewayTracker = globalIntercept.model.businessUnit;
					var gatewayLinkURL = shippingOptionsService.model.brandURL;
					if( gatewayLinkURL.indexOf('?') > -1 ) { gatewayLinkURL = gatewayLinkURL + '&'; }
					else { gatewayLinkURL = gatewayLinkURL + '?'; }
					gatewayLinkURL = gatewayLinkURL + 'gatewayPassed=' + gatewayTracker;
					
					// Pass locale variable if not English
					//if( globalInterceptTranslator && globalInterceptTranslator.model && globalInterceptTranslator.model.currentLanguage != 'en_GB' ) {
						gatewayLinkURL = gatewayLinkURL + '&preferredLocale=' + globalInterceptTranslator.model.currentLanguage;
					//}
					
					// Pass country through to other site
					gatewayLinkURL = gatewayLinkURL + '&gatewayCountry=' + countrySelected;
										
					shippingOptionsService.model.brandURL = gatewayLinkURL;
				}
			});
		}
		
		if( shippingOptionsService.controller && shippingOptionsService.controller.continuePressed ) {
			shippingOptionsService.controller.continuePressed = shippingOptionsService.controller.continuePressed.wrap( function( om ) {
				var euCountryCodeArray = ['AT','BE','CZ','DK','EE','FI','FR','DE','HU','IE','IT','LV','LT','LU','MT','NL','PT','SK','SI','ES','SE','GB','BG','HR','PL','RO'];
				var countryCodeCheck = shippingOptionsService.view.shippingOptionsCountrySelect().getValue();
				if( euCountryCodeArray.include( countryCodeCheck ) ) {
					shippingOptionsService.model.brandButtonClicked = true;
				}	
				om();
			});
		}
		
		if( shippingOptionsService.view && shippingOptionsService.view.updateAndShowBusinessUnitsContainer ) {
			shippingOptionsService.view.updateAndShowBusinessUnitsContainer = shippingOptionsService.view.updateAndShowBusinessUnitsContainer.wrap( function( om ) {
				om();
				
				var countryCode = shippingOptionsService.view.shippingOptionsCountrySelect().getValue();
				var translatedCopyArray = globalInterceptTranslator.model.currentTranslatedCopy;
				var currentLanguage = globalInterceptTranslator.model.currentLanguage;

				if( countryCode == 'CZ' || countryCode == 'HU' ) {

					if( $('bottomNativeInstruction') ) {
						$('bottomNativeInstruction').update( translatedCopyArray[6] );
						$('bottomNativeInstruction').setStyle({ top:'5px' });
					}
					
					if( $('shippingOptionsBottomFlag') ) {
						var imgToUpdate = $('shippingOptionsBottomFlag').select('img');
						if( imgToUpdate && imgToUpdate.length > 0 ) {
						   imgToUpdate[0].setAttribute('src','/assets/common/shippingOptions/' + countryCode + '.gif');
						}
					}
					
					if( $('globalGatewayCurrency') ) $('globalGatewayCurrency').hide();
					if( $('shippingCurrencySelect') ) $('shippingCurrencySelect').hide();
					
					if( $('globalGatewayCurrency') ) {
						$('globalGatewayCurrency').update( translatedCopyArray[7] );
						$('globalGatewayCurrency').show();
						
						if( $('orderProcessingPoundsCZHU') ) {
							$('orderProcessingPoundsCZHU').update( translatedCopyArray[16] );
						}
						else {
							var orderProcessMessaage = new Element('div', { id:'orderProcessingPoundsCZHU', style:'display: block; padding: 0px 5px 0px 0px; bottom:4px; color: #933; font-family: Arial; font-weight: bold; left: 12px; position: absolute;' }).update( translatedCopyArray[16] );
							$('globalGatewayCurrency').insert({ after: orderProcessMessaage });	
						}
					}
				}
				else if( countryCode == 'BG' || countryCode == 'HR' || countryCode == 'PL' || countryCode == 'RO' ) {

					if( $('bottomNativeInstruction') ) {
						$('bottomNativeInstruction').update( translatedCopyArray[6] );
						$('bottomNativeInstruction').setStyle({ top:'5px' });
						$('bottomNativeInstruction').show();
					}
					
					// Changes US flag to country-specific flag
					if( $('shippingBottomFlagAndInstruction') ) {
						var imgToUpdate = $('shippingBottomFlagAndInstruction').select('img');
						if( imgToUpdate && imgToUpdate.length > 0 ) {
						   imgToUpdate[0].setAttribute('src','/assets/common/shippingOptions/' + countryCode + '.gif');
						}
						$('shippingBottomFlagAndInstruction').show();
					}
					
					// Set currency to British Pounds
					if( $('globalGatewayCurrency') ) $('globalGatewayCurrency').hide();
					if( $('shippingCurrencySelect') ) $('shippingCurrencySelect').hide();
					
					if( $('globalGatewayCurrency') ) {
						$('globalGatewayCurrency').update( translatedCopyArray[7] );
						$('globalGatewayCurrency').show();
						
						if( $('orderProcessingPoundsCZHU') ) {
							$('orderProcessingPoundsCZHU').update( translatedCopyArray[16] );
						}
						else {
							var orderProcessMessaage = new Element('div', { id:'orderProcessingPoundsCZHU', style:'display: block; padding: 0px 5px 0px 0px; bottom:4px; color: #933; font-family: Arial; font-weight: bold; left: 12px; position: absolute;' }).update( translatedCopyArray[16] );
							$('globalGatewayCurrency').insert({ after: orderProcessMessaage });	
						}
						
						// Romania has different placement of messaging
						if( countryCode == 'RO' ) {
							jQuery('#orderProcessingPounds').show();
						}
						
					}
					
					$('shippingOptionsBusinessUnitsContainer').show();

				}
				else {
					if( $('shippingOptionsBottomFlag') ) {
						var imgToUpdate = $('shippingOptionsBottomFlag').select('img');
						if( imgToUpdate && imgToUpdate.length > 0 ) {
						   imgToUpdate[0].setAttribute('src','/assets/common/shippingOptions/US.gif');
						}
					}
				}
			});			
		}		
	}
}

</script>

<script type="text/javascript">

if( window["shippingOptionsService"] ) {
	if( shippingOptionsService && shippingOptionsService.view ) {

var globalInterceptTranslator = {
	
	model: {
		wcdAssetPath:'/Asset_Archive/GPWeb/content/0009/630/364/assets/',
		initialLaunch: false,
		currentLanguage: 'en_GB',
		currentTranslatedCopy: {},
		euCountryCodeArray: ['AT','BE','CZ','DK','EE','FI','FR','DE','HU','IE','IT','LV','LT','LU','MT','NL','PT','SK','SI','ES','SE','GB','BG','HR','PL','RO'],
		euTranslateCountryCodeArray: ['AT','BE','DE','LU','NL','ES'],
		translatedCopyByElt: {
			'en_GB' : [
				'International Shipping',
				'Where are you shipping to?',
				'Region',
				'Country',
				'Language',
				'Please choose a shipping destination above to see store options',
				'Shop these <span id="nativeCountryName" class="nativeCountryName" style="color:#000000">EU sites</span> directly',
				'<div class="currencyBritish">Currency:</div> <div id="britishPoundText" class="britishPoundText">Euros</div>',
				'While prices display in Euros, your order will be processed in British Pounds.',
				'Currency:',
				'Continue',
				'Cancel',
				'Save preferences',
				'Shop these <span style="color:#000000">US sites</span> with international shipping from Borderfree, our global e-commerce provider:',
				'Please note: all prices on gap.eu are displayed in Euros but orders will be charged in British Pounds. Final pricing is determined by the current conversion rate at the time of your order and may vary slightly from the price displayed. Your credit card company may also apply a conversion fee to your transaction.',
				'<div class="currencyBritish">Currency:</div> <div id="britishPoundText" class="britishPoundText">British Pounds</div>',
				'Please note: all prices on gap.eu are displayed in Euros but orders will be charged in British Pounds.'
			],
			'de_DE' : [
				'International Versand',
				'In welche Länder wird geliefert?',
				'Region',
				'Land',
				'Sprache',
				'Wählen Sie oben einen Bestimmungsort aus, um die Filialoptionen anzuzeigen.',
				'Kaufen Sie auf diesen <span id="nativeCountryName" class="nativeCountryName" style="color:#000000">EU-Sites</span> direkt ein in',
				'<div class="currencyBritish">Währung:</div> <div id="britishPoundText" class="britishPoundText">Euro</div>',
				'Die Preise der Artikel werden zwar in Euro angezeigt, doch Ihre Bestellung wird in britischen Pfund bearbeitet.',
				'Währung:',
				'Fortfahren',
				'Löschen',
				'Einstellungen speichern',
				'Kaufen Sie auf diesen <span style="color:#000">US-Sites</span>, die internationalen Versand durch unseren globalen E-Commerce-Anbieter Borderfree anbieten.',
				'Bitte beachten Sie: Alle Preise auf gap.eu werden in Euro angezeigt, doch Bestellungen werden in britischen Pfund berechnet. Der Endpreis hängt jeweils von dem Wechselkurs zum Zeitpunkt der Bestellung ab und kann sich leicht von dem angezeigten Preis unterscheiden. Es besteht die Möglichkeit, dass Ihr Kreditkartenunternehmen zusätzlich eine Umrechnungsgebühr für die Transaktion in Rechnung stellt.',
				'<div class="currencyBritish">Währung:</div> <div id="britishPoundText" class="britishPoundText">British Pounds</div>',
				'Bitte beachten Sie: Alle Preise auf gap.eu werden in Euro angezeigt, doch Bestellungen werden in britischen Pfund berechnet.'
			],
			'nl_NL' : [
				'Internationale verzending',
				'Waar moet uw pakket bezorgd worden?',
				'Regio',
				'Land',
				'Taal',
				'Kies hierboven een bestemming om de winkelopties te bekijken.',
				'Winkel direct op deze <span id="nativeCountryName" class="nativeCountryName" style="color:#000000">EU-sites</span>',
				'<div class="currencyBritish">Valuta:</div> <div id="britishPoundText" class="britishPoundText">Euro</div>',
				'Hoewel productprijzen worden weergegeven in euro\'s, zal uw bestelling worden verwerkt in Britse ponden.',
				'Valuta:',
				'Verder gaan',
				'Annuleren',
				'Voorkeuren opslaan',
				'Winkel op deze <span style="color:#000000">US-sites</span> en maak gebruik van internationale verzending via Borderfree, onze wereldwijde elektronische handelspartner.',
				'Opmerking: alle prijzen op gap.eu worden weergegeven in euro\'s, maar bestellingen worden verwerkt in Britse ponden. De uiteindelijke prijs wordt bepaald door de actuele wisselkoers ten tijde van uw bestelling en kan enigszins afwijken van het getoonde bedrag. Daarnaast kan het zijn dat uw creditcardmaatschappij een omzettingstaks berekent.',
				'<div class="currencyBritish">Valuta:</div> <div id="britishPoundText" class="britishPoundText">British Pounds</div>',
				'Opmerking: alle prijzen op gap.eu worden weergegeven in euro\'s, maar bestellingen worden verwerkt in Britse ponden.'
			],
			'es_ES' : [
				'Envíos internacionales',
				'¿Dónde desea enviarlo?',
				'Provincia',
				'País',
				'Idioma',
				'Seleccione un destino de envío para consultar las opciones de las tiendas.',
				'Compre en este <span id="nativeCountryName" class="nativeCountryName" style="color:#000000">sitio web de la UE</span> directamente.',
				'<div class="currencyBritish">Moneda:</div> <div id="britishPoundText" class="britishPoundText">Euros</div>',
				'Aunque los precios se muestren en euros, su pedido se procesará en libras esterlinas.',
				'Moneda:',
				'Continuar',
				'Cancelar',
				'Guardar preferencias',
				'Compra en este <span style="color:#000000">sitio web de U.S.</span> con posibilidad de envío internacional con Borderfree, nuestro proveedor global de comercio electrónico.',
				'Tenga en cuenta lo siguiente: Todos los precios de gap.eu se muestran en euros, aunque los pedidos se cobrarán en libras esterlinas. El precio final viene determinado por el tipo de cambio en el momento en que realice el pedido y puede variar ligeramente del precio que se muestra. La compañía emisora de su tarjeta de crédito podría aplicar una tasa de conversión a su transacción.',
				'<div class="currencyBritish">Moneda:</div> <div id="britishPoundText" class="britishPoundText">British Pounds</div>',
				'Tenga en cuenta lo siguiente: Todos los precios de gap.eu se muestran en euros, aunque los pedidos se cobrarán en libras esterlinas.'
			]
		}
	},
	
	// Translates main elements of Gateway popup (before country selection made)
	translateGatewayInitialElts: function() {
		var translatedCopyArray = globalInterceptTranslator.model.currentTranslatedCopy;
		var currentLanguage = globalInterceptTranslator.model.currentLanguage;
		var wcdAssetPath = globalInterceptTranslator.model.wcdAssetPath;
		
		// Update each text element
		if( $('internationalRegion') ) {
			var headerText = $('internationalRegion').select('h1');
			if( headerText && headerText.length > 0 ) { headerText = headerText[0]; headerText.update( translatedCopyArray[0] ); }
			
			var whereToText = $('internationalRegion').select('div.whereToShipText');
			if( whereToText && whereToText.length > 0 ) { whereToText = whereToText[0]; whereToText.update( translatedCopyArray[1] ); }
		}
		
		if( $('regionSpecific') ) {
			var header2Text = $('regionSpecific').select('h1');
			if( header2Text && header2Text.length > 0 ) { header2Text = header2Text[0]; header2Text.update( translatedCopyArray[0] ); }
			
			// Did you know text hidden in English
			if( $('favouriteText') && globalInterceptTranslator.model.currentLanguage != 'en_GB' ) {
				$('favouriteText').setStyle({ visibility:'hidden' });
			}
			else {
				$('favouriteText').setStyle({ visibility:'visible' });
			}
			
			var whereTo2Text = $('regionSpecific').select('div.whereToShipText');
			if( whereTo2Text && whereTo2Text.length > 0 ) { whereTo2Text = whereTo2Text[0]; whereTo2Text.update( translatedCopyArray[1] ); }
		}
				
		if( $('whereToShipRegion') ) {
			var regionText = $('whereToShipRegion').select('div.regionToShip');
			if( regionText && regionText.length > 0 ) { regionText = regionText[0]; regionText.update( translatedCopyArray[2] ); }

			var countryText = $('whereToShipRegion').select('div.countryToShip');
			if( countryText && countryText.length > 0 ) { countryText = countryText[0]; countryText.update( translatedCopyArray[3] ); }
		}
		
		if( $('languageSelectText') ) $('languageSelectText').update( translatedCopyArray[4] );
		
		if( $('shippingOptionsChooseDestinationContainer') ) $('shippingOptionsChooseDestinationContainer').update( translatedCopyArray[5] );
		
		// Update buttons : -165px X nether; -258px x 77 wide espan
		if( $('shippingContinueButtonDisable') ) {
			$('shippingContinueButtonDisable').update();
			if( currentLanguage == 'de_DE' ) {
				$('shippingContinueButtonDisable').setStyle({ width:'88px', background:'url(' + wcdAssetPath + 'gatewayButtons.gif) -72px 0px no-repeat' });
			}
			else if( currentLanguage == 'nl_NL' ) {
				$('shippingContinueButtonDisable').setStyle({ width:'88px', background:'url(' + wcdAssetPath + 'gatewayButtons.gif) -165px 0px no-repeat' });
			}
			else if( currentLanguage == 'es_ES' ) {
				$('shippingContinueButtonDisable').setStyle({ width:'77px', background:'url(' + wcdAssetPath + 'gatewayButtons.gif) -258px 0px no-repeat' });
			}
			else {
				$('shippingContinueButtonDisable').setStyle({ width:'67px', background:'url(' + wcdAssetPath + 'gatewayButtons.gif) 0 0px no-repeat' });
			}
		}
		if( $('shippingOptionsContinueButton') ) {
			$('shippingOptionsContinueButton').update();
			if( currentLanguage == 'de_DE' ) {
				$('shippingContinueButtonEnable').setStyle({ width:'88px' });
				$('shippingOptionsContinueButton').setStyle({ display:'block', width:'88px', height:'20px', background:'url(' + wcdAssetPath + 'gatewayButtons.gif) -72px -20px no-repeat' });
			}
			else if( currentLanguage == 'nl_NL' ) {
				$('shippingContinueButtonEnable').setStyle({ width:'88px' });
				$('shippingOptionsContinueButton').setStyle({ display:'block', width:'88px', height:'20px', background:'url(' + wcdAssetPath + 'gatewayButtons.gif) -165px -20px no-repeat' });
			}
			else if( currentLanguage == 'es_ES' ) {
				$('shippingContinueButtonEnable').setStyle({ width:'77px' });
				$('shippingOptionsContinueButton').setStyle({ display:'block', width:'77px', height:'20px', background:'url(' + wcdAssetPath + 'gatewayButtons.gif) -258px -20px no-repeat' });
			}
			else {
				$('shippingContinueButtonEnable').setStyle({ width:'88px' });
				$('shippingOptionsContinueButton').setStyle({ display:'block', width:'67px', height:'20px', background:'url(' + wcdAssetPath + 'gatewayButtons.gif) 0 -20px no-repeat' });
			}
		}
		if( $('shippingOptionsCancelButton') ) {
			$('shippingOptionsCancelButton').update();
			if( currentLanguage == 'de_DE' ) {
				$('shippingOptionsCancelButtons').setStyle({ width:'70px', left:'125px' });
				$('shippingOptionsCancelButton').setStyle({ display:'block', width:'70px', height:'20px', background:'url(' + wcdAssetPath + 'gatewayButtons.gif) -72px -40px no-repeat' });
			}
			else if( currentLanguage == 'nl_NL' ) {
				$('shippingOptionsCancelButtons').setStyle({ width:'79px', left:'125px' });
				$('shippingOptionsCancelButton').setStyle({ display:'block', width:'79px', height:'20px', background:'url(' + wcdAssetPath + 'gatewayButtons.gif) -165px -40px no-repeat' });
			}
			else if( currentLanguage == 'es_ES' ) {
				$('shippingOptionsCancelButtons').setStyle({ width:'70px', left:'114px' });
				$('shippingOptionsCancelButton').setStyle({ display:'block', width:'70px', height:'20px', background:'url(' + wcdAssetPath + 'gatewayButtons.gif) -258px -40px no-repeat' });
			}
			else {
				$('shippingOptionsCancelButtons').setStyle({ width:'55px', left:'104px' });
				$('shippingOptionsCancelButton').setStyle({ display:'block', width:'55px', height:'20px', background:'url(' + wcdAssetPath + 'gatewayButtons.gif) 0 -40px no-repeat' });
			}
		}
	},
	
	// Translate elements created when country is selected
	translateGatewayBrandLinkElts: function() {
		var translatedCopyArray = globalInterceptTranslator.model.currentTranslatedCopy;
		var currentLanguage = globalInterceptTranslator.model.currentLanguage;
		var countryCode = shippingOptionsService.view.shippingOptionsCountrySelect().getValue();
				
		if( $('regionSpecificNative') ) {
			var shopInstructEUText = $('regionSpecificNative').select('div.nativeInstructionText');
			if( shopInstructEUText && shopInstructEUText.length > 0 ) { 
				shopInstructEUText = shopInstructEUText[0];
				var instructTextToReplace = translatedCopyArray[6];
				if( countryCode == 'US' ) { instructTextToReplace = instructTextToReplace.replace('EU','US') + ': <a id="rollOverPopupNative" href="#" style="display: none" onmouseover="gidLib.shippingRolloverBubble.openBubble(event,{content:\'SHOP THE CANADA SITES <br>Selecting this option redirects you to the Canada site. However, items in your shopping bag will not automatically transfer to your Canada shopping bag.\'});" onmouseout="gidLib.shippingRolloverBubble.closeBubble();" onclick="return false;"><img src="/assets/common/shippingOptions/icon_bubble.gif" id="NativeInformationIcon" height="10" width="12"></a><a id="rollOverNative" href="#" style=""><img src="/assets/common/shippingOptions/icon_bubble.gif" id="NativeInformationIcon" height="10" width="12"></a>'; }
				
				else if( countryCode == 'CA' ) { instructTextToReplace = instructTextToReplace.replace('EU','CA') + ': <a id="rollOverPopupNative" href="#" onmouseover="gidLib.shippingRolloverBubble.openBubble(event,{content:\'SHOP THE CANADA SITES <br>Selecting this option redirects you to the Canada site. However, items in your shopping bag will not automatically transfer to your Canada shopping bag.\'});" onmouseout="gidLib.shippingRolloverBubble.closeBubble();" onclick="return false;"><img src="/assets/common/shippingOptions/icon_bubble.gif" id="NativeInformationIcon" height="10" width="12"></a><a id="rollOverNative" href="#" style=""><img src="/assets/common/shippingOptions/icon_bubble.gif" id="NativeInformationIcon" height="10" width="12"></a>'; }
				
				else { instructTextToReplace = instructTextToReplace + ': <a id="rollOverPopupNative" href="#" onmouseover="gidLib.shippingRolloverBubble.openBubble(event,{content:\'SHOP THE EU SITES <br>Selecting this option redirects you to the EU site. However, items in your shopping bag will not automatically transfer to your EU shopping bag.\'});" onmouseout="gidLib.shippingRolloverBubble.closeBubble();" onclick="return false;"><img src="/assets/common/shippingOptions/icon_bubble.gif" id="NativeInformationIcon" height="10" width="12"></a><a id="rollOverNative" href="#" style=""><img src="/assets/common/shippingOptions/icon_bubble.gif" id="NativeInformationIcon" height="10" width="12"></a>'; }
				
				shopInstructEUText.update( instructTextToReplace );
			}
			
			if( $('currencyForEurope') ) {
				var countrySelected = shippingOptionsService.model.shippingOptionsInfo.requestedShippingCountryCode;
				if( countrySelected == 'GB' ) { $('currencyForEurope').update( translatedCopyArray[15] ); }
				else { $('currencyForEurope').update( translatedCopyArray[7] ); }
				
				/*if( currentLanguage != 'en_GB' ) { */$('currencyForEurope').setStyle({ bottom:'32px' });/* }
				else { $('currencyForEurope').setStyle({ bottom:'23px' }); }*/
				
			}
		}
		
		if( $('regionSpecificGlobal') ) {
			var shopInstructGlobalText = $('regionSpecificGlobal').select('div.globalInstructionText');
			if( shopInstructGlobalText && shopInstructGlobalText.length > 0 ) { 
				shopInstructGlobalText = shopInstructGlobalText[0];
				shopInstructGlobalText.update( translatedCopyArray[13] + ': <a href="#" id="rollOverPopupGlobal" onmouseover="gidLib.shippingRolloverBubble.openBubble(event,{content:\'SHOP THE US SITES<br>By placing an international order, you acknowledge that your transaction will be with Borderfree. Your customer service needs will be handled directly with Gap Inc. International orders are not eligible for free shipping or free returns. Your order total is guaranteed at the exchange rate set when your order is placed.\'});" onmouseout="gidLib.shippingRolloverBubble.closeBubble();" onclick="return false;"><img src="/assets/common/shippingOptions/icon_bubble.gif" id="globalInformationIcon" height="10" width="12"></a><a href="#" id="rollOverGlobal" style=""><img src="/assets/common/shippingOptions/icon_bubble.gif" id="globalInformationIcon" height="10" width="12"></a>');
			}
			
			if( $('regionCurrency') ) { $('regionCurrency').update( translatedCopyArray[9] ); }
		}
		
		if( $('bottomGlobalInstruction') ) {
			var shopInstructAllGlobalText = $('bottomGlobalInstruction').select('p');
			if( shopInstructAllGlobalText && shopInstructAllGlobalText.length > 0 ) { 
				shopInstructAllGlobalText = shopInstructAllGlobalText[0];
				shopInstructAllGlobalText.update( translatedCopyArray[13] + ': <a onclick="return false;" onmouseout="gidLib.shippingRolloverBubble.closeBubble();" onmouseover="gidLib.shippingRolloverBubble.openBubble(event,{content:\'SHOP THE US SITES&lt;br&gt;By placing an international order, you acknowledge that your transaction will be with Borderfree. Your customer service needs will be handled directly with Gap Inc. International orders are not eligible for free shipping or free returns. Your order total is guaranteed at the exchange rate set when your order is placed.\'});" href="#"><img width="12" height="10" id="InformationIcon" src="/assets/common/shippingOptions/icon_bubble.gif"></a>');
			}
			
			if( $('globalGatewayCurrency') ) { 
				if( countryCode == 'CZ' || countryCode == 'HU' ) {
					$('globalGatewayCurrency').update( translatedCopyArray[15] );
					if( $('orderProcessingPoundsCZHU') ) $('orderProcessingPoundsCZHU').update( translatedCopyArray[16] );
				}
				else {
					$('globalGatewayCurrency').update( translatedCopyArray[9] );
				}
			}
		}
		
		if( $('orderProcessingPounds') ) { $('orderProcessingPounds').update( translatedCopyArray[16] ); }
		
		if( $('bottomNativeInstruction') ) {
			var bottomInstructionText = translatedCopyArray[6];
			if( countryCode == 'US' ) bottomInstructionText = bottomInstructionText.replace('EU','US');
			$('bottomNativeInstruction').update( bottomInstructionText );
		}
	},
	
	// Insert language dropdown into Global Gateway popup
	insertLanguageDropdown: function() {
		if( ! $('languageRegion') ) {
			var currentLanguage = globalInterceptTranslator.model.currentLanguage;
			var translatedCopyArray = globalInterceptTranslator.model.currentTranslatedCopy;
			var languageRegion = new Element('div', { id:'languageRegion', style:'position:absolute; float:left; width:220px; height:22px; bottom:3px; left:230px; color:#828282; font-family:"Helvetica Neue",Helvetica,Arial,sans-serif; font-size:13px; line-height:15px; text-align:left; z-index:99' });
			var languageRegionStr = 
				'<div id="languageSelectText" class="languageToDisplay" style="position: absolute; bottom:0; left:0; width:63px; height:22px; color: #828282; font-family: "Helvetica Neue",Helvetica,Arial,sans-serif; font-size: 13px; line-height: 15px; padding-left: 0; text-align: left;">' + translatedCopyArray[4] + '</div>' + 
				'<div id="languageOptionsSelect" style="position: absolute; bottom:1px; left:63px; float: left; width: 132px; height: 22px; font-size: 11px;">' + 
					'<select style="width:148px;font-size:13px;" onchange="globalInterceptTranslator.setLanguageOnSelectAndTranslate( this )">' + 
						'<option>Select</option>';
			
			languageRegionStr = languageRegionStr + '<option value="en_GB"';
			if( currentLanguage == 'en_GB' ) languageRegionStr = languageRegionStr + ' selected';
			languageRegionStr = languageRegionStr + '>English</option>';
			
			languageRegionStr = languageRegionStr + '<option value="de_DE"';
			if( currentLanguage == 'de_DE' ) languageRegionStr = languageRegionStr + ' selected';
			languageRegionStr = languageRegionStr + '>Deutsch</option>';
			
			languageRegionStr = languageRegionStr + '<option value="es_ES"';
			if( currentLanguage == 'es_ES' ) languageRegionStr = languageRegionStr + ' selected';
			languageRegionStr = languageRegionStr + '>Español</option>';
			
			languageRegionStr = languageRegionStr + '<option value="nl_NL"';
			if( currentLanguage == 'nl_NL' ) languageRegionStr = languageRegionStr + ' selected';
			languageRegionStr = languageRegionStr + '>Nederlands</option>';
			
			languageRegionStr = languageRegionStr + '</select></div>';
			
			languageRegion.update( languageRegionStr );
			
			$('shippingOptionsTopRegion').insert( languageRegion );
		}
	},
	
	// Set language and translate on language dropdown toggle
	setLanguageOnSelectAndTranslate: function( languageVal ) {
		var languageValue = languageVal.options[languageVal.selectedIndex].value;
		
		// If not a change in language OR not a supported language, do nothing
		if( languageValue != globalInterceptTranslator.model.currentLanguage && ( languageValue == 'de_DE' || languageValue == 'es_ES' || languageValue == 'nl_NL' || languageValue == 'en_GB' ) ) {
			globalInterceptTranslator.setLangauge( languageValue );
			
			globalInterceptTranslator.translateGatewayInitialElts();
			
			if( shippingOptionsService.model.shippingOptionsInfo && shippingOptionsService.model.shippingOptionsInfo.requestedShippingCountryCode ) { 
				globalInterceptTranslator.translateGatewayBrandLinkElts();
			}
			
			// Pass locale variable if not English
			var gatewayLinkURL = shippingOptionsService.model.brandURL;
			if( gatewayLinkURL.indexOf('preferredLocale') == -1 ) {
				gatewayLinkURL = gatewayLinkURL + '&preferredLocale=' + globalInterceptTranslator.model.currentLanguage;
			}
			else {
				gatewayLinkURL = gatewayLinkURL.substr( 0, gatewayLinkURL.indexOf('preferredLocale=') + 16 ) + globalInterceptTranslator.model.currentLanguage;
			}
			
			var countrySelected = shippingOptionsService.model.shippingOptionsInfo.requestedShippingCountryCode;
			gatewayLinkURL = gatewayLinkURL + '&gatewayCountry=' + countrySelected;

			shippingOptionsService.model.brandURL = gatewayLinkURL;
		}
	},
	
	// Language setter function, language value passed in and this sets the current language and translated copy array variables
	setLangauge: function( languageValue ) {
		if( languageValue == 'de_DE' || languageValue == 'es_ES' || languageValue == 'nl_NL' || languageValue == 'en_GB' ) {
			globalInterceptTranslator.model.currentLanguage = languageValue;
			if( languageValue == 'de_DE' ) { globalInterceptTranslator.model.currentTranslatedCopy = globalInterceptTranslator.model.translatedCopyByElt.de_DE; }
			else if( languageValue == 'nl_NL' ) { globalInterceptTranslator.model.currentTranslatedCopy = globalInterceptTranslator.model.translatedCopyByElt.nl_NL; }
			else if( languageValue == 'es_ES' ) { globalInterceptTranslator.model.currentTranslatedCopy = globalInterceptTranslator.model.translatedCopyByElt.es_ES; }
			else { globalInterceptTranslator.model.currentTranslatedCopy = globalInterceptTranslator.model.translatedCopyByElt.en_GB; }
		}
		else {
			globalInterceptTranslator.model.currentLanguage = 'en_GB';
			globalInterceptTranslator.model.currentTranslatedCopy = globalInterceptTranslator.model.translatedCopyByElt.en_GB;
		}
	},
	
	// Called upon auto-launch of Gateway, sets language based on country of origin, translates popup
	setLangueageAndTranslateLaunch: function() {
		if( window["globalIntercept"] ) {
			// Find current country code, either selected OR as intercepted by globalIntercept
			var currentCountry = globalIntercept.model.countryCode;
			if( currentCountry == 'DE' || currentCountry == 'AT' || currentCountry == 'LU' ) { globalInterceptTranslator.setLangauge('de_DE'); }
			else if( currentCountry == 'NL' || currentCountry == 'BE' ) { globalInterceptTranslator.setLangauge('nl_NL'); }
			else if( currentCountry == 'ES' ) { globalInterceptTranslator.setLangauge('es_ES'); }
			else { globalInterceptTranslator.setLangauge('en_GB'); }
		}
	}
}

// Translate elements created subsequent to a country selection
if( globalIntercept && globalIntercept.model && globalIntercept.model.showTranslatedExperienceToEU && shippingOptionsService.view.displayingBusinessUnits ) {
	shippingOptionsService.view.displayingBusinessUnits = shippingOptionsService.view.displayingBusinessUnits.wrap( function( om, container, brnadsInOrder, innerContainer, businessUnitUrls, brandsDotCom, brandDivs ) {
		om( container, brnadsInOrder, innerContainer, businessUnitUrls, brandsDotCom, brandDivs );
		globalInterceptTranslator.translateGatewayBrandLinkElts();
	});
}

// Add language dropdown when Europe region selected, remove/translate to English when non-Europe region selected
if( globalIntercept && globalIntercept.model && globalIntercept.model.showTranslatedExperienceToEU && shippingOptionsService.view.showCountriesForRegionAndEnableSelection ) {
	shippingOptionsService.view.showCountriesForRegionAndEnableSelection = shippingOptionsService.view.showCountriesForRegionAndEnableSelection.wrap( function( om, region ) {
		om( region );
		
		var translatedCountriesArr = [''];
		if( globalIntercept.model.autoPoppedFlag && region != 'Europe' && globalInterceptTranslator.model.currentLanguage != 'en_GB' ) {
			
		}
		else {
			if( region == 'Europe' ) {
				globalInterceptTranslator.insertLanguageDropdown();
				globalInterceptTranslator.translateGatewayInitialElts();
				globalInterceptTranslator.translateGatewayBrandLinkElts();
			}
			else {
				// Remove language dropdown
				if( $('languageRegion') ) $('languageRegion').remove();
					
				// Set translator to English
				globalInterceptTranslator.setLangauge('en_GB');
				globalInterceptTranslator.translateGatewayInitialElts();
				globalInterceptTranslator.translateGatewayBrandLinkElts();
			}
		}
			// If auto-launched and not wrong site user, first-time visitor is assumed, set language by country code
			if( globalIntercept.model.autoPoppedFlag && gidLib.getCookieVar('mktInterceptPersist','globalInterceptEUUKSiteCheck') == '' ) {
				var currentCountry = globalIntercept.model.countryCode;
				if( currentCountry == 'DE' || currentCountry == 'AT' || currentCountry == 'LU' ) { globalInterceptTranslator.setLangauge('de_DE'); }
				else if( currentCountry == 'NL' || currentCountry == 'BE' ) { globalInterceptTranslator.setLangauge('nl_NL'); }
				else if( currentCountry == 'ES' ) { globalInterceptTranslator.setLangauge('es_ES'); }
				else { globalInterceptTranslator.setLangauge('en_GB'); }
			}
			// Else check preferredLocale
			/*else if( preferredLocale != '' && ( preferredLocale == 'de_DE' || preferredLocale == 'nl_NL' || preferredLocale == 'es_ES' ) ) {
				globalInterceptTranslator.setLangauge( preferredLocale );
			}*/
			// Else set to English
			else {
				globalInterceptTranslator.setLangauge('en_GB');
			}
	});
}

// Override showShippingOptionsOverlay function to call translate-at-launch function and add checkbox
if( globalIntercept && globalIntercept.model && globalIntercept.model.showTranslatedExperienceToEU && siteNavigation.showShippingOptionsOverlay ) {
	siteNavigation.showShippingOptionsOverlay = function( shouldSelectCurrentSettings, interceptCountryCode, interceptTID, heavyOrNo, autoPopped ) {
		shippingOptionsService.model.shouldSelectCurrentSettings = shouldSelectCurrentSettings;
		function getLeftMargin() {
			return ((document.body.clientWidth ? document.body.clientWidth : window.innerWidth) / 2) - (width / 2);
		}
		var url = "";
		if (typeof interceptCountryCode == 'undefined' && typeof interceptTID == 'undefined')
			url = '/profile/shippingOptions.do';
		else
			url = '/profile/shippingOptions.do'+'?interceptCountyCode='+interceptCountryCode+'&interceptTID='+interceptTID;
		var width = 665;
		var top = 55;
	    var height = 459;

		new Ajax.Request(url, {
			onComplete: function(response) {
				var currentPopUp = $('shippingOptionsPopUp');
				if (currentPopUp) currentPopUp.remove();

				// we were facing some serious ie 6 css loading issues. this is the only place
				// to load the css in a way that works every time without adding the css
				// itself to all pages
				$$('head')[0].appendChild(new Element('link', {
					type : 'text/css',
					rel  : 'stylesheet',
					href : '/gid/css/profile/shippingOptions/en/shippingOptions.css',
					media: 'screen'
				}));
				
				var responseString = response.responseText;
				responseString = responseString.replace('Borderfree','Borderfree');

				var style = 'top:' + top + 'px;left:' + getLeftMargin() + 'px;width:' + width + 'px;height: ' + height + 'px';
				var div = new Element('div', {'id': 'shippingOptionsPopUp', 'style': style})
							.update( responseString );

				document.body.appendChild(div);

				window.onresize = function () {
					div.style.left = getLeftMargin() + 'px';
				};
				
				if( autoPopped == true ) {
					globalIntercept.model.autoPoppedFlag = true;
				}
				
				// WCD translation call
				globalInterceptTranslator.setLangueageAndTranslateLaunch();

			}
		});

		// WCD add checkbox code
		/*var interceptChecker = null;
		if( ! $('shippingOptionsCancelButtons') ) {
			interceptChecker = setTimeout( 'globalIntercept.controller.addSavePrefsCheck()', 2000 );
		}
		else {
			globalIntercept.controller.addSavePrefsCheck();
			clearInterval( interceptChecker );
		}*/

		return false;
	};
}

// Add visual cue to use flag to re-engage gateway
if( shippingOptionsService.controller && shippingOptionsService.controller.closePressed ) {
	shippingOptionsService.controller.closePressed = shippingOptionsService.controller.closePressed.wrap( function( om ) {

		var closingDivInitialWidth = $('shippingOptionsPopUp').getStyle('width');
		var closingDivInitialHeight = $('shippingOptionsPopUp').getStyle('height');
		var closingDivInitialTop = $('shippingOptionsPopUp').getStyle('top');
		var closingDivInitialLeft = $('shippingOptionsPopUp').getStyle('left');
		var closingDiv = new Element('div', { id:'gatewayClosingDiv', style:'position:absolute; float:left; width:' + closingDivInitialWidth + '; height:' + closingDivInitialHeight + '; top:' + closingDivInitialTop + '; left:' + closingDivInitialLeft + '; border:2px #b4b0af solid; z-index:97' });
		document.body.insert( closingDiv );

		om();
		globalIntercept.model.autoPoppedFlag = false;
		
		var closingDivFinalWidth = $('shippingToCountryFlag').getStyle('width');
		var closingDivFinalHeight = $('shippingToCountryFlag').getStyle('height');
		var closingDivFinalPos = $('shippingToCountryFlag').cumulativeOffset();
		var closingDivFinalTop = closingDivFinalPos[1];
		var closingDivFinalLeft = closingDivFinalPos[0];
		
		new Effect.Morph('gatewayClosingDiv', { style: 'width:' + closingDivFinalWidth + '; height:' + closingDivFinalHeight + '; top:' + closingDivFinalTop + 'px; left:' + closingDivFinalLeft + 'px; border:1px #b4b0af solid',  duration: 1.0,
			afterFinish: function() {
				$('gatewayClosingDiv').remove();
			}
		});
		
	});
}

	}
}

</script>

<!-- END Content Item File: /content/0009/630/364/cn9630364.html -->

<!-- END - WCD Sitewide Container 6 -->

<!-- BEGIN - WCD Sitewide Container 7 -->

<!-- END - WCD Sitewide Container 7 -->

<!-- BEGIN - WCD Sitewide Container 8 -->
<!-- BEGIN Content Item File: /content/0006/526/066/cn6526066.html -->

<!-- BEGIN: contentOverride116 -- GOL Department Facet Suppression-->
<script type="text/javascript">

/*

We will be preselecting the baby department facet, and hiding the department facet for the below categories: 
 
Toddler Girl Sleepwear = 76918, baby girl facet pre-selected
Toddler Boy Sleepwear = 76759, baby boy facet pre-selected
Infant Girl Sleep = 76748, baby girl facet pre-selected
Infant Boy Sleep = 76754, baby boy facet pre-selected


*/

if (location.pathname == "/browse/category.do" || location.pathname == "/browse/categorySearch.do") {
	if (navigationService && navigationService.model.isActive) {

		var defaultDeptFacetnator = {

			displayDeptFacet : false,
			deptFacetId : null,
			
			// Women categories, hidden dept facet
			womenCategoriesHideFacet : $A([
				null,
			'']),
			// Men categories, hidden dept facet
			menCategoriesHideFacet : $A([
				null,
			'']),
			
			// Girls categories, hidden dept facet
			girlsCategoriesHideFacet : $A([
				null,
			'']),
			
			// Boys categories, hidden dept facet
			boysCategoriesHideFacet : $A([
				null,
			'']),

			// Toddler/Infant Girl categories, hidden dept facet
			tgirlCategoriesHideFacet : $A([
				'76918', // Toddler Sleepwear
				'76748', // Infant Sleepwear
				'81111',
				'70949',
				'63863',
				'83393',
				'17846',
				'70108',
				'84668',
				'84479',
				'82562',
				'82560',
				'80374',
				'80378',
				'80384',
				'14249',
				'8772',
				'7190',
				'73590',
				'7189',
				'7191',
				'7206',
				'80900',
				'76748',
				'84335',
				'86607',
				'81587',
				'50711',
				'70949',
				'63863',
				'83393',
				'17846',
				'76918',
				'55768',
				'65263',
				'65208',
				'81577',
				'35361',
				'6465',
				'84667',
				'84665',
				'84666',
				'87444',
				'8781',
				'7190',
				'83390',
				'88867',
				'89316',
				'89326',
				'84674',
				'88938',
				'6392',
				'76759',
				'17850',
				'85718',
				'77431',
				'6428',
				'91808',
				'71986',
				'14249',
				'7189',
				'6445',
				'35855',
				'6437',
				'7190',
				'7191',
				'6428',
				'95546',
				'35362',
				'7206',
				'76748',
				'94049',
				'96776',
				'96772',
				'35854',
				'97212',
				'97210',
				'71986',
				'98440',
				'94859',
				'98248',
				'98098',
				'99342',
				'99664',
				'99654',
				'1000239',
				'98120',
				'97707',
				'1002327',
				'1002328',
				'1002329',
				'1002333',
				'1001383',
				'1001458',
				'1001377',
				'1001379',
				'1002448',
				'1003222',
				'1004642',
				'1004813',
				'1005611',
				'1005931',
				'1005882',
				'1007167',
				'1007021',
				'1007813',
				'1008305',
				'1008292',
				'1008476',
				'1008895',
				'1009361',
				'6427',
				'95548',
				'35855',
				'1009219',
				'1009613',
				'1009995',
				'12378',
				'1010286',
				'1010288',
				'1010289',
				'8770',
				'1010401',
				'1009995',
				'1011550',
				'1012349',
				'1011291',
				'1012528',
				'1013119',
				'6437',
				'1013351',
				'1012927',
				'1013655',
				'1013706',
				'1014074',
				'1014075',
				'1013451',
				'1014067',
				'1014078',
				'1008573',
				'1015833',
				'1016096',
				'1016098',
				'1016106',
				'1016107',
				'1016108',
				'1016109',
				'1016110',
				'1016111',
				'1016169',
				'1016138',
				'1005882',
				'1012762',
				'1016235',
				'6444',
				'1016086',
				'1016789',
				'1016792',
				'1014604',
				'1017039',
				'1017041',
				'1017043',
				'1017044',
				'1017045',
				'1017311',
				'1017312',
				'1012349',
				'1012352',
				'1017633',
				'1018764',
				'1018766',
				'1019023',
				'1019061',
				'1019412',
				'6526066',
				'1019954',
				'1019983',
				'1020002',
				'1020007',
				'1020008',
				'1020287',
				'1020347',
				'1020356',
				'1020361',
				'1020567',
				'1020568',
				'1020190',
				'1020990',
				'1021001',
				'1021002',
				'1021051',
				'1021053',
				'1021367',
				'1021369',
				'1021370',
				'1021373',
				'1021375',
				'1021476',
				'1021477', 
				'1021492',
				'1021493',
				'1021323',
				'1022245',
				'1022246',
				'1022247',
				'1022248',
				'1022249',
				'1025035',
				'1025036',
				'1025037',
				'1025038',
				'1025039',
				'1025247',
				'1025248',
				'1025249',
				'1025250',
				'1025251',
				'1025252',
				'1025253',
				'1025254',
				'1025265',
				'1025632',
				'1025633',
				'1026347',
				'1026348',
				'1026349',
				'1026350',
				'1026351',
				'1026352',
				'1027169',
				'1027170',
				'1027171',
				'1027172',
				'1027173',
				'1027174',
				'1027175',
				'1027176',
				'1027216',
				'1027217',
				'1027218',
				'1028580',
				'1028581',
				'1028582',
				'1028583',
				'1028584',
				'1029107',
				'1029826',
				'1029827',
				'1029828',
				'1029829',
				'1029830',
				'1029831',
				'1029832',
				'1031545',
				'1031658',
				'1031659',
				'1031660',
				'1031661',
				'1031662',
				'1032065',
				'1030087',
				'1032232',
				'1032668',
				'1032669',
				'1032670',
				'1032671',
				'1032672',
				'1032673',
				'1032795',

			'']),
			// Toddler/Infant Boy categories, hidden dept facet
			tboyCategoriesHideFacet : $A([
				'76759', // Toddler Sleapwear
				'76754', // Infant Sleepwear
				'65281',
				'65283',
				'85104',
				'81112',
				'85064',
				'70127',
				'63897',
				'77431',
				'17850',
				'70173',
				'84824',
				'84491',
				'82572',
				'82569',
				'80386',
				'80390',
				'80396',
				'42558',
				'8788',
				'7142',
				'74004',
				'7139',
				'78580',
				'7143',
				'7185',
				'80899',
				'76754',
				'84336',
				'86610',
				'81589',
				'55773',
				'65261',
				'70127',
				'63897',
				'77431',
				'17850',
				'76759',
				'50728',
				'65236',
				'84823',
				'8777',
				'83376',
				'85214',
				'85213',
				'35792',
				'6395',
				'6392',
				'88871',
				'89335',
				'89348',
				'84830',
				'89903',
				'88920',
				'89697',
				'36691',
				'17851',
				'91809',
				'71988',
				'95575',
				'95598',
				'95496',
				'95679',
				'95682',
				'95684',
				'95689',
				'95692',
				'95693',
				'95697',				
				'93306',
				'93305',
				'93304',
				'95184',
				'91491',
				'95445',
				'91808',
				'82562',
				'84674',
				'89902',
				'95423',
				'96777',
				'96773',			
				'96457',
				'93308',
				'6365',
				'97213',
				'97211',
				'93309',
				'97795',
				'97792',
				'97798',
				'97801',
				'97804',
				'91809',
				'71988',
				'98441',
				'94883',
				'98250',
				'98095',
				'78037',
				'99339',
				'99648',
				'99656',
				'99670',
				'98567',
				'98570',
				'98573',
				'99838',
				'97714',
				'1000238',
				'1000638',
				'1000641',
				'1000645',
				'1000649',
				'1000653',
				'1000656',
				'1000658',
				'1000661',
				'98121',
				'1001212',
				'1001576',
				'1001579',
				'1002230',
				'1002430',
				'1002256',
				'1002440',
				'1002445',
				'1002337',
				'1002338',
				'1002339',
				'1002345',
				'1001384',
				'1001460',
				'1001385',
				'1001459',
				'1002449',
				'1003472',
				'1003341',
				'1003223',
				'1004898',
				'1004822',
				'1005561',
				'1005649',
				'1005946',
				'1005933',
				'1005763',
				'1005903',
				'1005883',
				'1005903',
				'1007093',
				'1007162',
				'1007164',
				'1007026',
				'1007812',
				'1007814',
				'1007812',
				'1007814',
				'1008323',
				'1008262',
				'1007815',
				'1008477',
				'1008893',
				'1008894',
				'1009184',
				'1009496',
				'1009362',
				'1009218',
				'95690',
				'1009612',
				'1009614',
				'1009993',
				'1009994',
				'1009996',
				'1010126',
				'1010127',
				'1010128',
				'6359',
				'1010287',
				'1010290',
				'1010419',
				'8787',
				'9175',
				'1011148',
				'1011147',
				'1011273',
				'1011151',
				'1011194',
				'1002438',
				'1002260',
				'35855',
				'1009219',
				'1011504',
				'1012102',
				'1012105',
				'1012439',
				'1011292',
				'1012992',
				'1013109',
				'1013110',
				'1012527',
				'1011292',
				'1013121',
				'1013120',
				'1013353',
				'1012931',
				'1013654',
				'1013707',
				'1013793',
				'1013794',
				'1014056',
				'1014076',
				'1014077',
				'1013452',
				'1014069',
				'1014096',
				'1014097',
				'1014098',
				'1014037',
				'1014027',
				'1014026',
				'1014040',
				'1014068',
				'1014086',
				'1014251',
				'1014066',
				'1014079',
				'1014080',
				'1014094',
				'1014081',
				'1014274',
				'1012352',
				'1015466',
				'1015386',
				'1015834',
				'49693',
				'1016026',
				'1016237',
				'12384',
				'1016006',
				'1016312',
				'1015386',
				'1016085',
				'1016315',
				'1016088',
				'1016446',
				'1016566',
				'1016313',
				'1016335',
				'1017007',
				'1017025',
				'1017038',
				'1017488',
				'1017907',
				'1018540',
				'1018628',
				'1018547',
				'1018629',
				'1014073',
				'1018879',
				'1019066',
				'1019413',
				'1019419',
				'1019655',
				'1019709',
				'1019866',
				'1019995',
				'1020003',
				'1020006',
				'1019721',
				'1020316',
				'1020352',
				'1020366',
				'1020901',
				'1020902',
				'1020904',
				'1021623',
				'1021624',
				'1021722',
				'1022116',
                '1022117',                                                                    
				'1022119',
				'1022120',
				'1022274',
				'1020982',
				'1022686',
				'1022687', 
				'1023127',
				'1023130',
				'1023131',
				'1023132',
				'1023133', 
				'1024741',
				'1024744',
				'1024745',
				'1024746',
				'1024747', 
				'1020366',
				'1025302',
				'1025303',
				'1025304',
				'1025305',
				'1025306',
				'1025307',
				'1025308',
				'1025309',
				'1025312',
				'1026009',
				'1026007',
				'1026006',
				'1026747', 
				'1027200',
				'1027205',
				'1027204',
				'1027201',
				'1027203',
				'1027202',
				'1027206',
				'1027219',
				'1027220',
				'1027221',
				'1027015',
				'1027017',
				'1027018',
				'1027019',
				'1027020',
				'1027022',
				'1027023',
				'1027024',
				'1027584',
				'1027586',
				'1027587',
        		'1027710',
				'1027711',
				'1027025',
				'1028535',
				'1028585',
				'1028586',
				'1028587',
				'1028588',
				'1028589',  
				'1028936',
				'1028938', 
				'1029391', 
				'1029411',
				'1030084',
				'1030085',
				'1030086',
				'1030087',
				'1030088', 
				'1031178',
				'1031179', 
				'1031476',
				'1031479',
				'1031480',
				'1031481',
				'1031482',
				'1031740',
				'1031741',
				'1031742',
				'1031743',  
				'1032228',
				'1032354', 
				'1032355', 
				'1032356', 
				'1032357',                                                                                                                                                                                                                                            
			'']),


				processCategoryLists : function() {
				var findIterator = function(i){
					return (i == gidLib.getQuerystringParam('cid') ? true : false);
				};
				
				var deptChannelName = reportingService.controller.viewManagers.commonViewManager.model.commonChannelName;
				
				//Begin for only Gap Girls & Boys
				var subdeptChannelNameString = reportingService.controller.viewManagers.commonViewManager.model.commonCurrentPageName;
				var deptChannel_Girls = subdeptChannelNameString.indexOf("Girls") > -1;
				var deptChannel_Boys = subdeptChannelNameString.indexOf("Boys") > -1;
				//End for only Gap Girls & Boys

				if(window.location.search.indexOf('cid=1029308') != 1){
					if (this.womenCategoriesHideFacet.find(findIterator) || deptChannelName == 'Women') {
						this.deptFacetId = "136";
					}
				}
				if(window.location.search.indexOf('cid=1029311') != 1){
					if (this.menCategoriesHideFacet.find(findIterator) || deptChannelName == 'Men') {
						this.deptFacetId = "75";
					}
				}

				if (this.girlsCategoriesHideFacet.find(findIterator) || deptChannel_Girls == true) {
					this.deptFacetId = "48";
				}


				if (this.boysCategoriesHideFacet.find(findIterator) || deptChannel_Boys == true) {
					this.deptFacetId = "16";
				}
				
				
				if (this.tgirlCategoriesHideFacet.find(findIterator)) {
					this.deptFacetId = "165";
				}


				if (this.tboyCategoriesHideFacet.find(findIterator)) {
					this.deptFacetId = "166";
				}


			},
			
			modifyDomElements : function() {
				// if the department facet does not exist in the UI, do nothing
				if ($('facet_department')) {
					if (this.displayDeptFacet == false) $('facet_department').hide();
				
					// override reset all button
					var defaultedDeptFacetElement = null;
					var categoryFacetedSearchManager = navigationService.controller.managers.categoryFacetedSearchManager;
					if ($('facet_option_'+this.deptFacetId)) defaultedDeptFacetElement = $('facet_option_'+this.deptFacetId).childElements()[0];
					if (defaultedDeptFacetElement) {
						$('facet_reset_all').onclick  = function(event) {
							categoryFacetedSearchManager.util.resetAllSelectedOptions(event);
							categoryFacetedSearchManager.controller.facetManagers.categoryDepartmentFacetManager.view.facetOptionClicked(defaultedDeptFacetElement,window);
							categoryFacetedSearchManager.controller.filterByFacets();return false;
						};
					}
				}
			},
			
			init: function() {

				this.processCategoryLists();

				// Only proceed if a dept facet preselection has been found in the lists
				if (this.deptFacetId) {
					// Pre Select the appropriate Department Facet
					if (location.hash.length == 0) {
						jQuery('html').hide();
						location.replace(location.toString() + "#department=" + this.deptFacetId);
					}
					
					// Perform a redirect with the departmentRedirect parameter if not already redirected
					if (!/departmentRedirect/.test(location)) {
						var currentCID = /cid=\d+/.exec(location);
						jQuery('html').hide();
						location.replace(location.toString().replace(/cid=\d+/,currentCID + "&departmentRedirect=true"));
					}
					
					// Bind dom modification method to the category product grid event
					Event.observe(document,'categoryProductGrid:ready',defaultDeptFacetnator.modifyDomElements.bind(defaultDeptFacetnator));
				}
			}
		};

		defaultDeptFacetnator.init();
	}
}

</script>
<!-- END: contentOverride116 -- GOL Department Facet Suppression -->



<!-- END Content Item File: /content/0006/526/066/cn6526066.html -->

<!-- END - WCD Sitewide Container 8 -->

<!-- BEGIN - WCD Sitewide Container 9 -->
<!-- BEGIN Content Item File: /content/0007/993/984/cn7993984.html -->

<script type="text/javascript">
/**
* Find In Store & Reserve In Store Code
* GOL - Full Fleet
* 100% on 5/7/2014
* Fix Quicklook bug
*/

var RISanchor = '';
var risStringArr = '';
var seeMiles = '';
sawRIS = false


// Begin GOL RisDiscoverability - Reserve In Store Cosmetic Code
var RisDiscoverability = function () {
	if(sawRIS == false){
		sawRIS = true
		// let's set the default properties for GOL - *Change image paths for hover states below*
		var props = { 
			"fillColor" 			: "#d6efff",
			"linkColor" 			: "#336699",
			"width" 			: "330px",
			"height" 			: "64px",
			"baseURL" 			: "/Asset_Archive/GPWeb/content/0007/993/984/assets/",
			"getItFile" 			: "RIS_gol_title_sm_1119.png",
			"RISBtnFile" 			: "btn_gol_find_down2.png",
			"RISBtnFileHover" 		: "btn_gol_find_on.png",
			"addToBagBtnFileOff" 		: "btn_add_gol_off.png",
			"addToBagBtnFileOn"		: "btn_add_gol_on.png"
		};
		
		
		// let's start modifying the DOM
		if ($("findInStoreButtonBox")) {
			$("findInStoreButtonBox").style.background = props.fillColor;
			$("findInStoreButtonBox").style.border = "0px";
			$("findInStoreButtonBox").style.height = "64px";
			var startString = jQuery("#findInStorePostalMsg").html();
			var risStringArr2 = new Array();
			if($("findInStorePostalMsg").select("a.postalEdit")[0]){
				RISanchor = $("findInStorePostalMsg").select("a.postalEdit")[0];
				seeMiles = jQuery("a.postalEdit");
				risStringArr = startString.split("<a");
				risStringArr2 = risStringArr[0].split("within");
				risStringArr2[0] = "within "; 			
				// replace the innerHTML of the anchor with the 2nd string
				seeMiles.html(risStringArr2[1]);
				//fix edit bug
				jQuery("#locationEdit a").text("Edit");
			} else {
				risStringArr2[0] = startString;
			}
			$("findInStorePostalMsg").select("a.postalEdit").each(function(RISanchor){ RISanchor.setAttribute('onclick','merchLocationsManager.view.postalCodeOverlay.open();');});
			var getImage = new Element("img", {"id" : "getImageRIS", "src" : props.baseURL + props.getItFile});
			var getImageDiv = new Element("div", {"id" : "getImageDivForRIS", "style" : "padding: 0px; height: 46px; width: 166px;position:relative;top: 5px;left: 5px;"});
			var textDiv = new Element("div", {"id" : "textForRIS", "style" : "height: 0px; width: 195px;position:relative;top: -17px;left: 194px;"});
			getImageDiv.update(getImage);
			$("findInStorePostalMsg").update(getImageDiv);
			textDiv.insert(risStringArr2[0]);
			textDiv.insert(RISanchor);
			$("findInStorePostalMsg").insert(textDiv);
			$("findInStoreButton").style.backgroundImage = "url(" + props.baseURL + props.RISBtnFile+ ")";
			$("findInStoreButton").style.width = "106px";
			$("findInStoreButton").style.height = "26px";
			$("findInStoreButton").style.position = "relative";
			$("findInStoreButton").style.top = "7px";
			$("findInStoreButton").style.left = "39px";
			$("findInStoreButton").style.margin = "0px";
			
			//Add To Bag Button *change image paths*
			var bagButton = $("addToBagBtn");
			bagButton.style.height = "26px";
			bagButton.style.width = "90px";
			bagButton.style.margin = "10px 5px 5px 9px";
			bagButton.style.background = "url('/Asset_Archive/GPWeb/content/0007/993/984/assets/btn_add_gol_on.png')";
			$("selectionContent").style.width = "135px";

			
			//Add this to force the miles to show in IE or any other browser
			if ((jQuery("a.postalEdit").length > 0) && (jQuery("#textForRIS").text() != 'This item is not currently available in stores.') ){
				if ( (jQuery.browser.msie  && parseInt(jQuery.browser.version, 10) === 8) || (jQuery.browser.msie  && parseInt(jQuery.browser.version, 10) === 7)) {
					var ie8string = risStringArr2[1]
					ie8split = ie8string.split("<A");
					seeMiles.html(ie8split[0]);
					//fix edit bug
					jQuery("#locationEdit a").text("Edit");
				} else {
					seeMiles.html(risStringArr2[1]);
					//fix edit bug
					jQuery("#locationEdit a").text("Edit");
				}
			}
			
			//Arrange Copy - Check stores near you
			if (jQuery("#textForRIS").html() == 'Check stores near you for this product.'){
				jQuery("#textForRIS").html('Check stores near you<br />for this product');
				$("textForRIS").style.left = "119px";
				$("textForRIS").style.top = "-19px";
				$("textForRIS").style.textAlign = "right";
			}
			
			//Arrange Copy - This item is not currently
			var noStore = jQuery("#textForRIS").text();
			if (noStore.indexOf('This item is not currently available') != -1){
				jQuery("#textForRIS").html('This item is not currently<br />available in stores.');
				$("textForRIS").style.left = "119px";
				$("textForRIS").style.top = "-30px";
				$("textForRIS").style.textAlign = "right";
				jQuery("a.postalEdit").hide();
				jQuery("#findInStoreButton").hide();
			}
			else {
				// Turn Find In Store Button again
				jQuery("#findInStoreButton").show();
			}

			//Begin hover state - *change image paths*
			jQuery("#findInStoreButton").hover(function() {
			  $("findInStoreButton").style.backgroundImage = "url('/Asset_Archive/GPWeb/content/0007/993/984/assets/btn_gol_find_on.png')";
			}, function() {
			  $("findInStoreButton").style.backgroundImage = "url('/Asset_Archive/GPWeb/content/0007/993/984/assets/btn_gol_find_down2.png')";
			});
			//End hover state - *change image paths*

		}
		return false;
	}
}
// End GOL RisDiscoverability - Reserve In Store Cosmetic Code

// Begin Run RIS Code
if(location.pathname == '/browse/product.do') {
	//Begin Show RIS Store Location List
	document.observe('findInStore:storeListRendered', function() {
		$("storeLocationsList").select("div.reserveInStore").invoke("setStyle", { display: 'block' });
		//jQuery.each(['#reserveInStore_8179', '#reserveInStore_8173', '#reserveInStore_8176', '#reserveInStore_7697', '#reserveInStore_8072', '#reserveInStore_8073', '#reserveInStore_8071', '#reserveInStore_7679', '#reserveInStore_3035', '#reserveInStore_8568', '#reserveInStore_8035', '#reserveInStore_3182', '#reserveInStore_8194', '#reserveInStore_8128', '#reserveInStore_8125', '#reserveInStore_8028', '#reserveInStore_8274', '#reserveInStore_8595', '#reserveInStore_8733', '#reserveInStore_8290'],function(index,value){jQuery(value).show();});			
	});
	//End Show RIS Store Location List
	
	// Begin This will fire the RiS Assets
	//RisDiscoverability();
	
	productPage.setColor = productPage.setColor.wrap(function(om, i) {
		om(i);
		sawRIS = false;
		RisDiscoverability();
	});
	
	productPage.setSizeDimension1 = productPage.setSizeDimension1.wrap(function(om, i) {
		om(i);
		sawRIS = false;
		RisDiscoverability();
	});
	
	productPage.setSizeDimension2 = productPage.setSizeDimension2.wrap(function(om, i) {
		om(i);
		sawRIS = false;
		RisDiscoverability();
	});
	

	Event.observe(document, "productPage:ready", function() {
		RisDiscoverability();
	});




	//Event.observe(document, "dom:loaded", function() {
		//RisDiscoverability();
		//console.info('domload');
	//});
	
	merchLocationsManager.controller.handleUserInput = merchLocationsManager.controller.handleUserInput.wrap(function(om,radius, postalCode, passFunc, failFunc) {
		om(radius, postalCode, passFunc, failFunc);
		sawRIS = false;
		RisDiscoverability();
	});
	
	//fix variant bug
	productPage.loadVariantProduct = productPage.loadVariantProduct.wrap(function(om,strProductId,strVariantId) {
		om(strProductId,strVariantId);
		sawRIS = false;
		jQuery('#variantButtons li.varianttab.off').click(RisDiscoverability);
	});

	// End This will fire the RiS Assets
	


}
	// Begin GOL HP Evergreen Hide/Show
	if($('fis_content') && $('ris_content')){
		$('fis_content').hide();
		$('ris_content').show();
	}
	// End GOL HP Evergreen Hide/Show
	
	// Begin GOL Store Locator Banner Hide/Show
	if($('fis_content_storeLocator') && $('ris_content_storeLocator')){
		$('fis_content_storeLocator').hide();
		$('ris_content_storeLocator').show();
	}
	// End GOL Store Locator Banner Hide/Show

// End Run RIS Code


</script>





<!-- END Content Item File: /content/0007/993/984/cn7993984.html -->

<!-- END - WCD Sitewide Container 9 -->

<!-- BEGIN - WCD Sitewide Container 10 -->
<!-- BEGIN Content Item File: /content/0008/902/918/cn8902918.html -->

<script type="text/javascript" src="/Asset_Archive/GPWeb/content/0008/902/918/assets/wishlistHelper.js"></script>

<!-- END Content Item File: /content/0008/902/918/cn8902918.html -->

<!-- END - WCD Sitewide Container 10 -->

<!-- BEGIN - WCD Sitewide Container 11 -->

<!-- END - WCD Sitewide Container 11 -->

<!-- BEGIN - WCD Sitewide Container 12 -->
<!-- BEGIN Content Item File: /content/0009/413/584/cn9413584.html -->

<!-- GOL HP Division PaS test -->

<!-- PAS A/B Test Code -->
<script type="text/javascript">
// var PASNameToSearchFor2 = "";
// var PaSValueForContent2 = "null";
// var PaSValuePassedToEvar = "null"; 

// var WCDPasSegmentWidget = function() {
// // var privateStaticMethod = function() {};
// // var privateStaticVariable = "foo";

// 	this.PasEvarValue = "Error: PAS quit before finishing";
// 	this.defaultPasValue = "A";
// 	// this.PasDataEvar = "eVar36"
// 	this.PasValueProperty = "";
//     var constructor = function WCDPasWidget()
//     {
//     	//this.PasValueProperty = "";
//         var ExecutePaSABTest = function() {	
        	
//         	if(typeof personalizationService.model.personalizationData.personalizationInfoV1.personalizationAttributes != "undefined"){
// 				var PasDataSet = personalizationService.model.personalizationData.personalizationInfoV1.personalizationAttributes;
// //console.info("dataset: ");
// //console.info(PasDataSet)
// 				;
// 				var csIndex = -1;
// 				var emIndex = -1;
// 				var unIndex = -1;
// 				var csString = "Cust";
// 				var emString = "Email";
// 				var unString = "Unknown";
// 				this.PASNameToSearchFor = "GOLHP2";
// 				this.PasEvarValue = "Nothing_Happened_Start";
// 				var PASIdValues = {"cs":false,"di":false,"un":false};

// 				// begin test ************************************************
// //console.info("length: " + PasDataSet.length);
// 					// iterate through the PaS Data if more than one id...
// 					for (i = 0; i < PasDataSet.length; i++) {
// 						if (PasDataSet[i].idType == "di") {
// //console.info("em recognized (multiple IDs, segA)");
// 							PASIdValues.em = true;
// 							emIndex = i;
// 						} else if (PasDataSet[i].idType == "cs") {
// //console.info("cs recognized (multiple IDs, segA)");
// 							PASIdValues.cs = true;
// 							csIndex = i;
// 						} else if (PasDataSet[i].idType == "un")  {
// //console.info("un recognized (multiple IDs, segA)");
// 							PASIdValues.un = true;
// 							unIndex = i;
// 						} 
// 					} // end "for" loop	
// 						if ((PasEvarValue == "Nothing_Happened_Start") && (PASIdValues.em)) {
// //console.info("em main if recognized (multiple IDs, segA)");
// 							if(PasDataSet[emIndex].attributes){
// 								if (!(PasDataSet[emIndex].attributes instanceof Array)){
// 									if(PasDataSet[emIndex].attributes.name == PASNameToSearchFor){
// 										PASDetermineAttribute(emString,PasDataSet[emIndex].attributes.value);
// 									}
// 								} else {
// 									for (i = 0; i < PasDataSet[emIndex].attributes.length; i++) {
// //console.info("name " + i + ": " + PasDataSet[emIndex].attributes[i].name + "value " + i + ": " + PasDataSet[emIndex].attributes[i].value);
// 										if(PasDataSet[emIndex].attributes[i].name == PASNameToSearchFor) {
// //console.info("value = " + PasDataSet[emIndex].attributes[i].value);
// 											PASDetermineAttribute(emString,PasDataSet[emIndex].attributes[i].value);
// 										}
// 									}
// 								}
// 							}
// 						}
// 						if ((PasEvarValue == "Nothing_Happened_Start") && (PASIdValues.cs)) {
// //console.info("cs main if recognized (multiple IDs, segA)");
// 							if(PasDataSet[csIndex].attributes){
// 								if (!(PasDataSet[csIndex].attributes instanceof Array)){
// 									if(PasDataSet[csIndex].attributes.name == PASNameToSearchFor){
// 										PASDetermineAttribute(csString,PasDataSet[csIndex].attributes.value);
// 									}
// 								} else {
// //console.info("# of attributes: " + PasDataSet[csIndex].attributes.length);
// 									for (i = 0; i < PasDataSet[csIndex].attributes.length; i++) {
// //console.info("name " + i + ": " + PasDataSet[csIndex].attributes[i].name + "value " + i + ": " + PasDataSet[csIndex].attributes[i].value);
// 										if(PasDataSet[csIndex].attributes[i].name == PASNameToSearchFor) {
// //console.info("value = " + PasDataSet[csIndex].attributes[i].value);
// 											PASDetermineAttribute(csString,PasDataSet[csIndex].attributes[i].value);
// 										}
// 									}
// 								}
// 							}
// 						} 

// 						if ((PasEvarValue == "Nothing_Happened_Start") && (PASIdValues.un)) {
// //console.info("un main if recognized (multiple IDs, segA)");
// //console.info("un index = " + unIndex);
// 							if(PasDataSet[unIndex].attributes){
// //console.info("attributes length: " + PasDataSet[unIndex].attributes.length);
// 								if (!(PasDataSet[unIndex].attributes instanceof Array)){
// //console.info("Did check instance of array");
// 									if(PasDataSet[unIndex].attributes.name == PASNameToSearchFor){
// //console.info("the name: "+ PasDataSet[unIndex].attributes.name);
// //console.info("one attribute: " + PasDataSet[unIndex].attributes.value);
// 										PASDetermineAttribute(unString,PasDataSet[unIndex].attributes.value);
// 									}
// 								} else {
// //console.info("multiple attributes");
// 									for (i = 0; i < PasDataSet[unIndex].attributes.length; i++) {
// //console.info("how many attributes there are: " + PasDataSet[unIndex].attributes.length + " attributes");
// //console.info("name " + i + ": " + PasDataSet[unIndex].attributes[i].name + "value " + i + ": " + PasDataSet[unIndex].attributes[i].value);
// 										if(PasDataSet[unIndex].attributes[i].name == PASNameToSearchFor) {
// //console.info("Attribute Name: " + PasDataSet[unIndex].attributes[i].name + " value: " + PasDataSet[unIndex].attributes[i].value);
// 											PASDetermineAttribute(unString,PasDataSet[unIndex].attributes[i].value);
// 										}
// 									}
// 								}
// 							}
// 						} else { /// must be only 1 ID in the JSON
				
// 							if ((PasEvarValue == "Nothing_Happened_Start") && (PasDataSet.idType == "di")) {
// //console.info("em recognized (one ID, segA)");
// 								if(PasDataSet.attributes){
// 									if(!(PasDataSet.attributes instanceof Array)){
// 										if(PasDataSet.attributes.name == PASNameToSearchFor){
// 											PASDetermineAttribute(emString,PasDataSet.attributes.value);
// 										}
// 									} else {
// 										for (i = 0; i < PasDataSet.attributes.length; i++) {
// 											if(PasDataSet.attributes[i].name == PASNameToSearchFor) {
// 												PASDetermineAttribute(emString,PasDataSet.attributes[i].value);
// 											}
// 										}
// 									}
// 								}
// 							}
// 							if ((PasEvarValue == "Nothing_Happened_Start") && (PasDataSet.idType == "cs")) {
// //console.info("cs recognized (one ID, segA)");
// 								if(PasDataSet.attributes){
// 									if((!(PasDataSet.attributes instanceof Array))){
// 										if (PasDataSet.attributes.name == PASNameToSearchFor){
// 											PASDetermineAttribute(csString,PasDataSet.attributes.value);
// 										}
// 									} else {
// 										for (i = 0; i < PasDataSet.attributes.length; i++) {
// 											if(PasDataSet.attributes[i].name == PASNameToSearchFor) {
// 												PASDetermineAttribute(csString,PasDataSet.attributes[i].value);
// 											}
// 										}
// 									}
// 								}
// 							}

// 							if ((PasEvarValue == "Nothing_Happened_Start") && (PasDataSet.idType == "un")) {
// //console.info("un recognized (one ID, segA)");
// 								if(PasDataSet.attributes){
// //console.info("un recognized (one ID, segA) has attributes");
// 									if(!(PasDataSet.attributes instanceof Array)){
// //console.info("un recognized (one ID, segA) not an array");
// 										if(PasDataSet.attributes.name == PASNameToSearchFor){
// //console.info("un recognized (one ID, segA) not an array has PAS value" + PasDataSet.attributes.value);
// 											PASDetermineAttribute(unString,PasDataSet.attributes.value);
// 										}
// 									} else {
// //console.info("un recognized (one ID, segA) is an array");
// 										for (i = 0; i < PasDataSet.attributes.length; i++) {
// 											if(PasDataSet.attributes[i].name == PASNameToSearchFor) {
// //console.info("un recognized (one ID, segA) is an array has PAS value = " + PasDataSet.attributes[i].value);
// 												PASDetermineAttribute(unString,PasDataSet.attributes[i].value);
// 											}
// 										}
// 									}	
// 								}
// 							}	
// 						} // end last else
// 						if (this.PasEvarValue == "Nothing_Happened_Start") {
// 								this.PasEvarValue = "NULL";
// 								PASDetermineAttribute("NULL","NULL");
// 						}			
// //console.info("final evar value: " + this.PasEvarValue);
	
// //console.info("PAS function sending evar!");
// 				PaSValuePassedToEvar = this.PasEvarValue;
		
// 			} else {
// 				this.PasEvarValue = "NULL";
// 				PaSValuePassedToEvar = this.PasEvarValue;
// 				PASDetermineAttribute("NULL","NULL");
// 			}
// 		}
		

// 		var PASDetermineAttribute = function (idtype,value) {
// //console.info("--PASDetermineAttribute() called--");
// //console.info("id: " + idtype + " value: " + value);
// 		var testvalue = value.split(":");
// 				switch (testvalue[0]) {
// 					case "CONTROL":
// 						this.PasEvarValue = value;
// 						this.PasValueProperty = "A";
// 						break;
// 					case "TEST1":
// 						this.PasEvarValue = value;
// 						this.PasValueProperty = "B";
// 						break;
// 					case "TEST2":
// 						this.PasEvarValue = value;
// 						this.PasValueProperty = "C";
// 						break;					
// 					default:
// 						this.PasEvarValue = "NULL";
// 						this.PasValueProperty = this.defaultPasValue;
// 						break;						
// 				}
// 				PaSValuePassedToEvar = this.PasEvarValue;
// 				PaSValueForContent2 = this.PasValueProperty
// //console.info( "PaS value property: " +  this.PasValueProperty);     
//         }
        
//     ExecutePaSABTest();
      
//     }; // end constructor

//     constructor.publicStaticMethod = function() {};

//     return constructor;
// }();


var PASNameToSearchFor = "";
var PaSValueForContent = "null"
var WCDPasNavWidget = function() {
    
// var privateStaticMethod = function() {};
// var privateStaticVariable = "foo";

	this.PasEvarValue = "Error: PAS quit before finishing";
	this.defaultPasValue = "A";
	// this.PasDataEvar = "eVar36"
	this.PasValueProperty = "";
    var constructor = function WCDPasWidget()
    {
    	//this.PasValueProperty = "";
        var ExecutePaSABTest = function() {	
        	
        	if(typeof personalizationService.model.personalizationData.personalizationInfoV1.personalizationAttributes != "undefined"){
				var PasDataSet = personalizationService.model.personalizationData.personalizationInfoV1.personalizationAttributes;
//console.info("dataset: ");
//console.info(PasDataSet)
				;
				var csIndex = -1;
				var emIndex = -1;
				var unIndex = -1;
				var csString = "Cust";
				var emString = "Email";
				var unString = "Unknown";
				this.PASNameToSearchFor = "GOLDIVPREF";
				this.PasEvarValue = "Nothing_Happened_Start";
				var PASIdValues = {"cs":false,"di":false,"un":false};

				// begin test ************************************************
//console.info("length: " + PasDataSet.length);
					// iterate through the PaS Data if more than one id...
					for (i = 0; i < PasDataSet.length; i++) {
						if (PasDataSet[i].idType == "di") {
//console.info("em recognized (multiple IDs, segA)");
							PASIdValues.em = true;
							emIndex = i;
						} else if (PasDataSet[i].idType == "cs") {
//console.info("cs recognized (multiple IDs, segA)");
							PASIdValues.cs = true;
							csIndex = i;
						} else if (PasDataSet[i].idType == "un")  {
//console.info("un recognized (multiple IDs, segA)");
							PASIdValues.un = true;
							unIndex = i;
						} 
					} // end "for" loop	
						if ((PasEvarValue == "Nothing_Happened_Start") && (PASIdValues.em)) {
//console.info("em main if recognized (multiple IDs, segA)");
							if(PasDataSet[emIndex].attributes){
								if (!(PasDataSet[emIndex].attributes instanceof Array)){
									if(PasDataSet[emIndex].attributes.name == PASNameToSearchFor){
										PASDetermineAttribute(emString,PasDataSet[emIndex].attributes.value);
									}
								} else {
									for (i = 0; i < PasDataSet[emIndex].attributes.length; i++) {
//console.info("name " + i + ": " + PasDataSet[emIndex].attributes[i].name + "value " + i + ": " + PasDataSet[emIndex].attributes[i].value);
										if(PasDataSet[emIndex].attributes[i].name == PASNameToSearchFor) {
//console.info("value = " + PasDataSet[emIndex].attributes[i].value);
											PASDetermineAttribute(emString,PasDataSet[emIndex].attributes[i].value);
										}
									}
								}
							}
						}
						if ((PasEvarValue == "Nothing_Happened_Start") && (PASIdValues.cs)) {
//console.info("cs main if recognized (multiple IDs, segA)");
							if(PasDataSet[csIndex].attributes){
								if (!(PasDataSet[csIndex].attributes instanceof Array)){
									if(PasDataSet[csIndex].attributes.name == PASNameToSearchFor){
										PASDetermineAttribute(csString,PasDataSet[csIndex].attributes.value);
									}
								} else {
//console.info("# of attributes: " + PasDataSet[csIndex].attributes.length);
									for (i = 0; i < PasDataSet[csIndex].attributes.length; i++) {
//console.info("name " + i + ": " + PasDataSet[csIndex].attributes[i].name + "value " + i + ": " + PasDataSet[csIndex].attributes[i].value);
										if(PasDataSet[csIndex].attributes[i].name == PASNameToSearchFor) {
//console.info("value = " + PasDataSet[csIndex].attributes[i].value);
											PASDetermineAttribute(csString,PasDataSet[csIndex].attributes[i].value);
										}
									}
								}
							}
						} 

						if ((PasEvarValue == "Nothing_Happened_Start") && (PASIdValues.un)) {
//console.info("un main if recognized (multiple IDs, segA)");
//console.info("un index = " + unIndex);
							if(PasDataSet[unIndex].attributes){
//console.info("attributes length: " + PasDataSet[unIndex].attributes.length);
								if (!(PasDataSet[unIndex].attributes instanceof Array)){
//console.info("Did check instance of array");
									if(PasDataSet[unIndex].attributes.name == PASNameToSearchFor){
//console.info("the name: "+ PasDataSet[unIndex].attributes.name);
//console.info("one attribute: " + PasDataSet[unIndex].attributes.value);
										PASDetermineAttribute(unString,PasDataSet[unIndex].attributes.value);
									}
								} else {
//console.info("multiple attributes");
									for (i = 0; i < PasDataSet[unIndex].attributes.length; i++) {
//console.info("how many attributes there are: " + PasDataSet[unIndex].attributes.length + " attributes");
//console.info("name " + i + ": " + PasDataSet[unIndex].attributes[i].name + "value " + i + ": " + PasDataSet[unIndex].attributes[i].value);
										if(PasDataSet[unIndex].attributes[i].name == PASNameToSearchFor) {
//console.info("Attribute Name: " + PasDataSet[unIndex].attributes[i].name + " value: " + PasDataSet[unIndex].attributes[i].value);
											PASDetermineAttribute(unString,PasDataSet[unIndex].attributes[i].value);
										}
									}
								}
							}
						} else { /// must be only 1 ID in the JSON
				
							if ((PasEvarValue == "Nothing_Happened_Start") && (PasDataSet.idType == "di")) {
//console.info("em recognized (one ID, segA)");
								if(PasDataSet.attributes){
									if(!(PasDataSet.attributes instanceof Array)){
										if(PasDataSet.attributes.name == PASNameToSearchFor){
											PASDetermineAttribute(emString,PasDataSet.attributes.value);
										}
									} else {
										for (i = 0; i < PasDataSet.attributes.length; i++) {
											if(PasDataSet.attributes[i].name == PASNameToSearchFor) {
												PASDetermineAttribute(emString,PasDataSet.attributes[i].value);
											}
										}
									}
								}
							}
							if ((PasEvarValue == "Nothing_Happened_Start") && (PasDataSet.idType == "cs")) {
//console.info("cs recognized (one ID, segA)");
								if(PasDataSet.attributes){
									if((!(PasDataSet.attributes instanceof Array))){
										if (PasDataSet.attributes.name == PASNameToSearchFor){
											PASDetermineAttribute(csString,PasDataSet.attributes.value);
										}
									} else {
										for (i = 0; i < PasDataSet.attributes.length; i++) {
											if(PasDataSet.attributes[i].name == PASNameToSearchFor) {
												PASDetermineAttribute(csString,PasDataSet.attributes[i].value);
											}
										}
									}
								}
							}

							if ((PasEvarValue == "Nothing_Happened_Start") && (PasDataSet.idType == "un")) {
//console.info("un recognized (one ID, segA)");
								if(PasDataSet.attributes){
//console.info("un recognized (one ID, segA) has attributes");
									if(!(PasDataSet.attributes instanceof Array)){
//console.info("un recognized (one ID, segA) not an array");
										if(PasDataSet.attributes.name == PASNameToSearchFor){
//console.info("un recognized (one ID, segA) not an array has PAS value" + PasDataSet.attributes.value);
											PASDetermineAttribute(unString,PasDataSet.attributes.value);
										}
									} else {
//console.info("un recognized (one ID, segA) is an array");
										for (i = 0; i < PasDataSet.attributes.length; i++) {
											if(PasDataSet.attributes[i].name == PASNameToSearchFor) {
//console.info("un recognized (one ID, segA) is an array has PAS value = " + PasDataSet.attributes[i].value);
												PASDetermineAttribute(unString,PasDataSet.attributes[i].value);
											}
										}
									}	
								}
							}	
						} // end last else
						if (this.PasEvarValue == "Nothing_Happened_Start") {
								this.PasEvarValue = "NULL";
								PASDetermineAttribute("NULL","NULL");
						}			
//console.info("final evar value: " + this.PasEvarValue);
	
//console.info("PAS function sending evar!");
				// PaSValuePassedToEvar += this.PasEvarValue;
		
			} else {
				this.PasEvarValue = "NULL";
				// PaSValuePassedToEvar += this.PasEvarValue;
				PASDetermineAttribute("NULL","NULL");
			}
		}
		

		var PASDetermineAttribute = function (idtype,value) {
//console.info("--PASDetermineAttribute() called--");
//console.info("id: " + idtype + " value: " + value);
		var testvalue = value.split("|");
				switch (testvalue[0]) {
					case "WOMEN":
						this.PasEvarValue = value;
						this.PasValueProperty = "A";
						break;
					case "MEN":
						this.PasEvarValue = value;
						this.PasValueProperty = "B";
						break;
					case "BABY":
						this.PasEvarValue = value;
						this.PasValueProperty = "C";
						break;
					case "TODDLERGIRL":
						this.PasEvarValue = value;
						this.PasValueProperty = "D";
						break;
					case "TODDLERBOY":
						this.PasEvarValue = value;
						this.PasValueProperty = "E";
						break;
					case "GIRL":
						this.PasEvarValue = value;
						this.PasValueProperty = "F";
						break;
					case "BOY":
						this.PasEvarValue = value;
						this.PasValueProperty = "G";
						break;
					case "MATERNITY":
						this.PasEvarValue = value;
						this.PasValueProperty = "H";
						break;					
					default:
						this.PasEvarValue = "NULL";
						this.PasValueProperty = this.defaultPasValue;
						break;						
				}
				// PaSValuePassedToEvar = PaSValuePassedToEvar + "_" + this.PasEvarValue;
				// ABTestVariables[this.PasDataEvar] = PaSValuePassedToEvar;
				PaSValueForContent = this.PasValueProperty
//console.info( "PaS value property: " +  this.PasValueProperty);     
        }
        
    ExecutePaSABTest();
      
    }; // end constructor

    constructor.publicStaticMethod = function() {};

    return constructor;
}();

/*
NAV GUIDE (PaSValueForContent2):
"A" : WOMEN|MEN|BABY|TODDLERGIRL|TODDLERBOY|GIRL|BOY|MATERNITY
"B" : MEN|BABY|TODDLERGIRL|TODDLERBOY|GIRL|BOY|MATERNITY|WOMEN
"C" : BABY|TODDLERGIRL|TODDLERBOY|GIRL|BOY|MATERNITY|WOMEN|MEN
"D" : TODDLERGIRL|TODDLERBOY|GIRL|BOY|MATERNITY|WOMEN|MEN|BABY
"E" : TODDLERBOY|GIRL|BOY|MATERNITY|WOMEN|MEN|BABY|TODDLERGIRL
"F" : GIRL|BOY|MATERNITY|WOMEN|MEN|BABY|TODDLERGIRL|TODDLERBOY
"G" : BOY|MATERNITY|WOMEN|MEN|BABY|TODDLERGIRL|TODDLERBOY|GIRL
"H" : MATERNITY|WOMEN|MEN|BABY|TODDLERGIRL|TODDLERBOY|GIRL|BOY
*/

/// run on all pages...
// var GOLSEGS;
var GOLNAVS;
	reportingService.controller.reportingManager.transmitRequest = reportingService.controller.reportingManager.transmitRequest.wrap(function(om) {
//console.info("before PAS");
		var evt = jQuery.Event( "PaSAttribute:ready" );
		// GOLSEGS = new WCDPasSegmentWidget();
		GOLNAVS = new WCDPasNavWidget();
		s.prop31 = PASNameToSearchFor;
//console.info("set ABVars");	
		reportingService.controller.reportingManager.setABTestingOverrideVariables();
//console.info("after PAS");
		om();
//console.info("after transmitRequest");
		jQuery(window).trigger( evt );
	});
//	jQuery(window).on("PaSAttribute:ready", function() { //console.info("PaS EVENT FIRED ******************** ->"); //console.info("Use: " + PaSValueForContent); }); 

</script>

<!-- END Content Item File: /content/0009/413/584/cn9413584.html -->

<!-- END - WCD Sitewide Container 12 -->

<!-- BEGIN - WCD Sitewide Container 13 -->
<!-- BEGIN Content Item File: /content/0009/513/586/cn9513586.html -->

<!--  onesite universal bar -->
<script type="text/javascript">
// <![CDATA[

function getRespNavURLParamName(name) {
	var match = RegExp('[?&]' + name + '=([^&]*)').exec(window.location.search);
	return match && decodeURIComponent(match[1].replace(/\+/g, ' '));
}

// ab seg function
function setABSegOverrideCookie(val) {
	if (val) {
		var cookieParams = gidLib.setCookieParamsHelper("ABSegOverride");
		gidLib.setCookie("ABSegOverride", val, "", cookieParams.path, cookieParams.domain, cookieParams.isSecure);
	}
}

var respNavForceModeVal = getRespNavURLParamName('respNavForceMode'); // forced mode val


// check for forcemode
if(location.href.indexOf('respNavForceMode') != -1){
	if (respNavForceModeVal == 'a') {
		setABSegOverrideCookie('ASeg');
	}
	if (respNavForceModeVal == 'b') {
		setABSegOverrideCookie('BSeg');
	}
}
// ]]>
</script>
<!-- End onesite universal bar AB Test -->



<!-- override for the bgdImg in the responsive edfs  -->
<style>
.edfs.en_US { background: none;}
</style>


<!-- END Content Item File: /content/0009/513/586/cn9513586.html -->

<!-- END - WCD Sitewide Container 13 -->

<!-- BEGIN - WCD Sitewide Container 14 -->
<!-- BEGIN Content Item File: /content/0009/693/241/cn9693241.html -->


<!-- Begin BRFS AB test -->
<script type="text/javascript">

var UniversalCookieCutterTestGFOL = Class.create();
UniversalCookieCutterTestGFOL.prototype = {

	initialize:function(CookieVarName,CookieUsedName,CookieValueBase,ForcedModeBaseName,SegmentBreakdown,theEvar,plExcept,noCookieSeg) {

		//Keeping it neat by having two discreet variables that check for and gather cookie information
		this.EvarToUse = theEvar != "" ? theEvar : false;
		this.CookieVariableName = CookieVarName;
		this.CookieUsed = CookieUsedName;
		this.CookieValueBase = CookieValueBase;
		this.SegBreakdown = SegmentBreakdown.split("-");
		this.DoesTheCookieExist = gidLib.getCookieVar(this.CookieUsed, this.CookieVariableName);
		this.RetrievedCookieValue = gidLib.getCookieVar(this.CookieUsed, this.CookieVariableName);
		this.QuickSegment = '';
		this.piperlimeException = plExcept;
		this.noCookieSeg = noCookieSeg;
		this.userNeedsSync = false;
		this.ForcedModeBase = ForcedModeBaseName;
		this.ModeArrayIndex = this.SegBreakdown.length; //segment breakdown determines how many segments too!
		this.modeArray = new Array();
		this.modeArray[0] = "a";
		this.modeArray[1] = "b";
		this.modeArray[2] = "c";
		this.modeArray[3] = "d";
		this.modeArray[4] = "e";
		this.modeArray[5] = "f";
		this.modeArray[6] = "g";
		this.modeArray[7] = "h";
		this.modeArray[8] = "i";
		this.modeArray[9] = "j";
		this.modeArray[10] = "k";
		this.modeArray[11] = "l";
		
		if (/sem=true/.test(location.href)) {
			this.noCookieMode();
		} else if (location.href.indexOf(this.ForcedModeBase) >= 1) {
			this.forcedMode();
		} else {
			this.cookieScanner();
		}
	},

	noCookieMode:function() {
		if (this.noCookieSeg) {
			this.setABTestVariable(this.noCookieSeg);
		}
	},

	forcedMode:function() {
		for (i = 0; i < this.ModeArrayIndex; i++) {
			if (location.href.indexOf(this.ForcedModeBase + "=" + this.modeArray[i]) >= 1) {
				//alert('you are in segment ' + this.modeArray[i].toUpperCase() + ' / ' + this.SegBreakdown[i] + '% of the population');
				this.QuickSegment = this.modeArray[i].toUpperCase();
				this.UserSegment = this.CookieValueBase + this.QuickSegment;
			}
		}
		
		gidLib.setCookieVar(this.CookieUsed,this.CookieVariableName,this.UserSegment);
		if (this.EvarToUse) {
			this.setABTestVariable(this.UserSegment);
		}

		userNeedsSync = true;
	},

	cookieScanner:function() {
		//If the cookie isn't available, bake one!
		if (this.DoesTheCookieExist) {
			if (this.EvarToUse) {
				this.setABTestVariable(this.RetrievedCookieValue);
			}
			for (i = 0; i < this.ModeArrayIndex; i++) {
				if (this.RetrievedCookieValue == (this.CookieValueBase + this.modeArray[i].toUpperCase())) {
					this.QuickSegment = this.modeArray[i].toUpperCase();
					break;
				}
			}
		} else {
			this.tagManager();
		}
	},

	tagManager:function() {
		//Breaking out the segmentation into specified percentages
		this.Segmentation = Math.floor((Math.random()*100)+1); // chooses 1 to 100
		//alert("Seg: " + this.Segmentation);	
		this.FloorThreshold = 0;
		this.TopThreshold = 0;
		
		for (i = 0; i < this.ModeArrayIndex; i++){
			this.TopThreshold = this.FloorThreshold + parseInt(this.SegBreakdown[i]);

			if ((this.Segmentation > this.FloorThreshold) && (this.Segmentation <= this.TopThreshold)){
				// put me in this segment
				this.UserSegment = this.CookieValueBase + this.modeArray[i].toUpperCase();
				this.QuickSegment = this.modeArray[i].toUpperCase();
				break;
			} else {
				// add top to floor and try next segment
				this.FloorThreshold = this.TopThreshold;
			}
		}
		
		gidLib.setCookieVar(this.CookieUsed,this.CookieVariableName,this.UserSegment);

		if (this.EvarToUse) {
			this.setABTestVariable(this.UserSegment);
		}
	},
	
	setABTestVariable: function(setValue) {
		thisEvar = 'eVar' + this.EvarToUse;
		ABTestVariables[thisEvar] = setValue;
	}
};

// Code will instantiate putting everyone in segment H.  Mobile check will put users into E; zip code check will put people into seg A if in Chicago,
//  seg J if not (seg A and J will represent people who have had the zip check made)

// for GFOL: evar 60

//Seg A = test 2 ECOM 2 states. SPLIT 50/50
//Seg B = test 2 Marketing 2 states. SPLIT 50/50
//Seg C = test 1 ECOM 11 test states
//Seg D = control Marketing 11 control states
//Seg E = no test. Marketing. 26 non test states. 
//Seg F = mobile. no test. 
//Seg G = we don't know your location. SHOW Marketing. 
// Seg H = technical issues
// Seg I = default segment for all users


var testGFOLCookieCutter = new UniversalCookieCutterTestGFOL("testGFOL0423","mktUniversalPersist","testGFOL0423_Seg","factorymode","0-0-0-0-0-0-0-0-100","60","","testGFOL0423_SegI");

// ZIP code checking - run everywhere BUT shopping bag, checkout, secure pages
if( location.protocol == 'http:' && location.pathname != '/buy/shopping_bag.do' && location.pathname != '/buy/shopping_bag_delete_item.do' && location.pathname != '/buy/shopping_bag_save_item.do' && location.pathname != '/buy/shopping_bag_move_item.do' && location.pathname != '/buy/edit_shipping_method_bag.do' && location.pathname != '/checkout/order.do' && location.pathname != '/checkout/orderConfirm.do' ) { 
	
	var testGFOLTestSegmenter = {
		testGFOLChecksRun: false,
		init: function() {
			// Wrap to ensure Omniture code happens AFTER checks, if the checks haven't already occurred
			reportingService.controller.reportingManager.transmitRequest = reportingService.controller.reportingManager.transmitRequest.wrap( function(om) {
				////console.info('trasmit firing');
				
				// If the checks haven't run, delay the Omniture fire until checks are done
				var testGFOLSegmentCheck = gidLib.getCookieVar("mktUniversalPersist","testGFOL0423");
				if( testGFOLSegmentCheck == 'testGFOL0423_SegI' ) {
					Event.observe( document,'wcdTestGFOLCheck:ready', function() {
						////console.info('firing wrapped Omni call');
						reportingService.controller.reportingManager.setABTestingOverrideVariables();
						om();
					});
				}
				// Else, the checks have run already, fire the normal Omni transmit
				else {
					////console.info('firing normal Omni call');
					om();
				}
			});
			
			// Ensure  checks only run once on a given page and only if user in seg L (unsegmented)
			var testGFOLSegment = gidLib.getCookieVar("mktUniversalPersist","testGFOL0423");
			if( testGFOLSegment == 'testGFOL0423_SegI' ) {

				// Delay Omniture data post until personalization is ready; fire wcdTestGFOLCheck:ready following
				if( window['personalizationService'] ) {
					Event.observe(document,"personalizationData:ready", function() {
						////console.info('personalization ready');
										
						// Mobile check - push users on mobile devices into segment I
						var userAgentCheck = navigator.userAgent.toLowerCase();
						if( location.hostname.indexOf('m.') > -1 || responsiveService.api.isMobileBrowser() || /webos|iphone|ipod|blackberry|iemobile|opera mini/i.test( userAgentCheck ) || ( userAgentCheck.indexOf('android') > -1 && userAgentCheck.indexOf('mobile') > -1 ) ) {
							testGFOLTestSegmenter.forceIntoSeg('F');
	
							testGFOLTestSegmenter.testGFOLChecksRun = true;
							document.fire('wcdTestGFOLCheck:ready');
						}
						// If user not a mobile user, check zip code
						else {
							testGFOLTestSegmenter.stateCheck();
						}
					});
				}
				// personalizationService not available = problem; seg K
				else {
					testGFOLTestSegmenter.forceIntoSeg('H');

					testGFOLTestSegmenter.testGFOLChecksRun = true;
					document.fire('wcdTestGFOLCheck:ready');
				}
			}
			// Else, checks have already run so fire event
			else {
				testGFOLTestSegmenter.testGFOLChecksRun = true;
				document.fire('wcdTestGFOLCheck:ready');
			}

		},
		
		// Forces user into an AB test segment
		forceIntoSeg: function( segToForce ) {
			testGFOLCookieCutter.QuickSegment = segToForce.toUpperCase();
			testGFOLCookieCutter.UserSegment = testGFOLCookieCutter.CookieValueBase + testGFOLCookieCutter.QuickSegment;
			gidLib.setCookieVar( testGFOLCookieCutter.CookieUsed, testGFOLCookieCutter.CookieVariableName, testGFOLCookieCutter.UserSegment );
			testGFOLCookieCutter.setABTestVariable( testGFOLCookieCutter.UserSegment );
		},
		
		// Checks whether zip code data is available and, if so whether a user is in the Chicago area
		stateCheck: function() {
			// Check whether marketingMessageInfo data is available; if not problem; put in seg K
			if( personalizationService.model.personalizationData && personalizationService.model.personalizationData.personalizationInfoV1 && personalizationService.model.personalizationData.personalizationInfoV1.marketingMessageInfo ) {
			
				// Personaliztion data/marketMessageInfo available, check whether geo-location is.
				// If not, we are not on page with this data [and should NOT force segment change]
				if( personalizationService.model.personalizationData.personalizationInfoV1.marketingMessageInfo.geoLocation ) {

					// Check whether user is outside Chicago area and, if so, force into seg I
					var geoString = personalizationService.model.personalizationData.personalizationInfoV1.marketingMessageInfo.geoLocation;
					
					var forceIntoState = gidLib.getQuerystringParam('GFOLState');
					
					if( forceIntoState ) { geoString +=',region_code='+forceIntoState; }
					//console.info(geoString);
					/*
					var forceIntoCA = gidLib.getQuerystringParam('inCA',true);
					if( forceIntoCA == 'true' ) { geoString +=',region_code=CA'; }
					*/
					// Check whether geo-location includes zip code
					//testGFOLTestSegmenter.testGeoStringValue = geoString;
					
					if( ( geoString.indexOf('region_code=') > -1 ) ) {
						var stateCompleteCode = geoString.substr( geoString.indexOf('region_code=')+12,2 );

						//testing cookie
						gidLib.setCookieVar('mktGlobalSession','myState',stateCompleteCode);

						// test 2 -- 2 states split 50%: ecom, 50% marketing // SEG A and B
						var stateArray1 = ["MD","MN"];
						// 11 states for test 1 - ecom // SEG C
						var stateArray2 = ["AZ","CA","CO","FL","IN","IL","MA","KS","LA","PA","MS","NJ","NY","SC","TX","WI"];
						// states for test 1 control - marketing // SEG D
						var stateArray3 = ["AL","CT","DE","GA","HI","IA","ME","MI","MO","NC","NH","NV","OH","OK","OR","TN","UT","VA","VT","WA"];
						// no brfs states - marketing // SEG E
						var stateArray4 = ["AK","AR","DC","ID","KY","MT","ND","NE","NM","RI","SD","WV","WY"];
						
						// If STATE code is in array1, you are in 50/50 state; put in seg A or B
						if ( jQuery.inArray( stateCompleteCode, stateArray1 ) > -1 ) {
							
							// Force into random seg from A-B
							// Breaking out the segmentation into specified percentages
							var inTestSegmentation = Math.floor((Math.random()*100)+1); // chooses 1 to 100
							var inTestFloorThreshold = 0;
							var inTestTopThreshold = 0;
							var inTestModeArray = ['a','b'];
							var inTestSegBreakdownArray = ['50','50'];
							var newSegment = '';
							
							for (i = 0; i < inTestModeArray.length; i++){
								inTestTopThreshold = inTestFloorThreshold + parseInt(inTestSegBreakdownArray[i]);
					
								if ((inTestSegmentation > inTestFloorThreshold) && (inTestSegmentation <= inTestTopThreshold)){
									// put me in this segment
									newSegment = inTestModeArray[i].toUpperCase();
									break;
								} else {
									// add top to floor and try next segment
									inTestFloorThreshold = inTestTopThreshold;
								}
							}						
							testGFOLTestSegmenter.forceIntoSeg( newSegment );
						}
						
						else if ( jQuery.inArray( stateCompleteCode, stateArray2 ) > -1 ) {
							testGFOLTestSegmenter.forceIntoSeg('C');
						}	
						
						else if ( jQuery.inArray( stateCompleteCode, stateArray3 ) > -1 ) {
							testGFOLTestSegmenter.forceIntoSeg('D');
						}
						else if ( jQuery.inArray( stateCompleteCode, stateArray4 ) > -1 ) {
							testGFOLTestSegmenter.forceIntoSeg('E');
						}
						// Otherwise you are not IN THE USA, put in seg G
						else {
							testGFOLTestSegmenter.forceIntoSeg('G');
						}
					}
					// Geo-location data available but zip code is not there, force into G	
					else {
						testGFOLTestSegmenter.forceIntoSeg('G');
					}
				}
				// personalizationService is available and has data, just not geo-location data; on page without this data, do nothing
			}
			// personalizationInfoV1.marketingMessageInfo object not available = problem, put into seg H
			else {
				testGFOLTestSegmenter.forceIntoSeg('H');
			}

			testGFOLTestSegmenter.testGFOLChecksRun = true;
			document.fire('wcdTestGFOLCheck:ready');
		}
	}
	testGFOLTestSegmenter.init();
}

		
// Marketing content show/hide
var testGFOLView = {
	testGFOLChecksRun: false,
	showGFOLView: function(modeToShow) {
		//console.info(modeToShow);
		//if ((omni.strCurrentPageName.indexOf("GFOL") > 0) || (window.location.href.indexOf("cid=48620") > 0) || (window.location.href.indexOf("cid=1016171") > 0)){
		if ((omni.strCurrentPageName.indexOf("Factory") > 0) || (window.location.href.indexOf("cid=48620") > 0)){
		
			//hide promo
			jQuery('#promoBannerContainer').hide();
	
			//hide gap footer
			jQuery('#footer').hide();
			jQuery('#gfol-footer').hide();
			
			//MARKETING
			if (modeToShow=='Marketing'){
				//console.info("Marketing content");

				if (window.location.href.indexOf("cid=48620") > 0){
						// show MARKETING HP
						jQuery('#gfol-marketing').show();
						jQuery('#footer').hide();
				}
				else {
					jQuery('#footer').show();
				}
				
			}

			//ECOM
			
			else if (modeToShow=='ECOM'){
				//console.info("ECOM content");

				//show ECOM HP
				jQuery('#gfol-marketing').hide();
				jQuery('#gfol-ecom').show();
				jQuery('#gfol-ecom2').show();
				
				//topnav
				jQuery('#topNavGFOLContainer').show();

				//hide top header
				jQuery('#infoBar').hide();


				//footer link update
				jQuery('#gfol-footer').show();
					
				
			}
				
		}
		else {
			/*DEFAULT SITE CONTENT  */

			if (modeToShow=='ECOM'){

				//site navigation: add gfol link to site navigation
				if (jQuery('.gpnavigation')){
					jQuery('#gfol-link').show();
				}

			}

			// show MARKETING HP
			if (window.location.href.indexOf("cid=48620") > 0){
				// show MARKETING HP
				jQuery('#gfol-marketing').show();
				jQuery('#footer').hide();
			}
			
			//hide gfol footer
			jQuery('#gfol-footer').hide();

			// show MARKETING HP
			//jQuery('#gfol-marketing').show();
		}
	}
}	



var testGFOLShowHideMarketing = function() {
	var testGFOLSegment = gidLib.getCookieVar("mktUniversalPersist","testGFOL0423");
	//console.info(testGFOLSegment);
	if (omni.strCurrentPageName != null){
		if( testGFOLSegment == 'testGFOL0423_SegA' ) {
			testGFOLView.showGFOLView('ECOM');
			//console.info(testGFOLSegment);
		}
		else if( testGFOLSegment == 'testGFOL0423_SegB' ) {
			testGFOLView.showGFOLView('Marketing');
			//console.info(testGFOLSegment);
		}
		else if( testGFOLSegment == 'testGFOL0423_SegC' ) { 
			testGFOLView.showGFOLView('ECOM');
			//console.info(testGFOLSegment);
		}
		else if( testGFOLSegment == 'testGFOL0423_SegD' ) { 
			testGFOLView.showGFOLView('Marketing');
			//console.info(testGFOLSegment);
		}
		else if( testGFOLSegment == 'testGFOL0423_SegE' ) { 
			testGFOLView.showGFOLView('Marketing');	
			//console.info(testGFOLSegment);
		}
		else if( testGFOLSegment == 'testGFOL0423_SegF' ) { 
			testGFOLView.showGFOLView('Marketing');
			//console.info(testGFOLSegment);
		}
		else if( testGFOLSegment == 'testGFOL0423_SegG' ) { 
			testGFOLView.showGFOLView('Marketing');
			//console.info(testGFOLSegment);
		}
		else if( testGFOLSegment == 'testGFOL0423_SegH' ) { 
			testGFOLView.showGFOLView('Marketing');
			//console.info(testGFOLSegment);
		}
		else { 
			testGFOLView.showGFOLView('Marketing');
			//console.info(testGFOLSegment);
		}
		
	}
	else {

		//hide gfol footer
		jQuery('#gfol-footer').hide();

		// show MARKETING HP
		jQuery('#gfol-marketing').show();
	}


	

}



var testGFOLMarketingPersonalizationReady = false;

if( window['siteNavigation'] ) {
	if( window['personalizationService'] ) {
		document.observe('personalizationData:ready', function() {
			testGFOLMarketingPersonalizationReady = true;
		});
		Event.observe(window, 'load', function() {
			if( testGFOLMarketingPersonalizationReady ) {
				testGFOLShowHideMarketing();
			}
			else {
				document.observe('personalizationData:ready', function() {
				testGFOLShowHideMarketing();
				});	
			}
		});
	}
	else {
		Event.observe( window, 'load', function() {
			testGFOLShowHideMarketing();
		});
	}
}

</script>
<!-- END BRFS AB TEST -->

<!-- END Content Item File: /content/0009/693/241/cn9693241.html -->

<!-- END - WCD Sitewide Container 14 -->

<!-- BEGIN - WCD Sitewide Container 15 -->
<!-- BEGIN Content Item File: /content/0009/718/364/cn9718364.html -->

<script type="text/javascript">
    /*
    Universal Cookie Cutter
    Version 2.1
    Created to streamline cross-brand A/B testing
    New version modularizes variables
    
    instantiate new object:
    
    MyCookieCutter = new universalCookieCutter([CookieVarName],      // name of your cookie variable
                                               [CookieUsedName],     // name of cookie used (usually 'mktUniversalPersist')
                                               [CookieValueBase],    // name of base cookie value so AB tests can be distinguished (ONOctFSEG)
                                               [ForcedModeBaseName], // distinct base string for forced mode, (oldnavyabmode), etc
                                               [SegmentBreakdown]    // segment breakdowns separated by "-" (80-10-10) highest to lowest values
                                               [eVar you are using]  // OPTIONAL can be either ABTestVariables.eVar24 or ABTestVariables.eVar36 - enter either "24", "36" or "" (blank)
                                               [Piperlime-only segment] // Piperlime often doesn't segment, scan for this variable and overwrite it. 
                                               );
    A sample instantiation:
    
    ONBRABCookieCutter = new universalCookieCutter("ONBRAB","mktUniversalPersist","ONBRDecXSEG","onbrabmode","70-10-10-5-5","24","0625FSSegE");
                                               
    */
    
    var universalCookieCutter_ABGapPopUp = Class.create();
    
    
    universalCookieCutter_ABGapPopUp.prototype = {
    
        initialize:function(CookieVarName,CookieUsedName,CookieValueBase,ForcedModeBaseName,SegmentBreakdown,theEvar,plExcept) {
    
            //Keeping it neat by having two discreet variables that check for and gather cookie information
            this.EvarToUse = theEvar != "" ? theEvar : false;
            this.CookieVariableName = CookieVarName;
            this.CookieUsed = CookieUsedName;
            this.CookieValueBase = CookieValueBase;
            this.SegBreakdown = SegmentBreakdown.split("-");
            this.DoesTheCookieExist = gidLib.getCookieVar(this.CookieUsed, this.CookieVariableName);
            this.RetrievedCookieValue = gidLib.getCookieVar(this.CookieUsed, this.CookieVariableName);
            this.QuickSegment = '';
            this.piperlimeException = plExcept;
            this.userNeedsSync = false;
            this.ForcedModeBase = ForcedModeBaseName;
            this.ModeArrayIndex = this.SegBreakdown.length; //segment breakdown determines how many segments too!
            this.modeArray = new Array();
            this.modeArray[0] = "a";
            this.modeArray[1] = "b";
            this.modeArray[2] = "c";
            this.modeArray[3] = "d";
            this.modeArray[4] = "e";
            this.modeArray[5] = "f";
            this.modeArray[6] = "g";
            //alert(this.piperlimeException);
            
            
            if (location.href.indexOf(this.ForcedModeBase) >= 1) {
                this.forcedMode();
            }else{
                this.cookieScanner();
            }
        },
    
    
        forcedMode:function() {
            
            for (i = 0; i < this.ModeArrayIndex; i++) {
            
                if (location.href.indexOf(this.ForcedModeBase + "=" + this.modeArray[i]) >= 1) {
                    //alert('you are in segment ' + this.modeArray[i].toUpperCase() + ' / ' + this.SegBreakdown[i] + '% of the population');
                    this.UserSegment = this.CookieValueBase + this.modeArray[i].toUpperCase();
                    this.QuickSegment = this.modeArray[i].toUpperCase();
                }
                
            }
            
            
            gidLib.setCookieVar(this.CookieUsed,this.CookieVariableName,this.UserSegment);
            if (this.EvarToUse) {
                
                this.setABTestVariable(this.UserSegment);
            }
    
            userNeedsSync = true;
            //alert("Forced: Cookie set.");
            
        
        },
    
        cookieScanner:function() {
            
            //If the cookie isn't available, bake one!
            if (this.DoesTheCookieExist) {
    
                if (this.EvarToUse) {
                    this.setABTestVariable(this.RetrievedCookieValue);
                }
    
                for (i = 0; i < this.ModeArrayIndex; i++) {
                    if (this.RetrievedCookieValue == (this.CookieValueBase + this.modeArray[i].toUpperCase())) {
                        this.QuickSegment = this.modeArray[i].toUpperCase();
                        break;
                    }
                }
    
            } else {
                this.tagManager();
            }
    
        },
    
    
        tagManager:function() {
    
        
            //Breaking out the segmentation into specified percentages
            
            this.Segmentation = Math.floor((Math.random()*100)+1); // chooses 1 to 100
            //alert("Seg: " + this.Segmentation);   
            this.FloorThreshold = 0;
            this.TopThreshold = 0;
            
            for (i = 0; i < this.ModeArrayIndex; i++){
    
                this.TopThreshold = this.FloorThreshold + parseInt(this.SegBreakdown[i]);
    
                if ((this.Segmentation > this.FloorThreshold) && (this.Segmentation <= this.TopThreshold)){
                    // put me in this segment
                    this.UserSegment = this.CookieValueBase + this.modeArray[i].toUpperCase();
                    this.QuickSegment = this.modeArray[i].toUpperCase();
                    break;
                } else {
                    // add top to floor and try next segment
                    this.FloorThreshold = this.TopThreshold;
                }
                    
            }
            
            gidLib.setCookieVar(this.CookieUsed,this.CookieVariableName,this.UserSegment);
    
            if (this.EvarToUse) {
                this.setABTestVariable(this.UserSegment);
            }
    
            //userNeedsSync = true;
            //alert("Tag Manager: Cookie set.");
            
        },
        
            setABTestVariable: function(setValue) {
            thisEvar = 'eVar' + this.EvarToUse;
            ABTestVariables[thisEvar] = setValue;
        }
    
        
    }; 

    //0516GapDPABTest is the cookie variable
    //0516GapDPSeg will be the var holding the segment
    //Segments will be appended to it : (042415GapPopupSegA, 042415GapPopupSegB) 
    //AB TEST details: SEGA= whole main tab jump to the same link, SEGB= Main tab has several different links. 



    var WDPCookieCutter = new universalCookieCutter_ABGapPopUp("042415GapPopUpABTest","mktUniversalPersist","042415GapPopupSeg","popUpforcemode","50-50","21");
    var GDPABSegment = gidLib.getCookieVar("mktUniversalPersist", "042415GapPopUpABTest");


    function EBBHideShowABTest(){
        if(GDPABSegment=="042415GapPopupSegA"){
            jQuery(".promoA").show();
            // console.log("A");
        }
        if(GDPABSegment=="042415GapPopupSegB"){
            jQuery(".promoB").show();
            jQuery(".promoA").hide();
            // console.log("B");
        }
    };

    jQuery(function($){
        
        $(document).ready(function(){
            EBBHideShowABTest();
        });

    });
    

</script>

<!-- END Content Item File: /content/0009/718/364/cn9718364.html -->

<!-- END - WCD Sitewide Container 15 -->

<script type="text/javascript">
	// <![CDATA[
		
		
		if (window["responsiveService"]) {
			(function() { 
			    var isMobileProxyActive = browserService.controller.managers.mobileBrowserManager.model.isMobileProxyActive;
			    responsiveService.controller.init.main({active:(isMobileProxyActive !== undefined && !isMobileProxyActive)});
			})();
		}
		if (window["navigationService"]) {
			navigationService.controller.init.main();
		}
	// ]]>
</script>
</head>
<body class="locale_en_US">
    <h3 class="cssHide">Skip Navigation:</h3>
    




	
		
	
	
			


	
			
			
	
	
	
	








<p id="skipNav">
	Skip to: 
	<a href="#skipNavTopNav" class="skipNav">Top Navigation</a>, 
	
		
		
		
		
		

        
        
        
		
		

		
		
		
		
		
		
		
	
		
			<a href="#skipNavInlineBag" class="skipNav">Shopping Bag</a>, 
		
	
	<a href="#skipNavMainContent" class="skipNav">Main Content</a>, 
	<a href="#skipNavFooter" class="skipNav">Footer Navigation</a>.
</p>

    




	
		
	
	
			


	
			
			
	
	
	
	











    <a name="skipNavTopNav"></a>

    
		
		
			<div id="universalBar">
				




	
		
	
	
			


	
			
			
	
	
	
	










	
	
	 




	
	
		
		
	




	
		
	
	






<table class="universalBarTable" summary="Links to the other Gap Inc. Brands, promotional information, items in bag, my account, order status, shopping bag">
	<thead><tr><td></td></tr></thead>
	<tbody>
		<tr>
			<td class="universalBarLeft" style="background:url(/content/0008/703/523/universalBar_bkg.png) repeat-x;">&nbsp;</td>
			
				
				
				
				
					
					
					
				
			
			<td id="universalBarCenter" class="universalBarCenter">
				<div id="universalBarContainer" class="clearfix universalBarContainer">
					
						<span class="cssHide2">Visit the other Gap Inc. Brands:</span>
						<ul id="universalBarTabs" class="universalBarTabs4 clearfix">
						
							
							
							<li class="brand1">
						
			 						
			 							
			 								<a href="http://www.gap.com" class="brand current" target="_top" onclick="return gidBrandSiteConstruct.openBrand(1);">
			 								<img src="/assets/common/clear.gif" alt="Gap"> </a>
			 							
			 							
			 						
							</li>
						
							
							
							<li class="brand3">
						
			 						
			 							
			 							
			 								<a href="http://www.oldnavy.com" class="brand" target="_top" onclick="return gidBrandSiteConstruct.openBrand(3);">
			 								<img src="/assets/common/clear.gif" alt="Old Navy"> </a>
			 							
			 						
							</li>
						
							
							
							<li class="brand2">
						
			 						
			 							
			 							
			 								<a href="http://www.bananarepublic.com" class="brand" target="_top" onclick="return gidBrandSiteConstruct.openBrand(2);">
			 								<img src="/assets/common/clear.gif" alt="Banana Republic"> </a>
			 							
			 						
							</li>
						
							
							
							<li class="brand10">
						
			 						
			 							
			 							
			 								<a href="http://www.athleta.com" class="brand" target="_top" onclick="return gidBrandSiteConstruct.openBrand(10);">
			 								<img src="/assets/common/clear.gif" alt="Athleta"> </a>
			 							
			 						
							</li>
						
						</ul>
					
					<div id="universalMarketingContainerTop" class="">
						
						<!-- @TemplateContentLayout(templateRegionName:"gid.common.siteWide.universalBar.10000522.region1") -->

<!-- BEGIN Content Item File: /content/0009/512/735/cn9512735.html -->
<div id="contentItemContainer10000425" class="9512735">

<style>
#GOL_edfs {
	position:relative;
	width:450px;
	height:45px;
	margin-top:3px;
}
#GOL_edfs img {
	width:100%;
	height:auto;
}
</style>

<div class="edfsPostageStamp" id="GOL_edfs"><a href="javascript:void(0)">
	</a><a class="needsclick" data-jbox-height="450" data-jbox-width="475" data-jbox-url="/Asset_Archive/GPWeb/content/0009/512/735/assets/edfsLegal.html" rel="jbox" onclick="" href="#edfs">
		<img src="/Asset_Archive/GPWeb/content/0009/512/735/assets/gap-edfs-us.png" alt="Free shipping on all orders over $50. Free returns on all orders.">
	</a>
</div>


</div>
<!-- END Content Item File: /content/0009/512/735/cn9512735.html -->



<!--  new onesite template sub-regions -->

<!-- responsive edfs content -->

					</div>
					<div id="universalInlineBagContainer" class="universalBarBackground">
						
							<div id="signInContent">
								
									
									
									
									<h3 class="cssHide">Sign In Navigation:</h3>
									<ul>
										<li id="signInYourAccount">
										</li>
										<li id="signInSignIn">
										</li>
									</ul>
									<ul>
										<li id="topNavLanguageToggle">
											<div id="signInOrderStatus"></div>
										</li>
										
											<li id="shippingTo">
											</li>
										
									</ul>
								
							</div>
							<div id="inlineBagPlaceHolder">
								<a name="skipNavInlineBag"></a>
								<h3 class="cssHide">Shopping Bag:</h3>
							   	<div id="inlineBagItemMessage" class="screenreader">
							    	<input name="inlineBagItemMessageItem" id="inlineBagItemMessageItem">	
							 	</div>
								<div id="inlineBagHeader" class="clearfix">
									
										<div class="checkoutButtonContainer"><a href="/buy/shopping_bag.do"><img src="/assets/common/clear.gif" width="15" height="15" alt="" class="universalButtonSprite universalSpriteTopnavInlinebagLogo"></a></div>
										<div class="inlineBagTopLayerContainer">
											<div id="inlineBagTopPriceLayer" class="inlineBagSummary">
											</div>
											<div id="checkoutButtonContainer2"><a href="/buy/shopping_bag.do"><img src="/assets/common/clear.gif" alt="checkout" id="inlineBagCheckOut1" class="universalButtonSprite universalButtonSpriteCheckoutOn"></a></div>
										</div>
									
									
								</div>
								
									<div id="inlineBagHeaderOpen" style="display:none;">
										<div class="checkoutButtonContainer"><a href="/buy/shopping_bag.do"><img src="/assets/common/clear.gif" width="15" height="15" alt="" class="universalButtonSprite universalSpriteTopnavInlinebagLogo"></a></div>
										<div class="inlineBagTopLayerContainerOpen"><div id="inlineBagTopPriceLayerOpen" class="inlineBagSummary"></div></div>
										<div id="closeButtonContainer"><img src="/assets/common/clear.gif" alt="close" class="universalButtonSprite universalSpriteInlineBagCloseOn"></div>
									</div>
									
	                                <div id="inlineBagClip">
                                		<div id="inlineBagContent" style="display:none;">
                                			<div id="inlineBagItems">
                                                <div id="gidInlineBag">
                                        	        <ul id="lineItems"></ul>
												    <div id="inlineBagSummary" class="clearfix">			
													    <div id="inlineBagSummaryItemCount" class="itemCount"></div>
										    			<div id="inlineBagSummarySubTotal" class="subTotal">
										            		Subtotal:
											    			<span id="inlineBagSummarySubPriceLabel" class="price"></span>
												    	</div>
											    	</div>
									            </div>
												<div id="universalInlineBagBottom">
													<div id="link1"><a href="/buy/shopping_bag.do">View your bag</a></div>
													<div id="link2"><a href="/buy/shopping_bag.do"><img id="inlineBagCheckOut2" src="/assets/common/clear.gif" alt="checkout" class="button_check_out universalButtonSprite universalButtonSpriteCheckoutOn"></a></div>
												</div>
										    </div>
	                                    </div>
										<div id="inlineCustomerAttributesPlaceholder"></div>
									</div>
	 
									
									<div id="inlineBagMarketingClip">
										<div id="inlineBagMarketingContent" style="display:none;">
										
								            
								            <div id="gidInlineBagMarketingContainer">
								                
								                	
								                		
								                	




	
		
	
	
			


	
			
			
	
	
	
	










	
	





	
		
	
	
			


	
			
			
	
	
	
	












								                
									        </div>
									        	
										    <div id="gidInlineBagPromo">
												<div id="inlineBagPromo" style="padding: 5px;" class="clearfix">
												
												    <span id="gidProductUpsellMessage" style="display:none;">
									    				<p class="promoMsg" id="productUpsellMsg"></p>
										    			<a class="promoLink" id="productUpsellLink" href="#"></a>
										    		</span>	
												
												    <span id="mupUpsellMessage" style="display:none;">
									    				<p class="promoMsg mupUpSellMsg" id="mupUpSellMsg"></p>
										    			<p class="promoMsg mupUpSellLink" id="mupUpSellLink"></p>
										    		</span>
									
												    <span id="gwpPwpSelectionMessage" style="display:none;">
									    				<img id="selImageLink" src="/assets/common/clear.gif" style="display:none;">
											    		
												    	<p class="promoMsg">
													    	You've earned
														    <span id="gwpPwpMsg"></span><br>
														    
									    					<a href="" id="promoLink"></a>
										    				<br>
										    			    <span id="promoSelLink" class="selLink" style="display:none;"></span>
												    			    
									   						<span id="staticPromoTxt" class="promoTxt" style="display:none;">This item has been added to your bag.</span>
												    	</p>
												    </span>
												    
									    		</div>
											
												<div id="inlineBagCrossSell" class="clearfix" onclick="">
												    <img id="crossSellImg" src="/assets/common/clear.gif">
												
									    			<p class="promoMsg">
										    			Complete the Look!<br>								
										    			<span id="crossSellOutfitMsg"></span>
											    	</p>							
												    <p class="promoMsg">Shop this outfit &gt;&gt;</p>
												</div>
										    </div>			
										</div>
									</div>
								
							</div>
						
					</div>
				</div>
			</td>
			<td class="universalBarRight" style="background:url(/content/0008/703/523/universalBar_bkg.png) repeat-x;">&nbsp;</td>
		</tr>
	</tbody>
</table>

			</div>
		
	



    <div id="bodyContainer" class="page-content nav-shiftee">
        




	
		
	
	
			


	
			
			
	
	
	
	






	<noscript>
		<div class="siteErrorSpacer">
			&#160;
		</div>
	</noscript>
	
		<div class="siteErrorSpacer">
			&nbsp;
		</div>
	
	

        
        	
		        <div id="topNav" class="clearfix">
		            




	
		
	
	
			


	
			
			
	
	
	
	















	
<div id="universalTopNav" class="topNavTopRow clearfix">
	<div id="topNavCommon_region1"><!-- @TemplateContentLayout(templateRegionName:"gid.common.siteWide.divisionNavigation.10000509.region1") -->

<script type="text/javascript">
// Apply responsive bag body classname
if( window["responsiveBagAbTestOn"] != null && responsiveBagAbTestOn ) {
    // Add responsiveBag classname to body
    document.body.className += ' responsiveShoppingBag';
}
</script> 
<script type="text/javascript">

/* Redirect Toddler Boy (6345) Division to Toddler (6413) */
if (location.pathname == '/browse/subDivision.do') {

    if (gidLib.getQuerystringParam("cid") == 6345) {
        var url = "/browse/subDivision.do?cid=6413";
        location = url;
    }
} 

/*end Redirect Toddler Boy (6345)subDivision to Toddler (6413)*/

/* Redirect Body DP (6345) subDivision to W Body New Arrivals */
if (location.pathname == '/browse/subDivision.do') {

    if (gidLib.getQuerystringParam("cid") == 12021) { 
        var url = "/browse/category.do?cid=1016012";
        location = url;
    }
} 

/*end Redirect Body DP (6345) subDivision to W Body New Arrivals*/

/* Redirect TB old category New Arrivals (63897) category to TB New Arrivals */
if (location.pathname == '/browse/category.do') {

    if (gidLib.getQuerystringParam("cid") == 63897) { 
        var url = "/browse/category.do?cid=1016138";
        location = url;
    }
} 

/*end Redirect TB old category New Arrivals (63897) category to TB New Arrivals */
</script>

<style type="text/css">
/*--  new top NAV 2014 --*/

/**** LAYOUT MODIFICATIONS *****/

#topNav { margin-top: 0px; }
#mainContentContainer { position: relative; }
#mainContentContainer #mainContent { float: right; }

/*full width mainContent */
div#bodyContainer div#mainContent { position: relative; }
#sideNav { position: relative; float: left; left: 162px; top:172px; display: block; opacity:0; width: 152px;margin-bottom: 172px; }
#logoWrapper { width: 50%; position: relative; float: left; }
.disableContent { display:none; margin:0; }

/**** NEW NAVIGATION STYLES *****/
#globalLogo { position: absolute; width: 152px; height:152px;display:none; float: left; left: 0px; top:0px; }
#mainNavGOL { position: absolute; height: 300px; width: 152px;z-index:1;float: left; left: 0px; top:172px; display:none; }
#nav-menu-icon { height:26px; width:152px; display:block; }
#menu-icon { opacity:0; position:relative; }

.gpnavigation { height: 35px; list-style: none; outline: none; font-size: 1em; line-height: 1.8; margin: 0; padding: 0; font-family:  Helvetica, Arial, sans-serif; }
.gpnavigation a { display: block; margin: 0; padding: 0; outline: 0; text-decoration: none; color: #000d42; font-size: 18px; *font-size: 17px; text-align: center; letter-spacing: 0em; }
.gpnavigation a:hover, .gpnavigation a[class*="_selected"] { color: #005496; }
.gpnavigation a[class*="_selected"] { cursor: default; }

#promoBannerContainer { position: relative; }
#infoBar{ width: 990px; margin-bottom: 4px; margin-top: 4px; }
#infoBarContentWrapper { margin-bottom: 10px; margin-top: 10px; width: 420px; position: relative; float: right; }
#topNavSearchWrapper { width: 200px; }
#topSearch { width:100%; overflow:hidden; }

/**** NAVIGATION GFOL STYLES *****/
#gfol-globalLogo { position: absolute; width: 152px; height:241px;display:none; float: left; left: 0px; top:0px;}
.gpnavigation-gfol { display:none; height: 35px; list-style: none; outline: none; font-size: 1em; line-height: 1.8; margin: 0; padding: 0; font-family:  Helvetica, Arial, sans-serif; }
.gpnavigation-gfol a { display: block; margin: 0; padding: 0; outline: 0; text-decoration: none; color: #000d42; font-size: 18px; *font-size: 17px; /*font-weight: 600;*/ text-align: center; letter-spacing: 0em; }
.gpnavigation-gfol a:hover, .gpnavigation-gfol a[class*="_selected"] { color: #000e42; }
.gpnavigation-gfol a[class*="_selected"] { cursor: default; }

#topNavGFOLContainer {display: none;}
#gfol-link {display: none;}


/**** FACETS STYLES *****/
.facets-container { color: #020D41; }
#sideNavFacetsHeader { width: 152px; background-color: #EEE; color: #020d41; padding-bottom: 10px; }
div.facet { border-bottom: none; }
div.facet .facetName { color: #020D41; }
#facet_color { display: none; }
#facet_price { display: none; }
div.facet_style ul li.style-option { width:152px; color: #333; font-size: 11px; }
div.facet .sprite-button { background-image: url("/Asset_Archive/GPWeb/content/0009/723/605/assets/facet_sprite_gol.png"); }
div.facet #size_facet_button { background-position: 0 -30px; height: 24px; width: 120px; }
#facet_header_item_count { font-size:11px; }
div.facet div.flyout-panel { padding: 0 0 10px 5px; }

/**** SIDE NAV CATEGORY STYLES *****/
#sideNavCategories { text-align:left; }
#sideNav ul.category { margin:0; }
#sideNav li.category { margin: 3px 0 0; }
#sideNav li.header { border:none; margin: 0px; padding: 0px; color: #000D42; font-size: 10px; font-weight: bold; margin-top: 10px; padding: 0; }
#sideNav li.categorySelected { padding:0px; margin:0px; }
#sideNav a.categorySelected:link, #sideNav a.categorySelected:visited, #sideNav a.categorySelected:active, #sideNav a.categorySelected:hover { margin: 0px; }
#sideNav li.header.firstHeader { padding: 0px; border:none; }


/*Category HTML banner */
#categoryNameHeader {background-color: #194783 !important;}

/* General Styles */
.floatLeft { float: left; }
.floatRight { float: right; }
.posRel { position: relative; }
.posAbs { position: absolute; }
.overHide { overflow: hidden; }

/*Search box styles */
input, select, button { color: #666666; font-family: "Lucida Grande",Verdana,Arial,Sans-serif; font-size: 9px; margin: 0; padding: 0;}

/* Begin New Search */
#divwrapper_topSearchText { background-color:#ffffff !important; border: 1px solid #bbbbbb; background: url(/Asset_Archive/GPWeb/content/0009/723/605/assets/magnifier_bitmap.png) no-repeat; background-repeat:no-repeat; background-size: 11px 11px; background-position: 7px 5px; width:195px; height:20px; }
#newInputBox_topSearchText { width:160px; outline: none; border: 0px; font-family: Arial,Helvetica,Sans-serif; font-size: 11px; margin-top:3px; margin-left:22px; margin-right:4px; margin-right:1px\8; float:left; background-color:#ffffff; }
#closeSearchButton_topSearchText { margin-top:5px; margin-top:1px\8; display:none; position: absolute; left: 180px; }
/* End New Search */

.header-quick-links { float:left; top: 5px; font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; position:relative; font-size: 8.5px; *font-size: 8px; /* ie7 */ }
.header-quick-links > li { display: inline-block; float: left; color: #000; }
.header-quick-links > li > a { font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; display: block; color: #000; }
.header-quick-links > .slash-divider { margin: 0 5px; }

.fixed { position: fixed !important; }

/* iPads (landscape) ----------- */
@media only screen 
and (min-device-width : 768px) 
and (max-device-width : 1024px) 
and (orientation : landscape) {
    /* Styles */
    .gpnavigation { display:none; }
}

/* iPads (portrait) ----------- */
@media only screen 
and (min-device-width : 768px) 
and (max-device-width : 1024px) 
and (orientation : portrait) {
    /* Styles */
    .gpnavigation { display:none; }
}

/* Desktops and laptops ----------- */
@media only screen 
and (max-width : 1250px) {
    /* Styles */
    .gpnavigation { display:none; }
}

@media only screen 
and (min-width : 1224px) {
    /* Styles */

}


/* Responsive bag CSS */
/* Media query breakpoints */
/*@smallMinWidth:       320px;  
@smallMaxWidth:     568px;
 
@mediumMinWidth:    (@smallMaxWidth + 1);
@mediumMaxWidth:    767px;
 
@largeMinWidth:     (@mediumMaxWidth + 1);
@largeMaxWidth:     1023px;
 
@xlargeMinWidth:    (@largeMaxWidth + 1);
@xlargeMaxWidth:    1280px;*/

/* WCD fixes of IT bugs */
/* Preview Bar fix */
.responsiveShoppingBag #previewBar input[type="radio"] { width:auto; height:auto }

/* Brand Button fix */
html.breakpoint-small .responsiveShoppingBag #universalBarTabs .universalBarBrandIcon-4, html.breakpoint-medium .responsiveShoppingBag #universalBarTabs .universalBarBrandIcon-4 { background: transparent url(/Asset_Archive/GPWeb/content/0009/723/605/assets/logo_spriteNew.png) no-repeat; }
html.breakpoint-small .responsiveShoppingBag .universalBarBrandMenu .universalBarBrandMenuIcon_4, html.breakpoint-medium .responsiveShoppingBag .universalBarBrandMenu .universalBarBrandMenuIcon_4 { background: transparent url(/Asset_Archive/GPWeb/content/0009/723/605/assets/logo_spriteNew.png) no-repeat; background-position: -109px -129px }
html.breakpoint-large .responsiveShoppingBag #universalBarTabs .universalBarBrandTab a div, html.breakpoint-xlarge .responsiveShoppingBag #universalBarTabs .universalBarBrandTab a div { background-image:url(/Asset_Archive/GPWeb/content/0009/723/605/assets/universal_bar_spritesNew.png) }

/* Shopping bag PL icon fix */
.svg .responsiveShoppingBag .smallBrandIcon-BG { background: transparent url(/Asset_Archive/GPWeb/content/0009/723/605/assets/badgeSmall.gif) no-repeat; }

/* ON Brand Button height/background color fix */
.responsiveShoppingBag #universalBarContainer #universalBarTabs { height:auto !important; }

/* Universal Bar marketing float fix */
.responsiveShoppingBag #universalMarketingContainerTop { float:left; overflow:visible }

/* Universal Bar BG image fix */
html.breakpoint-small .responsiveShoppingBag #universalBar .gidUniversalBar, html.breakpoint-medium .responsiveShoppingBag #universalBar .gidUniversalBar { background-image:url(/Asset_Archive/GPWeb/content/0009/723/605/assets/slice_full_universalBar.png); background-repeat:repeat-x; background-size:100% 100%; }
html.breakpoint-small .responsiveShoppingBag #universalBarTabs .selected div, html.breakpoint-medium .responsiveShoppingBag #universalBarTabs .selected div { height:77px }
html.breakpoint-large .responsiveShoppingBag #universalBar .gidUniversalBar, html.breakpoint-xlarge .responsiveShoppingBag #universalBar .gidUniversalBar { background:url(/Asset_Archive/GPWeb/content/0009/723/605/assets/universalBar_bkg.png) repeat-x }

/* Fix for inline bag container height */
.responsiveShoppingBag #universalInlineBagContainer { height:51px }
.responsiveShoppingBag #inlineBagPlaceHolder { height:21px }

/* Universal bar icon/shadow width fix */
html.breakpoint-large .responsiveShoppingBag .universalBarBrandTab, html.breakpoint-xlarge .responsiveShoppingBag .universalBarBrandTab { background:#fff }
html.breakpoint-large .responsiveShoppingBag .universalBarBrandTab div, html.breakpoint-xlarge .responsiveShoppingBag .universalBarBrandTab div { width:64px }

/* Gap logo selected in L/XL breakpoints */
html.breakpoint-large .responsiveShoppingBag .universalBarBrandTab .universalBarBrandIcon-1, html.breakpoint-xlarge .responsiveShoppingBag .universalBarBrandTab .universalBarBrandIcon-1 { width:69px; background-position:0px 0px }

/* Windy City EDFS postage stamp */
.responsiveShoppingBag #EDFS_container_seg_1 { width: 450px; height: 45px; margin-top: 3px; display:none }
.responsiveShoppingBag #EDFS_container_seg_2 { width: 450px; height: 45px; margin-top: 3px; display:none }
.responsiveShoppingBag #EDFS_container_seg_3 { width: 450px; height: 45px; margin-top: 3px; display:none }
.responsiveShoppingBag #EDFS_container_seg_4 { width: 450px; height: 45px; margin-top: 3px; display:none }
.responsiveShoppingBag #EDFS_container_seg_5 { width: 450px; height: 45px; margin-top: 3px; display:none }

.responsiveShoppingBag div#bodyContainer div#mainContent { position:static }
.responsiveShoppingBag #promoWrapper, .responsiveShoppingBag #promoDisruptor, .responsiveShoppingBag #promoDisruptor div, .responsiveShoppingBag #promoDisruptor p, .responsiveShoppingBag #promoBanner, .responsiveShoppingBag #promoBanner div, .responsiveShoppingBag #promoBanner p { box-sizing:content-box }

/* Small Breakpoint - all hidden */
    html.breakpoint-small .responsiveShoppingBag #topNav #universalTopNav { }
    html.breakpoint-small .responsiveShoppingBag #EDFS_container_seg_1 { width:126px; height:41px; margin:12px 0 0 12px; }
    html.breakpoint-small .responsiveShoppingBag #EDFS_container_seg_1 a { display:block; width:126px; height:41px; background-image:url(/Asset_Archive/BRWeb/content/0008/049/655/assets/1025_EDFS.png); background-size:100% 100%; }
    html.breakpoint-small .responsiveShoppingBag #EDFS_container_seg_1 a img { display:none }
    
    html.breakpoint-small .responsiveShoppingBag div#bodyContainer div#mainContent { margin-top:20px }
    @media all and (max-width: 450px) and (min-width: 320px) {
        html.breakpoint-small .responsiveShoppingBag #EDFS_container_seg_1 { width:100px; height:33px; margin:12px 0 0 8px; }
        html.breakpoint-small .responsiveShoppingBag #EDFS_container_seg_1 a { width:100px; height:33px }
    }

/* Medium Breakpoint */
    html.breakpoint-medium .responsiveShoppingBag #EDFS_container_seg_1 { width:126px; height:41px; margin:12px 0 0 12px; }
    html.breakpoint-medium .responsiveShoppingBag #EDFS_container_seg_1 a { display:block; width:126px; height:41px; background-image:url(/Asset_Archive/BRWeb/content/0008/049/655/assets/1025_EDFS.png); background-size:100% 100%; }
    html.breakpoint-medium .responsiveShoppingBag #EDFS_container_seg_1 a img { display:none }

    html.breakpoint-medium .responsiveShoppingBag #topNav #universalTopNav { display:block }
    html.breakpoint-medium .responsiveShoppingBag #topNav #infoBarContentWrapper { display:none }

/* Large Breakpoint */
    html.breakpoint-large .responsiveShoppingBag #topNav #universalTopNav { display:block }
    html.breakpoint-large .responsiveShoppingBag #topNav #infoBar { width:100%; box-sizing:content-box }
    html.breakpoint-large .responsiveShoppingBag #topNav #logoWrapper { width:auto }
    html.breakpoint-large .responsiveShoppingBag #topNav #infoBar .header-quick-links { padding:0 }
    html.breakpoint-large .responsiveShoppingBag #topNav #infoBar #topNavSearchWrapper { margin-top:8px }

    /* EDFS asset fix for mid-large- (768-1020) viewports */
    @media all and (max-width: 1020px) and (min-width: 768px) {
        html.breakpoint-large .responsiveShoppingBag #universalMarketingContainerTop { width:134px; height:58px }
        
        html.breakpoint-large .responsiveShoppingBag #EDFS_container_seg_1 { width:126px; height:41px; margin:6px 0 0 6px; }
        html.breakpoint-large .responsiveShoppingBag #EDFS_container_seg_1 a { display:block; width:126px; height:41px; background-image:url(/Asset_Archive/GPWeb/content/0009/723/605/assets/1025_EDFS.png); background-size:100% 100%; }
        html.breakpoint-large .responsiveShoppingBag #EDFS_container_seg_1 a img { display:none }

        html.breakpoint-large .responsiveShoppingBag #EDFS_container_seg_2 { display:none !important }
        html.breakpoint-large .responsiveShoppingBag #EDFS_container_seg_3 { display:none !important }
        html.breakpoint-large .responsiveShoppingBag #EDFS_container_seg_4 { display:none !important }
        html.breakpoint-large .responsiveShoppingBag #EDFS_container_seg_5 { display:none !important }
    }

/* X-Large Breakpoint */
    html.breakpoint-xlarge .responsiveShoppingBag #topNav #universalTopNav { display:block }
    html.breakpoint-xlarge .responsiveShoppingBag #topNav #infoBar { width:100%; box-sizing:content-box }
    html.breakpoint-xlarge .responsiveShoppingBag #topNav #infoBar .header-quick-links { padding:0 }
    html.breakpoint-xlarge .responsiveShoppingBag #topNav #infoBar #topNavSearchWrapper { margin-top:8px }

</style> 

<div id="promoBannerContainer">     
    <!-- BEGIN Content Item File: /content/0009/718/495/cn9718495.html -->
<div id="contentItemContainer10000395" class="9718495">


<section id="searchdexbannerGapUS">
<style type="text/css">
#topNav, #promoWrapper, #promoDisruptor, #promoDisruptor div, #promoDisruptor p, #promoBanner, #promoBanner div, #promoBanner p { box-sizing:content-box }

#promoWrapper {
  width: 100%;
  margin: 0px auto 0;
  position:relative;
  margin-top: -20px;
 /* display:none;*/
}

/*global banner stylings */ 
#promoBanner {
  z-index:1;
  margin: 0px auto 0;
  width:100%;
  height: 65px; /* height: background color for global banner */
}

#backgroundbannerPromo {
  width:100%;
  height:50px;
  position: absolute;
  z-index: -1;
  background-color: #000d42; /*#000d42*/
  
}
.promo-content {
      margin: 0 auto;
      width: 990px;
      height:60px;
      overflow:hidden;
}

.promo-content p {
  text-align:center; /* left for VV GapCash */
 /* padding-bottom: 10px;*/
  padding-top: 20px;
  color: #000;
  overflow:hidden;
  height: 23px;
  margin: 0;
  text-transform: uppercase;
}

/*disruptor stylings */
#promoDisruptor {
  height:200px; /*update this to match image height */
  width:100%;
  display:none;
  z-index:1;
  margin:auto;
  margin-top:0px;
}

#backgroundDisrPromo {
  height:187px; /*update this to for background color height */
  background-color: #000d42; /* background color #e2b2b9 */
  /*background-image: url('/Asset_Archive/GPWeb/content/0009/718/495/assets/040915_ALL_AprilDM_CARDNON_GBDISR_US_pattern.gif');*/ /*if background image */
  background-repeat:repeat-x;
  position: absolute;
  width: 100%;
  z-index: -1;

}

.disruptor_content {
    margin: 0 auto;
    width: 990px;
   /*background-color: #e2b2b9;*/  /* background color */
   /*background-image: url(/Asset_Archive/GPWeb/content/0009/718/495/assets/background_pattern.png);*/
   /*background-repeat:repeat-x; */
   height: 200px; /*height = disruptor + toggle assets*/
}


.promoDefault, .promoA, .GBpromoB, .promoC,.promoD, .promoDGM {
  display:none;
}


html.breakpoint-xlarge .responsiveShoppingBag #topNav { margin-top:0px;}
html.breakpoint-xlarge .responsiveShoppingBag #promoWrapper { margin-top:-5px;}
html.breakpoint-xlarge .responsiveShoppingBag #promoBanner {height:auto;background-color:#000d42;}
html.breakpoint-xlarge .responsiveShoppingBag .promo-content {height:auto;width:100%;background-color: none;} 
html.breakpoint-xlarge .responsiveShoppingBag .promo-content p {height:100%;width:80%; margin:0 auto;}
html.breakpoint-xlarge .responsiveShoppingBag #toggle-down img {width:100%;} 

html.breakpoint-large .responsiveShoppingBag #topNav { margin-top:0px;}
html.breakpoint-large .responsiveShoppingBag #promoWrapper { margin-top:-5px;}
html.breakpoint-large .responsiveShoppingBag #promoBanner {height:auto;}
html.breakpoint-large .responsiveShoppingBag .promo-content {height:auto;width:100%;} 
html.breakpoint-large .responsiveShoppingBag .promo-content p {height:100%;width:80%; margin:0 auto;}
html.breakpoint-large .responsiveShoppingBag #toggle-down img {width:100%;} 

html.breakpoint-medium .responsiveShoppingBag #topNav { margin-top:0px;}
html.breakpoint-medium .responsiveShoppingBag #promoWrapper { margin-top:-5px;}
html.breakpoint-medium .responsiveShoppingBag #promoBanner {height:56px;font-size: 12px;}
html.breakpoint-medium .responsiveShoppingBag .promo-content {width:100%;background-color: none;} 
html.breakpoint-medium .responsiveShoppingBag .promo-content p {padding-top:10px;height:100%;width:100%;}
html.breakpoint-medium .responsiveShoppingBag #topNavBannerContainer { display:none; }

html.breakpoint-small .responsiveShoppingBag #topNavBannerContainer { display:none; }
html.breakpoint-small .responsiveShoppingBag #universalTopNavLayout { display:none; }


/*override for Gap Cash VV */
/*.promo-content p {  text-align:left; }*/

.offersOnlyBannerClass {position: absolute;z-index: 60; }
    
.offersAndRewardsBannerClass {position: absolute;z-index: 60;  }
    
.rewardsOnlyBannerClass {position: absolute;z-index: 60; }

</style>

<div id="promoWrapper">
  <div id="promoDisruptor">
    <div id="backgroundDisrPromo"></div>
      <div class="disruptor_content" style="">
        <div class="promoDefault" style="height: 180px; overflow: hidden;">
          <img id="hp-promo" src="/Asset_Archive/GPWeb/content/0009/718/495/assets/050615_ALL_DM_CardNon_DISR_US.gif" alt="Gap" usemap="#disruptorMapA">
            <map name="disruptorMapA">
              <area shape="rect" coords="785,139,979,167" href="javascript:void(0);" alt="details and exclusions" class="PPC_popup">
              <area shape="rect" coords="1,8,39,44" href="javascript:void(0);" alt="close the distruptor" class="toggle-up">                           
              <area shape="rect" coords="817,86,950,129" href="https://eapply.gap.com/eapplygen2/load.do?cHash=711671167&amp;subActionId=1000&amp;cmpid=CR_APL_BT_RHT&amp;siteCode=CR_APL_BT_RHT" target="_blank" alt="apply now A">
            </map>
        </div>
        <div class="GBpromoB" style="height: 180px; overflow: hidden;">
          <img src="/Asset_Archive/GPWeb/content/0009/718/495/assets/050615_ALL_DM_Card_DISR_US.gif" usemap="#disruptorMapB">
            <map name="disruptorMapB">
              <area shape="rect" coords="677,119,821,146" href="javascript:void(0);" alt="details and exclusions" class="PPC_popup">
              <area shape="rect" coords="1,8,39,44" href="javascript:void(0);" alt="close the distruptor" class="toggle-up"> 
            </map>
        </div>
    </div>
  </div>
  <div id="promoBanner"> 
     <div id="backgroundbannerPromo" class="promoDefault" style="height:60px; overflow:hidden;"></div>
     <div id="backgroundbannerPromo" class="GBpromoB"></div>
      <div class="promo-content">
          <img src="/Asset_Archive/GPWeb/content/0009/718/495/assets/050615_ALL_DM_CardNon_GB_US.gif" usemap="#GBMapDefault" alt="Global banner" class="promoDefault">
           <map name="GBMapDefault">
               <area shape="rect" coords="502,23,657,53" href="javascript:void(0);" alt="details and exclusions" class="PPC_popup">
               <area shape="rect" coords="2,6,27,46" href="javascript:void(0);" alt="open the distruptor" class="down-button">  
          </map>
          <img src="/Asset_Archive/GPWeb/content/0009/718/495/assets/050615_ALL_DM_Card_GB_US.gif" usemap="#GBMapPromoB" alt="Global banner" class="GBpromoB">
           <map name="GBMapPromoB">
               <area shape="rect" coords="585,10,740,40" href="javascript:void(0);" alt="details and exclusions" class="PPC_popup">
               <area shape="rect" coords="2,6,27,46" href="javascript:void(0);" alt="open the distruptor" class="down-button">  
            </map>
      </div>
    
  </div>
</div>

<script>
function adjustGBWidth(elementsArray) {
  // get the width of the browser window viewport
  var viewport = document.viewport.getDimensions();
  var width = viewport.width;
  var elementsArrayLength = elementsArray.length;


  if (width >=1000) {

    // loop through the different elements
    // and set their width to the viewport width
    // then we offset the left position
    for(var i=0; i < elementsArrayLength; i++) {
      $(elementsArray[i]).setStyle({
        width: width + "px",
        position: "relative",
        marginLeft: - (((width - 988)/2) - 1) + "px",
        overflow: "hidden"
      });
    }
  }
}

//span the full width of the window
var elementsToAdjustBannerWidthArray = ["promoBanner","promoDisruptor"];

Event.observe(window, 'resize', function() {
	if( window["responsiveBagAbTestOn"] != null && ! responsiveBagAbTestOn ) {
	  adjustGBWidth(elementsToAdjustBannerWidthArray);
	}
});

jQuery(document).ready(function($) {
	if( window["responsiveBagAbTestOn"] != null && ! responsiveBagAbTestOn ) {
	  adjustGBWidth(elementsToAdjustBannerWidthArray);
	}
});


</script>
<script type="text/javascript">



//Utility
if(typeof Object.create !== 'function'){
  Object.create = function(obj) {
    function F() {} ;
    F.prototype = obj;
    return new F();
  };
}

(function($, window, document, undefined ){
  var GlobalBannerDisruptor = {
    init: function(options, elem) {
      var self = this;
      self.elem = elem;
      self.$elem = $(elem); //jquery version of element

      self.options = $.extend( {}, $.fn.promo.options, options);// whatever user passes in will overwrite defaults
      
      //AB mode version
      // console.log("ABmode is " + self.options.modeVersionID);
      self.$modeVersionObj= $('.'+ self.options.modeVersionID);
      self.$modeVersionObj.show();
  
      //setup banner and disruptor obj
       self.$disruptorObj = $('#'+ self.options.disruptorID);
       self.$bannerObj = $('#'+ self.options.bannerID);
      
      var hasSeenDisruptor = gidLib.getCookieVar('mktGlobalSession',self.options.cookieName); //gets cookie
      //var hasSeenDisruptor = 0; 

      if(hasSeenDisruptor != "1") {
        self.autoDisrupt();
      }

      self.disruptOn();  

      if (self.options.disableToggle) {
        //hide toggle
        //toggle down imag display none, .promo-content background-color none
        $('.down-button').hide();
        $('.promo-content').css({ "background" : "none"});

      }

      //pop-up
      self.PPCpopUpOpen();  

    },

    autoDisrupt: function() {
      var self = this;

      var timerID = setTimeout(function() {
          self.disrupt();
      }, 1500);
    
      var timerID = setTimeout(function() {
          self.close();
      }, self.options.autoHideTime);

      //set cookie
      gidLib.setCookieVar("mktGlobalSession", self.options.cookieName, "1");
      wcdBrandDisrupterDidFire = true;

    }, 

    autoHide: function() {

    },

    disrupt: function() {

      var self = this;
      //self.$disruptorObj = $('#'+ self.options.disruptorID);
      //self.$bannerObj = $('#'+ self.options.bannerID);

       var disableDisrupt = self.options.disableDisruptor;

       if (disableDisrupt == false) {
          self.$disruptorObj.slideDown('fast');
          self.$bannerObj.slideUp('fast');
        }

    },

    disruptOn: function() {
      var self = this;
      self.$elem.on({
        click: function(){
          self.disrupt();
        }
        // , mouseleave: function() {
        //       self.close();
        //   }
        });
    },

    close: function(){
      var self = this;
      self.$disruptorObj.slideUp('fast');
      self.$bannerObj.slideDown('fast');
    },

    PPCpopUpSettings: function() {
            var self = this;
           
            jbox.boxIt({
                width: self.options.ppcIDwidth,
                height: self.options.ppcIDheight,
                url: self.options.ppcIDURL
            });
    },
    
    PPCpopUpOpen: function() {
            var self = this;
            self.options.openPopUpID.on('click', function(){
                self.PPCpopUpSettings();
            });
    }
  };

  $.fn.promo = function(options) {
    return this.each(function(){
      var globalBannerDisruptor = Object.create(GlobalBannerDisruptor);
      globalBannerDisruptor.init(options, this);

    });
  };


  $.fn.promo.options = {
    containerID: 'promoContainer',
    bannerID: 'promoBanner',
    disruptorID : 'promoDisruptor',
    cookieName: 'gb_disruptor',
    disruptType: 'click',   //'hover' or 'click'
    modeVersionID: 'promoDefault', //AB version: promoA, promoB, etc
    openPopUpID: $('.PPC_popup'), //jQuery obj to activate jbox
    ppcIDURL: '/buy/promo_legal_details.do?promoId=XXXXX',  //jbox URL
    ppcIDwidth: 500, //jbox width
    ppcIDheight: 500, //jbox height
    disableDisruptor: false,
    disableToggle: false,
    autoHideTime: 7000
  };

})(jQuery, window, document);

</script>

<script type="text/javascript">
/*set up Global Banner */

jQuery(function($) {
 
//hide global banner 
//from HP
// if ((location.pathname == "/browse/home.do") || (location.pathname == "/")) {
        
//         //suppress GB on HP
//   $('#contentItemContainer10000395').css('display','none');

//     }

//tap/click to close disruptor
$('.toggle-up').click(function(WCD_tapToCloseDisruptor) {
  WCD_tapToCloseDisruptor.stopPropagation();
  $('#promoDisruptor').slideUp('fast');
  $('#promoBanner').slideDown('fast');
});

//******** VOLUME CONTROL **********
  //VOLUME CONTROL
  //VolControlSegA, VolControlSegB, VolControlSegC
  //VolControlSegA , 20% of traffic at 45% off  
  //VolControlSegB,  50% of traffic at 40% off
  //VolControlSegC,  30% of traffic at 30% off  

/*  if (gbannerSegment == "VolControlSegA") {  

    //console.info("segA " + gbannerSegment);
    // if in responsive shopping bag, disable disruptor
    if( window["responsiveBagAbTestOn"] != null && responsiveBagAbTestOn ) {

      //disable disruptor in shopping bag
      jQuery('#promoWrapper').promo({
          //options here
          disableDisruptor: true,
          modeVersionID: 'promoA', //AB version: promoA, promoB, etc
          ppcIDURL: '/buy/promo_legal_details.do?promoId=97721'  //jbox URL

      });

      //toggle down imag display none
        $('#down-button').hide();

     } else {

        //not in shopping bag
        jQuery('#promoWrapper').promo({
          //options here
          modeVersionID: 'promoA', //AB version: promoA, promoB, etc
          ppcIDURL: '/buy/promo_legal_details.do?promoId=97721'  //jbox URL

         });
     }

  } else if (gbannerSegment == "VolControlSegB") {  

    //console.info("segB " + gbannerSegment);
    // if in responsive shopping bag, disable disruptor
    if( window["responsiveBagAbTestOn"] != null && responsiveBagAbTestOn ) {

      //disable disruptor in shopping bag
      jQuery('#promoWrapper').promo({
          //options here
          disableDisruptor: true,
          modeVersionID: 'promoB', //AB version: promoA, promoB, etc
          ppcIDURL: '/buy/promo_legal_details.do?promoId=97719'  //jbox URL

      });

      //toggle down imag display none
        $('#down-button').hide();

     } else {

        //not in shopping bag
        jQuery('#promoWrapper').promo({
          //options here
          modeVersionID: 'promoB', //AB version: promoA, promoB, etc
          ppcIDURL: '/buy/promo_legal_details.do?promoId=97719'  //jbox URL

         });
     }

  } else if (gbannerSegment == "VolControlSegC") {  

    //console.info("segC " + gbannerSegment);
    // if in responsive shopping bag, disable disruptor
    if( window["responsiveBagAbTestOn"] != null && responsiveBagAbTestOn ) {

      //disable disruptor in shopping bag
      jQuery('#promoWrapper').promo({
          //options here
          disableDisruptor: true,
          modeVersionID: 'promoC', //AB version: promoA, promoB, etc
          ppcIDURL: '/buy/promo_legal_details.do?promoId=97723'  //jbox URL

      });

      //toggle down imag display none
        $('#down-button').hide();

     } else {

        //not in shopping bag
        jQuery('#promoWrapper').promo({
          //options here
          modeVersionID: 'promoC', //AB version: promoA, promoB, etc
          ppcIDURL: '/buy/promo_legal_details.do?promoId=97723'  //jbox URL

         });
     }

  } else {  

    //console.info("segControl " + gbannerSegment);
    // if in responsive shopping bag, disable disruptor
    if( window["responsiveBagAbTestOn"] != null && responsiveBagAbTestOn ) {

      //disable disruptor in shopping bag
      jQuery('#promoWrapper').promo({
          //options here
          disableDisruptor: true,
          modeVersionID: 'promoB', //AB version: promoA, promoB, etc
          ppcIDURL: '/buy/promo_legal_details.do?promoId=97719'  //jbox URL

      });

      //toggle down imag display none
        $('#down-button').hide();

     } else {

        //not in shopping bag
        jQuery('#promoWrapper').promo({
          //options here
          modeVersionID: 'promoB', //AB version: promoA, promoB, etc
          ppcIDURL: '/buy/promo_legal_details.do?promoId=97719'  //jbox URL

         });
     }

  } 
*/
//******** END VOLUME CONTROL **********//



}); 
</script>
<script type="text/javascript">
//*********Timed Marketing FUNCTIONS
/* var showTimedContent = {
   init: function() {

     myTimeURL = window.location.href;
     var currentDate = new Date(personalizationService.model.personalizationData.personalizationInfoV1.userContext.viewDate);
     var myStringURL = window.location.href;
     var myVarsURL = myStringURL.toQueryParams();
     if (myVarsURL.myUnixTimeStamp > 0){
       myTimeEpoch = myVarsURL.myUnixTimeStamp;
     }
     if ( getQuerystringParam('myTime') != "" ){   // myTime var from URL. format: http://www.gol.wip.gidapps.com/browse/info.do?cid=92594&mytime=04/23/2013 8:00 (in military time)
       var myTime = getQuerystringParam('myTime');
       myTimeEpoch = Date.parse( myTime );
     }else{
       myTimeEpoch = Date.parse( currentDate );
     }
      
     var timeTimestamp = myTimeEpoch;

     if (timeTimestamp <= 1408388400000){  // Show AM PPC: 12am ET - Noon PST (3PM EST) 

        if( window["responsiveBagAbTestOn"] != null && responsiveBagAbTestOn ) {
            jQuery('#promoWrapper').promo({
              //options here
              ppcIDURL: '/buy/promo_legal_details.do?promoId=96883',  //jbox URL
              disableDisruptor: true,
              modeVersionID: 'promoDefault' //AB version: promoA, promoB, etc
            });

         } else {
            jQuery('#promoWrapper').promo({
              //options here
              ppcIDURL: '/buy/promo_legal_details.do?promoId=96883',  //jbox URL
              disableDisruptor: false,
              modeVersionID: 'promoDefault' //AB version: promoA, promoB, etc
            });
        
         }
     }
    
     else {   // Show PM PPC - after 12:01 PM PST

        if( window["responsiveBagAbTestOn"] != null && responsiveBagAbTestOn ) { 

          jQuery('#promoWrapper').promo({
            //options here
            ppcIDURL: '/buy/promo_legal_details.do?promoId=96887',  //jbox URL
            disableDisruptor: true, //disable disruptor
            modeVersionID: 'promoDefault' //AB version: promoA, promoB, etc
          });
        } else {

          jQuery('#promoWrapper').promo({
            //options here
            ppcIDURL: '/buy/promo_legal_details.do?promoId=96887',  //jbox URL
            disableDisruptor: false, //disable disruptor
            modeVersionID: 'promoDefault' //AB version: promoA, promoB, etc
          });
        }

     }

   }
  }

document.observe('personalizationData:ready', function() {
   if( personalizationService.model.personalizationData.personalizationInfoV1.userContext.viewDate ) {
     showTimedContent.init();
  }
}); 
*/

//***********END TIME CONTENT 
  </script>

<script type="text/javascript">
document.observe('personalizationData:ready', function() {

var ppcIDVariable;
var promoCopy;
ppcIDVariable = '/Asset_Archive/GPWeb/content/0009/718/495/assets/legal.html';
promoCopy = 'promoDefault';

showPromoB = function() {
          // jQuery('#toggle-down img').attr('src', '/Asset_Archive/GPWeb/content/0009/718/495/assets/22315_toggle_down.png');
          // jQuery('#toggle-up img').attr('src', '/Asset_Archive/GPWeb/content/0009/718/495/assets/22315_toggle_up.png');
          // jQuery('#backgroundDisrPromo').css('background-image', 'url(/Asset_Archive/GPWeb/content/0009/718/495/assets/022415_ALL_XXOffPurch_GB_DISR_US_pattern.gif)');
          jQuery('.GBpromoB').css('display','block');
          // jQuery('#backgroundbannerPromo').css('background','#64d3a9');
          ppcIDVariable = '/buy/promo_legal_details.do?promoId=110330';
          promoCopy = 'GBpromoB';
};
			//CHECK IF CARDHOLDER 

			// console.info(personalizationService.model.personalizationData.personalizationInfoV1.userContext.isLoggedInUser);
			if(personalizationService.model.personalizationData.personalizationInfoV1.userContext.isLoggedInUser === 'true') {
				var isCardHolder = personalizationService.model.personalizationData.personalizationInfoV1.customerAttributes.GECardHolder;
				console.info('is a cardholder = ' +isCardHolder);
				
				if(isCardHolder === 'true') {
					showPromoB();
          // console.log("show promo B")
				}
			}

			//CHECK IF FROM DIRECT MAILING

		    if(window.location.href.indexOf("emailGB=a") > -1) {
          showPromoB();
		    }


// console.info(ppcIDVariable);

  // DEFAULT if in responsive shopping bag, disable disruptor DEFAULT

  if( window["responsiveBagAbTestOn"] != null && responsiveBagAbTestOn ) {
      //disable disruptor in shopping bag
      jQuery('#promoWrapper').promo({
          //options here
          disableDisruptor: true,
          modeVersionID: promoCopy, //AB version: promoA, promoB, etc
          ppcIDURL: ppcIDVariable  //jbox URL
      });

      
        //toggle down imag display none
        jQuery('.down-button').hide();

  } else {
        //not in shopping bag
        jQuery('#promoWrapper').promo({
          //options here
          disableDisruptor: false,
          modeVersionID: promoCopy, //AB version: promoA, promoB, etc
          ppcIDURL: ppcIDVariable  //jbox URL
         });

        //toggle down imag display none
       // $('#down-button').hide();
  }
});
</script>

</section>


</div>
<!-- END Content Item File: /content/0009/718/495/cn9718495.html -->

</div> 
<div id="infoBar" class="clearfix">
    <div id="logoWrapper">
        <a href="/"><img id="miniLogo" src="/Asset_Archive/GPWeb/content/0009/723/605/assets/logo_sm_full.gif" alt="Gap"></a><a href="javascript:void(0);"><img id="menuIcon" src="/Asset_Archive/GPWeb/content/0009/723/605/assets/fullwidth_menu_off.gif" alt="menu icon"></a>
    </div>
    <div id="infoBarContentWrapper">
        <ul class="header-quick-links">
            <li><a href="/customerService/storeLocator.do?mlink=39813,8846349,StoreLocator&amp;clink=8846349">FIND A STORE</a></li>
            <li class="slash-divider">/</li>
            <li><a href="/browse/info.do?cid=46079&amp;mlink=39813,8846349,CreditCard&amp;clink=8846349">CREDIT CARD</a></li>
            <li class="slash-divider">/</li>
            <li><a href="/customerService/info.do?cid=2116&amp;mlink=39813,8846349,GiftCard&amp;clink=8846349">GIFTCARD</a></li>
        </ul>

        <div id="topNavSearchWrapper" class="floatRight">
            <!-- begin New Search -->
            <div id="topSearch">
                <div id="divwrapper_topSearchText" class="posRel">
                    <form id="topSearchForm" name="topSearchForm" action="/browse/search.do" method="get" onsubmit="javascript:return objSearchBox.checkInput(this);">  
                         <label for="newInputBox_topSearchText" style="display:none;">search</label>
						 <input id="newInputBox_topSearchText" type="text" maxlength="" onclick="detectSearch();" onkeyup="objSearchBox.checkSearchText(this);closeSearchButtonShow_topSearchText();detectNoText();" value="" name="searchText">
                    </form>
                    <div id="closeSearchButton_topSearchText"><a href="javascript:void(0);" onclick="closeSearchButtonHideReset_topSearchText();"><img src="/Asset_Archive/GPWeb/content/0009/723/605/assets/close_bitmap.png" id="closeSearchButton" alt="Close Button"></a></div>
                </div>
            </div><!-- topSearch-->
            <!-- end New Search -->                 
         </div><!--end topNavSearchWrapper-->

    </div><!-- end infoBarContentWrapper-->
</div> <!--end info bar -->

<div id="topNavMobileContainer">        
    
</div>
 
<div id="globalLogo"> 
    <a href="/">     
    <img id="" src="/Asset_Archive/GPWeb/content/0009/723/605/assets/logo_152.gif" alt="gap">
    </a>
</div>  
<div id="gfol-globalLogo"> 
    <a href="/browse/info.do?cid=48620&amp;mlink=39813,8846349,GFOL_MainNav_HP&amp;clink=8846349">     
    <img id="" src="/Asset_Archive/GPWeb/content/0009/723/605/assets/hp_gfol_logo.gif" alt="gap">
    </a>
</div>  
<div id="mainNavGOL">
    <div id="nav-menu-icon">
        <div id="menu-icon"><a href="javascript:void(0);"><img id="menu-icon-image" style="display:block;height:26px;width:152px;" src="/Asset_Archive/GPWeb/content/0009/723/605/assets/GFS_DP_BLUEMENU.gif" alt="menu"></a></div>
    </div>
    <ul class="gpnavigation">
        <li><a id="division5643" class="division5643_notSelected" href="/browse/subDivision.do?cid=5646">Women</a></li>
        <li><a id="division83062" class="division83062_notSelected" href="/browse/subDivision.do?cid=83062">GapFit</a></li>
        <li><a id="division5997" class="division5997_notSelected" href="/browse/division.do?cid=5997">Maternity</a></li>
        <li><a id="division5063" class="division5063_notSelected" href="/browse/subDivision.do?cid=5065">Men</a></li>
        <li><a id="division6256" class="division6256_notSelected" href="/browse/subDivision.do?cid=6256">Girls</a></li>
        <li><a id="division6172" class="division6172_notSelected" href="/browse/subDivision.do?cid=6172">Boys</a></li>
        <li><a id="division6413" class="division6413_notSelected" href="/browse/subDivision.do?cid=6413">Toddler</a></li>
        <li><a id="division6487" class="division6487_notSelected" href="/browse/subDivision.do?cid=6487">Baby</a>
        </li><li id="gfol-link" style="line-height: 2.8"><a id="division48620" class="gfol_division" href="/browse/info.do?cid=48620&amp;mlink=39813,8846349,MainNav_GFOLHP&amp;clink=8846349">Gap Factory</a>
    </li></ul>

    <ul class="gpnavigation-gfol">
        <li><a id="division1014714" class="division1014714_notSelected" href="/browse/division.do?cid=1014714&amp;mlink=39813,9723605,GFOL_MainNav_W&amp;clink=9723605">Women</a></li>
        <li><a id="division1014823" class="division1014823_notSelected" href="/browse/division.do?cid=1014823&amp;mlink=39813,9723605,GFOL_MainNav_M&amp;clink=9723605">Men</a></li>
        <li><a id="division1015086" class="division1015086_notSelected" href="/browse/division.do?cid=1015086&amp;mlink=39813,9723605,GFOL_MainNav_Kids&amp;clink=9723605">Kids</a></li>
        <li><a id="division1015088" class="division1015088_notSelected" href="/browse/division.do?cid=1015088&amp;mlink=39813,9723605,GFOL_MainNav_TD&amp;clink=9723605">Toddler</a>
        </li><li><a id="division1015088" class="division1015088_notSelected" href="/browse/division.do?cid=1015088&amp;mlink=39813,9723605,GFOL_MainNav_Baby&amp;clink=9723605">Baby</a>
        <!--li><a id="division101671" class="deals_division" href="/browse/info.do?cid=1016171&mlink=39813,9723605,GFOL_MainNav_Deals&clink=9723605">Deals</a-->
        </li><li style="line-height: 2.8"><a id="division5058" class="gap_division" href="/browse/home.do?cid=5058&amp;mlink=39813,9723605,GFOL_MainNav_GOLHP&amp;clink=9723605">Gap.com</a>
    </li></ul>

</div>
<div id="topNavBottomBannerContainer" class="clearfix">
    <!--Container 2 -->
    <!--Container 3 -->
    <!--Container 4 --><!-- BEGIN Content Item File: /content/0009/735/263/cn9735263.html -->
<div id="contentItemContainer10000392" class="9735263">

<style type="text/css">
/* GAPCASH STICKER CSS */
#gap_cash_hp_container {
    display: none;
    position: fixed;
    width: 225px;
    height: 92px;
    margin-left: 5px;
    /*top: 454px;*/
    right:0px;
    bottom:0px;
    z-index: 99;
}

.GapCashImage {
    display:none; 
    position: absolute; 
    top: 0; 
    left: 0;
}

#gap_cash_hp_off {
    z-index: 2;
}

#gap_cash_hp_on {
    z-index: 1;
}
</style>



<!-- GAPCASH Sticker -->
<div id="gap_cash_hp_container">
    <div id="gap_cash_hp_img_container">
        <img id="gap_cash_hp_off" class="GapCashImage" src="/Asset_Archive/GPWeb/content/0009/735/263/assets/050615_ALL_SpringSale_CornerSticky_Dsktp_US.png" alt="extra 25% off sale styles">
        
        <img id="gap_cash_hp_on" class="GapCashImage" src="/Asset_Archive/GPWeb/content/0009/735/263/assets/050615_ALL_SpringSale_CornerSticky_Dsktp_US_close.png" alt="extra 25% off sale styles" usemap="#GAPCASH_Map">
        
        <map name="GAPCASH_Map">
            <area id="hide_gcc" shape="poly" coords="177,6,238,24,240,8,192,-7" href="javascript:void(0);" alt="Close">
            <!--area id="open_popupManual" shape="circle" coords="69,81,64" href="/browse/info.do?cid=99996" target="_blank" alt="GAPCASH info" -->
            <area id="open_popup" shape="rect" coords="2,18,223,97" href="javascript:void(0);" alt="details">
            <!-- <area id="openNewTab" shape="circle" coords="69,81,64" href="/browse/category.do?cid=8792&mlink=5058,9285320,Sticker_GiftCard_W&clink=9285320" target="_blank" alt="Gift Card"> -->
        </map>

    </div>
</div>


<script type="text/javascript">
//Utility
if (typeof Object.create !== 'function') {
    Object.create = function( obj ) {
        function F(){};
        F.prototype = obj;
        return new F();
    };
}

(function($, window, document, undefined){
    var FixedObject = {
        init: function(options, elem){
            
            var self = this;
            self.$elem = $(elem);//jQuery Version of element
            self.options = $.extend( {}, $.fn.fixedObj.options, options);//sets default options and user can overide
            self.$window = $(window);

            var hasClosedSticker = gidLib.getCookieVar('mktGlobalSession',self.options.cookieName); //sets cookie
            fixedObjVisible = true; //set this variable 


            //checks to see if user has closed the sticker
            if(hasClosedSticker != "1") { 
                self.fixedObjNewPosition();
                self.windowResize();
                self.windowScroll();
            }

        },

        windowResize: function() {
            var self = this;
            self.$window.on('resize', function(){
                self.fixedObjNewPosition();
            });
        },

        windowScroll: function() {
            var self = this;

            self.$window.on('scroll', function(){
                $elementVisible = $('#footer').isOnScreen();//Obj were checking to see if in viewport
                if($elementVisible == true && fixedObjVisible == true) {
                    self.fixedObjFadeOut();
                    fixedObjVisible = false;
                }else if($elementVisible == false) {
                    if(fixedObjVisible == false) {
                        self.$elem.fadeIn();
                        fixedObjVisible = true;
                    }
                }
            }); 
        },

        fixedObjNewPosition: function() {
            var self = this;
            self.elemWidth = self.$elem.width()/2;//gets half the width of fixed obj
            // self.elemNewPosition = self.options.parentObj.offset().left + 920 - self.elemWidth;//new the position of the fixed as a number
            // self.$elem.css('left', self.elemNewPosition+'px'); //sets css position for fixed obj
            self.fixedObj1FadeIn();
        },

        fixedObjFadeOut: function() {
            var self = this;
            self.$elem.fadeOut();
        },

        fixedObj1FadeIn: function() {
            var self = this;
            self.$elem.fadeIn();
            self.options.fixedObj1.fadeIn();
            self.fixedObjHover();
        },

        fixedObjMouseEnter: function() {
            var self = this;
            self.options.fixedObj1.hide();
            self.options.fixedObj2.show();
        },

        fixedObjMouseLeave: function() {
            var self = this;
            self.options.fixedObj1.show();
            self.options.fixedObj2.hide();
        },

        setCookie: function() {
            var self = this;
            gidLib.setCookieVar('mktGlobalSession',self.options.cookieName, "1");
        },

        fixedObjClose: function() {
            var self = this;
            self.options.closeID.on('click', function(){
                self.fixedObjFadeOut();
                self.setCookie();
                fixedObjVisible = 'null';
            });
        },      

        popUpSettings: function() {
            var self = this;
            jbox.boxIt({
                width: self.options.ppcWidth,
                height: self.options.ppcHeight,
                url: self.options.ppcURL
            });
        },

        popUpEvar: function() {
            var self = this;
            s.linkTrackVars = 'eVar6';
            s.eVar6 = self.options.popUpEvar;
            s.tl(this,'o',s.eVar6); 
        },

        popUpOpen: function() {
            var self = this;
            self.options.openPopUpID.on('click', function(){
                self.popUpSettings();
                self.popUpEvar();
            });
        },

        fixedObjHover: function() {
            var self = this;
            self.$elem.on({
                mouseenter: function () {
                    self.popUpOpen();
                    self.fixedObjMouseEnter();
                    self.fixedObjClose();
                },
                mouseleave: function () {
                    self.fixedObjMouseLeave();
                }
            });
        }

    };

    $.fn.fixedObj = function(options){
        return this.each(function(){
            var fixedObject = Object.create( FixedObject );
            fixedObject.init( options, this );
        });
    };

    $.fn.fixedObj.options = {
        parentObj: $('#bodyContainer'),
        fixedObj1: $('#gap_cash_hp_off'),
        fixedObj2: $('#gap_cash_hp_on'),
        closeID: $('#hide_gcc'), //jQuery obj to hide fixed obj
        openPopUpID: $('#open_popup'), //jQuery obj to activate jbox
        popUpEvar: 'GapCash_LegalPop', //evar for when user clicks to open popup
        //ppcURL: '/buy/promo_legal_details.do?promoId=98264', //jbox URL
        ppcURL: '/buy/promo_legal_details.do?promoId=119321', //jbox URL/buy/promo_legal_details.do?promoId=98264
        ppcWidth: 510, //jbox width
        ppcHeight: 535, //jbox height
        cookieName: 'hasClosedGapCashSticker' //cookie name
    };
})(jQuery, window, document);



jQuery(function($) {

/*var stickerPromoUrls = [
'/browse/division.do',
'/browse/category.do'
];
var stickerPromoCID = [
'5646', //women
'12021', //gapfit
'83062', //body
'5997', //mat
'5065', //men
'6256', //g
'6172', //b
'6413', //toddler
'6487' //baby
];*/


//http://upshots.org/javascript/jquery-test-if-element-is-in-viewport-visible-on-screen
//This function checks to see if called object is at all visible in the view port
//Example of how to check an elemet $('Obj').isOnScreen();
//if console.log object it will return true/false
$.fn.isOnScreen = function(){
     
    var win = $(window);
     
    var viewport = {
        top : win.scrollTop(),
        left : win.scrollLeft()
    };
    viewport.right = viewport.left + win.width();
    viewport.bottom = viewport.top + win.height();
     
    var bounds = this.offset();
    bounds.right = bounds.left + this.outerWidth();
    bounds.bottom = bounds.top + this.outerHeight();
     
    return (!(viewport.right < bounds.left || viewport.left > bounds.right || viewport.bottom < bounds.top || viewport.top > bounds.bottom));
     
};


var factoryExcludeCID = [
'48620', //factory landing page
'1014714', //women
'1014823', //men
'1015086', //kids
'1015088', //baby
'99996' // For Gap Thank you Landing page fix
];

var gfolCID = gidLib.getQuerystringParam('cid');

    //if (navigator.userAgent.indexOf("iPad") == -1) {
	    //if ((location.pathname == "/browse/category.do") || (location.pathname == "/browse/subDivision.do") || (location.pathname == "/browse/division.do")) {
        // if (((location.pathname == "/browse/category.do") || (location.pathname == "/browse/subDivision.do") || (location.pathname == "/browse/division.do"))&&(location.pathname != "/browse/info.do")) {   

        // if (((location.pathname == "/browse/home.do") || (omni.strCurrentPageName == "gp:browse:Home") || (location.pathname == "/browse/category.do") || (location.pathname == "/browse/subDivision.do") || (location.pathname == "/browse/division.do"))&&(location.pathname != "/browse/info.do")) {

        //     //Exclude Gap Factory
        //     if (jQuery.inArray( gfolCID, factoryExcludeCID ) > -1 || omni.strCurrentPageName.indexOf("Factory") > 0 ){
        //         //exclude codefrom Factory
        //         //console.info ("no code");
        //     }  else {
        //         //add sticker
        //         $('#gap_cash_hp_container').fixedObj();
        //     }
		
        //     //$('#gap_cash_hp_container').fixedObj();
        // }

        // if (((location.pathname == "/browse/home.do") || (omni.strCurrentPageName == "gp:browse:Home") || (location.pathname == "/browse/category.do") || (location.pathname == "/browse/subDivision.do") || (location.pathname == "/browse/division.do"))&&(location.pathname != "/browse/info.do")) {
         if ((location.pathname == "/browse/home.do") || (omni.strCurrentPageName == "gp:browse:Home")) {    

              //Exclude Gap Factory
            if (jQuery.inArray( gfolCID, factoryExcludeCID ) > -1 || omni.strCurrentPageName.indexOf("Factory") > 0 ){
                //exclude codefrom Factory
                //console.info ("no code");
            }  else {
                //add sticker
                $('#gap_cash_hp_container').fixedObj();
            }
        }
   // }



}); 
</script>


</div>
<!-- END Content Item File: /content/0009/735/263/cn9735263.html -->

</div>
<div id="topNavGFOLContainer" class="clearfix">
    <!--Container 5 -->
    <!--Container 6 -->
    <!--Container 7 -->
</div>



<script type="text/javascript">
jQuery(function($) {
    var h = $('#sideNav').height();
    var hmain = $('#mainContent').height();

    //console.log(h);
    //console.log(hmain);

    var logoh = 182; //logo 152px + 20px margin + 10px additional padding

    //APPEND LOGO AND NAVIGATION TO SIDE NAV PAGES
    if (location.pathname == "/browse/category.do" || location.pathname == "/browse/categorySearch.do" || location.pathname == "/browse/subDivision.do"  || location.pathname == "/browse/division.do" || location.pathname == "/browse/search.do" || location.pathname == "/browse/outfit.do" || location.pathname == "/browse/product.do"){

        //attach logo and nav to left nav content

        var navContainer = $('div#mainContentContainer');

                if (navContainer != undefined) {
                    $(navContainer).append( $( "#mainNavGOL" ) );
                    $( "#mainNavGOL" ).show();
                }


        // detect if GFOL content display correct navigation content 
        if (omni.strCurrentPageName.indexOf("Factory") > 0) {

 
           // console.info(omni.strCurrentPageName);
            $('.gpnavigation').hide();
            $('.gpnavigation-gfol').show();

            $('#mainNavGOL').css('top', 241 +'px');
            $('#sideNav').css('top', 241 +'px');
            $('#sideNav').css('margin-bottom', 241 +'px');

                //gfol logo
                if (navContainer != undefined) {
                    $(navContainer).append( $( "#gfol-globalLogo" ) );
                    $( "#gfol-globalLogo" ).show();
                }

                //set min-height of maincontainer
                if (h != undefined) {

                     $('#mainContent').css('minHeight',h + 241 +'px');
                     $('#sideNav').css('minHeight',h + 'px');
                }

        } else {
                /*SHOW GAP SITE NAVIGATION */
                //site logo
                if (navContainer != undefined) {
                    $(navContainer).append( $( "#globalLogo" ) );
                    $( "#globalLogo" ).show();
                }

                //set min-height of maincontainer
                if (h != undefined) {

                     $('#mainContent').css('minHeight',h + logoh +'px');
                     $('#sideNav').css('minHeight',h + logoh + 160 +'px');
                }

        }


document.observe('categoryFacetedSearchGrid:ready',function(){ 
           //set min-height of left nav if longer than main content
        if (hmain != undefined && h != undefined) {

            var sidenavHeight = h + logoh;
            var maincontentHeight = hmain;

           // console.log(sidenavHeight);
           // console.log(maincontentHeight);
           if (omni.strCurrentPageName.indexOf("Factory") > 0) {
                var sidenavHeight = h + 241;
                if  (sidenavHeight > maincontentHeight) {
                    $('#sideNav').css('minHeight',sidenavHeight + 241 + 'px'); //adding space for lnc promo and logo
                }
               // console.info('GFOL ');

           } else { 
                if  (sidenavHeight > maincontentHeight) {
                    $('#sideNav').css('minHeight',sidenavHeight + 160 + 172 +'px'); //adding space for lnc promo and logo
                }
            }
        }

});
 
        //on page load animate navigation
        var sideNavContainer = $('#sideNav');
            if (sideNavContainer) {
                    $('#mainNavGOL').animate({
                        left: "-162px",
                    }, 700, function() {
                    // Animation complete.
                    });

                    $('#sideNav').animate({
                        left: "0px",
                        opacity: 100,
                      }, 700, function() {
                        // Animation complete.  
                      });
            }

        //hide mini logo/hamburger lockup
       $(logoWrapper).addClass('disableContent');
       $("#infoBar").css({ "margin" : "0px"});
       $("#infoBarContentWrapper").css({ "margin-top" : "0px"});

    } else {
            //attach nav on full width pages, exclude hp
            Event.observe(window, "load", function() {
                            
                            var infoBarMargin = '0';
                            if( window["responsiveBagAbTestOn"] != null && responsiveBagAbTestOn ) {
                                infoBarMargin = '30';
                            }

                if ($(logoWrapper).hasClass('disableContent') != 1) {

                    var navContainer = jQuery('div#mainContent');

                        if (navContainer != undefined) {

                            jQuery(navContainer).append( jQuery( '#mainNavGOL' ) );
                            jQuery( '#mainNavGOL' ).css({ "left" : "-162px", "top":"0px","display":"block","opacity":"0"});
                            //jQuery( '#infoBar' ).css({ "margin-top" : "12px"});
                            jQuery( '#infoBar' ).css({ "margin-top" : infoBarMargin + "px"});
                            jQuery( '#nav-menu-icon ' ).css({ "display" : "none"});
                        }
                }
            });
    }
}); 

jQuery(function($) {

//move main nav into side nav space
$('#topNavMain').on('click', function(){

    // detect if GFOL content display correct navigation content 
    if (omni.strCurrentPageName.indexOf("Factory") > 0){
  
        //console.info(omni.strCurrentPageName);
        //$('.gpnavigation').hide();
        $('.gpnavigation-gfol').show();
            
            
    } else {

        $('.gpnavigation').show();

    }
    
    $('#mainNavGOL').animate({
        left: "0px",
    }, 700, function() {
          // Animation complete.
          $( '#menu-icon' ).css({ "opacity":"100"});
        });

    $('#sideNav').animate({
        left: "162px",
        opacity: 0,
      }, 700, function() {
        // Animation complete.  
      });
    
});

//move main nav left of side nav space
$('#menu-icon').on('click', function(){

    $( '#menu-icon' ).css({ "opacity":"0"});

    $('#mainNavGOL').animate({
        left: "-162px",
    }, 700, function() {
          // Animation complete.
        });

    $('#sideNav').animate({
        left: "0px",
        opacity: 100,
      }, 700, function() {
        // Animation complete.  
      });

});


//full width nav show/hide 
$('#menuIcon').on('click', function(){


    if ($('#menuIcon').hasClass('activate-menu') != 1) {

        $('#menuIcon').attr('src','/Asset_Archive/GPWeb/content/0009/723/605/assets/fullwidth_menu_on.gif');

        $('.gpnavigation').show();
    
        $('#mainNavGOL').animate({
            left: "0px",
            opacity:.9
        }, 700, function() {
              // Animation complete.
              $('#menuIcon').addClass('activate-menu');
            });


       $("#mainNavGOL").css({ "background-color" : "#FFF", "display" : "block", "border":"solid 1px #000"});


    } else {

        $('#menuIcon').attr('src','/Asset_Archive/GPWeb/content/0009/723/605/assets/fullwidth_menu_off.gif');

        $('#mainNavGOL').animate({
            left: "-162px",
        }, 700, function() {
              // Animation complete.
              $('#menuIcon').removeClass('activate-menu');
            });

       $("#mainNavGOL").fadeOut('fast');


    }

});




//jQuery end
});

</script>
<script type="text/javascript">
jQuery(function($) {

        /********** GFOL SITE ELEMENT OVERRIDES *********/

        //if ((omni.strCurrentPageName.indexOf("GFOL") > 0) || (window.location.href.indexOf("cid=48620") > 0) || (window.location.href.indexOf("cid=1016171") > 0)){
    if (location.pathname == "/browse/category.do" || location.pathname == "/browse/categorySearch.do" || location.pathname == "/browse/subDivision.do"  || location.pathname == "/browse/division.do" || location.pathname == "/browse/search.do" || location.pathname == "/browse/outfit.do" || location.pathname == "/browse/product.do"){

        if (omni.strCurrentPageName.indexOf("Factory") > 0){

            Event.observe(window, "load", function() {

                //change HTML category header CSS background color
                if( $('#categoryNameHeader') ) {
                    $("#categoryNameHeader").css("cssText", "background-color: #000e42 !important;display:block;") //GFOL category HTML banner  
                }          

                //GFOL Menu CTA 
                $("#menu-icon-image").attr("src", "/Asset_Archive/GPWeb/content/0009/723/605/assets/GFS_DP_BLUEMENU.gif");  
                
                //hide promo
                jQuery('#promoBannerContainer').hide();

                //topnav
                jQuery('#topNavGFOLContainer').show();

                //hide top header
                jQuery('#infoBar').hide();


                //footer link update
                jQuery('#footer').hide();
                jQuery('#gfol-footer').show();

            });
        }
    }
        /********** END GFOL SITE ELEMENT OVERRIDES *********/



        /********** GFOL PRODUCT PAGE OVERRIDES: HIDE REVIEWS, SOCIAL ICONS, RIS *********/
        if (location.pathname == "/browse/product.do") {    

            if (omni.strCurrentPageName.indexOf("Factory") > 0) {

                Event.observe(document, 'productPage:ready', function(){
                    // detect if GFOL content display correct navigation content 
						//var productReviewContainer = jQuery('#BVRRContainer');
                        //var productReviewStars = $('#BVRRSummaryContainer');
                        //var productReviewsContainer = $('#BVRRSummaryContainer');
                        var productRIScontainer = $('#findInStoreTabWindow');
                        var productSocialPin = $('#pinItDiv');
                        var productSocialFBLike = $('#fb_like');
						
						//if (productReviewContainer) {
                            //console.info('reviews container hidden');
							//setTimeout(function(){ productReviewContainer.hide(); }, 1000);
                            
                        //}
                        //if (productReviewStars) {
                            //console.info('reviews stars hidden');
                            //productReviewStars.hide();
                        //}
                        //if (productReviewsContainer) {
                            //console.info('reviews container hidden');
                            //productReviewsContainer.hide();
                        //}
                        if (productRIScontainer) {
                            //console.info('ris container hidden');
                            productRIScontainer.hide();
                        }
                        if (productSocialPin) {
                            //console.info('pinterest hidden');
                            productSocialPin.hide();
                        }
                        if (productSocialFBLike) {
                            //console.info('facebook like hidden');
                            productSocialFBLike.hide();
                        }


                });
            }            
        }  
        /********** END GFOL PRODUCT PAGE OVERRIDES *********/
//jQuery end
});
</script>

<script type="text/javascript">
/*SEARCH */
 var searchPage = false;
                            
function closeSearchButtonShow_topSearchText(){
    $('closeSearchButton_topSearchText').style.display = "block";
}
                            
function closeSearchButtonHideReset_topSearchText(){
    $('topSearchForm').reset();
    $('closeSearchButton_topSearchText').style.display = "none";
    $('newInputBox_topSearchText').value = 'Search';
}

function detectNoText(){
    if( $('newInputBox_topSearchText').value == ''){        
        $('newInputBox_topSearchText').value = '';
        $('closeSearchButton_topSearchText').style.display = "none";
    }
}
                            
function detectSearch(){
    if( $('newInputBox_topSearchText').value == 'Search' || searchPage == true){
        $('topSearchForm').reset();
    }
}

var svgSwitch = function(){
    if(window.SVGAngle || document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1")){
        $('divwrapper_topSearchText').style.background = "url(/Asset_Archive/GPWeb/content/0009/723/605/assets/magnifier_vector.svg) no-repeat";
        $('divwrapper_topSearchText').style.backgroundSize = "11px 11px";
        $('divwrapper_topSearchText').style.backgroundPosition = "7px 5px";
                                    
        $('closeSearchButton').src = '/Asset_Archive/GPWeb/content/0009/723/605/assets/close_vector1.svg';
                                    
    }if(clientBrowser.isFirefox3 == true){
        $('divwrapper_topSearchText').style.background = "url(/Asset_Archive/GPWeb/content/0009/723/605/assets/magnifier_bitmap.png) no-repeat";
        $('divwrapper_topSearchText').style.backgroundSize = "11px 11px";
        $('divwrapper_topSearchText').style.backgroundPosition = "7px 5px";
        $('closeSearchButton').src = '/Asset_Archive/GPWeb/content/0009/723/605/assets/close_bitmap.png';
    }else{
        }
                            
    var searchText = document.URL.toQueryParams().searchText;
                                
    if (searchText !== undefined) {
        searchPage = true;
        var searchTextResult = document.URL.toQueryParams().searchText.split('+').join(' ');
        $('newInputBox_topSearchText').value=searchTextResult;
    }else{
        $('newInputBox_topSearchText').value = 'Search';
    }
}
                            
document.observe("dom:loaded",svgSwitch);

// Responsive bag JS overrides
if( window["responsiveBagAbTestOn"] != null && responsiveBagAbTestOn ) {
    
    // Update EDFS popups - wipe inline CSS and jbox popups
    jQuery('#EDFS_container_seg_1, #EDFS_container_seg_2, #EDFS_container_seg_3, #EDFS_container_seg_4, #EDFS_container_seg_5, #edfsContainer').attr('style','');
    
    jQuery(document).ready( function() {
        var edfsPostageStamp = jQuery('#EDFS_container_seg_1 a');
        var edfsPopupStr = '/buy/info.do?cid=47471';
        var edfsPopupWidth = '472';
        var edfsPopupHeight = '450';
        if( jQuery(window).width() < 569 ) {
            //edfsPopupStr = '/Asset_Archive/GPWeb/content/0008/638/040/assets/edfs_popup.html';
            edfsPopupWidth = '300';
            edfsPopupHeight = '350';
        }
        
        if( edfsPostageStamp.length > 0 ) {
            edfsPostageStamp.attr({ 'onclick':'', 'rel':'jbox', 'data-jbox-url':edfsPopupStr, 'data-jbox-width':edfsPopupWidth, 'data-jbox-height':edfsPopupHeight });
        }       //
        jbox.checkDataAttributes();
    });
}

</script>   
</div>

	
</div>
 


		        </div>
		    
	    
        
        <div id="mainContentContainer" class="clearfix">
            <a name="skipNavSideNav"></a>
            <div id="sideNav">
            	
					
					
						




	
		
	
	
			


	
			
			
	
	
	
	











<script type="text/javascript"></script>

<h3 class="cssHide">Side Navigation:</h3>




<div class="LeftNavigationMarketingContentTop">
	
		
		
			
		
	
</div>


	<div id="sideNavFacetsHeader" class="facets-container facet facet_master_header hideMe">
	<!-- @FF Division Facet Code hidden until ready to play. JS is in place in facet manager -->
		<div id="lrCategoryNameHeader" class="category heading categoryNameDiv"></div>
		<div class="category heading categoryItemCountResetDiv">
			<span id="facet_header_item_count" class="totalItemCountDiv"></span>
			<span class="resetAllButton hideMe"><a id="facet_reset_all" href="#" onclick="navigationService.controller.managers.categoryFacetedSearchManager.util.resetAllSelectedOptions(event);navigationService.controller.managers.categoryFacetedSearchManager.controller.filterByFacets();return false;" class="sprite-button sprite-button_reset" alt="???browse.templates.categoryFacetedSearch.text.reset???" title="???browse.templates.categoryFacetedSearch.text.reset???"></a></span>
		</div>
	</div>

	<div id="sideNavFacets" class="facets-container"></div>	



	
	

	
	
	
	 
	
	
		
		
		
		
		




	
		
	
	
			


	
			
			
	
	
	
	






<!-- Web Hierarchy Side Navigation -->

  

  
    
  



	
	<div id="sideNavCategories">
	  <ul class="category">
	  
	      
	          
	          
	      
	      
	        
	          
	            
	            
	          
	          
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        <li class="header firstHeader" id="categoryNav41145">Privacy, Security and Web Info</li>
	        
	        
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	            
	        
	        
	      
	      
	        
	        
	        
	            <li class="categorySelected categoryActive" id="categoryNav2331"><a href="/customerService/info.do?cid=2331" class="categorySelected">Privacy Policy</a>
	      
	        
	      </li>
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav2336"><a href="/customerService/info.do?cid=2336" class="category">Accessibility</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav6754"><a href="/customerService/info.do?cid=6754" class="category">Terms of Use</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav41118"><a href="/customerService/info.do?cid=41118" class="category">Copyright Infringement Claims</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav74558"><a href="/customerService/info.do?cid=74558" class="category">Store details PDM test    </a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav74557"><a href="/customerService/info.do?cid=74557" class="category">Store locator PDM test</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav1005456"><a href="/customerService/info.do?cid=1005456" class="category">Ontario Accessibility</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav1006668"><a href="/browse/info.do?cid=1006668" class="category">mobileCookieWriterCS</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav1019623"><a href="/browse/info.do?cid=1019623" class="category">desktopCookieWriterCS</a></li>
	      
	        
	      
	    
	  
	  </ul>
	</div>
	


	






<div class="LeftNavigationMarketingContentBottom">
	
</div>

					
				
         	</div>
            <a name="skipNavMainContent"></a>
            <div id="mainContent" class="clearfix">
                <h3 class="cssHide">Main Content:</h3>
                




	
		
	
	
			


	
			
			
	
	
	
	










	
	<div id="CSContentVariant10000734_region1"><!-- @TemplateContentLayout(templateRegionName:"gid.customerService.content.variant.10000734.region1") -->
<style type="text/css">
.csContentPage {padding:10px;}
#CScontentPage_Region1 {min-height: 625px;}
</style>


<div id="CScontentPage_Region1">
	<div id="dpage1_10000808">
		<!-- BEGIN Content Item File: /content/0009/726/480/cn9726480.html -->
<div id="contentItemContainer10000808" class="9726480">

<style type="text/css">
#sideNav {
	display: none;
	visibility: hidden;
}
#golPrivacyPolicyContainer6607183 ul {
margin-left:21px;
line-height:14px;
}

#golPrivacyPolicyContainer6607183 li {
padding-left: 0px;
list-style:disc;
}	
#mainContent #golPrivacyPolicyContainer6607183.csContentPage {
padding: 10px 20px;
}
#CSContentVariant10000734_region1,
#mainContentContainer #mainContent {
width: 100%;
max-width: none;	
}

.header1 {background-color: transparent; !important;}
.unsubscribe_me a {
	display: block;
	margin-bottom: 10px;
}
</style>

<div class="csContentPage" id="golPrivacyPolicyContainer6607183">
	<h2 class="header1"><a name="privacyPolicy"></a>Privacy Policy</h2>
	<p><i>Last Revised May 1, 2015</i></p>

	<h3 class="header3">Gap Inc. Privacy Policy Highlights</h3>

	<h3>Read our Full Privacy Policy <a href="#privacy_policy">Here</a></h3>
	
	<h3 class="header3">Typical Information We Collect About You</h3>

	<ul type="disc">
		<li>Name</li>
		<li>Contact Information (email/phone/mailing address)</li>
		<li>Shopping history and how you use our websites and mobile apps</li>
		<li>Payment information</li>
		<li>Location information, if you have allowed our mobile apps to do so</li>
		<li>Technical information about your browser and device</li>
	</ul><br>

	<h3 class="header3">Key Ways We Use Your Information</h3>

	<ul type="disc">
		<li>Fulfill your order and provide customer service</li>
		<li>Send you promotions and offers</li>
		<li>Improve and personalize your shopping experience</li>
		<li>Protect the security of our website, apps and business</li>
	</ul><br>

	<h3 class="header3">We Share Your Information With</h3>

	<ul type="disc">
		<li>Other Gap Inc. brands</li>
		<li>For Athleta customers only, we share your mailing address and shopping history with other catalog companies</li>
		<li>Other third parties as described <a href="#how_does_gap_share_my_information">below</a></li>
	</ul><br>

	<h3 class="header3">Your Choices</h3>

	<ul type="disc">
		<li>To opt out of receiving marketing via:
			<ul>
				<li>Email -- use the unsubscribe feature in our emails, click on the unsubscribe weblinks for our brands listed <a href="#choices">here</a>, or contact <a href="#contactInfo">Customer Service</a></li>
				<li>Postal mail -- contact <a href="#contactInfo">Customer Service</a></li>
				<li>Texts -- respond STOP to any text or contact <a href="#contactInfo">Customer Service</a></li>
			</ul>
		</li>
		<li>To request your Athleta customer information not be shared with other catalog companies contact <a href="#contactInfo">Athleta Customer Service</a></li>
		<li>To make choices about targeted online advertising please go <a href="#interestAdvert">here</a></li>
	</ul><br>

	<h3 class="header3">Questions about Privacy?</h3>

	<p>Please contact us <a href="#contactInfo">here</a>

	</p><h3 id="privacy_policy" class="header3">Gap Inc. Privacy Policy</h3>
	
	<!--<p>Gap Inc. and our brands, which include but are not limited to Gap, Banana Republic, Old Navy, Gap Outlet, Banana Republic Factory Store, Piperlime, and Athleta (collectively, "Gap Inc."), value our customers and respect your privacy. We collect information about you in our stores and through our websites in an effort to improve your shopping experience and to communicate with you about our products, services, contests and promotions. As described in this policy, we may share your information among our brands and, under certain circumstances, with third parties that provide services on our behalf or with whom we have partnered to offer a particular product or service. For Athleta customers only, we may share your postal address and shopping history with like-minded third parties for their direct mail marketing purposes as described below.</p>-->
	
	<p>This policy describes the personal information Gap Inc. and our brands, which include but are not limited to Gap, Banana Republic, Old Navy, Gap Outlet, Banana Republic Factory Store,and Athleta (collectively, "Gap Inc.") collect about you, why we collect it, how we use it, and when we share it with third parties. This policy covers our US stores and online experiences including our websites and mobile apps. Our policy also describes the choices you can make about how we collect and use your information. If our information practices change, we will post an updated policy on our website. You can tell if the policy has changed by checking the revision date that appears above. If we change the policy in a material way, we will provide appropriate notice to you. You may exercise your choices about how we collect and use your information consistent with this policy at any time.</p> 
	
	<p>If you have any questions about our privacy policy, please contact us as described in the section entitled, "How do I contact you?", below.</p>
	
	<!--<a name="top"></a>
	<h3 class="header3">Privacy Policy</h3>-->

	<ul type="disc">
		<li><a href="#collectInfo">What kind of information does Gap Inc. collect?</a></li>
		<li><a href="#useInfo">How does Gap Inc. use my information?</a></li>
		<li><a href="#shareInfo">Does Gap Inc. share my information?</a></li>
		<li><a href="#accessInfo">How do I access or change my information?</a></li>
		<li><a href="#choices">How do I make choices about receiving promotional communications?</a></li>
		<li><a href="#athleta">How do I stop receiving Athleta catalogs?</a></li>
		<li><a href="#kidsPrivacy">How does Gap Inc. protect kids' privacy?</a></li>
		<li><a href="#cookies">How does Gap Inc. use cookies and other tracking technologies?</a></li>
		<li><a href="#interestAdvert">How is my information used for behavioral or targeted advertising and what choices do I have?</a></li>
		<li><a href="#secureInfo">How do I know my personal information is secure?</a></li>
		<li><a href="#phishing">What is "phishing"?</a></li>
		<li><a href="#suspicious">I received a suspicious email from a Gap Inc. brand regarding an order I did not place. What should I do?</a></li>
		<li><a href="#jobpost">I responded to an online job posting for a Gap Inc. job that requires me to upload personal financial information. Is this part of your hiring process?</a></li>
		<li><a href="#links2OtherSites">What about links to other websites?</a></li>
		<li><a href="#contactInfo">How do I contact you?</a></li>
		<li><a href="#caliRights">Your California Privacy Rights</a></li>
	</ul>
	
	<p><a name="collectInfo"></a></p>
	<h4 class="header4">What kind of information does Gap Inc. collect?</h4>
	<p>We may collect personal information from you, such as your name, email address, postal address, phone number, credit card number, gender, birthday, personal interests, etc., when you visit one of our websites or stores, install or use our mobile apps, place an order online or by phone, make an in-store purchase, save your information with us online, contact us with a question or concern, or participate in a contest, promotion, or survey. We maintain a record of your product interests and the purchases you make online, through a mobile app, or by phone and in our stores. We also collect information about the device you use to access our websites or mobile apps such as your computer's IP address, your browser type, your operating system, and other technical information. Our mobile apps may also collect information about your location if you have allowed this. We may combine all of this information with information about you that we acquire from our joint marketing partners, from unrelated third parties, and from our other brands.</p>
	<p><a href="#top">back to top</a></p>
	
	<a name="useInfo"></a>
	<h4 class="header4">How does Gap Inc. use my information?</h4>
	<p>We may use your personal information in the following ways:</p>
		<ul>
			<li>To process and fulfill your order, including to send you emails to confirm your order status and shipment</li>
			<li>To communicate with you and to send you information by email, postal mail, telephone, text message, or other means about our products, services, contests, and promotions, unless you have directed us not to contact you with promotional communications</li>
			<li>To administer and fulfill our contests and other promotions</li>
			<li>To help us learn more about your shopping preferences</li>
			<li>To help us address problems with and improve our site and mobile app design, products and services</li>
			<li>To enhance your shopping experience</li>
			<li>To analyze trends and statistics</li>
			<li>To protect the security or integrity of our websites, mobile apps, and our business</li>
			<li>To contact you if necessary</li>
		</ul>
	
	<p>You always have the choice not to receive marketing information or calls. For instructions on opting out, please see the section entitled, "How do I make choices about receiving promotional communications?", below.</p>
	<p><a href="#top">back to top</a></p>
	
	<a name="shareInfo"></a>
	<h4 id="how_does_gap_share_my_information" class="header4">Does Gap Inc. share my information?</h4>
	<p>We may share your personal information in the following ways:</p>
		<ul>
			<li>When you provide personal information to one of our Gap Inc. brands (Gap, Banana Republic, Old Navy, Gap Outlet, Banana Republic Factory Store, Athleta or Intermix), we may share that information with our other Gap Inc. brands. </li>
			<li>If you purchase Athleta brand products through our website or by placing a catalog order by phone or mail, we may share your name, postal address, and shopping history with like-minded organizations whose privacy policies meet the Direct Marketing Association's privacy standards, for their direct mail marketing purposes. We do not share email addresses for such purposes. We also do not share personal information about customers who only browse, email comments, request a catalog, or request email updates, or who purchase only Gap, Banana Republic, Old Navy, Gap Outlet, Banana Republic Factory Store, or Intermix merchandise. If you would prefer that we not share information about you with other companies, please let us know by contacting Athleta customer service as described in the section entitled, "How do I contact you?", below.</li>
			<li>We may share your information with our service providers who manage our customer information and perform services on our behalf, such as fulfilling promotions, sending communications to our customers, conducting surveys, etc. We do not authorize any of these service providers to make any other use or disclosure of your information. </li>
			<li>We may share your information when we team up with another company to offer or provide products, services, contests, or promotions to our customers.</li>
			<li>We may share information about you if necessary, in our good faith judgment, to comply with laws or regulations or in response to a valid subpoena, order, or government request, or to protect the rights of Gap Inc. or others.</li>
		</ul>
	
	
	<p>In addition, if you choose to participate in any third-party scrip, loyalty, or similar program in which a Gap Inc. brand is a participating vendor, and you authorize Gap Inc. or our credit card processor to provide information about your purchases to the company administering the program, we will share your personal information with that program. Scrip programs allow you to instruct us to divert a percentage of the amount you spend on Gap Inc. purchases to participating schools and other non-profit organizations. Loyalty programs allow you to earn "points" on purchases at Gap Inc. brands, which you may then use toward certain rewards offered by the loyalty programs in which you participate. The information you authorize us to disclose to the third-party scrip or loyalty program may include your credit card number and the date and amount of your purchase, and may also include your name and other information you have asked us to provide. Please note that once we disclose this information, the scrip or loyalty company may use and share it with others in accordance with its own privacy policy. You should review these policies carefully, as we have no control over them.</p>
	
	<p>In the unlikely event of a sale or merger of Gap Inc. or any of our businesses, our customers' personal information and other information we have collected as described in this policy may be among the transferred business assets.</p>
	<p><a href="#top">back to top</a></p>
	
	<a name="accessInfo"></a>
	<h4 class="header4">How do I access or change my information?</h4>
	<p>You can review and change certain personal information related to your use of our online sites (such as your name and contact information). To access your information at a Gap Inc. website, simply sign in to your account using your email address and password, and you will be able to edit your personal information in your account profile.</p>
	<p>You can also ask us to update your personal information by contacting us as described in the section entitled, "How do I contact you?", below. Please note that any request to update your personal information may take up to 10 days for your email request and 6-8 weeks for your postal mail request.</p>
	<p><a href="#top">back to top</a></p>
	
	<a name="choices"></a>
	<h4 class="header4">How do I make choices about receiving promotional communications?</h4>
	<p>Gap Inc. and our brands, including Gap, Banana Republic, Old Navy, Gap Outlet, Banana Republic Factory Store, and Athleta, want to communicate with you only if you want to hear from us. If you prefer not to receive promotional information, such as information about special offers and sales events, from one or more of our brands, you can let us know by contacting our customer service as described in the section entitled, "How do I contact you?", below or you can click on the self-service unsubscribe links below.</p>

	<div class="unsubscribe_me">
		<a href="https://secure-www.gap.com/profile/info.do?cid=82639">Gap Unsubscribe</a>
		<a href="https://secure-bananarepublic.gap.com/profile/info.do?cid=82771">Banana Republic Unsubscribe</a>
		<a href="https://secure-bananarepublic.gap.com/profile/info.do?cid=82774">Banana Republic Factory Store Unsubscribe</a>
		<a href="https://secure-www.gap.com/profile/info.do?cid=82641">Gap Outlet Unsubscribe</a>
		<a href="https://secure-oldnavy.gap.com/profile/info.do?cid=82636">Old Navy Unsubscribe</a>
		<a href="https://secure-athleta.gap.com/profile/info.do?cid=82633">Athleta Unsubscribe</a>
		<!-- <a href="https://secure-piperlime.gap.com/profile/info.do?cid=82778">Piperlime Unsubscribe</a> -->
	</div>

	<p>If contacting customer service, please be sure to include your full name and the email address you used when you registered with or made a purchase from the Gap Inc. brand. If you ask us to remove your name and address from promotional lists, we will maintain your name in a "do not contact" file to ensure that we can honor your request. It may take up to 10 days to process your email request and 6-8 weeks to process your postal mail request, during which period you may continue to receive communications from Gap Inc.</p>
	<p>If you change your mind, you can start receiving promotional communications from us again by logging into your online account and changing your preferences, by signing up when you visit our websites or our stores or when you enter a sweepstakes or contest, or by contacting customer service.</p>
	<p>Please note that when you make an online purchase from us, we will continue to confirm your order status and shipment by email. We may also need to contact you via telephone, email or postal mail with questions or information regarding your order.</p>
	<p><a href="#top">back to top</a></p>
	
	<a name="athleta"></a>
	<h4 class="header4">How do I stop receiving Athleta catalogs?</h4>
	<p>If you no longer wish to receive Athleta catalogs or wish to alert us to duplicate mailings, please contact Athleta customer service as described in the section entitled, "How do I contact you?", below. Please provide your exact name, postal address, and email address so that your request can be effectively processed. It may take up to 90 days in order for your information to be completely removed from our list.</p>
	<p>To learn more about your rights as a consumer and to receive less national advertising mail, please visit the Direct Marketing Association at <a href="http://www.dmachoice.org/" target="_blank">http://www.dmachoice.org/</a>.</p>
	<p><a href="#top">back to top</a></p>
	
	<a name="kidsPrivacy"></a>
	<h4 class="header4">How does Gap Inc. protect kids' privacy?</h4>
	<p>Gap Inc. is concerned about the privacy and safety of children when they use the Internet. We will never knowingly request personally identifiable information online from anyone under the age of 13 without prior verifiable parental consent. Our websites are general audience sites and are not targeted to or intended for use by children.</p>
	<p><a href="#top">back to top</a></p>
	
	<a name="cookies"></a>
	<h4 class="header4">How does Gap Inc. use cookies and other tracking technologies?</h4>
	<p>Our websites use "cookies," and pixel tags and other tracking technologies,  to help enable you to shop on our websites and may be used in a variety of ways to enhance or personalize your online browsing and shopping experience. These technologies may also be used to determine the ads you see on our sites and also on other sites.  For information about targeted online advertising and your choices related to it please see the next section.</p>
	<!-- <p>For example, we may use cookies to enable you to use certain website features, remember the items in your shopping cart, store your preferences, recognize you when you return to our website, track your orders, and monitor and maintain information about your use of our websites. Cookies may also be used to collect transaction information needed by a scrip or loyalty program to which you have authorized us to provide your personal information. (See the section entitled, "Does Gap Inc. share my information?", above.)</p> -->
	<!-- <p>We may also use our own cookies to help determine which of our ads are shown to you on other websites.  To opt out of this targeted online advertising that utilizes our cookies, please <a href="http://dtmc.gap.com/adinfo/adchoices_fpc.html?cid=2366&cname=Gap%20Inc.&cmagic=d3b1fb&clogo=Gap_INC_LOGOS.png" target="_blank">click here</a>.   Please see the section below to learn more about behavioral or interest based online advertising that uses third party tracking technologies.</p> -->
	<p>You can set your browser not to accept cookies or to notify you when you are sent a cookie, giving you the opportunity to decide whether or not to accept it. If you do not accept cookies, however, you will not be able to access your account information or make purchases on our websites.</p>	
	<!-- <p>We also use "pixel tags" (also called "web beacons" or "clear gifs"), which are tiny graphic images, on our websites and in our emails. Pixel tags help us analyze our customers' online behavior and measure the effectiveness of our websites and our advertising. We work with service providers that help us track, collect, and analyze this information.</p> -->
	<p>These technologies may be used to collect information about your visit, including the pages you view, the features you use, the links you click, and other actions you take in connection with the sites and our online ads.</p>
	<p>Pixel tags in our emails may be used to track your interactions with those messages, such as when you receive, open, or click a link in an email message from us.</p>
	<p>We may combine the information we collect through these technologies with other information we have collected from and about you and use it as described in this policy.</p>
	<p><a href="#top">back to top</a></p>
	
	<a name="interestAdvert"></a>
	<h4 class="header4">How is my information used for behavioral or targeted advertising and what choices do I have?</h4>
	<p>We use our own cookies to help determine which of our ads are shown to you on other websites. To opt out of this targeted online advertising by Gap Inc. that utilizes our cookies, please click <a href="http://dtmc.gap.com/adinfo/adchoices_fpc.html?cid=2366&amp;cname=Gap Inc.&amp;cmagic=d3b1fb&amp;clogo=Gap_INC_LOGOS.png">here</a>.</p>
	<p>We also work with third-party companies that use their tracking technologies (including cookies and pixel tags) on our websites in order to provide tailored advertisements on our behalf and on behalf of other advertisers across the Internet.  These companies may collect information about your activity on our sites and your interaction with our advertising and other communications and use this information to determine which ads you see on third-party websites and applications.  For more information about this practice and to understand your options including how to opt out of receiving these tailored advertisements, please visit <a href="http://www.aboutads.info" target="_blank">http://www.aboutads.info</a>.</p>
	<p>Please note that even if you opt-out, these tracking technologies may still collect data and you will still see ads, but they will not be targeted based upon the information collected through these tracking technologies.</p>
	<p><a href="#top">back to top</a></p>
	
	<a name="secureInfo"></a>
	<h4 class="header4">How do I know my personal information is secure?</h4>
	<p>We do our best to provide you with a safe and convenient shopping experience. We have in place certain physical, electronic, contractual, and managerial safeguards to help protect the security and privacy of your personal information.</p>
	<p>When you enter your personal information on our websites, we use encryption technology to protect your information as it is transmitted to us.</p>
	<p>If for any reason you cannot access the secure server, or if you're not quite comfortable shopping online at any of our websites, please feel free to place your order with us by telephone at the number listed in the section entitled, "How do I contact you?", below.</p>
	<p><a href="#top">back to top</a></p>
	
	<a name="phishing"></a>
	<h4 class="header4">What is "phishing"?</h4>
	<p>"Phishing" is a scam designed to steal your personal information. If you receive an email that looks like it is from us asking you for your personal information, do not respond. We will never request your password, user name, credit card information or other personal information through email.</p>
	<p><a href="#top">back to top</a></p>
	
	<a name="suspicious"></a>
	<h4 class="header4">I received a suspicious email from a Gap Inc. brand regarding an order I did not place. What should I do?</h4>
	<p>We are aware of phony emails sent out under our brand names. These emails did not originate from Gap Inc., and individuals who received fraudulent order status emails have not been charged. For your protection, do not click links or open any files attached to suspicious, unsolicited emails. If you believe your personal computer has been compromised as a result of the scam, please consult an IT professional.  For more information, contact the FBI's Internet Crimes Complaint Center: <a href="http://www.ic3.gov/default.aspx" target="_blank">http://www.ic3.gov/default.aspx</a>. We work with law enforcement on their investigations of these kinds of fraudulent emails.</p>
	<p><a href="#top">back to top</a></p>
	
	<a name="jobpost"></a>
	<h4 class="header4">I responded to an online job posting for a Gap Inc. job that requires me to upload personal financial information. Is this part of your hiring process?</h4>
	<p>No. Gap Inc. does not ask prospective job applicants for information about their bank accounts, credit history or passwords to financial accounts. If you are asked for personal financial or security information in response to a job application, this is likely a fraudulent job listing hosted by spammers posing as Gap Inc. to mislead job applicants.  You can validate all Gap Inc. job postings on <a href="http://www.gapinc.com/careers" target="_blank">gapinc.com/careers</a>.  Spammers also create phony aliases such as thegap-usa.com to mimic our company and/or brand names in an effort to commit identity theft or other forms of fraud. If you receive this type of suspicious email activity, please alert the FBI's Internet Crimes Complaint Center: <a href="http://www.ic3.gov/default.aspx" target="_blank">http://www.ic3.gov/default.aspx</a></p>
	<p><a href="#top">back to top</a></p>
	
	<a name="links2OtherSites"></a>
	<h4 class="header4">What about links to other websites?</h4>
	<p>For your convenience and information, our websites may contain links to other sites, which may have privacy policies that differ from our own. We are not responsible for the content or practices of any linked site. We recommend that you review the privacy policy of any site that you access through our sites.</p>
	<p><a href="#top">back to top</a></p>
	
	<a name="contactInfo"></a>
	<h4 class="header4">How do I contact you?</h4>
	<p>For questions about our privacy policy, to make choices about receiving promotional communications, to update your personal information, or to place an order, you can contact any of our Gap Inc. brands by email, telephone, or postal mail:</p>
	
	<p><span class="header4">Gap Customer Services</span><br>
	5930 Gap Online Drive<br>
	Groveport, OH 43195-0002<br>
	1-800-GAPSTYLE (1-800-427-7895)<br>
	1-888-906-1104 (TDD hearing impaired)<br>
	<a href="mailto:custserv@gap.com">custserv@gap.com</a></p>
	
	<p><span class="header4">Banana Republic Customer Services</span><br>
	5900 North Meadows Drive<br>
	Grove City, OH 43123-8476<br>
	1-888-BR STYLE (1-888-277-8953) <br>
	1-888-906-1345 (TDD hearing impaired)<br>
	<a href="mailto:custserv@bananarepublic.com">custserv@bananarepublic.com</a></p>
		
	<p><span class="header4">Old Navy Customer Services</span><br>
	200 Old Navy Lane<br>
	Grove City, OH 43123-8605<br>
	1-800-OLD-NAVY (1-800-653-6289)<br>
	1-800-449-4253 (TDD hearing impaired)<br>
	<a href="mailto:custserv@oldnavy.com">custserv@oldnavy.com</a></p>
		
<!-- 	<p><span class="header4">Piperlime Customer Care</span><br />
	5900 Piperlime Lane<br />
	Grove City, OH 43123<br />
	1-877-PIPERLIME (1-877-747-3754)<br />
	1-888-906-1345 (TDD hearing impaired)<br />
	<a href="mailto:custserv@piperlime.com">customercare@piperlime.com</a></p>	 -->	
	
	<p><span class="header4">Athleta Customer Services</span><br>
	5900 North Meadows Drive<br>
	Grove City, OH 43123<br>
	1-877-3ATHLETA (1-877-328-4538)<br>
	1-888-906-1345 (TDD hearing impaired)<br>
	<a href="mailto:custserv@athleta.com">custserv@athleta.com</a></p>		
	<p><a href="#top">back to top</a></p>
	
	<a name="caliRights"></a>
	<h4 class="header4">Your California Privacy Rights</h4>
	<p>California Civil Code Section 1798.83 permits customers of Gap Inc. who are California residents to request certain information regarding our disclosure of personal information to third parties for their direct marketing purposes. To make such a request, please write to us at the following address:</p>
	<p>Gap Inc. - California Privacy Rights<br>
	Legal Department<br>
	2 Folsom Street<br>
	San Francisco, CA 94105</p>
	
	<p><a href="#top">back to top</a></p>
</div>


</div>
<!-- END Content Item File: /content/0009/726/480/cn9726480.html -->

	</div>
</div></div>
	
	            <div id="mainContentBottom">
	                
	            	




	
		
	
	
			


	
			
			
	
	
	
	







	            </div>
            </div>
        </div>
        <a name="skipNavFooter"></a>
        <div id="footer">
            




	
		
	
	
			


	
			
			
	
	
	
	












	
<div id="footer_BrandContainer">
	<div id="footer_brand_region1"><!-- @TemplateContentLayout(templateRegionName:"gid.common.siteWide.brand.footers.region1") -->
<link rel="stylesheet" type="text/css" href="/Asset_Archive/GPWeb/content/0009/208/347/footerRegionCSS.css">
<!--style type="text/css">
#footer { position:relative; background-color:#ad132a; }
#footer_brand_region2 { background-color:#ad132a; }
#footer { color: #FFF; }
#footer a:link, #footer a:visited, #footer a:active { color: #fff; }
#copyRightFooter { color:#fff; width: 990px; margin-top: 10px; text-align: center; margin-bottom: 10px;}
#copyRightFooter p { color:#fff; padding: 5px; color:#fff }
.text2 { color:#fff }
#footer-background-wrapper { background-color:#ad132a; height:100%; z-index:-1;position:absolute;}

/* iPads (landscape) ----------- */
@media only screen 
and (min-device-width : 768px) 
and (max-device-width : 1024px) 
and (orientation : landscape) {
	/* Styles */
	/* #footer-background-wrapper { margin-left: -10px; width: 1010px; } */
}

/* iPads (portrait) ----------- */
@media only screen 
and (min-device-width : 768px) 
and (max-device-width : 1024px) 
and (orientation : portrait) {
	/* Styles */
	/* #footer-background-wrapper { margin-left: -10px; width: 1010px; } */
}

/* Desktops and laptops ----------- */
@media only screen 
and (max-width : 1250px) {
    /* Styles */
}

@media only screen 
and (min-width : 1224px) {
    /* Styles */
    /*Expand footer background color */
    /* #footer-background-wrapper { position:absolute; margin-left:-1000px; margin-right:0; width:5000px; z-index:-1; height: 100%; background-color:#000d42; } */
}

/* Responsive CSS */
#footer_BrandContainer #brandFooter_mobile { display:none; padding-left:10px; color:#000 }
#footer_BrandContainer #brandFooter_mobile a { color:#000; font-size:14px }

/* Small Breakpoint */
	html.breakpoint-small .responsiveShoppingBag #bodyContainer #footer { background:#fff }
	html.breakpoint-small .responsiveShoppingBag #bodyContainer .gidFooterNav { display:block }
	html.breakpoint-small .responsiveShoppingBag #footer_brand_region1 { display:none }
	html.breakpoint-small .responsiveShoppingBag #footer-background-wrapper { display:none }
	html.breakpoint-small .responsiveShoppingBag #brandFooter_mobile { display:block }

/* Medium Breakpoint */
	html.breakpoint-medium .responsiveShoppingBag #bodyContainer #footer { background:#fff }
	html.breakpoint-medium .responsiveShoppingBag #bodyContainer .gidFooterNav { display:block }
	html.breakpoint-medium .responsiveShoppingBag #footer_brand_region1 { display:none }
	html.breakpoint-medium .responsiveShoppingBag #footer-background-wrapper { display:none }
	html.breakpoint-medium .responsiveShoppingBag #brandFooter_mobile { display:block }
	
/* Large Breakpoint */
	html.breakpoint-large .responsiveShoppingBag #bodyContainer #footer { margin:0 auto; padding:0; box-sizing:content-box; }
	html.breakpoint-large .responsiveShoppingBag .marketing-brand-footer-wrapper { float:none; width:980px; height:200px; margin:10px auto }
	html.breakpoint-large .responsiveShoppingBag #textFooterLinks1_10000515 { width:100%; clear:both }
	html.breakpoint-large .responsiveShoppingBag .footer-container-wrapper { height:275px }
	html.breakpoint-large .responsiveShoppingBag #copyRightFooter { width:100% }
	
	@media all and (max-width: 1015px) and (min-width: 768px) {
		html.breakpoint-large .responsiveShoppingBag .marketing-brand-footer-wrapper { display:none }
		html.breakpoint-large .responsiveShoppingBag .footer-container-wrapper { border-top:none }
	}

/* X-Large Breakpoint */
	html.breakpoint-xlarge .responsiveShoppingBag #bodyContainer #footer { /*width:99%;*/ margin:0 auto; padding:0; box-sizing:content-box }
	
	html.breakpoint-xlarge .responsiveShoppingBag .marketing-brand-footer-wrapper { float:none; width:980px; height:200px; margin:10px auto }
	html.breakpoint-xlarge .responsiveShoppingBag #textFooterLinks1_10000515 { width:100%; clear:both }
	html.breakpoint-xlarge .responsiveShoppingBag .footer-container-wrapper { height:275px }
	html.breakpoint-xlarge .responsiveShoppingBag #copyRightFooter { width:100% }

</style-->
<div id="footer-background-wrapper"></div>
<div id="brandFooter_Region1">
	<div id="brandftr1_10000512" class="clearfix"></div>
	<div id="brandftr2_10000514" class="clearfix"><!-- BEGIN Content Item File: /content/0009/409/544/cn9409544.html -->
<div id="contentItemContainer10000514" class="9409544">


<div id="freeShipBanner" style="width:990px;height:41px;display:block;margin-top:20px;" class="clearfix">
	<a href="#edfs" onclick="return gidLib.layeredPopup.openLayeredPopup({str:'/browse/info.do?cid=47471',id:'edfsPopup',width:490,height:450});">
		<img src="/Asset_Archive/GPWeb/content/0009/409/544/assets/102914_FSFR_HP_FTR_US_EC.gif" alt="Free shipping on all orders over $50.">
	</a>
</div>


</div>
<!-- END Content Item File: /content/0009/409/544/cn9409544.html -->
</div>	
	<div id="brandftr3_10000513" class="clearfix"></div>
	<div id="textFooterLinks1_10000515" class="clearfix"><!-- BEGIN Content Item File: /content/0009/373/768/cn9373768.html -->
<div id="contentItemContainer10000515" class="9373768">

<link rel="stylesheet" type="text/css" href="/Asset_Archive/GPWeb/content/0009/373/768/assets/emailFooterCSS.css">
<!--style type="text/css">

.footer-container-wrapper {
	width:100%;
	height:245px;
	margin-top:10px;
	font-size:10px;
	line-height:14px;
	font-family: Helvetica,Arial,Sans-serif;
	letter-spacing:1px;
	border-top: 1px solid #fff;
	padding-top: 20px;
	padding-bottom: 20px;
	border-bottom: 1px solid #FFF;
}


.footer-container {
	padding-top:0px;
	width:100%;
	margin:5px;
	border-top:1px solid #fff;
	border-bottom:1px solid #fff;
	height:254px;
}

.footerCol{
	float:left;
	border-right:1px solid #fff;
	text-align:center;

}

.footerCol-last{
	float:left;
	text-align:center;

}

.footer-header {
	font-size:24px;
	font-weight: 100;
	margin-top: 20px;
}

#footer-social {
	height:100%;
	width:22%;
	float:left;

}

#footer-icons {
	margin-top:20px;
}

#footer-email {
	height:100%;
	width:56%;

}
#footer-cs {
	height:100%;
	width:21%;
	float: left;
}

#footer-cs ul.cslinks {

	list-style: none outside none;
	line-height: 16px;
	margin-top: 20px;
}

#footer-cs li {

	float: none;
}

li.footer-cs-header {

	padding-top:10px;
	font-weight: bold;
}



.hp-email-signup-container > .marketing-copy {
    color: #000;
    display: inline-block;
    float: left;
    margin-right: 30px;
    text-align: center;
    width: 300px;
}
.hp-email-signup-container > .marketing-copy > .jumbotext {
    font-size: 32px;
    font-weight: 200;
    line-height: 32px;
}
.hp-email-signup-container > .marketing-copy > .subtext {
    font-size: 14px;
    line-height: 20px;
    margin-top: 5px;
}
.hp-email-signup-form-container {
    display: inline-block;
    margin-top: 25px;
}
.hp-email-signup-input-container {
    overflow: hidden;
    width: 315px;
    margin: 0 auto;

}
.hp-email-signup-input-container > input {
    border: 1px solid #666666;
    color: #666666;
    display: inline-block;
    font-size: 12px;
    height: 19px;
    margin-bottom: 10px;
    padding: 3px 8px;
    width: 300px;
}
.hp-email-signup-input-container > input.last {
    margin-right: 0;
}
.hp-email-signup-input-container > .validationWarning {
    color: #ff0000;
    font-weight: bold;
}
.hp-email-signup-submit-button-container {
    clear: both;
    display: block;
    margin-top: 10px;
    width: 100%;
}
.hp-email-signup-submit-button-container > .offer-text {
    color: #FFF;
    font-size: 10px;
    margin-right: 10px;
    margin-top: 15px;
    text-align: center;
}

.hp-email-signup-submit-button-container > button {
    margin: 0 auto;
}

.email-caret {
    border-color: transparent transparent transparent #fff;
    border-left: 7px solid #fff;
    border-right: 4px solid transparent;
    border-style: solid;
    border-width: 4px 4px 4px 7px;
    content: "";
    display: inline-block;
    height: 0;
    vertical-align: top;
    width: 0;
}
.footer-email-signup-btn > .email-caret {
    margin-left: 3px;
    margin-top: 3px;
}
.email-btn-container {
    text-align: center;
}
.email-btn {
    background: none repeat scroll 0 0 #fff;
    border: medium none;
    color: #000d42;
    cursor: pointer;
    display: inline-block;
    font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
    font-size: 12px;
    font-weight: 500;
    letter-spacing: 1px;
    line-height: 12px;
    margin: 0;
    padding: 5px 5px 5px 9px;
    text-transform: uppercase;
}
a.email-btn, a.email-btn:link, a.email-btn:visited, a.email-btn:active {
    color: #000d42 !important;
    position: relative;
    text-decoration: none !important;
    z-index: 50;
}
.email-caret {
    border-color: transparent transparent transparent #000d42;
    border-left: 7px solid #000d42;
    border-right: 4px solid transparent;
    border-style: solid;
    border-width: 4px 4px 4px 7px;
    content: "";
    display: inline-block;
    height: 0;
    vertical-align: top;
    width: 0;
}
.email-btn > .email-caret {
    margin-left: 4px;
    margin-top: 2px;
}

</style-->

<div class="footer-container-wrapper clearfix">

	<div id="footer-social" class="footerCol">
		<a href="/customerService/info.do?cid=2116" onclick="return wcdLib.contentItemLinkWithFacet(this,'','Footer_1_GC');"> 	
			<img id="footer-icons" class="leftCol" src="/Asset_Archive/GPWeb/content/0009/373/768/assets/020515_ALL_HP_US_footer_giftcards.png" alt="Gift Cards" border="0">
		</a>
		<a href="/browse/info.do?cid=96483" onclick="return wcdLib.contentItemLinkWithFacet(this,'','Footer_2_RIS');">
			<img id="footer-icons" class="leftCol" src="/Asset_Archive/GPWeb/content/0009/373/768/assets/020515_ALL_HP_US_footer_RIS.png" alt="Reserve in Store" border="0">
		</a>
		<a href="/browse/info.do?cid=1023051" onclick="return wcdLib.contentItemLinkWithFacet(this,'','Footer_3_WishList');">	
			<img id="footer-icons" class="leftCol" src="/Asset_Archive/GPWeb/content/0009/373/768/assets/020515_ALL_HP_US_footer_wishlist.png" alt="Wishlist" border="0">
		</a>
		<a href="javascript:void(0);" alt="click for more details" rel="jbox" data-jbox-url="/browse/info.do?cid=47471" data-jbox-width="500" data-jbox-height="450">
			<img id="footer-icons" class="leftCol" src="/Asset_Archive/GPWeb/content/0009/373/768/assets/020515_ALL_HP_US_footer_fsfr.png" alt="Free Returns" border="0">	
		</a>		 
	</div>
	<!-- EMAIL REGISTRATION -->
	<div id="footer-email" class="footerCol footerEmailMargin">

			<p class="footer-header">sign up for email &amp; <strong>get 25% off*</strong></p>

			<div class="hp-email-signup-form-container">
			<form name="joinEmail_gap" id="joinEmail_gap" action="https://secure-www.gap.com/profile/updateEmailPreferences.do" onsubmit="return validateFormGapFooter(this)" method="post">
				<input type="HIDDEN" value="GPUS" name="brand_country_code">
				<input type="HIDDEN" value="US_EN" name="lang_pref">
				<input type="HIDDEN" id="target_url" value="/profile/info.do?cid=53959&amp;mlink=5058,8095009,HP_Email_Signup&amp;clink=8095009" name="targetURL">
				<input type="HIDDEN" id="src_genGapFooter" value="WEBSITE EMAIL SIGNUP" name="src_gnrc_cd">
				<input type="HIDDEN" id="src_specGapFooter" value="GP=Site_Footer;BR=NA;ON=NA;PL=NA;AT=NA;BRFS=NA;GPO=NA" name="src_spfc_cd">
				<div style="overflow: hidden;">
					<div class="hp-email-signup-input-container">
						<label for="email" style="display:none;">Email Signup</label>
						<input id="email" name="email" size="39" maxlength="100" onfocus="setDefaultGapFooter(this);" onblur="clearDefaultGapFooter(this);" autocomplete="off" value="Email, please" type="text">
						<label for="confirm_email" style="display:none;">Confirm Email</label>
						<input id="confirm_email" class="last" name="confirm_email" size="39" maxlength="100" onfocus="setDefaultGapFooter(this);" onblur="clearDefaultGapFooter(this);" autocomplete="off" value="Confirm your email" type="text">
					</div>
					<div class="hp-email-signup-submit-button-container">
						<button class="email-btn" title="Sign Up Now">SIGN UP NOW <span class="email-caret"></span><span style="display:none;">Sign Up Now</span></button>
						<div class="offer-text">
							*Offer valid for first-time registrants only &amp; applies to regular price items only. <a onclick="return contentItemLink(this,'','emailreg');" href="/customerService/info.do?cid=2331" style="text-decoration: underline;">Privacy Policy</a>
						</div>
					</div>
				</div>
			</form>
		</div>
	</div>
	<!--END EMAIL REGISTRATION -->
	<div id="footer-cs" class="footerCol-last">
			<p class="footer-header">connect</p>
			<img id="footer-icons" src="/Asset_Archive/GPWeb/content/0009/373/768/assets/073114_HP_connecticons_footer.gif" alt="Social Media" border="0" usemap="#socialicons_map">
			 <map name="socialicons_map" id="socialicons_map">
              <area shape="rect" coords="0,3,28,26" href="http://www.facebook.com/Gap" alt="facebook" target="_blank">
              <area shape="rect" coords="44,2,76,27" href="http://www.twitter.com/gap" alt="twitter" target="_blank">
              <area shape="rect" coords="97,1,132,29" href="http://www.pinterest.com/Gap" alt="pinterest" target="_blank">
              <area shape="rect" coords="0,39,28,67" href="http://instagram.com/gap" alt="instagram" target="_blank">
              <area shape="rect" coords="43,39,79,67" href="http://www.gap.com/browse/info.do?cid=51767" alt="mobile" target="_blank">
              <area shape="rect" coords="93,38,140,68" href="http://gap.tumblr.com/" alt="tumblr" target="_blank">
            </map>

    		<p class="footer-header">need help?</p>
       		 	<ul class="cslinks">
       		 		<li class="footer-cs-header"><a href="/customerService/info.do?cid=2136" onclick="return contentItemLink(this,'','CS_Footer_CustomerService');">Customer Service</a></li>
       		 		<li><a href="/customerService/info.do?cid=81264" onclick="return contentItemLink(this,'','CS_Footer_Returns');">Returns</a></li>
       		 		<li>1.800.GAPSTYLE (1.800.427.7895)</li>
       		 		<li><a href="/customerService/storeLocator.do" onclick="return contentItemLink(this,'','CS_Footer_StoreLocator');">Store Locator</a></li>
       		 		<li><a href="/browse/info.do?cid=46079" onclick="return contentItemLink(this,'','CS_Footer_GapCard');"><img id="gapcard-images" src="/Asset_Archive/GPWeb/content/0009/373/768/assets/GapCard.png" alt="Gap Card" border="0"></a></li>
       		 		<li class="footer-cs-header"><a href="/browse/info.do?cid=46079" onclick="return contentItemLink(this,'','CS_Footer_GapCard');">GapCard</a></li>
       		 		<li><a href="https://eapply.gap.com/?cmpid=FTR_APL" target="_blank">Apply now and save today</a></li>
       		 		<li><a href="https://www.onlinecreditcenter6.com/consumergen2/login.do?subActionId=1008&amp;clientId=gap&amp;langId=en&amp;accountType=dualcard&amp;cmpid=FTR_ACTIV" target="_blank">Activate card</a></li>
       		 		<li><a href="/customerService/info.do?cid=44651" onclick="return contentItemLink(this,'','CS_Footer_ReviewYourCardBenefits');">Review your card benefits</a></li>
       		 		<li><a href="https://www3.onlinecreditcenter6.com/consumergen2/login.do?subActionId=1000&amp;clientId=gap&amp;langId=en&amp;accountType=plcc&amp;cmpid=FTR_MNG_ACT" target="_blank">Pay my bill</a></li>
       		 		<!-- <li><a href="http://www.gap.com/products/index.jsp">Site map</a></li> -->
       		 	</ul>
       		<p></p>
    	</div>
	</div>
</div>
<!--img src="/Asset_Archive/GPWeb/content/0009/373/768/assets/footer2.gif" alt=""-->

<script type="text/javascript">
/* NEW GOL EMAIL REG CODE */
function setDefaultGapFooter(elem) {
	if(elem.value==elem.defaultValue)elem.value='';
	$(elem).removeClassName('validationWarning');
}
function clearDefaultGapFooter(elem) {
	if(elem.value=='')elem.value=elem.defaultValue;
}

function validateFormGapFooter()
{
	// check form fields
	var form = $('joinEmail_gap');
	var sendForm = false;
	if (form.email) {
		var reg = /\b(^(\S+@).+((\.com)|(\.net)|(\.edu)|(\.mil)|(\.gov)|(\.org)|(\.aero)|(\.arpa)|(\.asia)|(\.biz)|(\.cat)|(\.coop)|(\.info)|(\.int)|(\.jobs)|(\.mobi)|(\.name)|(\.post)|(\.pro)|(\.tel)|(\.xxx)|(\..{2,2}))$)\b/gi;
		var email = form.email.value;
		var confirmEmail = form.confirm_email.value;
		
		function checkRequired() {
			var requiredFields = false;
			var warning = 'This field is required';
			if (form.email.value == form.email.defaultValue) {
				form.email.defaultValue = warning;
				form.email.value = warning;
				$(form).email.addClassName('validationWarning');
				requiredFields = false;
			} else {
				$(form).email.removeClassName('validationWarning');
				requiredFields = true;
			}
			if (form.confirm_email.value == form.confirm_email.defaultValue) {
				form.confirm_email.defaultValue = warning;
				form.confirm_email.value = warning;
				$(form).confirm_email.addClassName('validationWarning');
				requiredFields = false;
			} else if (requiredFields == false) {
				requiredFields = false;
			} else {
				$(form).confirm_email.removeClassName('validationWarning');
				requiredFields = true;
			}
			if (requiredFields == true) {
				sendForm = true;
				checkEmail();
			}
		}
		function checkEmail() {
			if (reg.test(email) == false) {
				var warning = 'Invalid Email Address';
				form.email.defaultValue = warning;
				form.email.value = warning;
				$(form).email.addClassName('validationWarning');
				sendForm = false;
			} else {
				$(form).email.removeClassName('validationWarning');
				sendForm = true;
				checkConfirmEmail();
			}
		}
		function checkConfirmEmail() {
			if (sendForm = true && email != confirmEmail) {
				var warning = 'Email Addresses Must Match';
				form.confirm_email.defaultValue = warning;
				form.confirm_email.value = warning;
				$(form).confirm_email.addClassName('validationWarning');
				sendForm = false;
			} else if (email == confirmEmail) {
				$(form).confirm_email.removeClassName('validationWarning');
				sendForm = true;
			}
		}
		checkRequired();
	}
	return sendForm;
}
</script>



</div>
<!-- END Content Item File: /content/0009/373/768/cn9373768.html -->
</div>
	<!--copyright-->
	<div id="textFooterLink2_10000516" class="clearfix"><!-- BEGIN Content Item File: /content/0008/692/698/cn8692698.html -->
<div id="contentItemContainer10000516" class="8692698">

<!-- Begin Pull Year from Personalization - DO NOT REMOVE est. 2014 -->
<script type="text/javascript">
document.observe('personalizationData:ready', function() {
	if( personalizationService.model.personalizationData.personalizationInfoV1.userContext.viewDate ) {
		var dateString = personalizationService.model.personalizationData.personalizationInfoV1.userContext.viewDate
		var currentYear = dateString.split("-",1);
		jQuery('#currentYearFooter').text(currentYear);
	}
});
</script>
<!-- End Pull Year from Personalization - DO NOT REMOVE est. 2014 -->

<div id="copyRightFooter" class="clearfix">
<!--copyright bottom footer-->
<p>© 1997 - <span id="currentYearFooter"></span> Gap Inc. | <a href="/customerService/info.do?cid=2331" onclick="return contentItemLink(this,'','CS_Footer_PrivacyPolicy');"><em>Privacy Policy</em></a> | <a href="http://www.gap.com/customerService/info.do?cid=2331&amp;mlink=5058,8118674,CS_Footer_PrivacyPolicy&amp;clink=8118674#interestAdvert">Interest Based Ads</a> | <a href="/customerService/info.do?cid=2331&amp;mlink=5058,5217025,CS_Footer_Returns_CA_Policy&amp;clink=5217025#caliRights">Your California Privacy Rights</a> | <a href="/customerService/info.do?cid=6754" onclick="return contentItemLink(this,'','CS_Footer_TermsOfUse');">Terms of Use</a> | <a href="http://www.gapinc.com/content/gapinc/html/careers.html" target="_blank">Careers</a> | <a href="http://gapinc.com/content/gapinc/html/social_responsibility.html" target="_blank">Social Responsibility</a> | <a href="http://www.gapinc.com/content/gapinc/html/aboutus.html" target="_blank">About Gap Inc.</a> </p>
<p><a href="/customerService/info.do?cid=1005563">Accessibility for Ontarians with Disabilities Act</a></p>
<p><a href="http://m.gap.com">gap.com mobile site</a></p>
</div>


</div>
<!-- END Content Item File: /content/0008/692/698/cn8692698.html -->
</div>

</div>

<div id="brandFooter_mobile"><a href="/customerService/info.do?cid=81264">Return Policy</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="/buy/info.do?cid=2020">Credit Card Safeguard</a></div>

<script type="text/javascript">
function adjustFooterWidth(elementsArray) {
  // get the width of the browser window viewport
  var viewport = document.viewport.getDimensions();
  var width = viewport.width;
  var elementsArrayLength = elementsArray.length;


  if (width >=1000) {

    // loop through the different elements
    // and set their width to the viewport width
    // then we offset the left position
    for(var i=0; i < elementsArrayLength; i++) {
      $(elementsArray[i]).setStyle({
        width: width + "px",
        //position: "relative",
        marginLeft: - (((width - 988)/2) - 1) + "px",
        overflow: "hidden"
      });
    }
  }
}
//span the full width of the window
var adjustFooterWidthArray = ["footer-background-wrapper"];

Event.observe(window, 'resize', function() {
	if( window["responsiveBagAbTestOn"] != null && ! responsiveBagAbTestOn ) {
	  adjustFooterWidth(adjustFooterWidthArray);
	}
});

jQuery(document).ready(function($) {
	if( window["responsiveBagAbTestOn"] != null && ! responsiveBagAbTestOn ) {
	  adjustFooterWidth(adjustFooterWidthArray);
	}
});
</script>

<script type="text/javascript">

// Responsive bag JS overrides
if( window["responsiveBagAbTestOn"] != null && responsiveBagAbTestOn ) {
	
	var wcdFooterResponsiveUpdate = function() {

		jQuery(document).ready( function() {
			//jQuery('#contentItemContainer10000512 > div, #contentItemContainer10000512 > div img, #contentItemContainer10000649 > div, #contentItemContainer10000515 > div, #emailSignUpFooter .for_ie7_div1, #emailSignUpFooter .for_ie7_div2').attr('style','');

			// jbox popups
			var edfsFooter = jQuery('#MapfooterNewEDFS area');
			var edfsPopupWidth = '472';
			var edfsPopupHeight = '450';
			if( jQuery(window).width() < 569 ) {
				//edfsPopupStr = '/Asset_Archive/GPWeb/content/0008/638/040/assets/edfs_popup.html';
				edfsPopupWidth = '300';
				edfsPopupHeight = '350';
			}
			
			if( edfsFooter.length > 0 ) {
				/*edfsFooter[0].onclick = function() {
					return gidLib.layeredPopup.openLayeredPopup({str:'/buy/info.do?cid=47471',id:'edfsPopup',width:472,height:410,style:{name:'universalPopup'}});
				}*/
				edfsFooter.attr({ 'onclick':'', 'rel':'jbox', 'data-jbox-url':'/buy/info.do?cid=35295', 'data-jbox-width':edfsPopupWidth, 'data-jbox-height':edfsPopupHeight });
				// rel="jbox" data-jbox-url="/buy/promo_legal_details.do?promoId=90166&locale=en_CA" data-jbox-width="500" data-jbox-height="450"
			}		
			jbox.checkDataAttributes();
		});

	}
	wcdFooterResponsiveUpdate();
	
}
</script>

</div>
</div>

<!-- Future Story Place holder #209 & #210-->
<div id="footer_GID_marketing">
	
</div>

<div id="footer_TextLinkNavigation">
	<div id="footer_brand_region2"><!-- @TemplateContentLayout(templateRegionName:"gid.common.siteWide.brand.footers.region2") -->
<div id="brandFooter_Region2">
		<div id="brandftr4_10000510" class="clearfix"><!-- BEGIN Content Item File: /content/0009/713/869/cn9713869.html -->
<div id="contentItemContainer10000510" class="9713869">

<style type="text/css">
/*GFOL FOOTER CSS */
#footer_brand_region2 { background-color: #FFFFFF;}

#gfol-footer {
	display:none;
	margin-left: 152px;
}
#gfol-ecom-footer{
	width: 838px;
/*	height:295px;*/
	overflow:hidden;
	position: relative;
	
}
#gfol-csFooter { font-size: 10px; color: #666666; margin-bottom: 10px; margin-top: 10px; text-align: center; width: 838px;border-top: 1px solid #666666; padding-top: 10px;}
#gfol-copyRightFooter{ font-size: 10px; color: #666666; margin-bottom: 10px; margin-top: 10px; text-align: center; width: 838px;/*border-top: 1px solid #666666;*/ padding-top: 10px;}
#gfol-copyRightFooter p, #gfol-csFooter p {color: #666666; line-height: 14px;} 
#gfol-csFooter a:link, #gfol-csFooter a:visited, #gfol-csFooter a:active { color: #666666; }
#gfol-copyRightFooter a:link, #gfol-copyRightFooter a:visited, #gfol-copyRightFooter a:active { color: #666666; }
#gfol-freeship{position: relative;float:left;}
#gfol-email-sign-up{
	float:left;
	position: relative;
	width:422px; 
	height:206px;
}
#gfol-storelocator{
	float:left;
	position: relative;
	width:416px;
	height:206px;
}

.gfol-email-btn {
	background: none repeat scroll 0 0 #fff;
    border: medium none;
    color: #000d42;
    cursor: pointer;
    display: inline-block;
    font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
    font-size: 12px;
    font-weight: 500;
    letter-spacing: 1px;
    line-height: 12px;
    margin: 0;
    padding: 5px 5px 5px 0px;
    text-transform: uppercase;
}

.gfol-email-btn > .gfol-email-caret {
/*    margin-left: 4px;*/
    margin-top: 2px;
}
.gfol-email-caret {
    border-color: transparent transparent transparent #000d42;
    border-style: solid;
    border-width: 4px 4px 4px 7px;
    content: "";
    display: inline-block;
    height: 0;
    vertical-align: top;
    width: 0;
}

#joinEmailGFOL input.validationWarning {
    color: #ff0000;
    font-weight: bold;
}
#searchDexFooter .expFooter{
	padding-left: 152px;
}
</style>

<!-- Begin Pull Year from Personalization - DO NOT REMOVE est. 2014 -->
<script type="text/javascript">
document.observe('personalizationData:ready', function() {
	if( personalizationService.model.personalizationData.personalizationInfoV1.userContext.viewDate ) {
		var dateString = personalizationService.model.personalizationData.personalizationInfoV1.userContext.viewDate
		var currentYear = dateString.split("-",1);
		jQuery('#gfol-currentYearFooter').text(currentYear);
	}
});
</script>
<!-- End Pull Year from Personalization - DO NOT REMOVE est. 2014 -->
<div id="gfol-footer" class="clearfix">
	<div id="gfol-ecom-footer" class="clearfix">
		<div id="gfol-freeship">
			<!-- <a onclick="return gidLib.layeredPopup.openLayeredPopup({str:'/browse/info.do?cid=47471',id:'edfsPopup',width:472,height:410,style:{name:'universalPopup'}});" href="#edfs"> -->
				<img id="" src="/Asset_Archive/GPWeb/content/0009/713/869/assets/GFS_HP_LimitedOnline_FreeShipping_Bottom.gif" alt="free shipping on all orders over $50. free returns on all orders. details." usemap="#MapReturn">
				<map name="MapReturn" id="MapReturn">
	              <area shape="rect" coords="462,95,838,148" href="http://www.gap.com//customerService/info.do?cid=81264" alt="warm welcome" onclick="return wcdLib.contentItemLinkWithFacet(this,'','');">
	              <area shape="rect" coords="1,97,465,148" onclick="return gidLib.layeredPopup.openLayeredPopup({str:'/browse/info.do?cid=47471',id:'edfsPopup',width:472,height:410,style:{name:'universalPopup'}});" href="#edfs">

	            </map>
	<!-- 		</a> -->
		</div>
		<div id="gfol-email-sign-up">
			<img id="" src="/Asset_Archive/GPWeb/content/0009/713/869/assets/GFS_HP_EMAIL.gif" alt="sign up for email">
			<!--start: ecom gfol email form -->
			      <form method="post" action="https://secure-www.gap.com/profile/updateEmailPreferences.do" onsubmit="return validateFormGFOL(this);" id="joinEmailGFOL" name="joinEmailGFOL">
			      	<input type="HIDDEN" name="brand_country_code" value="GPUSO">
			  		<input type="HIDDEN" name="lang_pref" value="US_EN">
			 		<input type="HIDDEN" name="targetURL" value="/profile/info.do?cid=63678&amp;mlink=48620,5240179,email_v&amp;clink=5240179" id="target_url">
			  		<input type="HIDDEN" name="src_gnrc_cd" value="WEBSITE EMAIL SIGNUP" id="src_gen">
			  		<input type="HIDDEN" name="src_spfc_cd" value="GP=N/A;BR=N/A;ON=N/A;PL=N/A;AT=N/A;GFS=N/A;GPO=GO Site_Footer_OutletSignUp_Ecom" id="src_spec">
			        <div style="width: 400px; position: absolute; left: 14px; top: 130px;" id="gfol-email-form">
			          <div style="width:180px; height:29px;float:left;">
			            <label for="gfol-emailOutletAddr2" style="display:none;">Email Signup</label>
						<input type="text" style="font-size: 9px; width: 170px; height: 20px;" maxlength="125" value="*First time registrants only" onblur="clearDefaultGFOL(this);" onfocus="setDefaultGFOL(this);" name="email" id="gfol-emailOutletAddr2">
			          </div>
			          <div style="width:180px; height:29px;float:left;margin-left:10px">
						<label for="gfol-emailOutletAddr" style="display:none;">Confirm Email</label>
			            <input type="text" style="font-size: 9px; width: 170px; height: 20px;" maxlength="125" value="Confirm your email address" onblur="clearDefaultGFOL(this);" onfocus="setDefaultGFOL(this);" name="confirm_email" id="gfol-emailOutletAddr">
			          </div>
			          <div style="float: left; width: 20px; height: 20px;">
			          	<button type="submit" class="gfol-email-btn" title="Submit"><span class="gfol-email-caret"></span><span style="display:none;">Sign Up Now</span></button>
			            <!--input type="image" style="margin-left:7px; margin-top: 3px;" title="sign up now" alt="Sign up now" value="submit" id="addressOutlet" src="/Asset_Archive/GPWeb/content/0008/932/614/assets/2348_GO_Landing_Page_Update_signup_button.png"-->
			          </div>
			        </div>
			      </form>
			<!--end: ecom gfol email form -->
		</div>
		<div id="gfol-storelocator">
				<img id="" src="/Asset_Archive/GPWeb/content/0009/713/869/assets/GFS_HP_STORE-LOCATOR.gif" alt="store locator" border="0" usemap="#storeLocatorMap">
				<map name="storeLocatorMap" id="storeLocatorMap">
                  <area shape="rect" coords="219,4,416,206" href="/customerService/storeLocator.do?showOutlets=true" onclick="return wcdLib.contentItemLinkWithFacet(this,'','GFOL_storeLocator');" alt="find a store">
                  <area shape="rect" coords="1,2,218,206" href="/Asset_Archive/GPWeb/content/0009/713/869/assets/GFOL_deals_footer.pdf" target="_blank" alt="print coupon">
                </map>
		</div>
	</div>

	<div id="gfol-csFooter" class="clearfix">
	<!--gfol cs footer-->
		<a href="/customerService/info.do?cid=2136" onclick="return contentItemLink(this,'','GFOL_Footer_CustomerService');">Customer Service</a> | <a href="http://www.gap.com//customerService/info.do?cid=81264" onclick="return contentItemLink(this,'','GFOL_Footer_Returns');">Returns</a> | 1.844.GFS-ONLINE (1.844.437.6654) | <a href="/customerService/storeLocator.do" onclick="return contentItemLink(this,'','GFOL_Footer_StoreLocator');">Store Locator</a> | <a href="/browse/info.do?cid=46079" onclick="return contentItemLink(this,'','GFOL_Footer_GapCard');">GapCard</a> | <a href="https://eapply.gap.com/eapplygen2/load.do?cHash=711671167&amp;subActionId=1000&amp;cmpid=FTR_APL&amp;siteCode=FTR_APL" target="_blank">Apply now and save today</a> | <a href="https://www.onlinecreditcenter6.com/consumergen2/login.do?subActionId=1008&amp;clientId=gap&amp;langId=en&amp;accountType=dualcard&amp;cmpid=FTR_ACTIV" target="_blank">Activate card</a> | <a href="/customerService/info.do?cid=44651" onclick="return contentItemLink(this,'','GFOL_Footer_CardBenefits');">Review your card benefits</a> | <a href="https://www3.onlinecreditcenter6.com/consumergen2/login.do?subActionId=1000&amp;clientId=gap&amp;langId=en&amp;accountType=plcc&amp;cmpid=FTR_MNG_ACT" target="_blank">Pay my bill</a> | <a href="/customerService/info.do?cid=44651" onclick="return contentItemLink(this,'','GFOL_Footer_CardBenefits');">Review your card benefits</a> | <a href="http://www.gap.com/products/index.jsp">Site map</a><p></p>
	</div>

	<div id="gfol-copyRightFooter" class="clearfix">
	<!--copyright bottom footer-->
		<p>© 1997 - <span id="gfol-currentYearFooter"></span> Gap Inc. | <a href="/customerService/info.do?cid=2331" onclick="return contentItemLink(this,'','CS_Footer_PrivacyPolicy');"><em>Privacy Policy</em></a> | <a href="http://www.gap.com/customerService/info.do?cid=2331&amp;mlink=5058,8118674,CS_Footer_PrivacyPolicy&amp;clink=8118674#interestAdvert">Interest Based Ads</a> | <a href="/customerService/info.do?cid=2331&amp;mlink=5058,5217025,CS_Footer_Returns_CA_Policy&amp;clink=5217025#caliRights">Your California Privacy Rights</a> | <a href="/customerService/info.do?cid=6754" onclick="return contentItemLink(this,'','CS_Footer_TermsOfUse');">Terms of Use</a> | <a href="http://www.gapinc.com/content/gapinc/html/careers.html" target="_blank">Careers</a> | <a href="http://gapinc.com/content/gapinc/html/social_responsibility.html" target="_blank">Social Responsibility</a> | <a href="http://www.gapinc.com/content/gapinc/html/aboutus.html" target="_blank">About Gap Inc.</a> </p>
		<p><a href="/customerService/info.do?cid=1005563">Accessibility for Ontarians with Disabilities Act</a></p>
		<p><a href="http://m.gap.com">gap.com mobile site</a></p>
	</div>
</div>
<script type="text/javascript">
function setDefaultGFOL(elem) {
	if(elem.value==elem.defaultValue)elem.value='';
	$(elem).removeClassName('validationWarning');
}
function clearDefaultGFOL(elem) {
	if(elem.value=='')elem.value=elem.defaultValue;
}

function validateFormGFOL()
{
	// check form fields
	var form = $('joinEmailGFOL');
	var sendForm = false;
	if (form.email) {
		var reg = /\b(^(\S+@).+((\.com)|(\.net)|(\.edu)|(\.mil)|(\.gov)|(\.org)|(\.aero)|(\.arpa)|(\.asia)|(\.biz)|(\.cat)|(\.coop)|(\.info)|(\.int)|(\.jobs)|(\.mobi)|(\.name)|(\.post)|(\.pro)|(\.tel)|(\.xxx)|(\..{2,2}))$)\b/gi;
		var email = form.email.value;
		var confirmEmail = form.confirm_email.value;
		
		function checkRequired() {
			var requiredFields = false;
			var warning = 'This field is required';
			if (form.email.value == form.email.defaultValue) {
				form.email.defaultValue = warning;
				form.email.value = warning;
				$(form).email.addClassName('validationWarning');
				requiredFields = false;
			} else {
				$(form).email.removeClassName('validationWarning');
				requiredFields = true;
			}
			if (form.confirm_email.value == form.confirm_email.defaultValue) {
				form.confirm_email.defaultValue = warning;
				form.confirm_email.value = warning;
				$(form).confirm_email.addClassName('validationWarning');
				requiredFields = false;
			} else if (requiredFields == false) {
				requiredFields = false;
			} else {
				$(form).confirm_email.removeClassName('validationWarning');
				requiredFields = true;
			}
			if (requiredFields == true) {
				sendForm = true;
				checkEmail();
			}
		}
		function checkEmail() {
			if (reg.test(email) == false) {
				var warning = 'Invalid Email Address';
				form.email.defaultValue = warning;
				form.email.value = warning;
				$(form).email.addClassName('validationWarning');
				sendForm = false;
			} else {
				$(form).email.removeClassName('validationWarning');
				sendForm = true;
				checkConfirmEmail();
			}
		}
		function checkConfirmEmail() {
			if (sendForm = true && email != confirmEmail) {
				var warning = 'Email Addresses Must Match';
				form.confirm_email.defaultValue = warning;
				form.confirm_email.value = warning;
				$(form).confirm_email.addClassName('validationWarning');
				sendForm = false;
			} else if (email == gfol_onfirmEmail) {
				$(form).confirm_email.removeClassName('validationWarning');
				sendForm = true;
			}
		}
		checkRequired();
	}
	return sendForm;
}
</script>


</div>
<!-- END Content Item File: /content/0009/713/869/cn9713869.html -->
</div>
		<div id="brandftr5_10000511" class="clearfix"></div>
</div>

</div>
</div>
<div id="footer_languageToggle">
	
</div>


<div id="footer_preferLocaleLanguageOptions">
	
</div>


<div id="footer_Region3">
	<div id="footer_brand_region3"></div>
</div>

	
	





	
		
	
	
			


	
			
			
	
	
	
	








	

	
	





	
		
	
	
			


	
			
			
	
	
	
	














        </div>
    

    

    




	
		
	
	
			


	
			
			
	
	
	
	








	
		
		
			
		
	

	


<div class="cssHide">
	
	
	<script type="text/javascript" src="/gid/js/common/layouts/en/reporting/sCode.js"></script>
	 <script type="text/javascript">
	   reportingService.controller.viewManagers.commonViewManager.model.contentItemIdListReport = "9512735,9058692,9700385,9151488,8953904,9726480,9713869,9718495,9735263,9715160,9715363,9736110,9717318,9409544,9373768,8692698";
	 </script>
	
	<noscript>
		
			<img src="http://gapnojavaproduction.112.2o7.net/b/ss/gapnojavaproduction?pageName=gp%3AcustomerService&amp;g=" alt="" />
		
	</noscript>
</div>	

	
 

    




	
		
	
	
			


	
			
			
	
	
	
	









	
		
			<script type="text/javascript">
				document.write('<div id="noCookie" class="siteError">');
				document.write('<p id="noCookieText" class="supportErrorText">');
				document.write('Please enable cookies in your browser to experience all the custom features of our site, including the ability to make a purchase. ');
				document.write('</p>');
				document.write('</div>');
			</script><div id="noCookie" class="siteError"><p id="noCookieText" class="supportErrorText">Please enable cookies in your browser to experience all the custom features of our site, including the ability to make a purchase. </p></div>
		
		
	
	<noscript>
		<div id="noScript" class="siteError">
			<p id="noScriptText" class="supportErrorText">
				Please
				<a href="/customerService/info.do?cid=000000">enable JavaScript</a>
				in your browser to experience all the custom features of our site, including the ability to make a purchase.
			</p>
			
				<p id="noCookieText" class="supportErrorText">
					Please enable cookies in your browser to experience all the custom features of our site, including the ability to make a purchase.
				</p>
			
		</div>
	</noscript>
    




	
		
	
	
			


	
			
			
	
	
	
	








<div id="popupLayeredContent" class="cssHide2"></div>
<div id="quickLookWindow"></div>
<img src="/assets/common/clear.gif" id="quickLookLauncher" alt="QuickLook" onclick="quickLook.launchQuickLook();" onmouseover="setImgSrc(this,'/gid/assets/common/quicklook/en_US/button_quicklook_launcher_over.gif');" onmouseout="setImgSrc(this,'/gid/assets/common/quicklook/en_US/button_quicklook_launcher_on.gif');" onmousedown="setImgSrc(this,'/gid/assets/common/quicklook/en_US/button_quicklook_launcher_down.gif');" style="cursor: pointer;" class="cssHide2">
	
<div id="dragLayer">
	<div id="dragBox">
	    <img id="dragImg" src="/assets/common/clear.gif">
	</div>
</div>

<div id="zoomLayer"><img id="zoomImg" src="/assets/common/clear.gif"></div>


<div id="productColorError" class="cssHide2 productError" style="display:none;">
	<div id="productColorErrorMain" class="">select</div>
	<div id="productColorErrorArrow" class=""></div>
</div>
<div id="productSizeDimension1Error" class="cssHide2 productError" style="display:none;">
	<div id="productSizeDimension1ErrorMain" class="">select</div>
	<div id="productSizeDimension1ErrorArrow" class=""></div>
</div>
<div id="productSizeDimension2Error" class="cssHide2 productError" style="display:none;">
	<div id="productSizeDimension2ErrorMain" class="">select</div>
	<div id="productSizeDimension2ErrorArrow" class=""></div>
</div>

<div id="productBagError" class="cssHide2"></div>
<div id="productSoldOutMsg" class="cssHide2"></div>
<div id="productOnOrderMsg" class="cssHide2"></div>
<div id="productAjaxLoader" class="cssHide2"></div>
<div id="outfitProductAjaxLoader" class="cssHide2"></div>
<div id="inlineBagAjaxLoader" class="cssHide2">
<div id="inlineShoppingBagDataLoaderContainer"></div>
<div id="inlineShoppingBagDataMarketingContainer"></div>
</div>

<div id="watirDebug" class="cssHide2">
	<div id="debugAjaxStatus"></div>
	<div id="debugModules"></div>
</div>

	




	
		
	
	
			


	
			
			
	
	
	
	








<div id="modalWindow" style="letter-spacing: 0em;" data-bind="template: {name: modal.modalTemplate, data: modal.modalData}" class="onesite modal fade insitu-bag"></div>


<script type="text/html" id="testModal-template">

  <h1>Example header</h1>

</script>

<script type="text/html" id="addToBag-template">
  <div class="modal-dialog">
    <div class="modal-content">
      <div tabindex="1" id="screenreader" aria-labeledby="modalTitle" class="modal-header pd_right_0-75 pd_left_0-75 pd_top pd">
        <button type="button" class="close right tx_2-00 g-1-24" data-dismiss="modal" aria-label="close">
          <span aria-hidden="true">&times;</span><span class="sr-only"></span>
        </button>
        <h4 id="modalTitle" tabindex="1" class="tx_bold grey g-11-12">Added to your bag</h4>
      </div>

      <div class="modal-body pd_top_0-75 pd_right_0-75 pd_left_0-75" data-bind="foreach: data.inlineBagModelData.inlineBagItems">
        <div tabindex='1' class="product-container g-1-1">
          <a tabindex="-1" data-bind="attr: {href: productLink }">
            <img class="g-1-6 left border-box hide-at-md product-img"  data-bind="attr: {src: '/' + siImageURI, alt: styleDescription }">
          </a>
          <div class="g-lg-5-6 g-1-1 border-box right info-content">

            <div class="g-lg-2-3 g-1-1 sp_sm ">
              <a id="productTitle" tabindex="-1" data-bind="attr: {href: productLink }">
                <h4 class="tx_bold black sp_sm overflow-ellipses" data-bind="html: styleDescription"></h4>
              </a>
              <div class="tx_sm light-grey insitu-sku" data-bind="text: '#'+sku"></div>
            </div>
            <div class="g-lg-1-3 g-1-1 sp_sm border-box price-container insitu-price">
              <!-- ko if: shouldShowSalePrice -->
              <h4 aria-hidden="true" class="tx_bold insitu--price original_price light-grey sp_right_sm" data-bind="text: listPrice"></h4>
              <h4 class="tx_bold insitu--price gap-inc-orange" data-bind="text: sellPrice"></h4>
              <!-- /ko -->
              <!-- ko if: !shouldShowSalePrice -->
              <h4 class="tx_bold black insitu--price" data-bind="text: listPrice"></h4>
              <!-- /ko -->
            </div>
            <ul id="productDetails">
              <li class="sp_sm">
                <span class="product-attr light-grey">Color:</span>
                <span class="black" data-bind="text: colorDescription"></span>
              </li>
              <li class="sp_sm">
                <span class="product-attr light-grey">Size:</span>
                <span class="black" data-bind="text: skuDescription"></span>
              </li>
              <li>
                <span class="product-attr light-grey">Qty:</span>
                <span class="black" data-bind="text: quantity"></span>
              </li>
            </ul>
          </div>
        </div>
        <!-- ko if: inventoryLevel === '4' -->
        <div class="g-1-1 sp_top_sm">
          <span class="icon-info-red-outer">
            <span class="icon-info-red">
              <span class="visually-hidden">alert</span>
              </span>
          </span>
          <span class="tx_sm alert-red" data-bind="html: onOrderMessage + ' ' + estimatedShipDate"></span>
        </div>
        <!-- /ko -->
        <hr aria-hidden="true">
      </div>

      <div class="modal-footer pd_0-75 pd_right_0-75 pd_left_0-75">

        <div class="g-1-1 sp_sm">
          <div class="left g-1-2 border-box tx_left black tx_bold">

            <span data-bind="if: data.inlineBagModelData.itemCount === '1' ">
              <span>1 item in bag</span>
            </span>
            <span data-bind="if: +data.inlineBagModelData.itemCount > 1 ">
              <span data-bind="text: '%1 items in bag'.replace('%1', data.inlineBagModelData.itemCount) "></span>
            </span>

          </div>
          <div class="right g-1-2 border-box tx_right black tx_bold" data-bind="text: 'Subtotal: ' + data.inlineBagModelData.subTotal">
          </div>
        </div>

        <div class="left g-1-1">
          <div class="g-1-2 border-box left pd_right_sm">
            <button type="button" class="btn grey-bg tx_bold" data-dismiss="modal">
              keep shopping
            </button>
          </div>

          <div class="g-1-2 border-box pd_left_sm">
            <a tabindex="-1" href="#" data-bind="attr: {href: data.checkoutUrl}, click: function() {window.location=data.checkoutUrl;}" class="insitu-checkout">
              <button type="button" class="btn gap-inc-orange-bg tx_bold">
                checkout
                <span class="icon-right-chevron-white-outer">
                  <span class="icon-right-chevron-white"></span>
                </span>
              </button>
            </a>
          </div>
        </div>

        <!--
        <div class="g-1-1 vvm tx_left sp_top_sm pd_all border-box">
          Virtual Value Message Area: FPO Redeem Your $20 in Rewards
        </div>
        -->

      </div>
    </div>
  </div>

</script>



  <div class="onesite">
    <!-- ko if: universalModal.isModalVisible -->
  <div data-bind="with: universalModal">
    <div class="universal-modal" data-bind="
      css: {
        'show-modal': isModalVisible
      }
    ">
      <div class="modal--header" data-bind="css:{ 'modal--header_no-title': hasTitle() }">
        <span data-bind="text: templateData().title"></span>
        <a class="modal--close-button" data-bind="click: closeModal" href=""></a>
      </div>
      <div data-bind="template: {name: templateName, data: templateData()}" class="modal--content"></div>
    </div>
    <div class="universal-modal--backdrop" data-bind="
      css: {
        'show-modal': isModalVisible
      },
      click: closeModal
    "></div>
  </div>
<!-- /ko -->

<script type="template/handlebars" id="modal-iframe-template">
  <iframe id="iframe" data-bind="attr: {src: url}"></iframe>
</script>

  </div>



<script src="/Asset_Archive/static-content/build/vendor/vendor-common.js"></script>
<script src="/Asset_Archive/static-content/build/js/gap-common.js"></script>


	




	
		
	
	
			


	
			
			
	
	
	
	







<div id="siteWideBusinessCodeBody"><!-- @TemplateContentLayout(templateRegionName:"gid.common.siteWide.businessCode.regionBottom") -->
<!-- start onesite-611-->
<script type="text/html" id="onesite-brandbar">
  <div id="smBPLogo" class="newSmBPLogo needsclick">
    <a href="/" class="needsclick">
      <img src="/content/static-preview/grunticon-logos/png/gap.png" alt="gap home" class="needsclick"/>
    </a>
  </div>

  <div class="static-edfs onesite">
    <!-- BEGIN - WCD Sitewide Container 19 -->
    <!-- BEGIN Content Item File: /content/0009/058/692/cn9058692.html -->
<div id="contentItemContainer212630" class="9058692" >

<div id="sm_bp_edfs_banner"><a href="#edfs" onclick="" rel="jbox" data-jbox-url="/buy/info.do?cid=47471" data-jbox-width="300" data-jbox-height="350" class="needsclick"><img src="/content/static/edfs/gol/gap_us.png" alt="Free shipping on all orders over $50. Free returns on all orders." width="100%" class="needsclick" /></a></div>


</div>
<!-- END Content Item File: /content/0009/058/692/cn9058692.html -->

    <!-- END - WCD Sitewide Container 19 -->
  </div> 

</script>
<!-- end onesite-611-->
<style>
/* new edfs banner */
.static-edfs { display:none; margin-bottom: 1em;}
/*#responsiveUniversalBar > .limit-width, 
#responsiveUniversalBar > .edfs_for-sm { display: none; } // TAKE THIS OUT
 #smBPLogo {height: 37px;margin-left: auto;margin-right: auto; width: 249px;} */
#smBPLogo {text-align: center; max-width: 177px; margin: 0.4em auto;}

.breakpoint-medium .newSmBPLogo, .breakpoint-small .newSmBPLogo,
.breakpoint-medium .static-edfs, .breakpoint-small .static-edfs { display: block;}

.breakpoint-large .newSmBPLogo, .breakpoint-large .newSmBPLogo,
.breakpoint-large .static-edfs, .breakpoint-large .static-edfs,
.breakpoint-xlarge .newSmBPLogo, .breakpoint-xlarge .newSmBPLogo,
.breakpoint-xlarge .static-edfs, .breakpoint-xlarge .static-edfs { display: none;}

.breakpoint-medium #universalBar, .breakpoint-small #universalBar,
.breakpoint-medium #storeLogoContainer, .breakpoint-small #storeLogoContainer {display:none !important; height: 0px;}
</style>

<script>
(function($) {
  /* this is for the static edfs, logo and hiding universal bar in s bp*/

  $(function () {
    var shouldCare = /(order|orderConfirm|shopping_bag)\.do/.test(window.location.pathname) && $('.newSmBPLogo').length == 0,
      universalBar;
    if(shouldCare) {
      universalBar = $('#universalBar')[0] || $('#responsiveUniversalBar')[0];
      $($("#onesite-brandbar").text())
      .insertAfter(universalBar);
    }

  });

})(jQuery);
</script><!-- 02/1715 -->





<!-- BEGIN - WCD Sitewide Container 16 -->

<!-- END - WCD Sitewide Container 16 -->

<!-- BEGIN - WCD Sitewide Container 17 -->
<!-- BEGIN Content Item File: /content/0009/700/385/cn9700385.html -->
<div id="contentItemContainer212632" class="9700385">

<!-- *************** Matt's Overlay A/B Test*****************  -->
<map name="gapOverlayMap">
<area href="/" alt="Gap" coords="5,2,139,151">
<area href="/browse/subDivision.do?cid=5646" alt="Women" coords="148,27,260,138">
<area href="/browse/subDivision.do?cid=83062" alt="GapFit" coords="266,26,377,140">
<area href="/browse/division.do?cid=5997" alt="Maternity" coords="385,29,505,139">
<area href="/browse/subDivision.do?cid=5065" alt="Men" coords="511,31,614,138">
<area href="/browse/subDivision.do?cid=6256" alt="Girls" coords="619,30,714,138">
<area href="/browse/subDivision.do?cid=6172" alt="Boys" coords="719,26,823,142">
<area href="/browse/subDivision.do?cid=6413" alt="Toddler" coords="830,28,934,143">
<area href="/browse/subDivision.do?cid=6487" alt="Baby" coords="939,25,1048,143">
</map>

<!-- ********************end of Matt's Overlay A/B Test************************* -->




<!-- CIID: 7952694 US GP 05_30_2014-->
<!-- VV override - contains content for VV disruptor -->
<style type="text/css">

/* Start Banner Discount Message Styles CSS*/
.vvParentContainerClass {position: relative; 
	font-size:0px; 
	z-index: 60; 
	height: 0px; 
	width: 212px; 
	color:#FFFFFF; 
	overflow: hidden;
	}

.offersOnlyBannerClass {background-image: url("/Asset_Archive/GPWeb/content/0009/700/385/assets/OffersOnly_212x27_blue.png"); /*if Brand has specific OFFERS insert Brand specific Offers banner*/
	background-repeat: no-repeat;
	display: block;     
	height: 20px;
	width: 212px;
	}
 .offersOnlyBannerAmtStyle {display:none;margin: 0 0 0 55px; padding-top: 4px; text-align: center; width: 45px}
    
.offersAndRewardsBannerClass {background-image: url("/Asset_Archive/GPWeb/content/0009/700/385/assets/RewardsOffers_212x27_blue.png");  /*if Brand has specific OFFERS AND REWARDS insert Brand specific OFFERS AND REWARDS  banner*/
	background-repeat: no-repeat;
	display: block;
	height: 27px;
	width: 212px;
	}
.offersAndRewardsBannerAmtStyle {display:block; color: #FFFFFF;margin: 0 0 0 46px; padding-top: 5px; text-align: center; width: 45px}
    
.rewardsOnlyBannerClass {background-image: url("/Asset_Archive/GPWeb/content/0009/700/385/assets/RewardsOnly_212x27.gif");
	background-repeat: no-repeat;
	display: block;
	height: 27px;
	width: 212px;
	}
    .rewardsOnlyBannerAmtStyle {display:block;margin: 0 0 0 87px; padding-top: 4px; text-align: center; width: 45px}
   /* END Banner Discount Message CSS*/ 
   
   /* Start Disrupter Styles CSS*/

.offersOnlyFlyOutClass {background-image: url("/Asset_Archive/GPWeb/content/0009/700/385/assets/VV-GapCashOffersOnly_violator_blue.png");
	color: #FFFFFF;
	font-size: 0;
	height: 100%;
	overflow: hidden;
	position: absolute;
	width: 212px;
	z-index: 60;
	}
    
  .offersAndRewardsFlyOutClass {background-image: url("/Asset_Archive/GPWeb/content/0009/700/385/assets/VV-RewardsOffers-violator_blue.png");
	color: #FFFFFF;
	font-size: 0;
	height: 100%;
	overflow: hidden;
	position: absolute;
	width: 212px;
	z-index: 60;
}

.rewardsOnlyFlyOutClass {background-image: url("/Asset_Archive/GPWeb/content/0009/700/385/assets/VV-RewardOnly-violator.png");
	color: #FFFFFF;
	font-size: 0;
	height: 100%;
	overflow: hidden;
	position: absolute;
	width: 212px;
	z-index: 60;
	}
   /* END Disrupter Style CSS*/
   
</style>

<script type="text/javascript">

/* Add the custom prototype events to the jQuery so we can use jQuery to observe these events:
 * - categoryFacetedSearchGrid:ready
 * - productPage:ready
 * - filterTools:ready
 */
(function( $ ) {
 	$.each(['personalizationData:ready','categoryFacetedSearchGrid:ready','productPage:ready','filterTools:ready'], function(index,eventName) {
 		document.observe(eventName,function(){ 
 			$(document).trigger(eventName);
 		});
 	});
})( jQuery );

var wcd_VV = function() {

var psRewardsOffers = false;  //note: BOOLEAN
var psVvAmtStyle = ''; //style VV AMOUNT
var psVvAmtStyleDsrpt = 'none'; //style VV AMOUNT

	//if ( (personalizationService.model.personalizationData.personalizationInfoV1.customerAttributes) && (parseInt(personalizationService.model.personalizationData.personalizationInfoV1.customerAttributes.totalRewardValue) > 0) ) {
if (jQuery(personalizationService.model.personalizationData.personalizationInfoV1.customerAttributes).length == 1){
		
	//Check for Brand ID in personalizationService and IF true equal to this BRAND_CODE set thisBrandOfferAvailable = true;
		var offersAvailable;
		var currentBrand;
		var thisBrandOfferAvailable;

		currentBrand = brandConst.BRAND_CODE.toString();
		offersAvailable = personalizationService.model.personalizationData.personalizationInfoV1.customerAttributes.offerBrands;
		offersAvailable.split(',');
		if (jQuery.inArray(currentBrand, offersAvailable) != -1) {
		    thisBrandOfferAvailable = true;
		} else {
		    thisBrandOfferAvailable = false;
		}
		//console.info(thisBrandOfferAvailable);
		
	//End Check for Brand ID and set offersForThisBrand = true;
		
	    var psRewards = false;
		if (parseInt(personalizationService.model.personalizationData.personalizationInfoV1.customerAttributes.totalRewardValue) > 0) {
		psRewards = true};

		var psOffersOnly = 'false';
		if (personalizationService.model.personalizationData.personalizationInfoV1.customerAttributes.hasOffers=="true" && thisBrandOfferAvailable == true ) {
		psOffersOnly = "true";}; ;  //note: STRING
		
		//var psRewardsOffers = false;  //note: BOOLEAN
		if(psRewards == true && psOffersOnly == 'true' && thisBrandOfferAvailable == true){psRewardsOffers = true;};  //set var for rewards and Offers - true or false

//Define Display Styles:  Rewards Only:	
if (psRewards == true){
	psVvAmtStyle = "rewardsOnlyBannerAmtStyle";  
	psVvAmtStyleDsrpt = "block";
	bannerClass = "rewardsOnlyBannerClass";
	discruptorClass = "rewardsOnlyFlyOutClass";
	}

//Define Display Styles:  Offers Only:		 
	if(psOffersOnly == 'true' && psRewardsOffers != true){
	psVvAmtStyle = "offersOnlyBannerAmtStyle";
	psVvAmtStyleDsrpt = "none";
	bannerClass = "offersOnlyBannerClass";
	discruptorClass = "offersOnlyFlyOutClass";
	} 
	
//Define Display Styles:  Rewards and Offers:
	if(psRewardsOffers == true && psOffersOnly == 'true'){
	psVvAmtStyle = "offersAndRewardsBannerAmtStyle";
	psVvAmtStyleDsrpt = "block";
	bannerClass = "offersAndRewardsBannerClass";
	discruptorClass = "offersAndRewardsFlyOutClass";
	} 

//console.info("VV Exists!");		
			
		// check for and setup the disruptor
		var disruptorVal = gidLib.getCookieVar("mktGlobalSession","vvdisruptorvalue");
		var value = 1;

// if wcdBrandDisrupterDidFire var not present assume false.
		if(typeof wcdBrandDisrupterDidFire == 'undefined') {
			wcdBrandDisrupterDidFire = false;
		}
		if ( (location.href.indexOf("category.do") < 0) && (location.href.indexOf("account_rewards_summary.do") < 0) && (location.href.indexOf("account_summary.do") < 0) && (!wcdBrandDisrupterDidFire) ){ // do not show disruptor if on a category page or account summary page
			if (disruptorVal == "" && psRewards == true || disruptorVal == "" && psOffersOnly == 'true' && psRewardsOffers != true || disruptorVal == "" && psRewardsOffers == true && psOffersOnly == 'true' ) {	// show disruptor only three times and in the specific 3 cases
				gidLib.setCookieVar("mktGlobalSession","vvdisruptorvalue",value);
				
				fireVVDisruptor(psVvAmtStyle, psVvAmtStyleDsrpt, psRewardsOffers);
			} 
			else if (parseInt(disruptorVal) < 3 && psRewards == true || disruptorVal < 3 && psOffersOnly == 'true' && psRewardsOffers != true || disruptorVal < 3 && psRewardsOffers == true && psOffersOnly == 'true') {
				value = parseInt(disruptorVal) + 1;
				gidLib.setCookieVar("mktGlobalSession","vvdisruptorvalue",value);
				
				fireVVDisruptor(psVvAmtStyle, psVvAmtStyleDsrpt, psRewardsOffers);
			} 
			
			else {
				Event.fire(document, "personalizationService:renderCustomerAttributes");
				if(jQuery("#offersAndRewards").length){ 
					jQuery("#offersAndRewards").addClass(bannerClass);
					jQuery("#offersAndRewards").html("<p class='"+psVvAmtStyle+"'>$"+personalizationService.model.personalizationData.personalizationInfoV1.customerAttributes.totalRewardValue+"</p>");
				}
			}
		} 
		else {
			Event.fire(document, "personalizationService:renderCustomerAttributes");
			if(jQuery("#offersAndRewards").length){ 
						jQuery("#offersAndRewards").addClass(bannerClass);
						jQuery("#offersAndRewards").html("<p class='"+psVvAmtStyle+"'>$"+personalizationService.model.personalizationData.personalizationInfoV1.customerAttributes.totalRewardValue+"</p>");
						jQuery("#offersAndRewards").css("display","block");
				}
		}
		// fire virtual value code
	}
}

var fireVVDisruptor = function(psVvAmtStyle, psVvAmtStyleDsrpt, psRewardsOffers) {
//console.info(wcd_VV.psRewardsOffers);
var psRewardsOffers= psRewardsOffers;
var psVvAmtStyle = psVvAmtStyle;     //style VV AMOUNT
var psVvAmtStyleDsrpt = psVvAmtStyleDsrpt;    //style VV AMOUNT

//console.info("VV Disruptor Firing!");
	var vvvalue = parseInt(personalizationService.model.personalizationData.personalizationInfoV1.customerAttributes.totalRewardValue);
//	if (psRewards == true){
		var vvfontvalue = 12;
		var vvmargintopvalue = 2;
		vvMarginLeftValue= 128;
		var vvcurrency="";
		if (vvvalue < 100) { 
			vvfontvalue = 60;
			vvmargintopvalue = 1;
		} else if (vvvalue < 1000) {
			vvfontvalue = 42;
			vvmargintopvalue = 6;
		} else if (vvvalue < 10000) {
			vvmargintopvalue = 11;
			vvfontvalue = 28;
		}
//	}

if(psRewardsOffers == true ){	
		var vvfontvalue = 12;
		var vvmargintopvalue = 2;
		var vvcurrency="$";
		vvMarginLeftValue= 100;
		if (vvvalue < 100) { 
			vvfontvalue = 23;
			vvmargintopvalue = 3;
		} else if (vvvalue < 1000 ) {
			vvfontvalue = 18;
			vvmargintopvalue = 5;
		} else if (vvvalue < 10000) {
			vvmargintopvalue = 9;
			vvfontvalue = 28;
		}
}	

//insert inline bag header

jQuery( "<div id='vvParentContainer' class = 'vvParentContainerClass'><a href='/profile/account_rewards_summary.do?locale=en_US'><div id='vvDivDisContainer' class = " + discruptorClass + "><div id='vvamount' style='display: "+psVvAmtStyleDsrpt +";color:#f47529; margin-left:"+vvMarginLeftValue+"px; margin-top:"+ vvmargintopvalue + "px; font-size:" + vvfontvalue + "px;'></div></div></a></div>").insertAfter("#inlineBagHeader");
	
$("vvamount").update(vvvalue);	

jQuery( "#vvParentContainer" ).animate({height:"78px"},500,function() {
			setTimeout( function() { 
							if(jQuery("#vvParentContainer").length){
								jQuery("#vvParentContainer").css ("height","0px");
							} 
//console.info("Firing VV main code!");
							Event.fire(document, "personalizationService:renderCustomerAttributes");
				
							if(jQuery("#offersAndRewards").length){ 
									jQuery("#offersAndRewards").addClass(bannerClass);
									jQuery("#offersAndRewards").html("<p class='"+psVvAmtStyle+"'>$"+personalizationService.model.personalizationData.personalizationInfoV1.customerAttributes.totalRewardValue+"</p>");
									jQuery("#offersAndRewards").css("display","block");
							}
							
//console.info("VV Main code complete!");							
				}, 5000);
		});

//console.info("VV Disruptor Fired! Value = " + vvvalue);
}

var thisBrowser = navigator.userAgent;
if (thisBrowser.indexOf("MSIE") != -1) { // if IE
    if (thisBrowser.indexOf("MSIE 7") < 0) { // if not IE 7
        if (document.documentMode != 7) { // if not IE 7 mode

			jQuery(document).on('personalizationData:ready', function () {
		       // alert ("personalization ready");
			    wcd_VV();
		   })

        }
    }
} else { // all other browsers
		jQuery(document).on('personalizationData:ready', function () {
		//     alert ("personalization ready");
		    wcd_VV();
		  })

}

</script>
<!-- End VV override


</div>
<!-- END Content Item File: /content/0009/700/385/cn9700385.html -->

<!-- END - WCD Sitewide Container 17 -->

<!-- BEGIN - WCD Sitewide Container 18 -->
<!-- BEGIN Content Item File: /content/0009/151/488/cn9151488.html -->
<div id="contentItemContainer212631" class="9151488">


<script type="text/javascript">

if( location.pathname == '/buy/shopping_bag.do' || location.pathname == '/checkout/order.do' ) {

var wcdShipOptionOverrides = {

	model: {
		piperlimeInBag: false,
		shipOption3To5: '2101'
	},
	
	controller: { 
		// Init for shopping bag
		initShoppingBag: function() {
			
			// Initial loop thru ship options; this decorator will run on load, whenever new option selected or shopping bag item updated/removed
			var shoppingBagTransformerModule = angular.module('gid.transformer.shoppingBagTransformer');
			shoppingBagTransformerModule.config(function($provide) {
				$provide.decorator('shoppingBagTransformer', function($delegate) {
					var oldTransformResponse    = $delegate.transformResponse;
					var oldTransformBagResponse = $delegate.transformBagResponse;
		
					var overrideShippingData = function(jsonData) {
						var model = wcdShipOptionOverrides.model;
											
						if (jsonData.shoppingBag && jsonData.shoppingBag.shippingInfo && jsonData.shoppingBag.shippingInfo.shippingOptions) {
							// Piperlime in bag check
							var activeItems = [];
							if( jsonData.shoppingBag.activeItems ) {
								activeItems = jsonData.shoppingBag.activeItems;
								if( activeItems.length > 0 ) {
									wcdShipOptionOverrides.model.piperlimeInBag = false;
									activeItems.each( function( elt, idx ) {
										if( ! elt.deleted && elt.brandAbbrName == 'BG' ) {
											wcdShipOptionOverrides.model.piperlimeInBag = true;
										}
									});
								}
							}
							
							// Loop through shipping options
							var shipOptions = jsonData.shoppingBag.shippingInfo.shippingOptions;
							shipOptions.each( function( elt, idx ) {
								if( wcdShipOptionOverrides.model.piperlimeInBag ) {
									if( elt.shippingId == wcdShipOptionOverrides.model.shipOption3To5 ) {
										elt.description = '3-5 business days - FREE with Piperlime';
									}
								}
							});
							
							jsonData.shoppingBag.shippingInfo.shippingOptions = shipOptions;
						} 
						return jsonData;
					};
		
					$delegate.transformResponse = function(data, headers) {
						var jsonData = oldTransformResponse(data, headers);
						return overrideShippingData(jsonData);
					};
		
					$delegate.transformBagResponse = function(data) {
						var jsonData = oldTransformBagResponse(data);
						return overrideShippingData(jsonData);
					}
		
					return $delegate;
				});
			});
		},
	
		initCheckout: function() {
			// If Piperlime in bag, update language on 3-5
			if( ccm && ccm.shipping && ccm.shipping.view && ccm.shipping.view.setDataToPage ) { 
				ccm.shipping.view.setDataToPage = ccm.shipping.view.setDataToPage.wrap( function( om ) {
					om();
					
					var model = wcdShipOptionOverrides.model;
					var plInBagCheck = false;
					if( checkout.model && checkout.model.data && checkout.model.data.shoppingBag && checkout.model.data.shoppingBag.lineItems ) {
						for( var i=0; i < checkout.model.data.shoppingBag.lineItems.length; i++ ) {
							if( checkout.model.data.shoppingBag.lineItems[i].brandRo == '4' ) {
								plInBagCheck = true;
							}
						}
						
					}
					if( plInBagCheck === true ) {						
						if( jQuery('#shippingOptionsRadioText' + model.shipOption3To5 ).length > 0 ) {
							var shipOptionTextToUpdate = jQuery('#shippingOptionsRadioText' + model.shipOption3To5 ).text();
							shipOptionTextToUpdate = shipOptionTextToUpdate.replace('$0.00','FREE with Piperlime');
							jQuery('#shippingOptionsRadioText' + model.shipOption3To5 ).text( shipOptionTextToUpdate );
						}
					}
				});
			}
		}
	}
}

if( location.pathname == '/buy/shopping_bag.do' ) {
	wcdShipOptionOverrides.controller.initShoppingBag();
}
else if( location.pathname == '/checkout/order.do' ) {
	wcdShipOptionOverrides.controller.initCheckout();
}

}

</script>


</div>
<!-- END Content Item File: /content/0009/151/488/cn9151488.html -->

<!-- END - WCD Sitewide Container 18 -->


<!-- BEGIN - WCD Sitewide Container 20 -->
<!-- BEGIN Content Item File: /content/0008/953/904/cn8953904.html -->
<div id="contentItemContainer212629" class="8953904">


<!-- GOL US - pixel container -->
<script type="text/javascript">
var doubleClickPixelPartner = new pixelManagementService.constructors.AbstractPixelPartner();
pixelManagementService.controller.pixelPartnerManager.setPixelPartnerToPixelPartnerRegistry(doubleClickPixelPartner);

with (doubleClickPixelPartner) {
	isReadyForTransmission = false;
	isWaitReport = false;
	pixelPartnerId = "doubleClickPixelPartner";
	pixelPartnerName = "DoubleClick Iframe Pixel Partner";
	pixelPartnerCookieVarPrefix = "doubleClick";
	pixelPartnerInboundParameterList = [];
	pixelPartnerPersistedParameterList = [];
	pixelPartnerStartDate = "2011/10/20";
	pixelPartnerEndDate = "2020/10/24";

	controller.setPixelPartnerModel = function() {
		
		// Set DoubleClick config parameters for brands		
		this.model.config_gap_us = {
		  confirmation: { type : 'usgap534', cat : 'usgap269'},
		  bag:          { type : 'usgap090', cat : 'usgap542'},
		  browse:       { type : 'usgap090', cat : 'usgap037'},
		  currency : "USD",
		  src : 2840522
		};
		
		this.model.config_br_us = {
		  confirmation: { type : 'usban166', cat : 'usban828'},
		  bag:          { type : 'usban607', cat : 'usban981'},
		  browse:       { type : 'usban607', cat : 'usban884'},
		  currency : "USD",
		  src : 2840522
		};
		
		this.model.config_on_us = {
		  confirmation: { type : 'usold624', cat : 'usold194'},
		  bag:          { type : 'usold987', cat : 'usold108'},
		  browse:       { type : 'usold987', cat : 'usold797'},
		  currency : "USD",
		  src : 2840522
		};
		
		this.model.config_pl_us = {
		  confirmation: { type : 'uspip864', cat : 'uspip652'},
		  bag:          { type : 'uspip685', cat : 'uspip428'},
		  browse:       { type : 'uspip685', cat : 'uspip655'},
		  currency : "USD",
		  src : 2840522
		};
		
		this.model.config_at_us = {
		  confirmation: { type : 'usath604', cat : 'usath169'},
		  bag:          { type : 'usath562', cat : 'usath310'},
		  browse:       { type : 'usath562', cat : 'usath994'},
		  currency : "USD",
		  src : 2840522
		};
		
		// Set up configs for entering brand code
		this.model.configs = { '1': this.model.config_gap_us, '2': this.model.config_br_us, '3' : this.model.config_on_us, '4' : this.model.config_pl_us, '10' : this.model.config_at_us };
		this.model.config = this.model.config_gap_us;
		
		// Set metrics from PixMan library
		var metricsLibrary = pixelManagementService.model.metricsLibrary;
		this.model.enteringBrandCode = ( metricsLibrary.common.enteringBrandCode ) ? metricsLibrary.common.enteringBrandCode : '';
		this.model.pageUrl = ( metricsLibrary.common.pageUrl ) ? encodeURIComponent(metricsLibrary.common.pageUrl) : '';
		this.model.pageName = ( metricsLibrary.common.pageName ) ? encodeURIComponent(metricsLibrary.common.pageName) : '';
		this.model.pageType = ( metricsLibrary.common.pageType ) ? metricsLibrary.common.pageType : '';
		if( this.model.pageType.substr(0,1) == "/" ) { this.model.pageType = this.model.pageType.substr(1); }
		this.model.pageId = ( metricsLibrary.common.pageId ) ? metricsLibrary.common.pageId : '';
		this.model.lastInTID = ( metricsLibrary.common.tid ) ? metricsLibrary.common.tid : '';
		this.model.apCode = ( metricsLibrary.common.ap ) ? metricsLibrary.common.ap : '';
		this.model.isNewCustomer = ( metricsLibrary.common.isNewCustomer ) ? metricsLibrary.common.isNewCustomer : '';
		this.model.visitorFlag = ( metricsLibrary.common.isRecognizedVisitor ) ? metricsLibrary.common.isRecognizedVisitor : '';
		this.model.proto = window.location.protocol;
			
		// Set product variables
		var productList = ( metricsLibrary.shoppingBag.productList ) ? metricsLibrary.shoppingBag.productList : [];
		var skus = "";
		var prices = "";
		var productNames = "";
		var brands = "";
		var prodQty = ( metricsLibrary.shoppingBag.productCount ) ? metricsLibrary.shoppingBag.productCount : 0;
		if (typeof(productList != "undefined") && Object.isArray(productList) && productList.length != 0 && productList[0].skuId != "") {  //to be changed
			prices = productList.pluck('price').join('|');
			productNames = productList.pluck('productName').join('|');
			brands = productList.pluck('productBrandCode').join('|');
			productList.each( function( prod, i ) {
				skus += prod.skuId;
				if( ( i + 1 ) != productList.length ) { skus += "|"; }
			});
		}
		
		this.model.itemPrices = prices;
		this.model.itemBrands = brands;
		this.model.qty = prodQty;
		this.model.productSkus = skus;
		
	}
	controller.setPixelPartnerTransmissionTemplate = function() {
		var shoppingBagUrls = ['/buy/shopping_bag.do','/buy/shopping_bag_delete_item.do','/buy/shopping_bag_save_item.do','/buy/shopping_bag_move_item.do','/buy/edit_shipping_method_bag.do'];
		var metricsLibrary = pixelManagementService.model.metricsLibrary;
		var axel = Math.random() + "";
		var a = axel * 10000000000000;
		
		if (location.pathname == "/checkout/orderConfirm.do") {

			if( this.model.enteringBrandCode ) {
				this.model.config = this.model.configs[ this.model.enteringBrandCode ] || this.model.config;
			}
			
			// Set order metrics
			// Quantity fix
			var orderProductList = ( metricsLibrary.order.productList ) ? metricsLibrary.order.productList : [];
			var orderProductQty = 0;
			if (typeof(orderProductList != "undefined") && Object.isArray(orderProductList) && orderProductList.length != 0 && orderProductList[0].productBusinessId != "") {
				orderProductList.each( function( prod, i ) {
					orderProductQty += parseInt( prod.quantity );
				});
			}
			this.model.qty = orderProductQty.toString();
			
			// Check/set metrics to partner
			this.model.grossMerchDemand = ( metricsLibrary.order.orderTotal ) ? metricsLibrary.order.orderTotal : 0;
			this.model.checkoutBrand = ( metricsLibrary.order.checkoutBrand ) ? metricsLibrary.order.checkoutBrand : '';			
			this.model.shippingZip = ( metricsLibrary.order.shippingZip ) ? encodeURIComponent( metricsLibrary.order.shippingZip ) : ''; 		
			this.model.billingZip = ( metricsLibrary.order.billingZip ) ? encodeURIComponent( metricsLibrary.order.billingZip ) : '';
			this.model.orderId = ( metricsLibrary.order.orderId ) ? metricsLibrary.order.orderId : '';

			this.model.promotionSubTotal = ( metricsLibrary.order.promotionSubTotal ) ? parseFloat( metricsLibrary.order.promotionSubTotal ) : 0;
			this.model.promotionRewardsTotal = ( metricsLibrary.order.promotionRewardsTotal ) ? parseFloat( metricsLibrary.order.promotionRewardsTotal ) : 0;		
			this.model.giftServicesTotal = ( metricsLibrary.order.giftServicesTotal ) ? parseFloat( metricsLibrary.order.giftServicesTotal ) : 0;
			
			this.model.shippingTotal = ( metricsLibrary.order.shippingTotal ) ? parseFloat( metricsLibrary.order.shippingTotal ) : 0;
			
			this.model.taxTotal = ( metricsLibrary.order.taxTotal ) ? parseFloat( metricsLibrary.order.taxTotal ) : 0;
		
			this.model.orderTotal = ( metricsLibrary.order.orderTotal ) ? parseFloat( metricsLibrary.order.orderTotal ) : 0;
				
			// Fixes rounding problem and convert data back to string for passing in URL
			this.model.myShipTotal = parseInt( this.model.shippingTotal*100 );
			this.model.myTaxTotal = parseInt( this.model.taxTotal*100 );
			this.model.myOrderTotal = parseInt( this.model.orderTotal*100 );
			this.model.myTotal = this.model.myOrderTotal - this.model.myShipTotal - this.model.myTaxTotal;
			this.model.myTotal = parseFloat(this.model.myTotal/100);
			this.model.netDemand = this.model.myTotal;
			this.model.grossMerchandise = this.model.netDemand + this.model.promotionSubTotal;
			this.model.grossMerchandise = this.model.grossMerchandise.toString();
			
			this.pixelPartnerTransmissionTemplate = new Template(		
				"<iframe src=\"#{model.proto}//fls.doubleclick.net/activityi;src=#{model.config.src};type=#{model.config.confirmation.type};cat=#{model.config.confirmation.cat};tran=#{model.enteringBrandCode};qty=#{model.qty};cost=#{model.grossMerchandise};u=#{model.config.currency};u1=#{model.productSkus};u2=#{model.pageType};u3=#{model.pageId};u4=#{model.apCode};u5=#{model.lastInTID};u6=#{model.itemPrices};u7=#{model.itemBrands};u8=#{model.checkoutBrand};u9=#{model.pageName};u11=#{model.isNewCustomer};u12=#{model.shippingZip};u15=#{model.netDemand};u16=#{model.promotionSubTotal};u17=#{model.taxTotal};u18=#{model.shippingTotal};ord=#{model.orderId}?\" width=\"1\" height=\"1\" frameborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\"></iframe>");
		}
		else if ( shoppingBagUrls.include( location.pathname ) ) {
			this.model.pageType = "shopping_bag";
			this.pixelPartnerTransmissionTemplate = new Template(
				"<iframe src=\"#{model.proto}//fls.doubleclick.net/activityi;src=#{model.config.src};type=#{model.config.bag.type};cat=#{model.config.bag.cat};tran=#{model.enteringBrandCode};qty=#{model.qty};u=#{model.config.currency};u1=#{model.productSkus};u2=#{model.pageType};u3=#{model.pageId};u4=#{model.apCode};u5=#{model.lastInTID};u6=#{model.itemPrices};u7=#{model.itemBrands};u8=#{model.checkoutBrand};u9=#{model.pageName};u10=#{model.pageUrl};ord=" + a + "?\" width=\"1\" height=\"1\" frameborder=\"0\"><\/iframe>" );
				
		}
		else if (window.location.protocol != "https:") {
			this.pixelPartnerTransmissionTemplate = new Template(
				"<iframe src=\"#{model.proto}//fls.doubleclick.net/activityi;src=#{model.config.src};type=#{model.config.browse.type};cat=#{model.config.browse.cat};tran=#{model.enteringBrandCode};u=#{model.config.currency};u2=#{model.pageType};u3=#{model.pageId};u4=#{model.apCode};u5=#{model.lastInTID};u9=#{model.pageName};u10=#{model.pageUrl};ord=" + a + "?\" width=\"1\" height=\"1\" frameborder=\"0\"><\/iframe>" );
				
		}
	}
	controller.setCleanUp = function() {
		// alert("setCleanUp() running: pixelPartnerName = " + this.pixelPartnerName);
	}
}
</script>

<!-- Range DoubleClick pixel - ap-14 -->
<script type="text/javascript">

var rangeDoubleClickPixelPartner = new pixelManagementService.constructors.AbstractPixelPartner();
pixelManagementService.controller.pixelPartnerManager.setPixelPartnerToPixelPartnerRegistry(rangeDoubleClickPixelPartner);

with (rangeDoubleClickPixelPartner) {
	isReadyForTransmission = false;
	isWaitReport = false;
	pixelPartnerId = "rangeDoubleClickPixelPartner";
	pixelPartnerName = "Range DoubleClick Pixel Partner";
	pixelPartnerCookieVarPrefix = "rangeDoubleClick";
	pixelPartnerInboundParameterList = [];
	pixelPartnerPersistedParameterList = [];
	pixelPartnerStartDate = "2011/10/20";
	pixelPartnerEndDate = "2020/10/24";

	controller.setPixelPartnerModel = function() {
		
		// Range DFA Configs
		this.model.config_range_gap_us = {
		  confirmation: { type : 'confi102', cat : 'gapco477'},
		  currency : "USD",
		  src : 1890739
		};
		
		this.model.config_range_br_us = {
		  confirmation: { type : 'confi102', cat : 'brcon200'},
		  currency : "USD",
		  src : 1890739
		};
	
		this.model.config_range_on_us = {
		  confirmation: { type : 'confi102', cat : 'oncon155'},
		  currency : "USD",
		  src : 1890739
		};
		
		this.model.config_range_pl_us = {
		  confirmation: { type : 'confi102', cat : 'piper427'},
		  currency : "USD",
		  src : 1890739
		};
		
		this.model.config_range_at_us = {
		  confirmation: { type : 'confi102', cat : 'at_co303'},
		  currency : "USD",
		  src : 1890739
		};

		// Set up configs for entering brand code
		this.model.configs_range = { '1': this.model.config_range_gap_us, '2': this.model.config_range_br_us, '3' : this.model.config_range_on_us, '4' : this.model.config_range_pl_us, '10' : this.model.config_range_at_us };
		this.model.config_range = this.model.config_range_gap_us;
		
		// Set metrics from PixMan library
		var metricsLibrary = pixelManagementService.model.metricsLibrary;
		this.model.enteringBrandCode = ( metricsLibrary.common.enteringBrandCode ) ? metricsLibrary.common.enteringBrandCode : '';
		this.model.pageUrl = ( metricsLibrary.common.pageUrl ) ? encodeURIComponent(metricsLibrary.common.pageUrl) : '';
		this.model.pageName = ( metricsLibrary.common.pageName ) ? encodeURIComponent(metricsLibrary.common.pageName) : '';
		this.model.pageType = ( metricsLibrary.common.pageType ) ? metricsLibrary.common.pageType : '';
		if( this.model.pageType.substr(0,1) == "/" ) { this.model.pageType = this.model.pageType.substr(1); }
		this.model.pageId = ( metricsLibrary.common.pageId ) ? metricsLibrary.common.pageId : '';
		this.model.lastInTID = ( metricsLibrary.common.tid ) ? metricsLibrary.common.tid : '';
		this.model.apCode = ( metricsLibrary.common.ap ) ? metricsLibrary.common.ap : '';
		this.model.isNewCustomer = ( metricsLibrary.common.isNewCustomer ) ? metricsLibrary.common.isNewCustomer : '';
		this.model.visitorFlag = ( metricsLibrary.common.isRecognizedVisitor ) ? metricsLibrary.common.isRecognizedVisitor : '';
		this.model.proto = window.location.protocol;
			
		// Set product variables
		var productList = ( metricsLibrary.shoppingBag.productList ) ? metricsLibrary.shoppingBag.productList : [];
		var skus = "";
		var prices = "";
		var productNames = "";
		var brands = "";
		var prodQty = ( metricsLibrary.shoppingBag.productCount ) ? metricsLibrary.shoppingBag.productCount : 0;
		if (typeof(productList != "undefined") && Object.isArray(productList) && productList.length != 0 && productList[0].skuId != "") {  //to be changed
			prices = productList.pluck('price').join('|');
			productNames = productList.pluck('productName').join('|');
			brands = productList.pluck('productBrandCode').join('|');
			productList.each( function( prod, i ) {
				skus += prod.skuId;
				if( ( i + 1 ) != productList.length ) { skus += "|"; }
			});
		}
		
		this.model.itemPrices = prices;
		this.model.itemBrands = brands;
		this.model.qty = prodQty;
		this.model.productSkus = skus;
		
	}
	controller.setPixelPartnerTransmissionTemplate = function() {
		var shoppingBagUrls = ['/buy/shopping_bag.do','/buy/shopping_bag_delete_item.do','/buy/shopping_bag_save_item.do','/buy/shopping_bag_move_item.do','/buy/edit_shipping_method_bag.do'];
		var metricsLibrary = pixelManagementService.model.metricsLibrary;
		var axel = Math.random() + "";
		var a = axel * 10000000000000;
		var partnerCookieValue = metricsLibrary.common.ap;
		
		if (location.pathname == "/checkout/orderConfirm.do" && partnerCookieValue == "14") {

			if( this.model.enteringBrandCode ) {
				this.model.config_range = this.model.configs_range[ this.model.enteringBrandCode ] || this.model.config_range;
			}
			
			// Set order metrics
			// Quantity fix
			var orderProductList = metricsLibrary.order.productList;
			var orderProductQty = 0;
			if (typeof(orderProductList != "undefined") && Object.isArray(orderProductList) && orderProductList.length != 0 && orderProductList[0].productBusinessId != "") {
				orderProductList.each( function( prod, i ) {
					orderProductQty += parseInt( prod.quantity );
				});
			}
			this.model.qty = orderProductQty.toString();

			this.model.grossMerchDemand = ( metricsLibrary.order.orderTotal ) ? metricsLibrary.order.orderTotal : 0;
			this.model.checkoutBrand = ( metricsLibrary.order.checkoutBrand ) ? metricsLibrary.order.checkoutBrand : '';			
			this.model.shippingZip = ( metricsLibrary.order.shippingZip ) ? encodeURIComponent( metricsLibrary.order.shippingZip ) : ''; 		
			this.model.billingZip = ( metricsLibrary.order.billingZip ) ? encodeURIComponent( metricsLibrary.order.billingZip ) : '';
			this.model.orderId = ( metricsLibrary.order.orderId ) ? metricsLibrary.order.orderId : '';

			this.model.promotionSubTotal = ( metricsLibrary.order.promotionSubTotal ) ? parseFloat( metricsLibrary.order.promotionSubTotal ) : 0;
			this.model.promotionRewardsTotal = ( metricsLibrary.order.promotionRewardsTotal ) ? parseFloat( metricsLibrary.order.promotionRewardsTotal ) : 0;		
			this.model.giftServicesTotal = ( metricsLibrary.order.giftServicesTotal ) ? parseFloat( metricsLibrary.order.giftServicesTotal ) : 0;
			
			this.model.shippingTotal = ( metricsLibrary.order.shippingTotal ) ? parseFloat( metricsLibrary.order.shippingTotal ) : 0;
			
			this.model.taxTotal = ( metricsLibrary.order.taxTotal ) ? parseFloat( metricsLibrary.order.taxTotal ) : 0;
		
			this.model.orderTotal = ( metricsLibrary.order.orderTotal ) ? parseFloat( metricsLibrary.order.orderTotal ) : 0;
						
			// Fixes rounding problem
			this.model.myShipTotal = parseInt( this.model.shippingTotal*100 );
			this.model.myTaxTotal = parseInt( this.model.taxTotal*100 );
			this.model.myOrderTotal = parseInt( this.model.orderTotal*100 );
			this.model.myTotal = this.model.myOrderTotal - this.model.myShipTotal - this.model.myTaxTotal;
			this.model.myTotal = parseFloat(this.model.myTotal/100);
			this.model.netDemand = this.model.myTotal;
			this.model.grossMerchandise = this.model.netDemand + this.model.promotionSubTotal;
			
			this.pixelPartnerTransmissionTemplate = new Template(		
				"<img src=\"https://ad.doubleclick.net/activity;src=#{model.config_range.src};type='#{model.config_range.confirmation.type};cat=#{model.config_range.confirmation.cat};qty=#{model.qty};cost=#{model.grossMerchandise};u11=;u10=;u9=;u8=#{model.shippingZip};u12=#{model.enteringBrandCode};u3=#{model.skus};u2=#{model.productNames};u1=#{model.orderId};u7=;u6=;u5=#{model.netDemand};u4=#{model.qty};ord=#{model.orderId}?\" width=\"1\" height=\"1\" frameborder=\"0\" ALT=\"\"/>");
			
		}
	}
	controller.setCleanUp = function() {
		// alert("setCleanUp() running: pixelPartnerName = " + this.pixelPartnerName);
	}
}
</script>

<!-- Google Ad Services pixel - PixMan - ap=13 -->
<script type="text/javascript">

var googleAdServicesPixelPartner = new pixelManagementService.constructors.AbstractPixelPartner();
pixelManagementService.controller.pixelPartnerManager.setPixelPartnerToPixelPartnerRegistry(googleAdServicesPixelPartner);

with (googleAdServicesPixelPartner) {
	isReadyForTransmission = false;
	isWaitReport = false;
	pixelPartnerId = "googleAdServicesPixelPartner";
	pixelPartnerName = "Google Ad Services Pixel Partner";
	pixelPartnerCookieVarPrefix = "googleAdServices";
	pixelPartnerInboundParameterList = [];
	pixelPartnerPersistedParameterList = [];
	pixelPartnerStartDate = "2011/01/26";
	pixelPartnerEndDate = "2020/01/26";
	googleAdServicesPixelPartner.model.google_conversion_id = "999883742";
	googleAdServicesPixelPartner.model.google_conversion_label = "2YddCJrhoQIQ3ofk3AM";
	googleAdServicesPixelPartner.model.guid = "ON";

	controller.setPixelPartnerModel = function() {
		// Pull in order subtotal (netDemand)
		var metricsLibrary = pixelManagementService.model.metricsLibrary;
		var orderTotal = ( metricsLibrary.order.orderTotal ) ? parseFloat(metricsLibrary.order.orderTotal) : 0;
		var myShipTotal = ( metricsLibrary.order.shippingTotal ) ? parseInt(metricsLibrary.order.shippingTotal*100) : 0;
		var myTaxTotal = ( metricsLibrary.order.taxTotal ) ? parseInt(metricsLibrary.order.taxTotal*100) : 0;
		var myOrderTotal = parseInt(orderTotal*100);
		var myTotal = myOrderTotal - myShipTotal - myTaxTotal;
		model.netDemand = parseFloat(myTotal/100);
		
		// Pull product list in proper format
		var getFormattedProductListBound = this.controller.helper.getFormattedProductList.bind(this);
		var formattedProductList = getFormattedProductListBound();
		this.model.formattedProductList = formattedProductList;
	}
	controller.setPixelPartnerTransmissionTemplate = function() {
		var metricsLibrary = pixelManagementService.model.metricsLibrary;
		var pageType = ( metricsLibrary.common.pageType ) ? metricsLibrary.common.pageType : '';
		var partnerCookieValue = ( metricsLibrary.common.ap ) ? metricsLibrary.common.ap : '';
		if (pageType != null && pageType != undefined) {
			if (( location.pathname == "/checkout/orderConfirm.do" ) && ( partnerCookieValue == "13" )) {
				this.pixelPartnerTransmissionTemplate = new Template(
					"<img height=\"1\" width=\"1\" style=\"border-style:none;\" alt=\"\" src=\"http://www.googleadservices.com/pagead/conversion/#{model.google_conversion_id}/?value=#{model.netDemand}&amp;label=#{model.google_conversion_label}&amp;guid=#{model.guid}&amp;oid=#{model.metricsLibrary.order.orderId}&amp;item=#{model.formattedProductList}&amp;script=0\" />");
			}
		}
	}
	controller.setCleanUp = function() {
		// alert("setCleanUp() running: pixelPartnerName = " + this.pixelPartnerName);
	}
	controller.helper = new Object();
	// Product list with specific formatting
	controller.helper.getFormattedProductList = function() {
		var productList = null;
		if( location.pathname == "/checkout/orderConfirm.do" ){
			productList = ( this.model.metricsLibrary.order.productList ) ? this.model.metricsLibrary.order.productList : [];
		}
		var formattedProductList = "";
		if( productList != null ) {
			productList.each( function( prod ) {
				var pricePer = prod.price/prod.quantity;
				var sku9dig = '';
				if( prod.skuId != null ) sku9dig = prod.skuId.substr(0,9);
				formattedProductList += "("
				formattedProductList += pricePer.toFixed(2) + "*";
				formattedProductList += prod.quantity + "*";
				formattedProductList += sku9dig + "*";
				formattedProductList += "null*";
				formattedProductList += sku9dig + ")";
			});
		}
		return formattedProductList;
	}
}
</script>

<!-- BrightTag iframe -->
<script type="text/javascript">

var brightTagPixelPartner = new pixelManagementService.constructors.AbstractPixelPartner();
pixelManagementService.controller.pixelPartnerManager.setPixelPartnerToPixelPartnerRegistry(brightTagPixelPartner);

with (brightTagPixelPartner) {
	isReadyForTransmission = false;
	isWaitReport = false;
	pixelPartnerId = "brightTagPixelPartner";
	pixelPartnerName = "Bright Tag Pixel Partner";
	pixelPartnerCookieVarPrefix = "brightTag";
	// 'sid' = TrialPay: maps to v1
	pixelPartnerInboundParameterList = ['sid'];
	pixelPartnerPersistedParameterList = ['sid'];
	pixelPartnerStartDate = "2011/07/19";
	pixelPartnerEndDate = "2020/07/19";
	// BrightTag site id - region-specific (US, CA, EU)
	brightTagPixelPartner.model.brighttag_site_id = "NaJ7y9Z";
	// Currensy - u
	brightTagPixelPartner.model.currencyType = "USD";
	
	controller.getPixmanElement = function (variableName, pixManValue, suffix){
		var returnKeyPair="";
		if(suffix==null || suffix==undefined){
			suffix="";
		}
		if(pixManValue!=null && pixManValue!=undefined && pixManValue!=""){
			returnKeyPair = variableName + "=" + pixManValue + suffix; 
		}
		else{
			returnKeyPair="";
		}
		return returnKeyPair;
    },

	controller.setPixelPartnerModel = function() {
		
		// Set BT variables from metricsLibrary
		var metricsLibrary = pixelManagementService.model.metricsLibrary;
		
		// Declare dynamic vendor metrics
		this.model.vendorMetrics = { };
		
		// TrialPay : AP=15 conditional; sid = v1
		this.model.vendorMetrics.trialPay = { }
		this.model.vendorMetrics.trialPay.sid = controller.getCookieVar("sid");
		
		// BROWSE/BAG/ORDER CONF variables
		
		// Total qty in cart - qty
		if( location.pathname == "/checkout/orderConfirm.do" ) {
			var orderProductList = ( metricsLibrary.order.productList ) ? metricsLibrary.order.productList : [];
			var orderProductQty = 0;
			if (typeof(orderProductList != "undefined") && Object.isArray(orderProductList) && orderProductList.length != 0 && orderProductList[0].productBusinessId != "") {
				orderProductList.each( function( prod, i ) {
					orderProductQty += parseInt( prod.quantity );
				});
			}
			this.model.totalQty = orderProductQty.toString();
		}
		else {
			this.model.totalQty = ( metricsLibrary.shoppingBag.productCount ) ? metricsLibrary.shoppingBag.productCount : 0;
		}
		
		// Entering brand code  - tran - ONLY set if PARTNER cookie set
		this.model.enteringBrandCode = ( metricsLibrary.common.enteringBrandCode ) ? metricsLibrary.common.enteringBrandCode : '';
		
		var productList = ( metricsLibrary.shoppingBag.productList ) ? metricsLibrary.shoppingBag.productList : [];
		// Product SKUs in Cart - pipe-delimited - u1
		var skus = "";
		// Product Item Prices in Cart - pipe-delimited - u6
		var prices = "";
		// Product Item Brands in Cart - pipe-delimited - u7
		var brands = "";
		// Product Item Quantities in Cart - pipe-delimited - u19
		var prodQty = "";
		if( typeof(productList != "undefined") && Object.isArray(productList) && productList.length != 0 && productList[0].skuDescription != "" ) {
			// Set SKUs
			productList.each( function( prod, i ) {
				skus += prod.skuId;
				if( ( i + 1 ) != productList.length ) { skus += "|"; }
			});
			// Set Item Prices
			prices = productList.pluck('price').join('|');
			// Set Item Brands
			brands = productList.pluck('productBrandCode').join('|');
			// Set Item Quantities
			prodQty = productList.pluck('quantity').join('|');
		}
		this.model.itemPrices = prices;
		this.model.itemBrands = brands;
		this.model.prodQty = prodQty;
		this.model.productSkus = skus;
		
		// Page Type - u2
		this.model.pageType = ( metricsLibrary.common.pageType ) ? metricsLibrary.common.pageType : '';
		if( this.model.pageType.substr(0,1) == "/" ) { this.model.pageType = this.model.pageType.substr(1); }

		// Page ID - u3 - CID, Outfit ID or Product ID
		this.model.pageId = ( metricsLibrary.common.pageId ) ? metricsLibrary.common.pageId : '';
		if( metricsLibrary.common.pageName && ( location.pathname == '/' || location.pathname == '/browse/home.do' ) ) {
			// Fix CIDs not being pulled on home page content
			if( metricsLibrary.common.pageName.substr( 0, 2 ) == 'gp' ) { this.model.pageId = '5058'; }
			else if( metricsLibrary.common.pageName.substr( 0, 2 ) == 'on' ) { this.model.pageId = '5151'; }
			else if( metricsLibrary.common.pageName.substr( 0, 2 ) == 'br' ) { this.model.pageId = '5001'; }
			else if( metricsLibrary.common.pageName.substr( 0, 2 ) == 'bg' ) { this.model.pageId = '15956'; }
			else if( metricsLibrary.common.pageName.substr( 0, 2 ) == 'at' ) { this.model.pageId = '46650'; }			
		}
		
		// AP (Affiliate Partner) Value - u4 - ONLY set if PARTNER cookie set
		this.model.apCode = ( metricsLibrary.common.ap ) ? metricsLibrary.common.ap : '';
		
		// Last in TID - u5 - Last tracking ID recieved; ONLY set if PARTNER cookie set
		this.model.lastInTID = ( metricsLibrary.common.tid ) ? metricsLibrary.common.tid : '';
		
		// Page Name - u9 - Omniture Page Name
		this.model.pageName = ( metricsLibrary.common.pageName ) ? encodeURIComponent( metricsLibrary.common.pageName ) : '';
		
		// Page URL - u10 - Full page URL
		this.model.pageURL = ( metricsLibrary.common.pageUrl ) ? encodeURIComponent( metricsLibrary.common.pageUrl ) : '';
		
		// Is New Customer flag - u11
		this.model.isNewCustomer = ( metricsLibrary.common.isNewCustomer ) ? metricsLibrary.common.isNewCustomer : '';

		// Recognized Visitor flah - u14
		this.model.isRecognizedVisitor = ( metricsLibrary.common.isRecognizedVisitor ) ? metricsLibrary.common.isRecognizedVisitor : '';
		
		// Unknown shopper ID - u20 - GID unknown shopper ID
		// "988B422DA188A5C5DFCD32567DDBA4ED|||"
		if( gidLib.getCookie('unknownShopperId') != 0  ) {
			this.model.unknownShopperID = gidLib.getCookie('unknownShopperId');
			this.model.unknownShopperID = this.model.unknownShopperID.substr( 0, this.model.unknownShopperID.indexOf('|') );
		}
		else {
			this.model.unknownShopperID = '';
		}

		// Customer ID - u21 - GID KNOWN customer ID
		// "40895368|||"
		if( gidLib.getCookie('customerId') != 0  ) {
			this.model.customerID = gidLib.getCookie('customerId');
			this.model.customerID = this.model.customerID.substr( 0, this.model.customerID.indexOf('|') );
		}
		else {
			this.model.customerID = '';
		}
		
		// DotomiToken - u26 - 22-25 taken in EU/JP - to merge in
		this.model.dotomiToken = ( metricsLibrary.common.dotomiToken ) ? metricsLibrary.common.dotomiToken : '';

		// DI ID - u27 - DI/Email ID - pulled from mktUniversalPersist
		this.model.diID = ( gidLib.getCookieVar('mktUniversalPersist','DI') != '' ) ? gidLib.getCookieVar('mktUniversalPersist','DI') : '';
		
		// Encrypted email cipher - u40
		this.model.encryptionCipher = ( metricsLibrary.common.cipher ) ? metricsLibrary.common.cipher : '';
		
		// Encrypted email vector - u41
		this.model.encryptionVector = ( metricsLibrary.common.vector ) ? metricsLibrary.common.vector : '';

		// Encrypted email string - u42
		this.model.encryptedEmail = ( metricsLibrary.common.userEmailEncrypt ) ? metricsLibrary.common.userEmailEncrypt : '';
	
		// Mobile vs desktop user - u44
		// GID mobile detection includes: iPhone, iPod, Android Mobile ONLY
		this.model.mobileVsDesktop = 'desktop';
		
		var userAgentCheck = navigator.userAgent.toLowerCase();
		if( responsiveService.api.isMobileBrowser() || /iphone|ipod/i.test( userAgentCheck ) || ( userAgentCheck.indexOf('android') > -1 && userAgentCheck.indexOf('mobile') > -1 ) ) {
			this.model.mobileVsDesktop = 'mobile';	
		}

		// Referring Page URL - u48
		this.model.referringPageURL = ( document.referrer ) ? encodeURIComponent( document.referrer ) : '';

		// PRODUCT PAGE ONLY variables 
		if( location.pathname == '/browse/product.do' ) {
			
			// Set up product page data
			this.model.productName = '';
			this.model.productBrandCode = '';
			this.model.productPrice = '';
			this.model.productImage = '';
			this.model.productSizesInStock = '';
			this.model.productSizesOutOfStock = '';
			this.model.productVendorName = '';
			this.model.productOriginalPrice = '';
			this.model.productDefaultCID = '';
			this.model.currentDivisionName = '';
			this.model.categoryNameClicked = '';
			this.model.productOnOrder = '';
			this.model.productLowInventory = '';
			
			if( window["productService"] != null && productService.objP && productService.objV ) {
				
				// Update URL if there's no CID in it
				if( gidLib.getQuerystringParam('cid') == '' && this.model.pageURL.indexOf('cid') == -1 && productPage.strDefaultCategoryId ) {
					this.model.pageURL += '%26cid%3D' + productPage.strDefaultCategoryId;
				}
				// Set default CID if CID is not in URL
				if( gidLib.getQuerystringParam('cid') == '' && productPage.strDefaultCategoryId ) {
					this.model.productDefaultCID = productPage.strDefaultCategoryId;
				}
				
				// Highlighted division pulled from page name metric
				var currentDivisionName = '';
				if( metricsLibrary.common.pageName != '' ) {
					var pageNameArr = metricsLibrary.common.pageName.split(':');
					if( pageNameArr.length > 2 ) {
						if( pageNameArr[1] == 'browse' ) {
							currentDivisionName = pageNameArr[2];
						}
					}
				}
				this.model.currentDivisionName = encodeURIComponent( currentDivisionName );

				// Highlighted category name pulled from page leftnav
				var categoryNameClicked = '';
				if( jQuery('#sideNavCategories').length > 0 ) {
					var selectedCategory = jQuery('#sideNavCategories a[class*="categorySelected"]');
					if( selectedCategory.length > 0 ) {
						categoryNameClicked += selectedCategory.text();
					}
				}
				this.model.categoryNameClicked = encodeURIComponent( categoryNameClicked );

				// Product Name - u28
				if( productService.objP.strProductStyleName ) {
					this.model.productName = encodeURIComponent( productService.objP.strProductStyleName );
				
					// Check whether item has a vendor (ie. Piperlime), if so prepend vendor name
					if( this.model.productName != '' && productService.objP.strVendorName && productService.objP.strVendorName != '' ) {
						this.model.productName = productService.objP.strVendorName + ' ' + this.model.productName;
						this.model.productVendorName = encodeURIComponent( productService.objP.strVendorName );
					}
				}
				
				// Product Brand - u29 - brand code sent
				if( productService.objP.brandCode ) {
					this.model.productBrandCode = productService.objP.brandCode;
				}
				
				// Variant/color based
				if( productService.hasOwnProperty('objV') && productService.hasOwnProperty('activeColor') ) {
					var currentProductColor = productService.activeColor;
					var currentProductColorObj = productService.objV.arrayVariantStyleColors[ currentProductColor ];
					
					// Product Price - u30 - find selected variant/color to determine best
					if( currentProductColorObj.price ) {
						this.model.productPrice = currentProductColorObj.price;
						//console.log('price set');
					}
					
					// Product Original Price - u35
					if( currentProductColorObj.strRegularPrice ) {
						this.model.productOriginalPrice = currentProductColorObj.strRegularPrice.replace('$','');
					}
					
					// Product Image URL - u31
					if( currentProductColorObj.hasOwnProperty('arrayVariantStyleColorImages') ) {
						if( currentProductColorObj.arrayVariantStyleColorImages['Main'] ) {
							this.model.productImage = 'http://' + location.hostname + currentProductColorObj.arrayVariantStyleColorImages['Main'].strImagePath;
							//console.log('image set from Main');
						}
						else if( currentProductColorObj.arrayVariantStyleColorImages['MainThumb'] ) {
							this.model.productImage = 'http://' + location.hostname + currentProductColorObj.arrayVariantStyleColorImages['MainThumb'].strImagePath;
						}
					}					
				}
									
				// Product Sizes In Stock - u32 - pulling from page
				// Product Sizes Out of Stock - u33				
				var allSkus = productPage.objV.arrayVariantSkus;
				var allSize1s = productPage.arrayAllSizeDimension1;
				var allSize2s = productPage.arrayAllSizeDimension2;
				var currentSkuId = '';
				var currentSkuSize1 = '';
				var currentSkuSize2 = '';
				var currentSkuSizeDescription = '';
				var sizeDesc = '';
				var arrSkuSizesAll = [];
				var arrSkuSizesInStock = [];
				var arrSkuSizesOutOfStock = [];
				
				if( allSize1s.length > 0 && allSize2s.length > 0 ) {
					for( var i=0; i < allSize1s.length; i++ ) {
						for( var j=0; j < allSize2s.length; j++ ) {
							sizeDesc = '';
							sizeDesc += allSize1s[i].strName + ':' + allSize2s[j].strName;
							arrSkuSizesAll.push( sizeDesc );
						}
					}
				}
				else if( allSize1s.length > 0 ) {
					for( var i=0; i < allSize1s.length; i++ ) {
						sizeDesc = '';
						sizeDesc += allSize1s[i].strName;
						arrSkuSizesAll.push( sizeDesc );
					}
				}
				
				//console.log( 'all sizes ' + arrSkuSizesAll );
				
				jQuery.each(allSkus, function(key,valueObj){
					// If the value is an object that represents an in-stock color/size SKU of the initially loaded color
					var currentPid = productPage.strDefaultStyleColorId;
					if( jQuery.type( valueObj ) == 'object' ) {
						// Restrict to initially loaded color
						if( valueObj.strSkuId.indexOf( currentPid ) > -1 ) {
							currentSkuSizeDescription = '';
							currentSkuId = valueObj.strSkuId;
							currentSkuSize1 = valueObj.strSizeDim1Id;
							currentSkuSize2 = valueObj.strSizeDim2Id;
							
							if( allSize1s.length > 0 ) {
								for( var i=0; i < allSize1s.length; i++ ) {
									if( allSize1s[i].strId == currentSkuSize1 ) {
										currentSkuSizeDescription += allSize1s[i].strName;
									}			
								}
							}
							
							if( allSize2s.length > 0 ) {
								for( var j=0; j < allSize2s.length; j++ ) {
									if( allSize2s[j].strId == currentSkuSize2 ) {
										currentSkuSizeDescription += ':' + allSize2s[j].strName;
									}			
								}
							}
					
							//console.log( 'sku = ' + currentSkuId + '; size1 = ' + currentSkuSize1 + '; size2 = ' + currentSkuSize2 + '; sizeDesc = ' + currentSkuSizeDescription );
							arrSkuSizesInStock.push( currentSkuSizeDescription );
						}
					}
				});
				
				//console.log( 'sizes in stock ' + arrSkuSizesInStock );
				
				arrSkuSizesOutOfStock = jQuery.grep( arrSkuSizesAll, function( elt ) {
					return jQuery.inArray( elt, arrSkuSizesInStock ) == -1;
				});
				
				//console.log( 'sizes out of stock ' + arrSkuSizesOutOfStock );
				
				if( arrSkuSizesInStock.length > 0 ) {
					// Replace ' &#189' with 'half'
					for( var i=0; i < arrSkuSizesInStock.length; i++ ) {
						arrSkuSizesInStock[i] = arrSkuSizesInStock[i].replace(' &#189','half');
					}
					this.model.productSizesInStock = arrSkuSizesInStock.join();
					this.model.productSizesInStock = this.model.productSizesInStock.toLowerCase();
					//console.log('in stock sizes set');
				}
				if( arrSkuSizesOutOfStock.length > 0 ) {
					// Replace ' &#189' with 'half'
					for( var j=0; j < arrSkuSizesOutOfStock.length; j++ ) {
						arrSkuSizesOutOfStock[j] = arrSkuSizesOutOfStock[j].replace(' &#189','half');
					}
					this.model.productSizesOutOfStock = arrSkuSizesOutOfStock.join();
					this.model.productSizesOutOfStock = this.model.productSizesOutOfStock.toLowerCase();
					//console.log('out of stock sizes set');
				}
				
				// Is product on order - u45 - based on existance of an on-order date
				var productOnOrder = 'false';
				if( productPage.isSkuOnOrder(productPage.activeColor, productPage.activeSizeDimension1, productPage.activeSizeDimension2) != null ) {
					productOnOrder = 'true';
				}
				this.model.productOnOrder = productOnOrder;
				
				// Low Inventory - u46 - based on return of Low Inventory function
				var productLowInventory = 'false';
				if( productPage.isSkuLowInventory(productPage.activeColor, productPage.activeSizeDimension1, productPage.activeSizeDimension2) != null && productPage.isSkuLowInventory(productPage.activeColor, productPage.activeSizeDimension1, productPage.activeSizeDimension2) == true ) {
					productLowInventory = 'true';
				}
				this.model.productLowInventory = productLowInventory;
				
				// Current selected variant on product page load - u49
				// 1: Regular, 2: Tall, 3: Petite, 8: Plus
				var currentVariantId = '1'; 
				if( productService.strVariantId ) {
					currentVariantId = productService.strVariantId.toString();
				}
				this.model.currentVariantId = currentVariantId;
			}
		}

		// ORDER CONF ONLY variables
		else if (location.pathname == "/checkout/orderConfirm.do") {

			// Page Type fix on order conf page
			this.model.pageType = 'orderConfirm';

			// Order ID - ord - Gap.com order ID
			this.model.orderId = ( metricsLibrary.order.orderId ) ? metricsLibrary.order.orderId : '';
			
			this.model.promotionSubTotal = ( metricsLibrary.order.promotionSubTotal ) ? parseFloat( metricsLibrary.order.promotionSubTotal ) : 0;
			this.model.promotionRewardsTotal = ( metricsLibrary.order.promotionRewardsTotal ) ? parseFloat( metricsLibrary.order.promotionRewardsTotal ) : 0;
			this.model.giftServicesTotal = ( metricsLibrary.order.giftServicesTotal ) ? parseFloat( metricsLibrary.order.giftServicesTotal ) : 0;
			this.model.shippingTotal = ( metricsLibrary.order.shippingTotal ) ? parseFloat( metricsLibrary.order.shippingTotal ) : 0;
			this.model.taxTotal = ( metricsLibrary.order.taxTotal ) ? parseFloat( metricsLibrary.order.taxTotal ) : 0;
			this.model.orderTotal = ( metricsLibrary.order.orderTotal ) ? parseFloat( metricsLibrary.order.orderTotal ) : 0;
				
			// Fixes rounding problem
			this.model.myShipTotal = parseInt( this.model.shippingTotal*100 );
			this.model.myTaxTotal = parseInt( this.model.taxTotal*100 );
			this.model.myOrderTotal = parseInt( this.model.orderTotal*100 );
			this.model.myTotal = this.model.myOrderTotal - this.model.myShipTotal - this.model.myTaxTotal;
			this.model.myTotal = parseFloat(this.model.myTotal/100);

			// Total Merch (ie. Net Demand) - u15 - Order total - shipping - tax
			this.model.netDemand = this.model.myTotal;

			// Total Merch + promo dolloers (ie. Gross Merch Demand) - cost - Order total - shipping - tax + promo dollares
			this.model.grossMerchandise = this.model.netDemand + this.model.promotionSubTotal;
			
			// Checkout Brand - u8 - brand a user checks out on
			this.model.checkoutBrand = ( metricsLibrary.order.checkoutBrand ) ? metricsLibrary.order.checkoutBrand : '';
			
			// Shipping & Billing zips - u12, u13 respectively - user zip codes
			this.model.shippingZip = ( metricsLibrary.order.shippingZip ) ? metricsLibrary.order.shippingZip : '';
			this.model.billingZip = ( metricsLibrary.order.billingZip ) ? metricsLibrary.order.billingZip : '';
			
			// Promotional dollars - u16 - coupon dollars
			this.model.promoDollars = this.model.promotionSubTotal;
			
			// Tax - u17 - tax amount
			this.model.tax = this.model.taxTotal;
			
			// Shipping - u18 - total shipping charged
			this.model.shipping = this.model.shippingTotal;

			// Encrypted billing address string - u43
			this.model.encryptedBillingAddress = ( metricsLibrary.order.billingAddressEncrypt ) ? metricsLibrary.order.billingAddressEncrypt : '';
		}
		document.fire('brightTagPixelPartner:dataModelLoaded');
		
	}
	controller.setPixelPartnerTransmissionTemplate = function() {
		var shoppingBagUrls = ['/buy/shopping_bag.do','/buy/shopping_bag_delete_item.do','/buy/shopping_bag_save_item.do','/buy/shopping_bag_move_item.do','/buy/edit_shipping_method_bag.do'];

		// Order conf page fire
		if( location.pathname == "/checkout/orderConfirm.do" ) {
			this.pixelPartnerTransmissionTemplate = new Template(		
				"<iframe src=\"//s.thebrighttag.com/tag?" + 
					"site=#{model.brighttag_site_id}&" + 
					"mode=iframe&" + 
					"ord=#{model.orderId}&" + 
					"qty=#{model.totalQty}&" + 
					"cost=#{model.grossMerchandise}&" + 
					"tran=#{model.enteringBrandCode}&" + 
					"u=#{model.currencyType}&" + 
					"u1=#{model.productSkus}&" + 
					"u2=#{model.pageType}&" + 
					"u3=#{model.pageId}&" + 
					"u4=#{model.apCode}&" + 
					"u5=#{model.lastInTID}&" + 
					"u6=#{model.itemPrices}&" + 
					"u7=#{model.itemBrands}&" + 
					"u8=#{model.checkoutBrand}&" + 
					"u9=#{model.pageName}&" + 
					"u10=#{model.pageURL}&" + 
					"u11=#{model.isNewCustomer}&" + 
					"u12=#{model.shippingZip}&" + 
					"u13=#{model.billingZip}&" + 
					"u14=#{model.isRecognizedVisitor}&" + 
					"u15=#{model.netDemand}&" + 
					"u16=#{model.promoDollars}&" + 
					"u17=#{model.tax}&" + 
					"u18=#{model.shipping}&" + 
					"u19=#{model.prodQty}&" + 
					"u20=#{model.unknownShopperID}&" + 
					"u21=#{model.customerID}&" + 
					this.controller.getPixmanElement("u26",model.dotomiToken,"&") + 
					"u27=#{model.diID}&" + 
					"u40=#{model.encryptionCipher}&" + 
					"u41=#{model.encryptionVector}&" + 
					"u42=#{model.encryptedEmail}&" + 
					"u43=#{model.encryptedBillingAddress}&" + 
					"u44=#{model.mobileVsDesktop}&" + 
					"u48=#{model.referringPageURL}&" + 
					
					// Vendor specific metrics				
					"v1=#{model.vendorMetrics.trialPay.sid}&" + 
					
					"\" width=\"1\" height=\"1\" frameborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\"></iframe>");
		}
		
		// Product Page fire
		else if( location.pathname == '/browse/product.do' ) {
			this.pixelPartnerTransmissionTemplate = new Template(		
				"<iframe src=\"//s.thebrighttag.com/tag?" + 
					"site=#{model.brighttag_site_id}&" + 
					"mode=iframe&" + 
					"qty=#{model.totalQty}&" + 
					"tran=#{model.enteringBrandCode}&" + 
					"u=#{model.currencyType}&" + 
					"u1=#{model.productSkus}&" + 
					"u2=#{model.pageType}&" + 
					"u3=#{model.pageId}&" + 
					"u4=#{model.apCode}&" + 
					"u5=#{model.lastInTID}&" + 
					"u6=#{model.itemPrices}&" + 
					"u7=#{model.itemBrands}&" + 
					"u9=#{model.pageName}&" + 
					"u10=#{model.pageURL}&" + 
					"u11=#{model.isNewCustomer}&" + 
					"u14=#{model.isRecognizedVisitor}&" + 
					"u19=#{model.prodQty}&" + 
					"u20=#{model.unknownShopperID}&" + 
					"u21=#{model.customerID}&" + 
					this.controller.getPixmanElement("u26",model.dotomiToken,"&") +
					"u27=#{model.diID}&" + 
					"u28=#{model.productName}&" + 
					"u29=#{model.productBrandCode}&" + 
					"u30=#{model.productPrice}&" + 
					"u31=#{model.productImage}&" + 
					"u32=#{model.productSizesInStock}&" + 
					"u33=#{model.productSizesOutOfStock}&" + 
					"u34=#{model.productVendorName}&" + 
					"u35=#{model.productOriginalPrice}&" + 
					"u36=#{model.productDefaultCID}&" + 
					"u37=#{model.currentDivisionName}&" + 
					"u38=#{model.categoryNameClicked}&" + 
					"u40=#{model.encryptionCipher}&" + 
					"u41=#{model.encryptionVector}&" + 
					"u42=#{model.encryptedEmail}&" + 
					"u44=#{model.mobileVsDesktop}&" + 
					"u45=#{model.productOnOrder}&" + 
					"u46=#{model.productLowInventory}&" + 
					"u48=#{model.referringPageURL}&" + 
					"u49=#{model.currentVariantId}&" + 
					
					// Vendor specific metrics				
					"v1=#{model.vendorMetrics.trialPay.sid}&" + 
					
					"\" width=\"1\" height=\"1\" frameborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\"></iframe>");
		}
		
		// Other non-secure pages
		else if( window.location.protocol != "https:" || shoppingBagUrls.include( location.pathname ) ) {
			this.pixelPartnerTransmissionTemplate = new Template(
				"<iframe src=\"//s.thebrighttag.com/tag?" + 
					"site=#{model.brighttag_site_id}&" + 
					"mode=iframe&" + 
					"qty=#{model.totalQty}&" + 
					"tran=#{model.enteringBrandCode}&" +
					"u=#{model.currencyType}&" + 
					"u1=#{model.productSkus}&" + 
					"u2=#{model.pageType}&" + 
					"u3=#{model.pageId}&" +
					"u4=#{model.apCode}&" + 
					"u5=#{model.lastInTID}&" + 
					"u6=#{model.itemPrices}&" + 
					"u7=#{model.itemBrands}&" + 
					"u9=#{model.pageName}&" + 
					"u10=#{model.pageURL}&" + 
					"u11=#{model.isNewCustomer}&" + 
					"u14=#{model.isRecognizedVisitor}&" + 
					"u19=#{model.prodQty}&" + 
					"u20=#{model.unknownShopperID}&" + 
					"u21=#{model.customerID}&" + 
					this.controller.getPixmanElement("u26",model.dotomiToken,"&") +
					"u27=#{model.diID}&" + 
					"u40=#{model.encryptionCipher}&" + 
					"u41=#{model.encryptionVector}&" + 
					"u42=#{model.encryptedEmail}&" + 
					"u44=#{model.mobileVsDesktop}&" + 
					"u48=#{model.referringPageURL}&" + 
					
					// Vendor specific metrics				
					"v1=#{model.vendorMetrics.trialPay.sid}&" + 
					
					"\" width=\"1\" height=\"1\" frameborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\"></iframe>");
		}
		// Profile/account pages for Gap
		else if (location.pathname == "/profile/info.do" && ( location.search.indexOf('cid=48755') > -1 || location.search.indexOf('cid=53959') > -1 || location.search.indexOf('cid=82640') > -1 ) ) {
			this.pixelPartnerTransmissionTemplate = new Template(
				"<iframe src=\"//s.thebrighttag.com/tag?" + 
					"site=#{model.brighttag_site_id}&" + 
					"mode=iframe&" + 
					"qty=#{model.totalQty}&" + 
					"tran=#{model.enteringBrandCode}&" +
					"u=#{model.currencyType}&" + 
					"u1=#{model.productSkus}&" + 
					"u2=#{model.pageType}&" + 
					"u3=#{model.pageId}&" +
					"u4=#{model.apCode}&" + 
					"u5=#{model.lastInTID}&" + 
					"u6=#{model.itemPrices}&" + 
					"u7=#{model.itemBrands}&" + 
					"u9=#{model.pageName}&" + 
					"u10=#{model.pageURL}&" + 
					"u11=#{model.isNewCustomer}&" + 
					"u14=#{model.isRecognizedVisitor}&" + 
					"u19=#{model.prodQty}&" + 
					"u20=#{model.unknownShopperID}&" + 
					"u21=#{model.customerID}&" + 
					this.controller.getPixmanElement("u26",model.dotomiToken,"&") +
					"u27=#{model.diID}&" + 
					"u40=#{model.encryptionCipher}&" + 
					"u41=#{model.encryptionVector}&" + 
					"u42=#{model.encryptedEmail}&" + 
					"u44=#{model.mobileVsDesktop}&" + 
					"u48=#{model.referringPageURL}&" + 
					
					// Vendor specific metrics				
					"v1=#{model.vendorMetrics.trialPay.sid}&" + 
					
					"\" width=\"1\" height=\"1\" frameborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\"></iframe>");
		}
	}
	controller.setCleanUp = function() {
		// alert("setCleanUp() running: pixelPartnerName = " + this.pixelPartnerName);
	}
	controller.helper = new Object();
}
</script>

<div id="doubleClickPixelDiv"></div>
<div id="partnerPixelDiv"></div>

<script type="text/javascript">

// WCD in-page event BrightTag service - Quicklook, QL Add To Bag, Find It Now, Reserve In Store, Add To Bag
if( location.pathname == '/browse/product.do' || location.pathname == '/browse/outfit.do' || location.pathname == '/browse/category.do' || location.pathname == '/browse/categorySearch.do' || location.pathname == '/browse/search.do' ) {

	var wcdBrightTagService = {
		model: {
			supportedEvents: ['QuickLook','AddToQLBag','FindItNow','ReserveInStore','AddToBag','LoadVariantProduct','LoadVariantQLProduct'],
			btFrameId: 'wcdBrightTagServiceFrame',
			brFrameUrl: '',
			btDataModel: '',
			btFrameExists: false,
			btLoadVariantCalls: 0
		},
  	init: function() {
			// Copy data model over from existing BT tag
			if( window["brightTagPixelPartner"] != null ) {
				if( brightTagPixelPartner.model ) {
					wcdBrightTagService.model.btDataModel = {};
					jQuery.extend( wcdBrightTagService.model.btDataModel, brightTagPixelPartner.model );
				}
			}
		},
		controller: {
			// Creates dynamic BT frame if not present
			createBrightTagFrame: function() {
				var model = wcdBrightTagService.model;
				if( jQuery('#' + model.btFrameId + ' iframe').length == 0 ) {
					jQuery('body').append('<div id="' + model.btFrameId + '"><iframe width="1" height="1" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe></div>');
					//jQuery('body').append('<div id="' + model.btFrameId + '"><iframe src="/Asset_Archive/BRWeb/content/0008/954/949/assets/blank.gif" width="1" height="1" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe></div>');
					model.btFrameExists = true;
				}
			},
			updateBrightTagFrame: function() {
				var model = wcdBrightTagService.model;
				if( model.btFrameUrl != '' && jQuery('#' + model.btFrameId + ' iframe').length > 0 ) {
					jQuery('#' + model.btFrameId + ' iframe' ).attr('src', model.btFrameUrl );
					//console.log('iframe URL set');
				}
			},
			fireBrightTag: function( eventName, eventModifier ) {
				//console.log('fired for ' + eventName );
				
				var wcdBTRef = wcdBrightTagService;
				var model = wcdBTRef.model;
				var btDataModel = model.btDataModel;
				var controller = wcdBTRef.controller;
				var btFrameUrl = '';
				// Fire BrightTag for supported events only
				if( jQuery.inArray( eventName, model.supportedEvents ) > -1 && btDataModel != '' ) {
					if( ! model.btFrameExists ) {
						controller.createBrightTagFrame();
					}
					
					btDataModel.pageName = brightTagPixelPartner.model.pageName;
					if( btDataModel.pageName && btDataModel.pageName.indexOf( eventName ) == -1 ) {
						btDataModel.pageName += '%3A' + eventName;
					}
					
					// Update Add to Bag events to pass price of product added to bag
					if( eventName == 'AddToBag' || eventName == 'AddToQLBag' ) {
						btDataModel.addToBagSellPrice = '';
						btDataModel.addToBagOutfitSkus = '';

						if( eventName == 'AddToBag' ) {
							if( eventModifier == null ) {
								var currentProductColor = productPage.activeColor;
								var currentProductColorObj = productPage.objV.arrayVariantStyleColors[ currentProductColor ];
								if( currentProductColorObj.price ) {
									btDataModel.addToBagSellPrice = currentProductColorObj.price;
								}
								if( productPage.strSelectedQty ) {
									if( productPage.strSelectedQty != '1' ) {
										btDataModel.addToBagSellPrice = parseFloat( btDataModel.addToBagSellPrice ) * parseInt( productPage.strSelectedQty );
										btDataModel.addToBagSellPrice = btDataModel.addToBagSellPrice.toFixed(2);
										btDataModel.addToBagSellPrice = btDataModel.addToBagSellPrice.toString();
									}
								}
							}
							else if( eventModifier == 'outfitPage' ) {
								if( outfitPage.arrayProducts != null && outfitPage.arrayProducts.length > 0 ) {
									var currentOutfitProductColor = '';
									var currentOutfitProductColorObj = null;
									var currentOutfitProductSku = '';
									
									for( var i=0; i < outfitPage.arrayProducts.length; i++ ) {
										if( outfitPage.arrayProducts[i].selectedToAdd ) {
											currentOutfitProductColor = '';
											currentOutfitProductColorObj = null;
											currentOutfitProductSku = '';
											
											currentOutfitProductColor = outfitPage.arrayProducts[i].activeColor;
											currentOutfitProductColorObj = outfitPage.arrayProducts[i].objV.arrayVariantStyleColors[ currentOutfitProductColor ];
											if( currentOutfitProductColorObj.price ) {
												btDataModel.addToBagSellPrice += currentOutfitProductColorObj.price + '|'
											}
											if( currentOutfitProductColorObj.strColorCodeId ) {
												btDataModel.addToBagOutfitSkus += currentOutfitProductColorObj.strColorCodeId + '|'
											}
										}
									}
									if( btDataModel.addToBagSellPrice != '' && btDataModel.addToBagSellPrice.substr( btDataModel.addToBagSellPrice.length - 1 ) == '|' ) {
										btDataModel.addToBagSellPrice = btDataModel.addToBagSellPrice.substr( 0, btDataModel.addToBagSellPrice.length - 1 );
									}
									if( btDataModel.addToBagOutfitSkus != '' && btDataModel.addToBagOutfitSkus.substr( btDataModel.addToBagOutfitSkus.length - 1 ) == '|' ) {
										btDataModel.addToBagOutfitSkus = btDataModel.addToBagOutfitSkus.substr( 0, btDataModel.addToBagOutfitSkus.length - 1 );
									}
								}
							}
						}
						else if( eventName == 'AddToQLBag' ) {
							var currentProductColor = quickLook.activeColor;
							var currentProductColorObj = quickLook.objV.arrayVariantStyleColors[ currentProductColor ];
							if( currentProductColorObj.price ) {
								btDataModel.addToBagSellPrice = currentProductColorObj.price;
							}
							if( model.qtySelected ) {
								if( model.qtySelected != '1' ) {
									btDataModel.addToBagSellPrice = parseFloat( btDataModel.addToBagSellPrice ) * parseInt( model.qtySelected );
									btDataModel.addToBagSellPrice = btDataModel.addToBagSellPrice.toFixed(2);
									btDataModel.addToBagSellPrice = btDataModel.addToBagSellPrice.toString();
								}
							}
						}
					}
					
					// Update Add to Bag event to pass full product ID in page URL
					if( eventName == 'AddToBag' && eventModifier == null ) {
						// Update URL if there's no CID in it
						if( gidLib.getQuerystringParam('cid') == '' && btDataModel.pageURL.indexOf('cid') == -1 && productPage.strDefaultCategoryId ) {
							btDataModel.pageURL += '%26cid%3D' + productPage.strDefaultCategoryId;
						}

						if( productPage.objV.objStyleSizeInfo.intSizeDimensionsCount >= 1 ) {
							var strColorId = productPage.objV.arrayVariantStyleColors[ productPage.selectedColor ].strColorCodeId;
							var strSize1Id = productPage.arrayAllSizeDimension1[ productPage.selectedSizeDimension1 ].strId;
							var strSize2Id = "";
						}
						if( productPage.objV.objStyleSizeInfo.intSizeDimensionsCount == 2 ) {
							strSize2Id = productPage.arrayAllSizeDimension2[ productPage.selectedSizeDimension2 ].strId;
						}
						var strSkuID = productPage.objV.arrayVariantSkus[ strColorId + "_" + strSize1Id + "_" + strSize2Id ].strSkuId;
						
						// Parse URL and replace product ID with selected
						var currentProductId = btDataModel.pageURL;
						currentProductId = currentProductId.substr( currentProductId.indexOf('pid%3D') + 6 );
						if( currentProductId.indexOf('%26') > -1 ) {
							currentProductId = currentProductId.substr( 0, currentProductId.indexOf('%26') );
						}
						var arrAddedProductURL = btDataModel.pageURL.split( currentProductId );
						var addedProductURL = '';
						if( arrAddedProductURL.length > 0 ) {
							addedProductURL = arrAddedProductURL[0] + strSkuID;
							if( arrAddedProductURL.length > 1 ) { addedProductURL += arrAddedProductURL[1]; }
						}
						
						btDataModel.pageURL = addedProductURL;
							
						// Current selected variant on product page load - u49
						// 1: Regular, 2: Tall, 3: Petite, 8: Plus
						var currentVariantId = '1'; 
						if( productPage.strVariantId ) {
							currentVariantId = productPage.strVariantId.toString();
						}
						btDataModel.currentVariantId = currentVariantId;
					}
					
					// If Load Product Variant, adjusts product page elements for new variant
					else if( eventName == 'LoadVariantProduct' || eventName == 'LoadVariantQLProduct' ) {
						var productObjRef = '';
						if( eventName == 'LoadVariantProduct' && window["productPage"] != null ) {
							productObjRef = productPage;
						}
						else if( eventName == 'LoadVariantQLProduct' && window["quickLook"] != null ) {
							productObjRef = quickLook;
						}
							
						if( productObjRef != '' ) {
							
							// New product ID of variant
							var currentProductColor = productObjRef.activeColor;
							var currentProductColorObj = productObjRef.objV.arrayVariantStyleColors[ currentProductColor ];
							var newVariantProductId = currentProductColorObj.strColorCodeId;
							
							// Update Page ID with variant ID
							btDataModel.pageId = newVariantProductId;
							
							// Update Page URL with variant ID
							// Parse URL and replace product ID with selected
							var currentProductId = btDataModel.pageURL;
							currentProductId = currentProductId.substr( currentProductId.indexOf('pid%3D') + 6 );
							if( currentProductId.indexOf('&') > -1 ) {
								currentProductId = currentProductId.substr( 0, currentProductId.indexOf('%26') );
							}
							var arrVariantProductURL = btDataModel.pageURL.split( currentProductId );
							var variantProductURL = '';
							if( arrVariantProductURL.length > 0 ) {
								variantProductURL = arrVariantProductURL[0] + newVariantProductId;
								if( arrVariantProductURL.length > 1 ) { variantProductURL += arrVariantProductURL[1]; }
							}
							
							btDataModel.pageURL = variantProductURL;

							// Update URL if there's no CID in it
							if( gidLib.getQuerystringParam('cid') == '' && btDataModel.pageURL.indexOf('cid') == -1 && productObjRef.strDefaultCategoryId ) {
								btDataModel.pageURL += '%26cid%3D' + productObjRef.strDefaultCategoryId;
							}

							// Product Name - u28, Product Vendor Name - u34
							if( productObjRef.objP.strProductStyleName ) {
								btDataModel.productName = '';
								btDataModel.productName = encodeURIComponent( productObjRef.objP.strProductStyleName );
							
								// Check whether item has a vendor (ie. Piperlime), if so prepend vendor name
								if( btDataModel.productName != '' && productObjRef.objP.strVendorName && productObjRef.objP.strVendorName != '' ) {
									btDataModel.productName = encodeURIComponent( productObjRef.objP.strVendorName ) + '%20' + btDataModel.productName;					
									btDataModel.productVendorName = encodeURIComponent( productObjRef.objP.strVendorName );
								}
							}
							
							// Product Brand - u29 - brand code sent
							if( productObjRef.objP.brandCode ) {
								btDataModel.productBrandCode = '';
								btDataModel.productBrandCode = productObjRef.objP.brandCode;
							}
							
							// Variant/color based
							if( productObjRef.hasOwnProperty('objV') && productObjRef.hasOwnProperty('activeColor') ) {
								btDataModel.productPrice = '';
								var currentProductColor = productObjRef.activeColor;
								var currentProductColorObj = productObjRef.objV.arrayVariantStyleColors[ currentProductColor ];
								
								// Product Price - u30 - find selected variant/color to determine best
								if( currentProductColorObj.price ) {
									btDataModel.productPrice = currentProductColorObj.price;
									//console.log('price set');
								}
					
								// Product Original Price - u35
								if( currentProductColorObj.strRegularPrice ) {
									btDataModel.productOriginalPrice = currentProductColorObj.strRegularPrice.replace('$','');
								}
								
								// Product Image URL - u31
								if( currentProductColorObj.hasOwnProperty('arrayVariantStyleColorImages') ) {
									btDataModel.productImage = '';
									if( currentProductColorObj.arrayVariantStyleColorImages['Main'] ) {
										btDataModel.productImage = encodeURIComponent('http://' + location.hostname + currentProductColorObj.arrayVariantStyleColorImages['Main'].strImagePath );
										//console.log('image set from Main');
									}
									else if( currentProductColorObj.arrayVariantStyleColorImages['MainThumb'] ) {
										btDataModel.productImage = encodeURIComponent('http://' + location.hostname + currentProductColorObj.arrayVariantStyleColorImages['MainThumb'].strImagePath );
									}
								}					
							}
							
							// Product Sizes In Stock - u32 - pulling from page
							// Product Sizes Out of Stock - u33
							var allSkus = productObjRef.objV.arrayVariantSkus;
							var allSize1s = productObjRef.arrayAllSizeDimension1;
							var allSize2s = productObjRef.arrayAllSizeDimension2;
							var currentSkuId = '';
							var currentSkuSize1 = '';
							var currentSkuSize2 = '';
							var currentSkuSizeDescription = '';
							var sizeDesc = '';
							var arrSkuSizesAll = [];
							var arrSkuSizesInStock = [];
							var arrSkuSizesOutOfStock = [];
							
							if( allSize1s.length > 0 && allSize2s.length > 0 ) {
								for( var i=0; i < allSize1s.length; i++ ) {
									for( var j=0; j < allSize2s.length; j++ ) {
										sizeDesc = '';
										sizeDesc += allSize1s[i].strName + ':' + allSize2s[j].strName;
										arrSkuSizesAll.push( sizeDesc );
									}
								}
							}
							else if( allSize1s.length > 0 ) {
								for( var i=0; i < allSize1s.length; i++ ) {
									sizeDesc = '';
									sizeDesc += allSize1s[i].strName;
									arrSkuSizesAll.push( sizeDesc );
								}
							}
							
							//console.log( 'all sizes ' + arrSkuSizesAll );
							
							jQuery.each(allSkus, function(key,valueObj){
								// If the value is an object that represents an in-stock color/size SKU of the initially loaded color
								if( eventName == 'LoadVariantProduct' ) {
									var currentPid = productObjRef.strDefaultStyleColorId;
								}
								else if( quickLook.objQuickLookTarget ) {
									var currentPid = quickLook.objQuickLookTarget.strDefaultStyleColor;
								}

								if( jQuery.type( valueObj ) == 'object' ) {
									// Restrict to initially loaded color
									if( valueObj.strSkuId.indexOf( currentPid ) > -1 ) {
										currentSkuSizeDescription = '';
										currentSkuId = valueObj.strSkuId;
										currentSkuSize1 = valueObj.strSizeDim1Id;
										currentSkuSize2 = valueObj.strSizeDim2Id;
										
										if( allSize1s.length > 0 ) {
											for( var i=0; i < allSize1s.length; i++ ) {
												if( allSize1s[i].strId == currentSkuSize1 ) {
													currentSkuSizeDescription += allSize1s[i].strName;
												}			
											}
										}
										
										if( allSize2s.length > 0 ) {
											for( var j=0; j < allSize2s.length; j++ ) {
												if( allSize2s[j].strId == currentSkuSize2 ) {
													currentSkuSizeDescription += ':' + allSize2s[j].strName;
												}			
											}
										}
								
										//console.log( 'sku = ' + currentSkuId + '; size1 = ' + currentSkuSize1 + '; size2 = ' + currentSkuSize2 + '; sizeDesc = ' + currentSkuSizeDescription );
										arrSkuSizesInStock.push( currentSkuSizeDescription );
									}
								}
							});
							
							//console.log( 'sizes in stock ' + arrSkuSizesInStock );
							
							arrSkuSizesOutOfStock = jQuery.grep( arrSkuSizesAll, function( elt ) {
								return jQuery.inArray( elt, arrSkuSizesInStock ) == -1;
							});
							
							//console.log( 'sizes out of stock ' + arrSkuSizesOutOfStock );
							
							btDataModel.productSizesInStock = '';
							if( arrSkuSizesInStock.length > 0 ) {
								// Replace ' &#189' with 'half'
								for( var i=0; i < arrSkuSizesInStock.length; i++ ) {
									arrSkuSizesInStock[i] = arrSkuSizesInStock[i].replace(' &#189','half');
								}
								btDataModel.productSizesInStock = arrSkuSizesInStock.join();
								btDataModel.productSizesInStock = btDataModel.productSizesInStock.toLowerCase();
								//console.log('in stock sizes set');
							}
							btDataModel.productSizesOutOfStock = '';
							if( arrSkuSizesOutOfStock.length > 0 ) {
								// Replace ' &#189' with 'half'
								for( var j=0; j < arrSkuSizesOutOfStock.length; j++ ) {
									arrSkuSizesOutOfStock[j] = arrSkuSizesOutOfStock[j].replace(' &#189','half');
								}
								btDataModel.productSizesOutOfStock = arrSkuSizesOutOfStock.join();
								btDataModel.productSizesOutOfStock = btDataModel.productSizesOutOfStock.toLowerCase();
								//console.log('out of stock sizes set');
							}
							
							// Current selected variant on product page load - u49
							// 1: Regular, 2: Tall, 3: Petite, 8: Plus
							var currentVariantId = '1'; 
							if( productObjRef.strVariantId ) {
								currentVariantId = productObjRef.strVariantId.toString();
							}
							btDataModel.currentVariantId = currentVariantId;
						}
					}

					// If QuickLook or AddToQLBag, add product elements
					else if( eventName == 'QuickLook' || eventName == 'AddToQLBag' ) {
						if( ( eventName == 'QuickLook' || eventName == 'AddToQLBag' ) && window["quickLook"] != null && quickLook.objP && quickLook.objV ) {
							
							// Fake URL to be product page
							var qlProductId = quickLook.objP.strProductId;
							var currentCid = gidLib.getQuerystringParam('cid');
							currentCid = currentCid.substr(0,6);
							
							// Update Add to Bag QL event to override product ID to pass full product ID of item added
							if( eventName == 'AddToQLBag' ) {
								if( quickLook.objV.objStyleSizeInfo.intSizeDimensionsCount >= 1 ) {
									var strColorId = quickLook.objV.arrayVariantStyleColors[ quickLook.selectedColor ].strColorCodeId;
									var strSize1Id = quickLook.arrayAllSizeDimension1[ quickLook.selectedSizeDimension1 ].strId;
									var strSize2Id = "";
								}
								if( quickLook.objV.objStyleSizeInfo.intSizeDimensionsCount == 2 ) {
									strSize2Id = quickLook.arrayAllSizeDimension2[ quickLook.selectedSizeDimension2 ].strId;
								}
								qlProductId = quickLook.objV.arrayVariantSkus[ strColorId + "_" + strSize1Id + "_" + strSize2Id ].strSkuId;
							}
							
							btDataModel.pageURL = 'http://' + location.hostname + location.pathname.replace('category','product').replace('categorySearch','product').replace('search','product') + '?cid=' + currentCid + '&pid=' + qlProductId;
							btDataModel.pageURL = encodeURIComponent( btDataModel.pageURL );

							// Product Name - u28
							if( quickLook.objP.strProductStyleName ) {
								btDataModel.productName = '';
								btDataModel.productVendorName = '';
								btDataModel.productName = encodeURIComponent( quickLook.objP.strProductStyleName );
							
								// Check whether item has a vendor (ie. Piperlime), if so prepend vendor name
								if( btDataModel.productName != '' && quickLook.objP.strVendorName && quickLook.objP.strVendorName != '' ) {
									btDataModel.productName = encodeURIComponent( quickLook.objP.strVendorName ) + '%20' + btDataModel.productName;					
									btDataModel.productVendorName = encodeURIComponent( quickLook.objP.strVendorName );
								}
							}
							
							// Product Brand - u29 - brand code sent
							if( quickLook.objP.brandCode ) {
								btDataModel.productBrandCode = '';
								btDataModel.productBrandCode = quickLook.objP.brandCode;
							}
							
							// Variant/color based
							if( quickLook.hasOwnProperty('objV') && quickLook.hasOwnProperty('activeColor') ) {
								btDataModel.productPrice = '';
								var currentProductColor = quickLook.activeColor;
								var currentProductColorObj = quickLook.objV.arrayVariantStyleColors[ currentProductColor ];
								
								// Product Price - u30 - find selected variant/color to determine best
								if( currentProductColorObj.price ) {
									btDataModel.productPrice = currentProductColorObj.price;
									//console.log('price set');
								}
					
								// Product Original Price - u35
								if( currentProductColorObj.strRegularPrice ) {
									btDataModel.productOriginalPrice = currentProductColorObj.strRegularPrice.replace('$','');
								}
								
								// Product Image URL - u31
								if( currentProductColorObj.hasOwnProperty('arrayVariantStyleColorImages') ) {
									btDataModel.productImage = '';
									if( currentProductColorObj.arrayVariantStyleColorImages['Main'] ) {
										btDataModel.productImage = encodeURIComponent('http://' + location.hostname + currentProductColorObj.arrayVariantStyleColorImages['Main'].strImagePath );
										//console.log('image set from Main');
									}
									else if( currentProductColorObj.arrayVariantStyleColorImages['MainThumb'] ) {
										btDataModel.productImage = encodeURIComponent('http://' + location.hostname + currentProductColorObj.arrayVariantStyleColorImages['MainThumb'].strImagePath );
									}
								}					
							}
												
							// Product Sizes In Stock - u32 - pulling from page
							// Product Sizes Out of Stock - u33
							var allSkus = quickLook.objV.arrayVariantSkus;
							var allSize1s = quickLook.arrayAllSizeDimension1;
							var allSize2s = quickLook.arrayAllSizeDimension2;
							var currentSkuId = '';
							var currentSkuSize1 = '';
							var currentSkuSize2 = '';
							var currentSkuSizeDescription = '';
							var sizeDesc = '';
							var arrSkuSizesAll = [];
							var arrSkuSizesInStock = [];
							var arrSkuSizesOutOfStock = [];
							
							if( allSize1s.length > 0 && allSize2s.length > 0 ) {
								for( var i=0; i < allSize1s.length; i++ ) {
									for( var j=0; j < allSize2s.length; j++ ) {
										sizeDesc = '';
										sizeDesc += allSize1s[i].strName + ':' + allSize2s[j].strName;
										arrSkuSizesAll.push( sizeDesc );
									}
								}
							}
							else if( allSize1s.length > 0 ) {
								for( var i=0; i < allSize1s.length; i++ ) {
									sizeDesc = '';
									sizeDesc += allSize1s[i].strName;
									arrSkuSizesAll.push( sizeDesc );
								}
							}
							
							//console.log( 'all sizes ' + arrSkuSizesAll );
							
							jQuery.each(allSkus, function(key,valueObj){
								// If the value is an object that represents an in-stock color/size SKU of the initially loaded color
								var currentPid = quickLook.objQuickLookTarget.strDefaultStyleColor;
								if( jQuery.type( valueObj ) == 'object' ) {
									// Restrict to initially loaded color
									if( valueObj.strSkuId.indexOf( currentPid ) > -1 ) {
										currentSkuSizeDescription = '';
										currentSkuId = valueObj.strSkuId;
										currentSkuSize1 = valueObj.strSizeDim1Id;
										currentSkuSize2 = valueObj.strSizeDim2Id;
										
										if( allSize1s.length > 0 ) {
											for( var i=0; i < allSize1s.length; i++ ) {
												if( allSize1s[i].strId == currentSkuSize1 ) {
													currentSkuSizeDescription += allSize1s[i].strName;
												}			
											}
										}
										
										if( allSize2s.length > 0 ) {
											for( var j=0; j < allSize2s.length; j++ ) {
												if( allSize2s[j].strId == currentSkuSize2 ) {
													currentSkuSizeDescription += ':' + allSize2s[j].strName;
												}			
											}
										}
								
										//console.log( 'sku = ' + currentSkuId + '; size1 = ' + currentSkuSize1 + '; size2 = ' + currentSkuSize2 + '; sizeDesc = ' + currentSkuSizeDescription );
										arrSkuSizesInStock.push( currentSkuSizeDescription );
									}
								}
							});
							
							//console.log( 'sizes in stock ' + arrSkuSizesInStock );
							
							arrSkuSizesOutOfStock = jQuery.grep( arrSkuSizesAll, function( elt ) {
								return jQuery.inArray( elt, arrSkuSizesInStock ) == -1;
							});
							
							//console.log( 'sizes out of stock ' + arrSkuSizesOutOfStock );
							
							btDataModel.productSizesInStock = '';
							if( arrSkuSizesInStock.length > 0 ) {
								// Replace ' &#189' with 'half'
								for( var i=0; i < arrSkuSizesInStock.length; i++ ) {
									arrSkuSizesInStock[i] = arrSkuSizesInStock[i].replace(' &#189','half');
								}
								btDataModel.productSizesInStock = arrSkuSizesInStock.join();
								btDataModel.productSizesInStock = btDataModel.productSizesInStock.toLowerCase();
								//console.log('in stock sizes set');
							}
							btDataModel.productSizesOutOfStock = '';
							if( arrSkuSizesOutOfStock.length > 0 ) {
								// Replace ' &#189' with 'half'
								for( var j=0; j < arrSkuSizesOutOfStock.length; j++ ) {
									arrSkuSizesOutOfStock[j] = arrSkuSizesOutOfStock[j].replace(' &#189','half');
								}
								btDataModel.productSizesOutOfStock = arrSkuSizesOutOfStock.join();
								btDataModel.productSizesOutOfStock = btDataModel.productSizesOutOfStock.toLowerCase();
								//console.log('out of stock sizes set');
							}
							
							// Current selected variant on product page load - u49
							// 1: Regular, 2: Tall, 3: Petite, 8: Plus
							var currentVariantId = '1'; 
							if( quickLook.strVariantId ) {
								currentVariantId = quickLook.strVariantId.toString();
							}
							btDataModel.currentVariantId = currentVariantId;
						}
					}
					
					//console.log('data dump');
					//console.log( btDataModel );
					
					// Set the iframe URL and fire
					btFrameUrl = '//s.thebrighttag.com/tag?' + 
						'site=' + btDataModel.brighttag_site_id + '&' + 
						'mode=iframe&' + 
						'qty=' + btDataModel.totalQty + '&' + 
						'tran=' + btDataModel.enteringBrandCode + '&' + 
						'u=' + btDataModel.currencyType + '&' + 
						'u1=' + btDataModel.productSkus + '&' + 
						'u2=' + btDataModel.pageType + '&' + 
						'u3=' + btDataModel.pageId + '&' + 
						'u4=' + btDataModel.apCode + '&' + 
						'u5=' + btDataModel.lastInTID + '&' + 
						'u6=' + btDataModel.itemPrices + '&' + 
						'u7=' + btDataModel.itemBrands + '&' + 
						'u9=' + btDataModel.pageName + '&' + 
						'u10=' + btDataModel.pageURL + '&' + 
						'u11=' + btDataModel.isNewCustomer + '&' + 
						'u14=' + btDataModel.isRecognizedVisitor + '&' + 
						'u19=' + btDataModel.prodQty + '&' + 
						'u20=' + btDataModel.unknownShopperID + '&' + 
						'u21=' + btDataModel.customerID + '&' + 
						brightTagPixelPartner.controller.getPixmanElement('u26', btDataModel.dotomiToken, '&') +
						'u27=' + btDataModel.diID + '&';
						
					if( location.pathname == '/browse/product.do' || eventName == 'QuickLook' || eventName == 'AddToQLBag' || eventName == 'LoadVariantProduct' || eventName == 'LoadVariantQLProduct' ) {
						btFrameUrl += 'u28=' + btDataModel.productName + '&' + 
						'u29=' + btDataModel.productBrandCode + '&' + 
						'u30=' + btDataModel.productPrice + '&' + 
						'u31=' + btDataModel.productImage + '&' + 
						'u32=' + btDataModel.productSizesInStock + '&' + 
						'u33=' + btDataModel.productSizesOutOfStock + '&' + 
						'u34=' + btDataModel.productVendorName + '&' + 
						'u35=' + btDataModel.productOriginalPrice + '&';
					}
					if( ( eventName == 'AddToBag' || eventName == 'AddToQLBag' ) && btDataModel.addToBagSellPrice ) {
						btFrameUrl += 'u39=' + btDataModel.addToBagSellPrice + '&';
					}
					
					// Adding mobile vs desktop metric
					btFrameUrl += 'u44=' + btDataModel.mobileVsDesktop + '&';

					// Adding outfit SKUs added to bag
					if( location.pathname == '/browse/outfit.do' && eventName == 'AddToBag' && btDataModel.addToBagOutfitSkus ) {
						btFrameUrl += 'u47=' + btDataModel.addToBagOutfitSkus + '&';
					}
					
					btFrameUrl += 'u48=' + btDataModel.referringPageURL + '&';
					if( typeof btDataModel.currentVariantId != 'undefined' ) {
						btFrameUrl += 'u49=' + btDataModel.currentVariantId + '&';
					}
					
					model.btFrameUrl = btFrameUrl;

					controller.updateBrightTagFrame();
				}
			}
		}
	}
	
	Event.observe( document, 'brightTagPixelPartner:dataModelLoaded', function() {
		wcdBrightTagService.init();
	});
	
	// Quicklook wrap
	if( ( location.pathname == '/browse/category.do' || location.pathname == '/browse/categorySearch.do' || location.pathname == '/browse/search.do' || location.pathname == '/browse/product.do' ) && window["quickLook"] != null ) {
		Event.observe( document, 'quicklook:load', function() {
		//quickLook.launchQuickLook = quickLook.launchQuickLook.wrap( function( originalMethod ) {
			//console.log('quicklook loaded');
			//originalMethod();
			wcdBrightTagService.controller.fireBrightTag('QuickLook');
		});
		
		quickLook.addToBag = quickLook.addToBag.wrap( function( originalMethod ) {
			if( quickLook.strSelectedQty ) {
				wcdBrightTagService.model.qtySelected = quickLook.strSelectedQty;
			}
			originalMethod();
			wcdBrightTagService.controller.fireBrightTag('AddToQLBag');
		});
	}
	
	// Find-it-now wrap
	if( location.pathname == '/browse/product.do' && window["merchLocationsManager"] != null ) {
		if( merchLocationsManager.view && merchLocationsManager.view.storeLocationsListOverlay && merchLocationsManager.view.storeLocationsListOverlay.open ) {
			merchLocationsManager.view.storeLocationsListOverlay.open = merchLocationsManager.view.storeLocationsListOverlay.open.wrap( function( originalMethod ) {
				originalMethod();
				wcdBrightTagService.controller.fireBrightTag('FindItNow');
			});
		}
	}
	
	// Reserve-in-store wrap
	if( location.pathname == '/browse/product.do' && window["reserveInStoreManager"] != null ) {
		if( reserveInStoreManager.api && reserveInStoreManager.api.open ) {
			reserveInStoreManager.api.open = reserveInStoreManager.api.open.wrap( function( originalMethod, parentContainer, triggeredBy, productImgUrl ) {
				originalMethod( parentContainer, triggeredBy, productImgUrl );
				wcdBrightTagService.controller.fireBrightTag('ReserveInStore');
			});
		}
	}
	
	// Add-to-bag wrap - product and outfit page
	if( location.pathname == '/browse/product.do' && window["productPage"] != null ) {
		productPage.addToBag = productPage.addToBag.wrap( function( originalMethod ) {
			originalMethod();
			wcdBrightTagService.controller.fireBrightTag('AddToBag');
		});
	}
	if( location.pathname == '/browse/outfit.do' && window["outfitPage"] != null ) {
		outfitPage.addToBag = outfitPage.addToBag.wrap( function( originalMethod ) {
			originalMethod();
			wcdBrightTagService.controller.fireBrightTag('AddToBag','outfitPage');
		});
	}
	
	// Load Variant wrap
	if( location.pathname == '/browse/product.do' && window["productPage"] != null ) {
		productPage.loadVariantProduct = productPage.loadVariantProduct.wrap( function( originalMethod, strProductId, strVariantId ) {
			originalMethod( strProductId, strVariantId );
			wcdBrightTagService.model.btLoadVariantCalls++;
			if( wcdBrightTagService.model.btLoadVariantCalls > 1 ) {
				wcdBrightTagService.controller.fireBrightTag('LoadVariantProduct');
			}
		});
	}
	
	// Load QL Variant wrap
	if( ( location.pathname == '/browse/category.do' || location.pathname == '/browse/categorySearch.do' || location.pathname == '/browse/search.do' || location.pathname == '/browse/product.do' ) && window["quickLook"] != null ) {
		quickLook.loadVariantProduct = quickLook.loadVariantProduct.wrap( function( originalMethod, strProductId, strVariantId ) {
			originalMethod( strProductId, strVariantId );
			wcdBrightTagService.model.btLoadVariantCalls++;
			if( wcdBrightTagService.model.btLoadVariantCalls > 1 ) {
				wcdBrightTagService.controller.fireBrightTag('LoadVariantQLProduct');
			}
		});
		quickLook.closeQuickLook = quickLook.closeQuickLook.wrap( function( originalMethod ) {
			originalMethod();
			wcdBrightTagService.model.btLoadVariantCalls = 0;
		});
	}
}

</script>

<script type="text/javascript">

//////////////////////////////////////////////////////////////////
// IE StyleTag to get around 31 tags consolidation script 1.0 //
// Jeff Held, Director - Web Content Development        //
//////////////////////////////////////////////////////////////////

var IEStyleTagConsolidator = function() {
  var myClientBrowserType = navigator.userAgent;
  if (myClientBrowserType.indexOf("MSIE") > 0) {
  var browserVersionString = myClientBrowserType.split("MSIE ")[1];
  var browserVersionNumber = browserVersionString.split(".")[0];
  browserVersionNumber = parseInt(browserVersionNumber);

  // do this only for IE 9 and below...
    if (browserVersionNumber < 10){
      var styleArr = $$('body')[0].select("style");

      var newStyleString = "";

      for (i=0; i< styleArr.length; i++) {
        var workingHTML = styleArr[i].innerHTML;
        newStyleString += workingHTML;
        styleArr[i].remove();
      }
      var mynewtag = "<style type='text/css'>" + newStyleString + "</style>";
      document.write(mynewtag);
    }
  }
}

IEStyleTagConsolidator();

</script>



</div>
<!-- END Content Item File: /content/0008/953/904/cn8953904.html -->

<!-- END - WCD Sitewide Container 20 -->



<!-- GRUNTICON FOR BRAND LOGOS -->
  <script>
    /* grunticon Stylesheet Loader | https://github.com/filamentgroup/grunticon | (c) 2012 Scott Jehl, Filament Group, Inc. | MIT license. */
    window.grunticon=function(e){if(e&&3===e.length){var t=window,n=!(!t.document.createElementNS||!t.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")||window.opera&&-1===navigator.userAgent.indexOf("Chrome")),o=function(o){var r=t.document.createElement("link"),a=t.document.getElementsByTagName("script")[0];r.rel="stylesheet",r.href=e[o&&n?0:o?1:2],a.parentNode.insertBefore(r,a)},r=new t.Image;r.onerror=function(){o(!1)},r.onload=function(){o(1===r.width&&1===r.height)},r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}};
    grunticon(["/content/static/grunticon-logos/icons.data.svg.css", "/content/static/grunticon-logos/icons.data.png.css", "/content/static/grunticon-logos/icons.fallback.css"]);
  </script>
  <noscript>
    <link href="/content/static/grunticon-logos/icons.fallback.css" rel="stylesheet">
  </noscript>

  <!-- GRUNTICON FOR ALL OTHER ICONS -->
  <script>
    /* grunticon Stylesheet Loader | https://github.com/filamentgroup/grunticon | (c) 2012 Scott Jehl, Filament Group, Inc. | MIT license. */
    window.grunticon=function(e){if(e&&3===e.length){var t=window,n=!(!t.document.createElementNS||!t.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")||window.opera&&-1===navigator.userAgent.indexOf("Chrome")),o=function(o){var r=t.document.createElement("link"),a=t.document.getElementsByTagName("script")[0];r.rel="stylesheet",r.href=e[o&&n?0:o?1:2],a.parentNode.insertBefore(r,a)},r=new t.Image;r.onerror=function(){o(!1)},r.onload=function(){o(1===r.width&&1===r.height)},r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}};
    grunticon(["/content/static/grunticon-icons/icons.data.svg.css", "/content/static/grunticon-icons/icons.data.png.css", "/content/static/grunticon-icons/icons.fallback.css"]);
  </script>
  <noscript>
    <link href="/content/static/grunticon-icons/icons.fallback.css" rel="stylesheet">
  </noscript>

</div>





</div></body></html>