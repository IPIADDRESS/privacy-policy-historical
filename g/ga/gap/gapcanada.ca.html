<!--The following is the downloaded HTML source of the gapcanada.ca privacy policy that was archived on 2016-06-09.
 Please check the original snapshot on the Wayback Machine (https://web.archive.org/web/20160609202052id_/http%3A//www.gapcanada.ca/customerService/info.do%3Fcid%3D2331) for the most accurate reproduction.-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" class="no-js grunticon" xml:lang="en-CA" lang="en-CA"><!-- Content annotation process successful --><head>
	<title> | Gap</title>
	




	
		
	
	
			


	
			
			
	
	
	
	






<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Language" content="en-CA">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<meta name="robots" content="noodp,noydir">

	
	
        <meta name="description" content="There's more at Gapcanada.ca including Petites and Tall sizes, kids slim and husky sizes, and baby bedding. You'll also find your favorite T-shirts, jeans, shirts, outerwear and accessories. Gap has everything you need for the season">
	


	
	
	
	
	<link rel="shortcut icon" href="/favicon.ico">
	<link rel="icon" href="/favicon.ico">
	<link rel="apple-touch-icon" sizes="144x144" href="/assets/common/apple-touch-icon-144x144.png">	
	<link rel="apple-touch-icon" sizes="114x114" href="/assets/common/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/assets/common/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="57x57" href="/assets/common/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/common/apple-touch-icon-144x144-precomposed.png">	
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/assets/common/apple-touch-icon-114x114-precomposed.png">
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/assets/common/apple-touch-icon-72x72-precomposed.png">
	<link rel="apple-touch-icon-precomposed" sizes="57x57" href="/assets/common/apple-touch-icon-57x57-precomposed.png">
	

	




	
		
	
	
			


	
			
			
	
	
	
	









    
    
        <link rel="stylesheet" type="text/css" media="screen, print" href="/gzip_886835083/optimizedBundles/globalOptimized.css">

    













<style type="text/css">
    #universalBarTabs {
        background: white;
    }
    #universalInlineBagContainer, #universalMarketingContainerTop {background:url(/content/0005/713/575/universalBar_bkg.png) repeat-x; }
    .universalBarBackground {background:url(/content/0005/713/575/universalBar_bkg.png) repeat-x; }
</style>


    <style type="text/css">
    .universalButtonSprite {
       background: url(/content/0006/679/210/universal_button_sprite.gif) no-repeat top left;
       width: 0px;
     }
    </style>
    <link rel="stylesheet" type="text/css" href="/content/0006/679/210/universal_button_sprites.css">


    <style type="text/css">
    .brandButtonsAndAssetsSprite {
       background: url(/content/0003/629/981/brand_buttons_and_assets_sprite.gif) no-repeat top left;
       width: 0px;
    }
    </style>
    <link rel="stylesheet" type="text/css" href="/content/0003/629/981/brand_buttons_and_assets_sprites.css">


    <style type="text/css">
    .brand {
       background: url(/content/0005/713/575/universal_bar_sprites.png) no-repeat top left;
       width: 0px;
     }
    </style>
    <link rel="stylesheet" type="text/css" href="/content/0005/713/575/universal_bar_sprites.css">




	




	
		
	
	
			


	
			
			
	
	
	
	






<link rel="stylesheet" type="text/css" href="/css/common/layouts/en/nonBrowse.css">
<link rel="stylesheet" type="text/css" href="/css/customerService/layouts/en/customerService.css">


<style type="text/css">
	#mainContent {width: 988px; border:0;}
	#mainContentContainer {padding:0px 0px 0px 0px;}
	#upperFoot #upperLtFootContainer {width: 604px;}
</style>	

	
		
		
			




	
		
	
	
			


	
			
			
	
	
	
	






<link rel="stylesheet" type="text/css" href="/css/customerService/content/en/content.css">
		
	
	




	
		
	
	
			


	
			
			
	
	
	
	







  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">



  <!--[if (lt IE 9) & (!IEMobile)]>

        <link href="/static_content/css/meta_no-mq_common-344f5d02b2.css" rel="stylesheet">
        <![endif]-->

  <!--[if (gte IE 9) | (IEMobile)]><!-->

        <link href="/static_content/css/meta_common-183cf8b019.css" rel="stylesheet">
        <!--<![endif]-->


<link rel="stylesheet" href="/static_content/grunticon/icons/icons.data.svg-5a56e66a0d.css" media="all"><script id="facebook-jssdk" src="//connect.facebook.net/en_US/sdk.js"></script><script>
/*! grunt-grunticon Stylesheet Loader - v2.1.3 | https://github.com/filamentgroup/grunticon | (c) 2015 Scott Jehl, Filament Group, Inc. | MIT license. */
(function(e){function t(t,n,r,o){"use strict";function a(){for(var e,n=0;u.length>n;n++)u[n].href&&u[n].href.indexOf(t)>-1&&(e=!0);e?i.media=r||"all":setTimeout(a)}var i=e.document.createElement("link"),l=n||e.document.getElementsByTagName("script")[0],u=e.document.styleSheets;return i.rel="stylesheet",i.href=t,i.media="only x",i.onload=o||null,l.parentNode.insertBefore(i,l),a(),i}var n=function(r,o){"use strict";if(r&&3===r.length){var a=e.navigator,i=e.Image,l=!(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")||e.opera&&-1===a.userAgent.indexOf("Chrome")||-1!==a.userAgent.indexOf("Series40")),u=new i;u.onerror=function(){n.method="png",n.href=r[2],t(r[2])},u.onload=function(){var e=1===u.width&&1===u.height,a=r[e&&l?0:e?1:2];n.method=e&&l?"svg":e?"datapng":"png",n.href=a,t(a,null,null,o)},u.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",document.documentElement.className+=" grunticon"}};n.loadCSS=t,e.grunticon=n})(this);(function(e,t){"use strict";var n=t.document,r="grunticon:",o=function(e){if(n.attachEvent?"complete"===n.readyState:"loading"!==n.readyState)e();else{var t=!1;n.addEventListener("readystatechange",function(){t||(t=!0,e())},!1)}},a=function(e){return t.document.querySelector('link[href$="'+e+'"]')},c=function(e){var t,n,o,a,c,i,u={};if(t=e.sheet,!t)return u;n=t.cssRules?t.cssRules:t.rules;for(var l=0;n.length>l;l++)o=n[l].cssText,a=r+n[l].selectorText,c=o.split(");")[0].match(/US\-ASCII\,([^"']+)/),c&&c[1]&&(i=decodeURIComponent(c[1]),u[a]=i);return u},i=function(e){var t,o,a;o="data-grunticon-embed";for(var c in e){a=c.slice(r.length);try{t=n.querySelectorAll(a+"["+o+"]")}catch(i){continue}if(t.length)for(var u=0;t.length>u;u++)t[u].innerHTML=e[c],t[u].style.backgroundImage="none",t[u].removeAttribute(o)}return t},u=function(t){"svg"===e.method&&o(function(){i(c(a(e.href))),"function"==typeof t&&t()})};e.embedIcons=i,e.getCSS=a,e.getIcons=c,e.ready=o,e.svgLoadedCallback=u,e.embedSVG=u})(grunticon,this);

  // GRUNTICON FOR BRAND LOGS AND ICONS
  // Earlier there were 2 grunticon calls with different svg and fallabck paths - one for logos and another for icons.
  // This was not loading icons in IE 10 and was not loading logos in other browsers.
  // Now there is only one call to grunticon and svg resources in logos directory have been moved ot icons.
  // And prefix of all class names corresponding to moved files have been changed from 'logo-' to 'icon-'.
  gap = window.gap || {};
  gap.grunticons = { iconsSvgCssPath: "/static_content/grunticon/icons/icons.data.svg-5a56e66a0d.css" };
  grunticon([gap.grunticons.iconsSvgCssPath, "/static_content/grunticon/icons/icons.data.png-4c10182961.css", "/static_content/grunticon/icons/icons.fallback-25fbdee72e.css"], grunticon.svgLoadedCallback);
</script>
<noscript>
  <!-- GRUNTICON FOR BRAND LOGS AND ICONS -->
  <link href="/static_content/grunticon/icons/icons.fallback-25fbdee72e.css" rel="stylesheet">
</noscript>




	<style type="text/css" title="styles" media="screen">
			




	
		
	
	
			


	
			
			
	
	
	
	






	

	
	
	

	
	
	
	
			
	
		
	
		
					
			
		   
			
		
	
	</style>
	




	
		
	
	
			


	
			
			
	
	
	
	







<script type="text/javascript">
//<![CDATA[
    var pasRepository = {
        attrNames : null
       };
	// ]]>
</script>



	




	
		
	
	
			


	
			
			
	
	
	
	











	


    










<!-- Ensure that date is always formated for en_US for processing at the JavaScript tier -->



<!-- Reset localeCode to default standard -->




<script type="text/javascript" src="/gzip_878393942/optimizedBundles/tealeafOptimized.js"></script>


<script type="text/javascript">
//<![CDATA[
	var environmentModelValues = {
    	isLoggingServiceActive: 'false',	
		isReserveInStoreActive: 'true'
    };
    
	TeaLeaf.Event.Configuration.tlqueueeventstimer = "900000" || 900000,
    TeaLeaf.Event.Configuration.tlqueueeventsmaxsz = "8192" || 8192
 // ]]>
</script>






	
		
	
	
			


	
			
			
	
	
	
	







<script type="text/javascript">
    var resourceBundleValues = {
        strOutOfStockMessageWithSizes : "not available in",
        strOutOfStockWithoutSizes : "not available",
        strQuantityLabel : "select qty",
        strOtherVariants : "also in",
        strColorLabel : "Select",
        strSizeDim1Label : "Select",
        strSizeDim2Label : "Select",
        strBagErrorPrefix : "please select a",
        strBagErrorPrefix2 : "please select an",
        strBagErrorSuffix : "before adding to bag",
        strOnOrderMessage : "on order &#8211; est&#46; ship date&#58;",
        strOnOrderHoverMessage : "on order &#8211;",
        strOnOrderHoverMessageShipDate : "click for ship date",
        strLowInventoryMessage : "low inventory, order now for best selection",
        strProductDetailLink : "more details",
        strSizeChartLink : "size chart",
        strVariantLegalCopy : "prices may vary",
        strIsImported : "Imported.",
        strIsNotImported : "Made in Canada.",
        strRegularVariant : "regular",
        strColorOutOfStockLabel : "no longer available",
        strAddToBagAltText : "Select color and size before adding to bag",
        strAddToBagAltTextActive : "Click to add item to bag",
        strAddToBagAltTextOut : "Out of stock",
        strAddToBagAltTextOutfit : "Click to add selected items to bag",
        strinlineBagScreenTextReaderMessage : "Added to bag #{styleDescription}, color #{color}, size #{size}, price #{subTotal}, quantity #{quantity}",
        common: {
            monday: "Monday",
            tuesday: "Tuesday",
            wednesday: "Wednesday",
            thursday: "Thursday",
            friday: "Friday",
            saturday: "Saturday",
            sunday: "Sunday",
            january: "January",
            february: "February",
            march: "March",
            april: "April",
            may: "May",
            june: "June",
            july: "July",
            august: "August",
            september: "September",
            october: "October",
            november: "November",
            december: "December",
            regularVariant: "Regular"
        },
        profile: {
        	personalizedMyAccount : "'s account",
        	yourAccount : "Your account",
        	signOut : "Sign out",
        	isRecognizedUser : "Not you?",
        	changeUserMessageTemplate : "(Not #{name}?)",
        	signIn : "Sign in",
        	orderStatus : "Orders and returns",
        	orderStatusV2 : "Order Status",
        	shippingTo : "Shipping to",
        	weak : "Weak",
        	fair : "Fair",
        	good : "Good",
        	strong : "Strong",
        	sameAsUser : "Weak: Same as user",
        	sameAsHint : "Weak: Same as hint",
        	rewards : "Rewards",
        	accountSettings : "Account Settings",
        	haveAnAccount : "Have an account?"      	
        },
        inLineBag :{
            labelColor : "Color",
	        labelSize : "Size",
			labelQuantity : "Qty",
			labelPrice : "Price",
			itemInSingular : "item in",
			itemInPlural : "items in",
			lineItemJp : "",
			lineItemBag : "bag",
			yourBag : "your bag",
			addedTo : "Added to",
			inlineBagItemSingular : "item in",
			inlineBagItemPlural : "items in",
	    	inlineBagItemJp : ""
	    },
	    discounts :{
	    	rewardMessage : "Redeem Your <div id='ribbon'><div id='ribbonAmount'>$#{rewardValue}</div></div> in Rewards",
	    	offersAndRewardsMessage : "<div id='ribbonOffersAndRewards'><div id='ribbonAmountOffersAndRewards'>$#{rewardValue}</div></div>"
		},
        product : {
	        groupNameOverview : "overview",
	        groupNameTips : "tips",
	        groupNameFabric : "fabric & care",
	        groupNameFit : "fit & sizing",
	        groupNameDefault : "fit & sizing",
	        productImage : "product image",
	        productColor : "color",
	        thumbnail : "thumbnail",
	        productText : "product",
	        outfitView : "Outfit View",
	        closeQuicklook : "close quicklook",
	        additionalView : "Additional View",
	        sizeChart : "Size Chart",
	        colorAndSizeSelectError : "Select color and size before adding to bag",
	        sizeTabText : "Size & Color",
	        overviewTabText : "Overview",
	        imageText : "image"
         },
       	infoPopupsAltTextClose : "Close",
       	checkOut : {
       		noGiftWrapText : "No gift wrap",
       		promotionDetailsText : "Promotion Details",
       		shoppingBagCountText: "<span>Your Shopping Bag</span>: #{count} item</span>",
       		shoppingBagCountPluralText: "<span>Your Shopping Bag</span>: #{count} items</span>"
       	},
       	currency : "$",
       	localeFrenchCanada: "fr_CA",
       	localeEnglishCanada: "en_CA",
       	courrencyCode : "CA",
       	priceSuffix : ".00",
       	intlShipSiteRedirectContent : {
           	ca : {
		        siteSelectorLabel : "Shop the Canada site",           	 
		        contentMessage1 : "Free shipping on orders of $50 or more",           	 
		        contentMessage2 : "All orders, all the time",           	 
		        contentMessage3 : "No duties. No handling fees. No kidding.",           	 
		        calloutMessage : "Selecting this option redirects you to the Canadian site."
       		},
       		gb : {
		        siteSelectorLabel : "Shop the EU site",           	 
		        contentMessage1 : "<strong>Gap</strong> and <strong>Banana Republic</strong> now offer in-country shipping. ",           	 
		        contentMessage2 : "No hidden fees and no long waits for packages to arrive!",           	 
		        contentMessage3 : "",           	 
		        calloutMessage : "Selecting this option redirects you to the EU site. However, items in your shopping bag will not automatically transfer to your EU shopping bag."
       		}           				               	 
       	},
       	brand : {
       		brandUrl1 : "gap.com",
       		brandUrl2 : "bananarepublic.com",
       		brandUrl3 : "oldnavy.com",
       		brandUrl4 : "piperlime.com",
       		brandUrl10 : "athleta.com",
       		brandUrl7 : "gapcanada.ca",
       		brandUrl8 : "bananarepublic.ca",
       		brandUrl9 : "oldnavy.ca",
       		brandUrl20 : "gap.co.uk",
       		brandUrl21 : "bananarepublic.co.uk",
       		brandUrl24 : "gap.co.jp",
       		brandUrl25 : "bananarepublic.co.jp",
       		brandUrl28 : "gap.eu",
       		brandUrl29 : "bananarepublic.eu",
       		brandUrl34 : "gapfactory.com",
       		brandUrl35 : "bananarepublicfactory.com"
       	}
       	,
       	storeLocations : {
       		fistTitle : "Find In Store",
       		storesWithin : "Stores within",
       		storesWithin2 : "",	
       		milesOf : "kms of",	
       		milesOfWrapped : "kms of",	
       		locNotFound : "Check stores near you for this product.",	
       		edit : "Edit",
            continueBTN : "Continue",   
            validateUsCanMsg : "Please enter a valid postal code",  
            limited : "Limited",
            available : "Available",
            unavailable : "Unavailable",
            sortBy : "Sort by",
            headerStores : "Stores",
            headerHours :  "Hours",
            headerDistance : "Distance",
            headerAvailability : "Availability",
            legalLink : "???common.universal.storeLocations.list.legalLink???",
            phoneLabel : "Phone",
            weekdayHoursLabel : "Store Hours",
            hoursTodayLabel : "Hours Today:",
            specialHoursLabel : "Special Hours",
            updatedAvailability : "(updated every 20-30 minutes)"
       	},
        storeLocator : {
            mapDirectionsMsg : "Enter address, city or ZIP code",
            findAStore : "Find a store near",
            clearSearch : "Clear",
            findStores : "Find",
            storeDetails : "Store Detail",
            getDirections : "Get Directions",
            mapsApiLoadFailMsg : "We are sorry Google Maps did not load. Please try again.",
            noStoresFoundMsg : "Sorry, we have no stores that fit your search criteria. <br/> Please change your search and try again.",
            legalPleaseNote:  "PLEASE NOTE: Product location information is updated every 20-30 minutes.",
            legalText:  "In-store prices may vary and may differ from online prices.",

            onlyAvailableOnline : "This item is not currently available in stores.",
            selectASize : "Please select a size above to see store availability.",
            noStoresInList : "Sorry, we have no stores that fit your search criteria. Please edit your search above to try again.",
            unavailableInStores: "Sorry, your selection is currently unavailable in the stores. Please change your selection and try again.",
            postalCodeEditTitle: "Check store availability",
            milesOfPcode : "kms of postal code",   
			within: "within",
            storePricesVary: "store prices may vary",
            limitedBubble:  "Before you visit the store, please call to make sure this item is still in stock. A sales associate can put it on hold for you.",
            limitedBubbleReservable:  "To ensure availability, click the &quot;Reserve in Store&quot; button to have a sales associate look for the item and hold it for you.",
            unitOfMeasure: "kms",
            fisCheckStoreAvailability: "Click &quot;Find In Store&quot; to check store availability",
            checkStoreAvailability: "check store availability",
            select: "select"
        },
        reserveInStore: {
        	featureButtonLabel: "Reserve In Store",
            baseTitle: "Reserve In Store at",
            required: "Required",
        	needInfoHeader: "We need a little info to reserve this item",
        	emailMessage: "We'll email you as soon as we locate your item,<br/>usually in about an hour",
        	firstNameLabel: "First Name",
        	lastNameLabel: "Last Name",
        	emailLabel: "Email",
        	textMessage: "Should we text you, too? (optional)",
			optInMessage: "Sign up for our emails to get first dibs on new arrivals, can't-miss deals and more.",
        	specialHandling: "Is this a gift, Gap?",
        	mobileNumberLabel: "Mobile number",
        	includeAreaCode: "Include area code",
        	dataRatesMessage: "Data rates may apply",
        	reserveButtonLabel: "Reserve",
        	buttonSeperator: "or",
        	cancelButtonLabel: "Cancel",
        	legalMessage: "Used only to contact you about your request.",
        	firstNameError: "Please provide your first name",
        	lastNameError: "Please provide your last name",
        	emailError: "Type a valid email address",
        	mobileNumberError: "Type a valid mobile phone number",
        	thanksHeaderLine1MinusName: "Thanks, #{NAME}!",
        	thanksOpenHeaderLine2: "We'll look for your item now",
        	thanksClosedHeaderLine2: "We'll look for your item when the store opens",
        	risCloserOpen: "It's that easy!",
        	risCloserClosed: "We'll be in touch again soon!",
			risInfoBodyOpen1: "In about an hour, we'll send you an email to confirm that your item is ready. (We'll text you, too, if you chose that option.)",
			risInfoBodyOpen2: "Check the email for where to pick up your item in the store.",
			risInfoBodyOpen3: "We'll hold your item until closing time,",
			risInfoBodyClosed1: "The store is currently closed.  As soon as it opens, we'll look for your item.",
			risInfoBodyClosed2: "After we find it, we'll send you an email to confirm that the item is ready for you&#151; usually within an hour of opening. (We'll text you, too, if you chose that option.)",
			risInfoBodyClosed3: "",
			risOpenerOpen: "After we find it:",
			risOpenerClosed: "",
			continueButtonLabel: "Continue Shopping",
			titleRequestReceived: ": Request Received",
			storeSelected: "You've selected this store:",
			storeHours: "Store Hours",
			itemLabel: "Item",
			colorLabel: "Color",
			sizeLabel: "Size",
			priceLabel: "Price",
			storeHoursLabel: "Store Hours:",
			specialHoursLabel: "Special Hours:",
			youveSelected: "You've selected this store:",
			holdMessage: "PLEASE NOTE: You can reserve up to five items per day. After we confirm (by email or text) that the item is ready, we hold it for you until the store closes the following day.",
			tryAnotherStore: "Try another store",
			openClosedServiceFailureHeader2: "We'll look for your item",
			openClosedServiceFailureBody: "After we find it, we'll send you an email to confirm that the item is ready for you. (We'll text you, too, if you chose that option.)",
			reservationRequestFailureHeader: "Technical Difficulties",
			reservationRequestFailureBody: "We are currently experiencing technical difficulties. Please try again later or call us for assistance.",
			
			overCapacityTitleExtension: ": Request not completed",
			overCapacityHeaderLine1: "We're sorry, this store is",
			overCapacityHeaderLine2: "over its daily reservation limit.",
			overCapacityOpener: "You can try the following:",
			overCapacityInfoBody1: "Reserve this item today at <a href='' id='risAnotherStore'>another nearby store</a>.",
			overCapacityInfoBody2: "Call the <a href='/customerService/store.do?storeid=#{storeId}'>#{storeName}</a> store at #{phoneNumber} directly to reserve your item.",
			overCapacityInfoBody3: "Reserve this item tomorrow at <a href='/customerService/store.do?storeid=#{storeId}'>#{storeName}</a>.",
			overCapacityCloser: "We apologize for the inconvenience."
        }
        
       	

    };
</script>



<script type="text/javascript">
    var isClientStateManagementActive = "true";
</script>

<script type="text/javascript">
	/**
	 * GIDBrandSiteConstructor is a class that is a data store for sister GID site data.
	 * Instantiated as gidBrandSiteConstruct in JsGlobalFunctions.jsp by a method in NavLogicTag.java
	 * @constructor
	 *
	 * @author Byung Kim
	 * @date 10/24/2007
	 */
	function GIDBrandSiteConstructor (
			currentBrandCode,
			cookieDomain,
			currentBrandSiteId,
			sbsViewAllState,
			sitesVisited,
			sbsPreferences,
			sslPrefix,
			isCommonDomainOn,
			renderOnCurrentBrandUrl,
			sisterSiteActionPath,
			gidBrandSites) {
			this.currentBrandCode = currentBrandCode;
			this.cookieDomain  = cookieDomain;
			this.currentBrandSiteId = currentBrandSiteId;
			this.sbsViewAllState = sbsViewAllState;
			this.sbsPreferences = sbsPreferences;
			this.sslPrefix = sslPrefix;
			this.isCommonDomainOn  = isCommonDomainOn;
			this.renderOnCurrentBrandUrl  = renderOnCurrentBrandUrl;
			this.sisterSiteActionPath = sisterSiteActionPath;
			this.hasGIDBrandSites = (gidBrandSites && gidBrandSites.length > 0);
			this.sisterSiteUrlParams = "?isViewAll=" + this.sbsViewAllState + this.sbsPreferences;
			this.tempBrandSites = gidBrandSites;
			this.gidBrandSites = [];
			this.visitedSites = sitesVisited;
	};
	
 	
	var gidBrandSiteConstruct = new GIDBrandSiteConstructor(7, ".gapcanada.ca", "GAP_CA", 0, "7", "", "secure-", true,false, "/browse/sistersitelink.do", [{brandName:"gap.com",brandCode:"7",brandDisplayName:"Gap",brandAbbr:"GAP_CA",secureUrl:"https://secure-www.gapcanada.ca",unsecureUrl:"http://www.gapcanada.ca",imageServiceUrl:""},{brandName:"oldnavy.com",brandCode:"9",brandDisplayName:"Old Navy",brandAbbr:"ON_CA",secureUrl:"https://secure-oldnavy.gapcanada.ca",unsecureUrl:"http://oldnavy.gapcanada.ca",imageServiceUrl:""},{brandName:"bananarepublic.com",brandCode:"8",brandDisplayName:"Banana Republic",brandAbbr:"BR_CA",secureUrl:"https://secure-bananarepublic.gapcanada.ca",unsecureUrl:"http://bananarepublic.gapcanada.ca",imageServiceUrl:""}]);
	
</script>


	
		
		
			<script type="text/javascript" src="/gzip_N1387333731/optimizedBundles/globalEnhancedOptimized.js"></script>

			
			<script type="text/javascript">
				// Activation of the navigationService and associated Managers
				navigationService.model.isActive = ('true' === 'true')
		                || ('true' === 'true')
		                || ('true' === 'true')
		                || ('true' === 'true');
				navigationService.paginationHelper.constants.MAX_PRODUCTS_PER_PAGE = Number('300') || 24;
			</script>
		
	






	
	
		<script src="/gid/js/common/layouts/en/iPad2.js"></script>
		<script type="text/javascript">
		if (navigator.userAgent.indexOf("iPad") != -1) {
			iPadInit();
			if (window.location.pathname.indexOf("/browse/") === 0) {
				window.addEventListener('touchstart', function(evt) { imageLoader.fetch(); }, false);
			}
		}
		</script>
	







	




<script type="text/javascript">
	// <![CDATA[

		Object.extend(brandConst, {

			UNIVERSAL_BUTTON_CONTENT_PATH : "/content/0006/679/210/",
			BRANDED_BUTTON_AND_ASSET_CONTENT_PATH : "/content/0003/629/981/",
			BRAND1_BADGE_CONTENT_PATH : "/content/0002/012/124/",
			BRAND2_BADGE_CONTENT_PATH : "/content/0002/012/225/",
			BRAND3_BADGE_CONTENT_PATH : "/content/0002/012/227/",
			BRAND4_BADGE_CONTENT_PATH : "",
			BRAND7_BADGE_CONTENT_PATH : "/content/0002/012/124/",
			BRAND8_BADGE_CONTENT_PATH : "/content/0002/012/225/",
			BRAND9_BADGE_CONTENT_PATH : "/content/0002/012/227/",
			BRAND34_BADGE_CONTENT_PATH : "/content/0002/012/124/",
			BRAND35_BADGE_CONTENT_PATH : "/content/0002/012/225/",
			BRAND10_BADGE_CONTENT_PATH : "",
			BRAND20_BADGE_CONTENT_PATH : "/content/0002/012/124/",
			BRAND21_BADGE_CONTENT_PATH : "/content/0002/012/225/",
			BRAND24_BADGE_CONTENT_PATH : "/content/0002/012/124/",
			BRAND25_BADGE_CONTENT_PATH : "/content/0002/012/225/",
			BRAND28_BADGE_CONTENT_PATH : "/content/0002/012/124/",
			BRAND29_BADGE_CONTENT_PATH : "/content/0002/012/225/",
			
			BRAND_LOCALE : "en_CA",
			COUNTRY_NAME_UK : "United Kingdom",
            CATALOG_2_ACTIVE: "",
            INTERNATIONAL_SHIPPING_CURRENCY_CODE: "",
            INTERNATIONAL_SHIPPING_COUNTRY_CODE: "",
            PRODUCT_2_ACTION: "product.do",
            PRODUCTDATA_2_ACTION: "productData.do",
            DIVISION_2_ACTION: "division.do",
            SUBDIVISION_2_ACTION: "subdivision.do",
            HOME_2_ACTION: "home.do",
            DATE_IN_USE: "06/09/2016 04:21 PM",
            PREVIOUS_LOCALE : "en_CA",
            
            IS_NAV2_ENABLED: 'false',
            IS_FACET_ENABLED: 'true',
            IS_OPTIMIZED_PRODUCT_PAGE_ACTIVE: 'false' ==  "true"
            
		});

		/** 
		 * Call to setBrandSites must occur AFTER the various brand BADGE_CONTENT_PATH variables are set.
		 * Prior to this call, other brand information will not be available via gidBrandSiteConstruct.  
		 **/
		if (window["gidBrandSiteConstruct"] != undefined) {
			gidBrandSiteConstruct.setBrandSites();
		}
		
	// ]]>
</script>	
	
<!-- reportingServiceType = h -->
<!-- catalogServiceType = 2 -->
<!-- catalogCacheType = 0 -->
<!-- catalogDormantTesting = false -->
<!-- catalogRemoteCacheActive =  -->
<!-- catalogNavigationActive = true -->
<!-- catalogSwatchesActive =  -->
<!-- catalogCategoryActive = true -->
<!-- catalogCategorySearchActive = true -->
<!-- catalogSearchActive = true -->
<!-- catalogMppActive = true -->
<!-- InternationalShippingCurrencyCode =  -->
<!-- InternationalShippingCountryCode=  -->
<!-- InternationalForeignExchangeRate =  -->
<!-- InternationalForeignExchangeRateQuoteId =  -->
<!-- InternationalForeignExchangeRoundUpValue =  -->
<!-- InternationalShippingPremiumPriceValues =  -->
<!-- isProductCategoryFacetedSearchActive = true -->
<!-- searchEnabled = false -->
<!-- isFacetedCategoryActive = true -->
<!-- isFacetedCategorySearchActive = true -->
<!-- brandTemplateServiceActive = true -->
<!-- categoryPageCachingActive = true -->
<!-- isStoreLocationsActive  = false -->
<!-- isMerchLocatorActive  = true -->
<!-- shippingOptionsFeatureActive  = false -->
<!-- isLoggingServiceActive  = false -->
<!-- catalogCategoryFeaturesEnabled  =  -->
<!-- localCacheActive  =  -->
<!-- isLocalCacheDisabled  =  -->
<!-- isPageContentDataActive  = true -->
<!-- isKeywordSearchDrivenByEaskAsk  =  -->

<!-- pageTemplateInfo: pageId: 99127
			isTileOverrideDefinedFromParameter: false
			isTileOverrideDefinedFromPageContent: false
			isTemplateTileNameDefined: true
			templateTileName (tile definition inserted): gid.customerService.content.variant.10000734
			templateTileNameFromPageContent: gid.customerService.content.variant.10000734
			templateTileNameSuffix: 
			overrideTemplateTileNameFromPageContent: null
			templateTileNameFromParameter: null
			pageMode: default -->

<!-- faceted category white list =  -->
<!-- faceted category black list =  -->
<!-- isSolrEnabled = false -->
<!-- isFaceted = true -->
<!-- isCategorySearchFaceted  = true -->
<!-- isOptimizedProductPageActive  = false -->
<!-- surveyPopupDistribution  =  -->
<!-- isClientStateManagementActive  = true -->

<!-- isMobileProxyActive  = false -->
<!-- pageBreakpoint  = default -->
<!-- enhancedCheckoutActive  = false -->


<script type="text/javascript">
	// <![CDATA[
 	// Output gidConfig property here for s_account:
	reportingService.controller.reportingManager.reportingAccount = "gapcangapprod,gapcangidprod";
	reportingService.controller.reportingManager.mobileReportingAccount = "gapgapmobile,gapcangidmobile";

	(function(reportSuiteJsObjectDefinition) {
		reportingService.controller.reportingManager.brandReportSuites  = reportSuiteJsObjectDefinition || {};
	})({brandSuites:{7:"gapcangapprod",8:"gapcanbananaprod",9:"gapcanoldnavyprod"}, globalSuite:"gapcangidprod"});

	(function(reportSuiteJsObjectDefinition) {
		reportingService.controller.reportingManager.brandMobileReportSuites  = reportSuiteJsObjectDefinition || {};
	})({brandSuites:{7:"gapgapmobile",8:"gapbananamobile",9:"gapoldnavymobile"}, globalSuite:"gapcangidmobile"});
	
	reportingService.controller.reportingManager.currencyType = "CAD";
	reportingService.controller.reportingManager.marketSpecificOmnitureUrl =  "metrics.gapcanada.ca";
	reportingService.controller.reportingManager.marketSpecificSecureOmnitureUrl =  "securemetrics.gapcanada.ca";

	browserService = new BrowserService();
	browserService.controller.managers.mobileBrowserManager.model.isMobileProxyActive =
		'false' == 'true';
	browserService.controller.managers.mobileBrowserManager.model.currentBusinessUnitMobileUrl =
		"http://m.gapcanada.ca";

	browserService.controller.managers.mobileBrowserManager.model.isMobileBrowserManagerActive =
		"false" === "true";
			
	
	browserService.controller.managers.mobileBrowserManager.constants.MOBILE_BROWSERS_TO_REDIRECT = ["iphone","ipod","android:mobile"];
	browserService.controller.init.main();
	

	contentService = new ContentService();

	responsiveService.model.pageBreakpoint = "default";
 	// ]]>
</script>


	
	
		<script type="text/javascript" src="/gid/js/common/layouts/en/pixelManagement/pixelManagementService.js"></script>
	

	
<script type="text/javascript">
// <![CDATA[
	
		
            
	            searchCID = "";
	            with (reportingService.controller.viewManagers.commonViewManager.model) {
					commonCurrentPageName = unUnicode("gp:customerService");
					commonCurrentBusinessId = (searchCID != "" ? searchCID : "");
					commonBrandPrefix = unUnicode("gp");
					commonChannelName = unUnicode("customerService");
					commonCurrentPath = "/info";
				}
				
				omni.strCurrentPageName = reportingService.controller.viewManagers.commonViewManager.model.commonCurrentPageName;
				
            
		
		
			var channel=reportingService.controller.viewManagers.commonViewManager.model.commonChannelName;
			if (channel=="home"){
				setCookieVar("omniSessionProducts","strProductsInBag","");
			}
		

	
		
		
			
			
			
				
			
		
		objSearchBox.strDefaultText = 'Search';

		

		
		
		 
			
			
        
        
        	
	        	
	        	
	        		RockbridgeSurvey.url = RockbridgeSurvey.updateUrlDomain('http://survey.confirmit.com/wix/p1248642420.aspx?id=');
				
        	
        	RockbridgeSurvey.market = "CA";
		    RockbridgeSurvey.brand = "1";
		    RockbridgeSurvey.locale = "en_CA";

			
		
		RockbridgeSurvey.brandsVisited = "1";
	// ]]>
</script>
<script type="text/javascript">
// <![CDATA[
		
		   if(location.protocol == "http:"){
			  domain = "http://www.gapcanada.ca";
			  domain = domain.replace("http://","");
			  index = domain.lastIndexOf (":");
			  if(index > 0){
			  	domain = domain.substring(0,index);
			  }
			  
			  cdDomain = "http://www.gapcanada.ca";
			  cdDomain = cdDomain.replace("http://","");
			  index = cdDomain.lastIndexOf (":");
			  if(index > 0){
			  	cdDomain = cdDomain.substring(0,index);
			  }
			  if(location.hostname == cdDomain){
				  deleteDomainCookies(location.hostname,'false');
			  }
			}
		
		
		if (window["personalizationService"] != undefined) {
			with (personalizationService.model) {
				globalShipping.isGlobalShippingActive = "false";
				globalShipping.shippingOptionsActive = "false";
				parentCategoryBusinessCatalogItemId = "";
			}
			personalizationService.controller.init.main();
		}
		
		
		if (window["categoryService"] != undefined) {
			if (window["categoryInfo"] != undefined) {
				categoryService.controller.init.main();
			}
		}
		
		 
		
 // ]]>	
 </script>	

<script type="text/javascript">
	var _checkoutFlowStateMachine = checkoutFlowStateMachine();
</script>

	




	
		
	
	
			


	
			
			
	
	
	
	






<script type="text/javascript" src="/gid/js/customerService/layouts/en/customerServiceApplicationFunctions.js"></script>



	
		
		
			




	
		
	
	
			


	
			
			
	
	
	
	





 
		
	
	




	
		
	
	
			


	
			
			
	
	
	
	







<!-- @TemplateContentLayout(templateRegionName:"gid.common.siteWide.businessCode.regionTop") -->

<!-- BEGIN - WCD Sitewide Container 1 -->
<!-- BEGIN Content Item File: /content/0010/409/678/cn10409678.html -->


<!-- WCD Shared Code - this codebase is to remain consistent across all market brands -->

<!-- WCD Utility Library - shared WCD utility function codebase -->
<script type="text/javascript" src="/Asset_Archive/GPWeb/content/0010/409/678/assets/wcdLib.js?v=4"></script>

<!-- Shared CSS Overrides -->
<style type="text/css">
/*** Responsive EDFS background fix ***/
.edfs.en_CA { 
	background-image: none; 
	height: 40px;
}

/*** Chrome map area outline fix ***/
area { outline:none }

/*** jBox CSS ***/
#jbox { overflow:auto; }
#jbox #backdrop { width:100%; height:100%; left:0; background:#000; overflow:auto; opacity:0.75; filter:alpha(opacity = 75); z-index:999; position:fixed; _position:absolute; top:0; _top:expression(eval(document.body.scrollTop)); }
#jbox #box { background:transparent; left:50%; z-index:1000; position:fixed; _position:absolute; top:50%; box-shadow:4px 4px 25px rgba(0, 0, 0, .5); -moz-box-shadow:4px 4px 25px rgba(0,0,0,.5); -webkit-box-shadow:4px 4px 25px rgba(0, 0, 0, .5); border:1px solid #333; }
#jbox #topbar { position:absolute; top:-25px; width:100%; }
#jbox #title { position:absolute; left:0; font-family:Arial, Helvetica, Sans-serif; font-size:14px; color:#fff; }
#jbox #close { position:absolute; right:0; }
#jbox #close a { display:block; color:#fff; text-decoration:none; font-family:Arial, Helvetica, Sans-serif; font-size:14px; }
#jbox #close a:hover { text-decoration:underline; }
#jbox #iframeContainer, #jbox #iframeContainer #iframe { margin:0; padding:0; background:#fff; overflow:hidden; }
#jbox #loading { position:absolute; color:#000; top:15px; left:15px; font-family:Arial, Helvetica, sans-serif; font-size:14px; }
#jbox #loading img { margin-right:10px; }
</style>

<script type="text/javascript">
///////////////////
// WCD Override Namespaces - stored in jQuery object
// - wcdSharedOverride_ - Shared override - should exist across brands within market
// - wcdBrandOverride[brand]_ - Brand-specific override
///////////////////

// WCD disruptor-fired flag -->
var wcdBrandDisrupterDidFire = false;
</script>

<!-- BEGIN Rewards in Checkout - TO BE RE-WRAPPED; CHECK IF STILL NEEDED WITH PDM -->
<script type="text/javascript">
if( location.pathname == '/checkout/order.do' ) {

jQuery.wcdSharedOverride_rewardsInCheckout = function() {
	jQuery(window).load( function(e) {
		if( jQuery('#summaryRewardReminder').length > 0 ) jQuery('#summaryRewardReminder').show().delay(1);
		if( jQuery('#billingRewardCodeInput').length > 0 ) jQuery('#billingRewardCodeInput').show().delay(1);

		if( window["checkout"] != null && checkout.controller && checkout.controller.modules && checkout.controller.modules.signIn && checkout.controller.modules.signIn.setSignInResponse ) {
			checkout.controller.modules.signIn.setSignInResponse = checkout.controller.modules.signIn.setSignInResponse.wrap( function( om, responseVo ) {
				om( responseVo );
				var signInModuleController = checkout.controller.modules.signIn;
				if( signInModuleController.getModuleCompleteStatus("signIn") == true ) {
					if( jQuery('#summaryRewardReminder').length > 0 ) jQuery('#summaryRewardReminder').show().delay(1);
					if( jQuery('#billingRewardCodeInput').length > 0 ) jQuery('#billingRewardCodeInput').show().delay(1);
				}
			});
		}
	});
}
jQuery.wcdSharedOverride_rewardsInCheckout();

}
</script>
<!-- END Rewards in Checkout - TO BE RE-WRAPPED; CHECK IF STILL NEEDED WITH PDM -->

<!-- BEGIN Gift Card DeValue copy (CNOV-101) -->
<script type="text/javascript">
if( location.pathname == '/checkout/order.do' ) {

jQuery.wcdSharedOverride_giftCardDevalueCopy = function() {
	jQuery(window).load( function(e) {
		jQuery("#billingSummaryInputGiftCardPin, #billingInputGiftCardPin").after("<div id='giftCardCopyAdded' style='margin-left:15px;margin-bottom:15px;color:#736967;font-size: 87.5%;'>Please note: when using multiple gift cards, gift card values will be applied in order of decreasing value.</div>").delay(1);
		jQuery("#billingGiftCardBalanceCardPin").after("<div id='giftCardCopyPopUpAdded' style='margin-top:10px;margin-left:15px;margin-bottom:15px;font-size: 87.5%;'>Please note: when using multiple gift cards, gift card values will be applied in order of decreasing value.</div>").delay(1);
	});
}
jQuery.wcdSharedOverride_giftCardDevalueCopy();

}
</script>
<!-- END Gift Card DeValue copy (CNOV-101) -->
<script type="text/javascript">
////// Show CC Messaging in checkout (CA-EN) (jheld)

if (location.pathname.indexOf("checkout/order.do") > -1){
	jQuery(document).ready(function() {
		if(jQuery("div.billingCreditCardInformationText")) {
			var theText = jQuery("div.billingCreditCardInformationText").html();
			if (theText.indexOf("Card information") > -1) {
  				jQuery("div.billingCreditCardInformationText").append("<label style='color:#736967; display:block; font-size:87.5%; margin: 0.6em 0 0.125em 0;'>Cards Accepted: Visa, MasterCard, American Express and JCB.</label>");
			} 
		}
	});
	jQuery("input.billingCardNumber").focus(function() {
		if(jQuery("div.billingCreditCardInformationText")) {
			var theText = jQuery("div.billingCreditCardInformationText").html();
			if (theText.indexOf("Card information") > -1) {
  				jQuery("div.billingCreditCardInformationText").append("<label style='color:#736967; display:block; font-size:87.5%; margin: 0.6em 0 0.125em 0;'>Cards Accepted: Visa, MasterCard, American Express and JCB.</label>");
			} 
		}
	});
}

</script>
<!-- END Content Item File: /content/0010/409/678/cn10409678.html -->

<!-- END - WCD Sitewide Container 1 -->

<!-- BEGIN - WCD Sitewide Container 2 -->
<!-- BEGIN Content Item File: /content/0011/665/604/cn11665604.html -->


<!-- WCD Brand Code - Gap CA En -->
<style type="text/css">
/* fix for checkout header. default em for brand-bar class is smaller than what it was before causing the phone # on l/xl bp to overlap */
body.orderPage .brand-bar {
	height: 4.125em;
}
body.orderPage .brand-bar--right {
	top: 0;
	margin-top: 0;
}

body { background:#fff; }

/* SideNav and Facet overrides */
#sideNav  {background-color:#FFF; color:#000000;}
#sideNav ul.category{margin:3px 0px 0px 0px}
#sideNav li.header {border-top:1px solid #000; padding:6px 0px 3px 0px;}	
#sideNav li.header.firstHeader {border-top:1px solid transparent; padding:6px 0px 3px 0px;}

#sideNav a:hover {color:#999;}
#sideNav li.categorySelected{background-image: url("/Asset_Archive/GPWeb/content/0003/629/979/assets/sidenav_bullet.gif"); padding: 0 0 0 6px;}
#sideNav a.categorySelected:link, #sideNav a.categorySelected:visited, #sideNav a.categorySelected:active, #sideNav a.categorySelected:hover {color:#999;}	
#sideNav a.subCategorySelected:link, #sideNav a.subCategorySelected:visited, #sideNav a.subCategorySelected:active, #sideNav a.subCategorySelected:hover {color: #999;}	

/*Sale Category and subcategory on Left Side Navigation*/
#sideNav a.sale:link, #sideNav a.sale:visited, #sideNav a.sale:active, #sideNav a.sale:hover{color:#cc0000;}
#sideNav #categoryNav65179 a.sale:link, #sideNav #categoryNav65179 a.sale:visited, #sideNav #categoryNav65179 a.sale:active, #sideNav #categoryNav65179 a.sale:hover {color:#cc0000;} /*W Sale Category Fix*/
#sideNav #categoryNav65289 a.sale:link, #sideNav #categoryNav65289 a.sale:visited, #sideNav #categoryNav65289 a.sale:active, #sideNav #categoryNav65289 a.sale:hover {color:#cc0000;} /*M Sale Category Fix*/
#sideNav #categoryNav65217 a.sale:link, #sideNav #categoryNav65217 a.sale:visited, #sideNav #categoryNav65217 a.sale:active, #sideNav #categoryNav65217 a.sale:hover {color:#cc0000;} /*B Sale Category Fix*/
#sideNav #categoryNav65194 a.sale:link, #sideNav #categoryNav65194 a.sale:visited, #sideNav #categoryNav65194 a.sale:active, #sideNav #categoryNav65194 a.sale:hover {color:#cc0000;} /*G Sale Category Fix*/
#sideNav #categoryNav65208 a.sale:link, #sideNav #categoryNav65208 a.sale:visited, #sideNav #categoryNav65208 a.sale:active, #sideNav #categoryNav65208 a.sale:hover {color:#cc0000;} /*BG Sale Category Fix*/
#sideNav #categoryNav65261 a.sale:link, #sideNav #categoryNav65261 a.sale:visited, #sideNav #categoryNav65261 a.sale:active, #sideNav #categoryNav65261 a.sale:hover {color:#cc0000;} /*BB Sale Category Fix*/
#sideNav #categoryNav65263 a.sale:link, #sideNav #categoryNav65263 a.sale:visited, #sideNav #categoryNav65263 a.sale:active, #sideNav #categoryNav65263 a.sale:hover {color:#cc0000;} /*TG Sale Category Fix*/
#sideNav #categoryNav65236 a.sale:link, #sideNav #categoryNav65236 a.sale:visited, #sideNav #categoryNav65236 a.sale:active, #sideNav #categoryNav65236 a.sale:hover {color:#cc0000;} /*TB Sale Category Fix*/
#sideNav li.sale a.subCategorySelected:link, #sideNav li.sale a.subCategorySelected:visited, #sideNav li.sale a.subCategorySelected:active, #sideNav li.sale a.subCategorySelected:hover{color: #999;}	
#sideNav li.sale a.subCategory:hover{color: #999;}
#categoryNav26637{border-top:1px solid #000; padding:0px 0px 0px 0px;}/*Sale top line*/			
li.categoryActive #categoryNav26637 {padding:0px 0px 0px 6px;}

/*Women Category and subcategories*/
#sideNav #categoryNav26637 a.sale:link, #sideNav a.sale:visited, #sideNav a.sale:active, #sideNav a.sale:hover{color:#000;}
#sideNav #categoryNav26637 a.sale:hover{color:#999;}
#sideNav #categoryNav26637 a.categorySelected:link, #sideNav #categoryNav26637 a.categorySelected:visited, #sideNav #categoryNav26637 a.categorySelected:active, #sideNav #categoryNav26637 a.categorySelected:hover {color:#999;}
#sideNav #categoryNav26637 a.subCategorySelected:link, #sideNav #categoryNav26637 a.subCategorySelected:visited, #sideNav #categoryNav26637 a.subCategorySelected:active, #sideNav #categoryNav26637 a.subCategorySelected:hover {color:#999;}

/*Body Category and subcategories*/
#sideNav #categoryNav64826 a.sale:link, #sideNav a.sale:visited, #sideNav a.sale:active, #sideNav a.sale:hover{color:#000;}
#sideNav #categoryNav64826 a.sale:hover{color:#999;}
#sideNav #categoryNav64826 a.categorySelected:link, #sideNav #categoryNav64826 a.categorySelected:visited, #sideNav #categoryNav64826 a.categorySelected:active, #sideNav #categoryNav64826 a.categorySelected:hover {color:#999;}
#sideNav #categoryNav64826 a.subCategorySelected:link, #sideNav #categoryNav64826 a.subCategorySelected:visited, #sideNav #categoryNav64826 a.subCategorySelected:active, #sideNav #categoryNav64826 a.subCategorySelected:hover {color:#999;}

/*Men Sale Category and subcategories*/
#sideNav #categoryNav26265 a.sale:link, #sideNav a.sale:visited, #sideNav a.sale:active, #sideNav a.sale:hover{color:#000;}
#sideNav #categoryNav26265 a.sale:hover{color:#999;}
#sideNav #categoryNav26265 a.categorySelected:link, #sideNav #categoryNav26265 a.categorySelected:visited, #sideNav #categoryNav26265 a.categorySelected:active, #sideNav #categoryNav26265 a.categorySelected:hover {color:#999;}
#sideNav #categoryNav26265 a.subCategorySelected:link, #sideNav #categoryNav26265 a.subCategorySelected:visited, #sideNav #categoryNav26265 a.subCategorySelected:active, #sideNav #categoryNav26265 a.subCategorySelected:hover {color:#999;}

/*Boys Sale Category and subcategories*/
#sideNav #categoryNav26418 a.sale:link, #sideNav a.sale:visited, #sideNav a.sale:active, #sideNav a.sale:hover{color:#000;}
#sideNav #categoryNav26418 a.sale:hover{color:#999;}
#sideNav #categoryNav26418 a.categorySelected:link, #sideNav #categoryNav26418 a.categorySelected:visited, #sideNav #categoryNav26418 a.categorySelected:active, #sideNav #categoryNav26418 a.categorySelected:hover {color:#999;}
#sideNav #categoryNav26418 a.subCategorySelected:link, #sideNav #categoryNav26418 a.subCategorySelected:visited, #sideNav #categoryNav26418 a.subCategorySelected:active, #sideNav #categoryNav26418 a.subCategorySelected:hover {color:#999;}


/*Girls Sale Category and subcategories*/
#sideNav #categoryNav26603 a.sale:link, #sideNav a.sale:visited, #sideNav a.sale:active, #sideNav a.sale:hover{color:#000;}
#sideNav #categoryNav26603 a.sale:hover{color:#999;}
#sideNav #categoryNav26603 a.categorySelected:link, #sideNav #categoryNav26603 a.categorySelected:visited, #sideNav #categoryNav26603 a.categorySelected:active, #sideNav #categoryNav26603 a.categorySelected:hover {color:#999;}
#sideNav #categoryNav26603 a.subCategorySelected:link, #sideNav #categoryNav26603 a.subCategorySelected:visited, #sideNav #categoryNav26603 a.subCategorySelected:active, #sideNav #categoryNav26603 a.subCategorySelected:hover {color:#999;}

/*Toddler Boy Sale Category and subcategories*/
#sideNav #categoryNav26208 a.sale:link, #sideNav a.sale:visited, #sideNav a.sale:active, #sideNav a.sale:hover{color:#000;}
#sideNav #categoryNav26208 a.sale:hover{color:#999;}
#sideNav #categoryNav26208 a.categorySelected:link, #sideNav #categoryNav26208 a.categorySelected:visited, #sideNav #categoryNav26208 a.categorySelected:active, #sideNav #categoryNav26208 a.categorySelected:hover {color:#999;}
#sideNav #categoryNav26208 a.subCategorySelected:link, #sideNav #categoryNav26208 a.subCategorySelected:visited, #sideNav #categoryNav26208 a.subCategorySelected:active, #sideNav #categoryNav26208 a.subCategorySelected:hover {color:#999;}

/*Toddler Girl Sale Category and subcategories*/
#sideNav #categoryNav26041 a.sale:link, #sideNav a.sale:visited, #sideNav a.sale:active, #sideNav a.sale:hover{color:#000;}
#sideNav #categoryNav26041 a.sale:hover{color:#999;}
#sideNav #categoryNav26041 a.categorySelected:link, #sideNav #categoryNav26041 a.categorySelected:visited, #sideNav #categoryNav26041 a.categorySelected:active, #sideNav #categoryNav26041 a.categorySelected:hover {color:#999;}
#sideNav #categoryNav26041 a.subCategorySelected:link, #sideNav #categoryNav26041 a.subCategorySelected:visited, #sideNav #categoryNav26041 a.subCategorySelected:active, #sideNav #categoryNav26041 a.subCategorySelected:hover {color:#999;}

/*Baby Boy Sale Category and subcategories*/
#sideNav #categoryNav42529 a.sale:link, #sideNav a.sale:visited, #sideNav a.sale:active, #sideNav a.sale:hover{color:#000;}
#sideNav #categoryNav42529 a.sale:hover{color:#999;}
#sideNav #categoryNav42529 a.categorySelected:link, #sideNav #categoryNav42529 a.categorySelected:visited, #sideNav #categoryNav42529 a.categorySelected:active, #sideNav #categoryNav42529 a.categorySelected:hover {color:#999;}
#sideNav #categoryNav42529 a.subCategorySelected:link, #sideNav #categoryNav42529 a.subCategorySelected:visited, #sideNav #categoryNav42529 a.subCategorySelected:active, #sideNav #categoryNav42529 a.subCategorySelected:hover {color:#999;}

/*Baby Girl Sale Category and subcategories*/
#sideNav #categoryNav26032 a.sale:link, #sideNav a.sale:visited, #sideNav a.sale:active, #sideNav a.sale:hover{color:#000;}
#sideNav #categoryNav26032 a.sale:hover{color:#999;}
#sideNav #categoryNav26032 a.categorySelected:link, #sideNav #categoryNav26032 a.categorySelected:visited, #sideNav #categoryNav26032 a.categorySelected:active, #sideNav #categoryNav26032 a.categorySelected:hover {color:#999;}
#sideNav #categoryNav26032 a.subCategorySelected:link, #sideNav #categoryNav26032 a.subCategorySelected:visited, #sideNav #categoryNav26032 a.subCategorySelected:active, #sideNav #categoryNav26032 a.subCategorySelected:hover {color:#999;}

/*For 2011 Spring re-design -- reduce top margin for the first header on the left side navigation*/	
#sideNav #categoryNav5649{margin-top:0px}/*reduce top margin for the first header (Features) in Women DP*/
#sideNav #categoryNav5068{margin-top:0px}/*reduce top margin for the first header (Features) in Men DP*/
#sideNav #categoryNav50689{margin-top:0px}/*reduce top margin for the first header (Collections) in Boys DP*/
#sideNav #categoryNav50624{margin-top:0px}/*reduce top margin for the first header (Collections) in Girls DP*/
#sideNav #categoryNav7694{margin-top:0px}/*reduce top margin for the first header (Collections) in Baby Girl DP*/
#sideNav #categoryNav42523{margin-top:0px}/*reduce top margin for the first header (Collection) in Baby Boy DP*/
#sideNav #categoryNav13102{margin-top:0px}/*reduce top margin for the first header (Collection) in Toddler Girl DP*/
#sideNav #categoryNav6346{margin-top:0px}/*reduce top margin for the first header (Collection) in Toddler Boy DP*/	
	
/*pagination*/
#tabTable, #tabTableOff .categoryPaging a:link, a:visited, a:hover, a:active{color:#000;}
		
/*font and rule for the sizing box*/
.brand1 #swatchContent input, .brand1 #quickLookSwatches input, .brand1 #shoppingBagEditSwatches input, .brand1 #colorSwatches input, .brand1 #swatchContent button, .brand1 #quickLookSwatches button, .brand1 #shoppingBagEditSwatches button, .brand1 #colorSwatches button, .brand7 #swatchContent input, .brand7 #quickLookSwatches input, .brand7 #shoppingBagEditSwatches input, .brand7 #colorSwatches input, .brand7 #swatchContent button, .brand7 #quickLookSwatches button, .brand7 #shoppingBagEditSwatches button, .brand7 #colorSwatches button, .brand20 #swatchContent input, .brand20 #quickLookSwatches input, .brand20 #shoppingBagEditSwatches input, .brand20 #colorSwatches input, .brand20 #swatchContent button, .brand20 #quickLookSwatches button, .brand20 #shoppingBagEditSwatches button, .brand20 #colorSwatches button {border:1px solid #666; color:#333;}
			
/*product images keyline to white */
.brand7 .imgDiv {background-color:white; border:1px solid #FFFFFF;}
			
/*add to bag segment*/
#addToBagContent {background-color:#ccc;}
#quantityContent label {color:#fff; font-weight:bold;}
#selectionConfirmText {color:#fff; font-weight:bold;}
#priceText {color:#000;}
			
/*about this product segment*/
#tabWindow {background-color:#fff;}
.copyBlock {color:#000; font-weight:bold;}
#tabWindow ul {color:#000;}
			
/*Brand Buttons Override (product page/quick look popup -- Image Tools on Product page and Quick Look popup; zoom and view larger*/
.brand1 img.sprite-button_more_views, .brand7 img.sprite-button_more_views, .brand20 img.sprite-button_more_views {background:url("/Asset_Archive/GPWeb/content/0002/444/380/brand_buttons_and_assets_sprite.gif"); background-position: 0 -936px; width: 72px; height: 16px; } /*View Larger button on Quick Look popup*/ 
.brand1 #imageTools #moreViewsBtn, .brand1 #moduleProductImageTools #moreViewsBtn{background-image:url("/Asset_Archive/GPWeb/content/0002/444/380/brand_buttons_and_assets_sprite.gif"); background-position: 0 -936px; width: 72px; height: 16px; margin-left:10px; }
.brand1 #imageTools #moreViewsBtn, .brand1 #moduleProductImageTools #moreViewsBtn{background:url("/Asset_Archive/GPWeb/content/0002/444/380/brand_buttons_and_assets_sprite.gif"); background-position: 0 -936px; width: 72px; height: 16px; margin-left:10px; }				
.brand1 #imageTools .over{background:url("/Asset_Archive/GPWeb/content/0002/444/380/brand_buttons_and_assets_sprite.gif"); background-position: 0 -1697px; width: 103px; height: 11px;}
.brand1 #imageTools .over{background-image:url("/Asset_Archive/GPWeb/content/0002/444/380/brand_buttons_and_assets_sprite.gif"); background-position: 0 -1697px; width: 103px; height: 11px;}				
.brand1 #imageTools .out{background:url("/Asset_Archive/GPWeb/content/0002/444/380/brand_buttons_and_assets_sprite.gif"); background-position: 0 -1636px; width: 115px; height: 11px;} 				
.brand1 #imageTools .out{background-image:url("/Asset_Archive/GPWeb/content/0002/444/380/brand_buttons_and_assets_sprite.gif"); background-position: 0 -1636px; width: 115px; height: 11px;} 

/*Image Thumbs key line*/
.brand1 .thumbs, .brand7 .thumbs, .brand20 .thumbs {border-color:#999;}	
.brand1 .thumbSelected, .brand7 .thumbSelected, .brand20 .thumbSelected {border-color:#999;}
		
/*Out Of Stock Button Placement*/	
.brand1 .sprite-button_add_to_bag_out, .brand7 .sprite-button_add_to_bag_out, .brand20 .sprite-button_add_to_bag_out {background:url("/Asset_Archive/GPWeb/content/0002/444/380/brand_buttons_and_assets_sprite.gif");background-position:0 -799px; float: right; height:20px; margin-top:5px; width:73px;}		
			
/* Update Add to Bag  states, black for on state, grey for off state JP 11/26/12 */	
.brand1 input.sprite-button_add_to_bag_off, .brand7 input.sprite-button_add_to_bag_off, .brand20 input.sprite-button_add_to_bag_off { background: url("/Asset_Archive/GPWeb/content/0002/444/380/brand_buttons_and_assets_sprite.gif") repeat scroll 0 -732px transparent; height: 17px; width: 72px; }
.brand1 input.sprite-button_add_to_bag_on, .brand1 input.sprite-button_add_to_bag_over, .brand7 input.sprite-button_add_to_bag_on, .brand7 input.sprite-button_add_to_bag_over, .brand20 input.sprite-button_add_to_bag_on, .brand20 input.sprite-button_add_to_bag_over { background: url("/Asset_Archive/GPWeb/content/0002/444/380/brand_buttons_and_assets_sprite.gif") repeat scroll 0 -665px transparent; height: 17px; width: 72px; }
			
/* Customer Service page Spring Update */
#mainContent .customerServiceLayout { padding: 10px;}
#mainContent .customerserviceSizechartCententMargin {padding:10px;}
#mainContent .header1 {margin:10px 0px 20px 0px; color:#000;}
	
/*Search Results Spring Update*/
#noResultsShell {width:828px;}
	
/*begin - spring 2011: left nav layout*/
/*keyline to white/reassign keyline */
#mainContent {border:none;}
#mainContentContainer {border:none;}
#mainContentContainer {border:none;}

/*remove bottom keyline from main content*/
#mainContentContainer {border-bottom:medium none;}
#mainContent {border-bottom:medium none;background-color:#FFF;}

/*dotted key line removed from maincontent added to sidenav added for 7.12 add contentOvveride*/
#mainContentContainer #mainContent {
background-color:#FFF;
background-image:none !important;
border:medium none;
}

/* GOL Seasonal Layout: Spring 2013*/
/*add padding to EDFS banner */
#EDFS_EN {padding-top: 15px; padding-bottom: 15px;}

/*begin - spring 2012: left nav layout*/
/*keyline to white/reassign keyline */
#mainContent {border:none; background-color:#FFF;}
#mainContentContainer {border:none;background-color:#FFF;}
#mainContentContainer {border-left:none;}

/*remove bottom keyline from main content*/
#mainContent {border-bottom:none;}
#mainContentContainer {border-bottom:none;}

#sideNav  {background-color:#FFF !important;color:#000;}
/*end reassign keyline */

/*dotted key line removed from maincontent added to sidenav added for 7.12 add contentOvveride*/
#mainContentContainer #mainContent {background-color:#FFF !important;border:medium none;}

/*pagination*/
#tabTable, #tabTableOff .categoryPaging a:link, a:visited, a:hover, a:active{color:#000;}

/*Sidenav*/ 
#sideNav  {background-color:transparent !important;color:#000000;}
#sideNav a:hover {color:#999;}

#sideNav ul.category{margin:3px 0px 0px 0px}
#sideNav li.header {border-top:1px solid #000; padding:6px 0px 0px 10px; margin-right:3px;}
#sideNav li.header.firstHeader {border-top:1px solid transparent; padding:6px 0px 3px 10px;}	

#sideNav li.category {margin:0px 0px 0px 11px;}

#sideNav li.categorySelected{background-image:none; margin-left:0px; padding: 0 0 0 6px;}
#sideNav a.categorySelected:link, #sideNav a.categorySelected:visited, #sideNav a.categorySelected:active, #sideNav a.categorySelected:hover {margin:0px 0px 0px 5px;}	
#sideNav a.categorySelected:link, #sideNav a.categorySelected:visited, #sideNav a.categorySelected:active, #sideNav a.categorySelected:hover {color:#999;}

#sideNav li.subCategory {margin:0px 0px 0px 5px;}
#sideNav a.subCategorySelected:link, #sideNav a.subCategorySelected:visited, #sideNav a.subCategorySelected:active, #sideNav a.subCategorySelected:hover {color:#999;margin:0px 0px 0px 5px;}

/*Sale Category and subcategory on Left Side Navigation*/
#sideNav li.sale a.subCategorySelected:link, #sideNav li.sale a.subCategorySelected:visited, #sideNav li.sale a.subCategorySelected:active, #sideNav li.sale a.subCategorySelected:hover{color: #999;}	

#sideNav li.sale a.subCategory:hover{color: #999;}
/*END:Sale Category and subcategory on Left Side Navigation*/
	
/*For 2012 Spring re-design -- reduce top margin for the first header on the left side navigation*/
#sideNav #categoryNav61861{margin-top:0px}/*reduce top margin for the first header (Features) in 1969 DP*/
#sideNav #categoryNav11674{margin-top:-4px; *margin-top:0px; _margin-top:0px; border-top:1px solid #fff;}/*reduce top margin for the first header (Special Sizes) in Women DP and removes top border*/	
#sideNav #categoryNav77397{margin-top:-4px; *margin-top:0px; _margin-top:0px; border-top:1px solid #fff;}/*reduce top margin for the first header (Features) in Body DP and removes top border*/		
#sideNav #categoryNav77320{margin-top:0px; _margin-top:0px; *margin-top:0px; border-top:1px solid #fff;}/*reduce top margin for the first header (Features) in Maternity DP*/				
#sideNav #categoryNav37862{margin-top:0px; border-top:1px solid #fff;}/*reduce top margin for the first header (Special Sizes) in Men DP*/		
#sideNav #categoryNav6258{margin-top:0px; border-top:1px solid #fff;}/*reduce top margin for the first header (Special Sizes) in Girls DP*/
#sideNav #categoryNav6174{margin-top:0px; border-top:1px solid #fff;}/*reduce top margin for the first header (Special Sizes) in Boys DP*/
#sideNav #categoryNav70107{margin-top:0px; border-top:1px solid #fff;}/*reduce top margin for the first header (Special Sizes) in Infant Girls DP*/
#sideNav #categoryNav70172{margin-top:0px; border-top:1px solid #fff;}/*reduce top margin for the first header (Special Sizes) in Infant Boys DP*/
#sideNav #categoryNav26637{margin-top:0px; border-top:1px solid #fff;}/*reduce top margin for the first header Sale DP*/

#universalTopSpacer{display:none;}

/* Customer Service -- Hiding categories */
#categoryNav2328 {display:none; visibility: hidden;}
#categoryNav2328 .category   {display:none; visibility: hidden;} 
#categoryNav39233 {display:none; visibility: hidden;} 
#categoryNav39233 .category   {display:none; visibility: hidden;} 
#categoryNav57813 {display:none; visibility: hidden;} 
#categoryNav57813 .category   {display:none; visibility: hidden;} 	
#categoryNav41118 {display:none; visibility: hidden;} 
#categoryNav41118 .category   {display:none; visibility: hidden;} 
/*remove space above contact us*/
#categoryNav7787 .spacer {display:none; visibility: hidden;}
/* end: Customer Service -- Hiding categories */

/*Customer Service - Fix width */
.customerServiceLayout{width:808px; padding: 10px;}
/*END Customer Service - Fix width */

/* End Legacy stuff*/

/*keyline to white/reassign keyline */
#mainContent {border:none;}
#mainContentContainer {border:none;}

/*remove bottom keyline from main content*/
#mainContentContainer {border-bottom:medium none;}
#mainContent {border-bottom:medium none;background-color:#FFF;}

/*dotted key line removed from maincontent added to sidenav added for 7.12 add contentOvveride*/
#mainContentContainer #mainContent {background-color:#FFF !important;background-image:none !important;border:medium none;}

/*keyline to white/reassign keyline */
#mainContent {border:none; background-color:#FFF;}
#mainContentContainer {border:none;background-color:#FFF;}
#mainContentContainer {border-left:none;}

/*remove bottom keyline from main content*/
#mainContentContainer {border-bottom:none !important;}

/*side nav*/
#sideNav { background-color:#FFF !important;color:#000;}
#sideNav ul.category{margin:3px 0px 0px 0px}
#sideNav li.header {border-top:1px solid #000; padding:6px 0px 0px 10px; margin-right:3px;}
#sideNav li.header.firstHeader {border-top:1px solid transparent; padding:6px 0px 3px 10px;}	
#sideNav li.category {margin:0px 0px 0px 11px;}
#sideNav a:hover {color:#999;}
#sideNav li.categorySelected{background-image: url("/Asset_Archive/GPWeb/content/0003/629/979/assets/sidenav_bullet.gif"); padding: 0 0 0 6px;}
#sideNav a.categorySelected:link, #sideNav a.categorySelected:visited, #sideNav a.categorySelected:active, #sideNav a.categorySelected:hover {color:#999;}	
	
#sideNav li.categorySelected{background-image:none; margin-left:0px; padding: 0 0 0 6px;}
#sideNav a.categorySelected:link, #sideNav a.categorySelected:visited, #sideNav a.categorySelected:active, #sideNav a.categorySelected:hover {margin:0px 0px 0px 5px;}	
#sideNav a.categorySelected:link, #sideNav a.categorySelected:visited, #sideNav a.categorySelected:active, #sideNav a.categorySelected:hover {color:#999;}

#sideNav li.subCategory {margin:0px 0px 0px 5px;}
#sideNav a.subCategorySelected:link, #sideNav a.subCategorySelected:visited, #sideNav a.subCategorySelected:active, #sideNav a.subCategorySelected:hover {color:#999;margin:0px 0px 0px 5px;}

/*Sale Category and subcategory on Left Side Navigation*/
#sideNav li.sale a.subCategorySelected:link, #sideNav li.sale a.subCategorySelected:visited, #sideNav li.sale a.subCategorySelected:active, #sideNav li.sale a.subCategorySelected:hover{color: #999;}	

#sideNav li.sale a.subCategory:hover{color: #999;}
/*END:Sale Category and subcategory on Left Side Navigation*/

/* BEGIN: reduce top margin for the first header on the left side navigation*/	
#sideNav #categoryNav5649{margin-top:0px}/*reduce top margin for the first header (Features) in Women DP*/
#sideNav #categoryNav5068{margin-top:0px}/*reduce top margin for the first header (Features) in Men DP*/
#sideNav #categoryNav50689{margin-top:0px}/*reduce top margin for the first header (Collections) in Boys DP*/
#sideNav #categoryNav50624{margin-top:0px}/*reduce top margin for the first header (Collections) in Girls DP*/
#sideNav #categoryNav7694{margin-top:0px}/*reduce top margin for the first header (Collections) in Baby Girl DP*/
#sideNav #categoryNav42523{margin-top:0px}/*reduce top margin for the first header (Collection) in Baby Boy DP*/
#sideNav #categoryNav13102{margin-top:0px}/*reduce top margin for the first header (Collection) in Toddler Girl DP*/
#sideNav #categoryNav6346{margin-top:0px}/*reduce top margin for the first header (Collection) in Toddler Boy DP*/	
/* END: reduce top margin for the first header on the left side navigation*/

/*Sale Category and subcategory on Left Side Navigation*/
#sideNav a.sale:link, #sideNav a.sale:visited, #sideNav a.sale:active, #sideNav a.sale:hover{color:#cc0000;}
#sideNav #categoryNav65179 a.sale:link, #sideNav #categoryNav65179 a.sale:visited, #sideNav #categoryNav65179 a.sale:active, #sideNav #categoryNav65179 a.sale:hover {color:#cc0000;} /*W Sale Category Fix*/
#sideNav #categoryNav65289 a.sale:link, #sideNav #categoryNav65289 a.sale:visited, #sideNav #categoryNav65289 a.sale:active, #sideNav #categoryNav65289 a.sale:hover {color:#cc0000;} /*M Sale Category Fix*/
#sideNav #categoryNav65217 a.sale:link, #sideNav #categoryNav65217 a.sale:visited, #sideNav #categoryNav65217 a.sale:active, #sideNav #categoryNav65217 a.sale:hover {color:#cc0000;} /*B Sale Category Fix*/
#sideNav #categoryNav65194 a.sale:link, #sideNav #categoryNav65194 a.sale:visited, #sideNav #categoryNav65194 a.sale:active, #sideNav #categoryNav65194 a.sale:hover {color:#cc0000;} /*G Sale Category Fix*/
#sideNav #categoryNav65208 a.sale:link, #sideNav #categoryNav65208 a.sale:visited, #sideNav #categoryNav65208 a.sale:active, #sideNav #categoryNav65208 a.sale:hover {color:#cc0000;} /*BG Sale Category Fix*/
#sideNav #categoryNav65261 a.sale:link, #sideNav #categoryNav65261 a.sale:visited, #sideNav #categoryNav65261 a.sale:active, #sideNav #categoryNav65261 a.sale:hover {color:#cc0000;} /*BB Sale Category Fix*/
#sideNav #categoryNav65263 a.sale:link, #sideNav #categoryNav65263 a.sale:visited, #sideNav #categoryNav65263 a.sale:active, #sideNav #categoryNav65263 a.sale:hover {color:#cc0000;} /*TG Sale Category Fix*/
#sideNav #categoryNav65236 a.sale:link, #sideNav #categoryNav65236 a.sale:visited, #sideNav #categoryNav65236 a.sale:active, #sideNav #categoryNav65236 a.sale:hover {color:#cc0000;} /*TB Sale Category Fix*/
#sideNav li.sale a.subCategorySelected:link, #sideNav li.sale a.subCategorySelected:visited, #sideNav li.sale a.subCategorySelected:active, #sideNav li.sale a.subCategorySelected:hover{color: #999;}	
#sideNav li.sale a.subCategory:hover{color: #999;}
/*END:Sale Category and subcategory on Left Side Navigation*/

/* Shop By Size Left Nav Link */
#sideNavCategories #categoryNav98252, #sideNavCategories #categoryNav98255, #sideNavCategories #categoryNav98248, #sideNavCategories #categoryNav98250 { border-top: 1px solid #000; border-bottom:1px solid #000; padding: 0px 0px 2px 0px; font-weight: bold; margin: 10px 3px 0 0; font-size: 11px; }

/*Category*/
/* begin override promo pricing expression coloration */
.productCatItem span.mupSupMessage { color: #FF3300;font-weight:bold;} /*red and bold message under cat item*/

/*pagination*/
#tabTable,
#tabTableOff .categoryPaging a:link,
#tabTableOff .categoryPaging a:visited, 
#tabTableOff .categoryPaging a:hover, 
#tabTableOff .categoryPaging a:active { color:#000; }

/*pagination*/
#tabTable, #tabTableOff .categoryPaging a:link, a:visited, a:hover, a:active{color:#000;}

#universalTopSpacer{display:none;}

/*Customer Service*/
#mainContent .customerServiceLayout { padding: 10px;}
#mainContent .customerserviceSizechartCententMargin {padding:10px;}
#mainContent .header1 {margin:10px 0px 20px 0px; color:#000;}

/* Customer Service -- Hiding categories */
#categoryNav2328 {display:none; visibility: hidden;}
#categoryNav2328 .category   {display:none; visibility: hidden;} 
#categoryNav39233 {display:none; visibility: hidden;} 
#categoryNav39233 .category   {display:none; visibility: hidden;} 
#categoryNav57813 {display:none; visibility: hidden;} 
#categoryNav57813 .category   {display:none; visibility: hidden;} 	
#categoryNav41118 {display:none; visibility: hidden;} 
#categoryNav41118 .category   {display:none; visibility: hidden;} 
/*remove space above contact us*/
#categoryNav7787 .spacer {display:none; visibility: hidden;}
/* end: Customer Service -- Hiding categories */

/*Customer Service - Fix width */
.customerServiceLayout{width:808px; padding: 10px;}
/*END Customer Service - Fix width */

/* BEGIN Checkout Promo Details Legal Pop-up Styling override: add padding 6/5/13 */
body.popup #bodyContainer .shortDescMsg {padding:5px;line-height: 16px;}
body.popup #bodyContainer .promoCode {padding-left:5px;}
body.popup #bodyContainer p{padding:5px;}
body.popup, body.popup #bodyContainer { background: none repeat scroll 0 0 #FFFFFF !important; }
/* END Checkout Promo Details Legal  Pop-up Styling override: add padding GOL 6/5/13 */
	
/********************* END SEASONAL CSS *********************************/

/**** BEGIN CUSTOM WCD CSS STYLES ****/
.subMargin15 { margin-bottom: 15px; }
/**** END CUSTOM WCD CSS STYLES ****/

/* BEGIN GOL BANNER INSERT CODE ON VI PAGES*/
* html #categoryProductGrid .brand1 productCatItem { height:357px }
*:first-child+html #categoryProductGrid .brand1 productCatItem { height:357px }
#categoryProductGrid .clear5 { display:none;height:0; }
#tabTableOff .header4 {clear:both;}
#vi_banner_ID10000384 {display: none;}
#categoryNameHeader {display: none;}

*html #newContentBanner { display:inline;}

#newContentBanner { display: inline; _display: inline; float:left; margin:8px 2px 50px 1px !important; *margin-top:1px; *margin-bottom:20px; *margin-right:2px; height:269px; overflow:hidden; padding:0px !important; _padding:0px !important; min-width:187px; }
.subHeaderWCDMarketing{ display: inline; _display: inline; float:left; margin:8px 2px 50px 1px !important; *margin-top:1px; *margin-bottom:20px; *margin-right:2px; height:269px; overflow:hidden; padding:0px !important; _padding:0px !important; min-width:187px; }
#categoryNameHeader { background-color: #000033 !important; line-height: 18px; margin: 0; padding: 13px 0 13px 21px; margin-left: 3px; }
#catname, #subcatname, #subsubcatname { color:#FFFFFF; font-family:arial; font-size:18px; font-weight:bold; }

#sideNav li.categorySelected{background-image:none; margin-left:0px; padding: 0 0 0 6px;}

#sideNav #categoryNav1027011 { font-size:10px; font-weight:bold; color:#000d42; border-top:1px solid; border-bottom:1px solid; margin-bottom:4px; margin-top:10px }
#sideNav #categoryNav1029391 { padding-bottom:4px; border-bottom:1px solid }







/******************************************* 
            CTA / DROPDOWNS 
******************************************/

.caret{
  margin:6px 0px 0px 5px;
  border:#000d42 5px solid;
  border-color:transparent transparent transparent #000d42;
  display:inline-block;
}
.CTAdropdown{
  /*position:absolute;*/
}
.hpCTA{
  position:relative;
}
.CTAdropdown, .hpCTA{ 
  display:inline-block; 
  font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;
  font-size:.9rem;
  letter-spacing:1px;
  text-transform:uppercase;
  font-weight: bold;
  cursor: pointer;
  z-index:10;
  margin:5px;
}
.CTAdropdown .btnImg, 
.CTAdropdown ul li a, .hpCTA{
  text-decoration:none;
  color:#000d42;
  border: #000d42 2px solid;
  background-color:#fff;
  padding:6px 10px;
  text-align: center;
}
.CTAdropdown ul{
  margin:0;
  padding:0;
  transition: max-height .5s;
  max-height:0;
  overflow:hidden;
}
.CTAdropdown:hover ul{ max-height:400px; }
.CTAdropdown ul li{ list-style: none; }
.CTAdropdown ul li a{
  display: block;
  border-top:0px;
}
.CTAdropdown ul li a:hover{
  color:#fff;
  background-color:#000d42;
}
.CTAdropdown #minus, 
.CTAdropdown #plus{ 
  width:5px; 
  padding-right:.5rem;
}
.CTAdropdown #plus,
.CTAdropdown:hover #minus{
  display:inline-block;
}
.CTAdropdown:hover #plus,
.CTAdropdown #minus{
  display:none;
}







/*  blue  inverse*/
.CTAdropdown[data-color="default inverse"] .btnImg, 
.CTAdropdown[data-color="default inverse"] ul li a, 
.hpCTA[data-color="default inverse"]{
  color:#fff;
  border-color: #fff;
  background-color:#000d42;
}
.CTAdropdown[data-color="default inverse"] ul li a:hover{
  color:#000d42;
  background-color:#fff;
}
.hpCTA[data-color="default inverse"] .caret{
  border:#fff 5px solid;
  border-color:transparent transparent transparent #fff;
}



/*  black */
.CTAdropdown[data-color="black"] .btnImg, 
.CTAdropdown[data-color="black"] ul li a, 
.hpCTA[data-color="black"]{
  color:#fff;
  border-color: #fff;
  background-color:#000;
}
.CTAdropdown[data-color="black"] ul li a:hover{
  color:#000;
  background-color:#fff;
}
.hpCTA[data-color="black"] .caret{
  border:#fff 5px solid;
  border-color:transparent transparent transparent #fff;
}

/*  white */
.CTAdropdown[data-color="white"] .btnImg, 
.CTAdropdown[data-color="white"] ul li a, 
.hpCTA[data-color="white"]{
  color:#fff;
  border-color: #fff;
  background-color:transparent;
}
.hpCTA[data-color="white"] .caret{
  border:#fff 5px solid;
  border-color:transparent transparent transparent #fff;
}

/*  transparent */
.CTAdropdown[data-color="transparent"] .btnImg,
.hpCTA[data-color="transparent"]{
  background-color: transparent;
}

/*  black */
.CTAdropdown[data-color="black inverse"] .btnImg, 
.CTAdropdown[data-color="black inverse"] ul li a, 
.hpCTA[data-color="black inverse"]{
  color:#000;
  border-color: #000;
  background-color:#fff;
}
.CTAdropdown[data-color="black inverse"] ul li a:hover{
  color:#fff;
  background-color:#000;
}
.hpCTA[data-color="black inverse"] .caret{
  border:#000 5px solid;
  border-color:transparent transparent transparent #000;
}

/*  transparent */
.CTAdropdown[data-opacity="translucent white"] .btnImg{
  background-color: transparent;
}
.CTAdropdown[data-opacity="translucent white"] ul li a, 
.hpCTA[data-opacity="translucent white"]{
  background-color: rgba(255, 255, 255, 0.6);
}
.CTAdropdown[data-opacity="translucent white"] ul li a:hover{
  background-color: rgba(0, 0, 0, 0.6);
}

/*  transparent */
.CTAdropdown[data-opacity="translucent black"] .btnImg{
  background-color: transparent;
}
.CTAdropdown[data-opacity="translucent black"] ul li a, 
.hpCTA[data-opacity="translucent black"]{
  background-color: rgba(0, 0, 0, 0.4);
}
.CTAdropdown[data-opacity="translucent black"] ul li a:hover{
  color:inherit;
  background-color: rgba(255, 255, 255, 0.6);
}


/* styling */
@media all and (max-width: 1200px) and (min-width: 768px){
  .CTAdropdown, .hpCTA {
      font-size: .8rem;
  }
}
@media (max-width: 768px){
  .CTAdropdown, .hpCTA {
      font-size: .8rem;
  }
}
</style>

<!-- BEGIN Launch Free Shipping/Free Returns EDFS  Legal Pop-up with URL param 050114 -->
<script type="text/javascript">
jQuery(window).load( function(){
	if( gidLib.getQuerystringParam("freeShipLegalPop") == "true" ) {
		jbox.boxIt({width:480,height:425,url:"/browse/info.do?cid=47471"});
	} 
});
</script>
<!-- END Launch Free Shipping/Free Returns EDFS  Legal Pop-up with URL param 050114 -->

<!-- BEGIN Banner Insert on VIs -->
<script type="text/javascript">
if( location.pathname == "/browse/category.do" ) {

	var wcdFacetCategoryMarketingRejigger = function() {
		// Check for marketing content for subheaders
		if( window['categoryMarketingData'] != null ) {
			// Find subheaders and product subcats
			var subHeaders = jQuery('#tabTableOff h2.header4');
			var ulElements = jQuery('#tabTableOff ul');
			var subHeader;
			var subHeaderText = '';
			var ulElement;
			var marketingDiv = '';
			
			if( subHeaders.length > 0 && ulElements.legnth > 0 ) {
				jQuery.each( subHeaders, function( idx, elt ) {
					subHeader = jQuery( elt );
					if( subHeader.text() != '' ) {
						subHeaderText = subHeader.text();
						// Replace whitespaces, &s and anything not a-zA-Z
						subHeaderText = subHeaderText.replace(/\s/g,'').replace(/&amp;/g, '').replace(/&/g, '').replace(/[^a-zA-Z]+/g,'');
						subHeaderText = subHeaderText.toLowerCase();
						
						ulElement = ulElements[ idx ];
						
						// Loop through categoryMarketingData subheader object to check whether we should build marketing div
						if( categoryMarketingData.subheaders ) {
							for( var i=0; i < categoryMarketingData.subheaders.length; i++ ) {
								if( categoryMarketingData.subheaders[i].subHeaderName == subHeaderText ) {
									
									marketingDiv = '<div id="subHeaderMarketing' + idx + '" class="subHeaderWCDMarketing">';
									
									if( jQuery( categoryMarketingData.subheaders[i].subHeaderMarketingContent ).length > 0 ) {
									
										marketingDiv += jQuery( categoryMarketingData.subheaders[i].subHeaderMarketingContent ).html();
										marketingDiv += '</div>';
								
										jQuery( ulElement ).before( marketingDiv );				
									}
								}
							}
						}
					}
				});
			}
		}
		else if( jQuery('#vi_banner_ID10000384').length > 0 ) {
			
			var viBannerCheck = jQuery('#vi_banner_ID10000384').html();
			viBannerCheck = viBannerCheck.replace(/\s/g,'');
			
			if( viBannerCheck != '' ) {
				var htmlBannerDiv = jQuery('#vi_banner_ID10000384').html();
				var htmlBannerDiv = '<div id="newContentBanner">' + htmlBannerDiv + '</div>';
				
				var productGridAnchor = jQuery('#tabTableOff ul');
				if( productGridAnchor.length > 0 ) {
					jQuery( productGridAnchor[0] ).before( htmlBannerDiv );
				}				
			}
			
			
		}
	}
	jQuery(document).on('categoryFacetedSearchGrid:ready', wcdFacetCategoryMarketingRejigger );
}
</script>
<!-- END Banner Insert on VIs -->

<!-- BEGIN Email Sign-up Pop-up on HP with PAS -->
<script type="text/javascript">
/******************************************

    Email Sign-up Pop-up on HP
    (with PAS check) 09/09/15

******************************************/
if( location.pathname == '/browse/home.do' || location.pathname == '/' ) {


var wcdEmailPopupGOL = {
	init: function() {

		var emailCookieName = "GOL_hasSeenEmailpopCA";
		var hasTIDparam = gidLib.getQuerystringParam('tid');
		var hasMDTSparam = gidLib.getQuerystringParam('mdts');
		var hasdesktopActive = gidLib.getQuerystringParam('desktopSiteActive'); 
		var getTIDstring = hasTIDparam.substr(0, 4);
		var suppressPopUp = gidLib.getQuerystringParam("noPopup"); //forcemode to suppress email pop up

			/* check remind me cookie */
			  var retVal = false;
			  var lastSeen = gidLib.getCookieVar("mktUniversalPersist",emailCookieName);
			
			  if(lastSeen == "1"){
				retVal = true;
			  }else if(lastSeen != "" && lastSeen != "1"){
				//must be a timestamp...
				var today = new Date();
				if( personalizationService.model.personalizationData.personalizationInfoV1.userContext.viewDate ) {
				  today = new Date(personalizationService.model.personalizationData.personalizationInfoV1.userContext.viewDate);
				}
			
				today = today.getTime();
				var oneWeek = parseInt(lastSeen) + (60 * 60 * 24 * 7 * 1000);
				if(today < oneWeek){
				  retVal = true;
				}
			  }
			  
			  var hasSeenRecently = retVal;
			/* end check remind me cookie */

		var hasSeenEmailPop = gidLib.getCookieVar("mktUniversalPersist", emailCookieName);
		if( location.hostname.indexOf('m.gapcanada') > -1 || location.hostname.indexOf('m.secure-www.gapcanada.ca') > -1 || hasMDTSparam == "true" || hasdesktopActive == "true" || hasSeenRecently || suppressPopUp == "true") hasSeenEmailPop = 1;

		// Exclude if &EV param
		if( hasSeenEmailPop != '1' && ( hasTIDparam == "" || hasTIDparam == undefined || getTIDstring !== 'gpem' || getTIDstring == 'gcem') ) { 
			jQuery(document).on('personalizationData:ready', wcdEmailPopupGOL.launchEmailPopUpHP );
		}
	},
	launchEmailPopUpHP: function() {
		var emailCookieName = "GOL_hasSeenEmailpopCA";


		// If within US/CA and is on HP and has NOT seeing the popup, show it!
		if( window["marketMessageService"] != null && marketMessageService.requestOriginCountryCode ) {
			// Only show pop-up to US and WIP
			if( ( marketMessageService.requestOriginCountryCode == 'US' || marketMessageService.requestOriginCountryCode == 'CA' || marketMessageService.requestOriginCountryCode == '' ) && ( location.pathname == '/browse/home.do' || location.pathname == '/' ) ) {

				Event.observe(window, "load", function() {
					jbox.boxIt({width:633,height:640,url:"/browse/info.do?cid=1000698"}); 
					gidLib.setCookieVar("mktUniversalPersist", emailCookieName, "1"); 
				});
			}
		}
	}
}

	var isGPSubsriber = false;
	var isCardStatus = false;

	//EMAIL STATUS PERSONALIZATION
	personalizationService.api.onPersonalization(function(event) {

	    var emailStatusAttributeWeCareAbout = "EMAILCA";
	    var emailStatus = event[emailStatusAttributeWeCareAbout];

	    if (emailStatus) { //email status recognized

	      personalizationService.api.personalizationDone([emailStatus, {}]);

	      var isGPSubscriber = emailStatus.indexOf("GP") >= 0 ? true : false;

	      if (!isGPSubscriber){
	        wcdEmailPopupGOL.init();
	      }
	      
	    } else {
	      //unrecognized email status/ launch popup = ' + emailStatus);
	        wcdEmailPopupGOL.init();
	    }  

	}); //END CARD STATUS PERSONALIZATION

} //end if HP

/******************************************
    End Sign-up Pop-up on HP
******************************************/
</script>

<script type="text/javascript" src="/Asset_Archive/GPWeb/content/0011/340/813/assets/respMap.js"></script>
<script type="text/javascript"> 
    /*Responsive Image Map*/
    jQuery( window ).load(function() {
    	jQuery('.respImgMap img[usemap]').rwdImageMaps();
    });
</script>

<!-- BEGIN scrollTo fix -->
<script type="text/javascript">
if( location.pathname == '/browse/category.do' && location.search.indexOf('scrollTo=') > -1 && window["categoryPage"] == null ) {

jQuery(document).on('wcdScrollHooks:ready', function() {
	var pageGrids = jQuery('.product-card-grid--group');
	var gridElt;
	var subheadingElt;
	var subheadingText;
	if( pageGrids.length > 0 ) {
		pageGrids.each( function( idx, elt ) {
			gridElt = jQuery( elt );
			subheadingElt = gridElt.find('.subheading--text');
			if( subheadingElt.length > 0 ) {
				subheadingText = subheadingElt.text();
				subheadingText = subheadingText.replace(/[^0-9a-z]/gi, '');
				subheadingText = subheadingText.toLowerCase();
				gridElt.attr('data-scroll-to', subheadingText );
			}
		});
	}
  //console.log('hooks added');
  var getScrollTo = function() {
    var idToScrollTo = location.search.substr( location.search.indexOf('scrollTo') + 9 );
		if( idToScrollTo.indexOf('&') > -1 ) idToScrollTo = idToScrollTo.substr( 0, idToScrollTo.indexOf('&') );
    //console.log('scroll to = ' + idToScrollTo );

    setTimeout( function() {
			if( jQuery('div[data-scroll-to="' + idToScrollTo + '"]').length > 0 ) {
				var animationSpeed = 1000;
				var scrollTarget = jQuery('div[data-scroll-to="' + idToScrollTo + '"]').offset().top;
				
				if( window["gap"] !== undefined && gap.Mediaqueries && gap.Mediaqueries.currentBP && gap.Mediaqueries.currentBP.size ) {
					if( gap.Mediaqueries.currentBP.size == 'small' || gap.Mediaqueries.currentBP.size == 'medium' ) {
						if( jQuery('.brand-bar:visible').length > 0 ) {
							scrollTarget -= jQuery('.brand-bar:visible').height();
						}
					}
					else if( jQuery('.wcdStickyCatNav:visible').length > 0 ) {
						scrollTarget -= jQuery('.wcdStickyCatNav:visible').height();
					}
				}
							
				jQuery('html, body').animate({ scrollTop: scrollTarget }, animationSpeed, function() {
					//console.log('scrolled');
				}); 
			}
    }, 1500 );

  }
  getScrollTo();
});

var wcdNewScrollTo = function() {
  jQuery(document).ready(function(e) {
    ps.subscribe('categoryData:ready', function() {
      var addHooks = function() {
        if(jQuery('.product-card-grid--group .grid-root').length > 0) {
          jQuery(document).trigger('wcdScrollHooks:ready');
        }
        else {
          setTimeout( function() {
            addHooks();
          }, 250 );
        }       
      }
      addHooks();
    });
  }); 
}
wcdNewScrollTo(); 
  
}
</script>
<!-- END scrollTo fix -->

<!-- END Content Item File: /content/0011/665/604/cn11665604.html -->

<!-- END - WCD Sitewide Container 2 -->

<!-- BEGIN - WCD Sitewide Container 3 -->
<!-- BEGIN Content Item File: /content/0006/131/915/cn6131915.html -->

<style type="text/css">


/* onesite fix 040116 - override for hiding shopping bag sign-in on non-US markets */
.snack-bar {
	visibility: hidden;
	position: absolute;
	left: -5000px;
}
/* onesite fix 012516 - override for traffic light issue */
div#availabilityStatus.available, 
div#availabilityStatus.unavailable,
div#availabilityStatus.limited {
   background: none;
   padding-left: 14px;
}

/* overlay font fix - onesite - 011016 */
#findInStoreOverlay_list,#reserveInStoreOverlay, #findInStoreOverlay_list button, #reserveInStoreOverlay button {
	font-size: 9px;   
}

/* BEGIN temp fix for limit-width */
#bodyContainer.limit-width { max-width:100%; }
/* END temp fix for limit-width */


/*--BEGIN content override 47 associated JS override--*/
#iFrameContent[src*="new/Pref.asp"], #iFrameContent[src*="new/pref.asp"] { width:988px; height:560px; display: none; padding: 20px 10px 10px 20px;}
/*--END content override 47 associated JS override--*/

/*-- begin contentOverride130 associated JS override--*/
#noCookie {display:none;}
.siteErrorSpacer {display:none;}
/*-- end contentOverride130 associated JS override--*/



/* Begin CNOV-117 CSS overrides */
.primaryButtonA, .primaryButtonB, 
.secondaryButtonA, .secondaryButtonB, 
.tertiaryButtonA, .tertiaryButtonB, .tertiaryButtonC { font-family: Arial, Helvetica, sans-serif; }

.breakpoint-small .responsiveShoppingBag .securityAndPoliciesSM { display: block }
.breakpoint-small .responsiveShoppingBag .securityAndPoliciesLXL { display: none }
.breakpoint-medium .responsiveShoppingBag .securityAndPoliciesSM { display: block }
.breakpoint-medium .responsiveShoppingBag .securityAndPoliciesLXL { display: none }

.breakpoint-large .responsiveShoppingBag .securityAndPoliciesSM { display: none }
.breakpoint-large .responsiveShoppingBag .securityAndPoliciesLXL { display: block }
.breakpoint-xlarge .responsiveShoppingBag .securityAndPoliciesSM { display: none }
.breakpoint-xlarge .responsiveShoppingBag .securityAndPoliciesLXL { display: block }
/* End CNOV-117 CSS overrides */

/* BEGIN favorites showing topnav/footer on small breakpoint fix */
@media (max-width: 567px) and (max-aspect-ratio: 1/1) {
	/*.favoritesPage #topNav { display:none }
	.favoritesPage #footer { display:none }*/
	.favoritesPage #productBagError { width:auto }
}
/* END favorites showing topnav/footer on small breakpoint fix */

</style>
 
 <!-- ONESITE fix modal functionality on category page 012615 -->
<style type="text/css">
/*	.has-open-component {position: inherit;}
*/</style>
<script type="text/javascript">

function searchText() {};
function autoCorrectText() {};

// yoshi fix
jQuery(function() { jQuery('#popupLayeredContent').removeClass('universal-modal show-modal') });

</script>
<!-- end ONESITE fix modal functionality on category page -->

 <!-- contentOverride114 begin -->
<script type="text/javascript">
if (window["imageLoader"]) {
	// Undo the event binding
	if (window["categoryInfo"]) {
		if (categoryInfo.categoryPageCachingActive == "true") {
			Event.stopObserving(document, 'categoryProductGrid:ready', imageLoader.initLoader);
		}
	}
	if (!isImageLoaderObserverSet) {
		Event.stopObserving(document, "dom:loaded", imageLoader.initLoader);
	}
	// Override the init method
	ImageLoaderConstructor.prototype.init = function() {
		this.reset();
		var productGrid = this.productGrid = $('tabTable')||$('tabTableOff')||$('searchProductIteration')||$$('div[class="categoryContent"]')[0];
		if(!productGrid) return;
		// make imageLoader forward/backward compatible with SOLR/ORA category page
		// ---------------------
		this.productList = $('mainContent').select('div[class~="productCatItem"]');
		if(this.productList.length == 0) {
			this.productList = $('mainContent').select('li[class~="productCatItem"]');
		} 
		if(this.productList.length == 0) return;
		// ---------------------
		
		this.initializeImages(this.productList, this.imgs);
		
		var firstProductImg = Selector.findChildElements(this.productList[0], ['img']);
		this.shouldFlipImgArray = firstProductImg[0].id == this.imgs[this.imgs.length - 1].img.id;
		var productDim = this.productList[0].getDimensions();
		var productViewportRowCount = this.browserDim[1] / productDim.height;
		this.groupSize = Math.ceil(productViewportRowCount) * this.productPerRow;
		this.groupCount = Math.ceil(this.productList.size() / this.groupSize);
		
		var productGridDim = productGrid.getDimensions();
		var productRowCount = Math.floor(productGridDim.height / productDim.height);
		var rowSize = productRowCount / this.groupCount;
		var rowsHeight = productDim.height * rowSize;
		
		this.rowsHeightInverse = 1/rowsHeight;
		var productGridOffset = Position.cumulativeOffset(productGrid);
		this.minHeight = productGridOffset[1];
		this.maxHeight = this.minHeight + productGridDim.height - rowsHeight;
		
		this.scrollHandler = this.fetch.bind(imageLoader);
		Event.observe(window, 'scroll', this.scrollHandler);
		this.fetch();
	};
	// re-instantiate imageLoader
	window['imageLoader'] = null;
	window['imageLoader'] = new ImageLoaderConstructor();
	// re-bind events
	window['isImageLoaderObserverSet'] = false;
	if (window["categoryInfo"]) {
		if (categoryInfo.categoryPageCachingActive == "true") {
			Event.observe(document, 'categoryProductGrid:ready', imageLoader.initLoader);
			window['isImageLoaderObserverSet'] = true;
		}
	}
	if (!window['isImageLoaderObserverSet']) {
		Event.observe(document, "dom:loaded", imageLoader.initLoader);
		window['isImageLoaderObserverSet'] = true;
	}
}
</script>
<!-- contentOverride114 end -->
 
 <!-- begin contentOverride9 -->
  <script type="text/javascript">
// FEDEX TRACKING	
(function() {
    if (location.pathname == "/profile/shipment_detail.do") {
        Event.onDOMReady(function() {
            var as = $$('a[href*=http://fedex.com/Tracking?action=track&language=english&cntry_code=us&initial=x&tracknumbers]');
            as.each(function(a){
                if (a && a.href) {
                    var url = a.href;
                    if (url.indexOf("tracknumbers=") == -1) {
                        url = url.replace("tracknumbers","tracknumbers=");
                        a.href = url;
                    }
                }
            });
        });
    }
})();
</script>
  <!-- end contentOverride9 -->

  <!-- override 36 - account order status help link fix -->
<script type="text/javascript">
// <![CDATA[

if( ( location.pathname == '/profile/order_status_detail.do' ) || ( location.pathname == '/profile/shipment_detail.do' ) || ( location.pathname == '/profile/order_history.do' ) || (location.pathname == '/profile/single_order_detail.do')) {
  var OrderStatusHelpLinkOverride = Class.create({
	initialize:function() {
	},
	model: {
      orderStatusLinkFixed:'/customerService/info.do?cid=2325',
			orderReturnsLinkContent:'<a href="/customerService/info.do?cid=2326">Returns</a>'
	},
	controller:{
		init:{
			main:function() {
				var model = orderStatusHelpLinkOverride.model;
				// Find order status link
				var orderStatusLink = $('mainContent');
				orderStatusLink = orderStatusLink.select('div.headerLinks');
				if( orderStatusLink && orderStatusLink.length > 0 ) {
					orderStatusLink = orderStatusLink[0];
					orderStatusLink = orderStatusLink.select('a');
					if( orderStatusLink && orderStatusLink.length > 1 ) {
						orderStatusLink = orderStatusLink[1];
						orderStatusLink.href = model.orderStatusLinkFixed;
					}
          if((location.pathname == '/profile/single_order_detail.do') && orderStatusLink.length == 1) {
            orderStatusLink = orderStatusLink[0];
            orderStatusLink.href = model.orderStatusLinkFixed;
          }
				}	
				// Add order returns link			
				var orderReturnsLink = $('mainContent');			
				orderReturnsLink = orderReturnsLink.select('div.headerLinks');			
				if( orderReturnsLink && orderReturnsLink.length > 0 ) {
					orderReturnsLink = orderReturnsLink[0];					
					orderReturnsLink.insert({top: model.orderReturnsLinkContent});
				}
			}
		}
	}
  });

  var orderStatusHelpLinkOverride = new OrderStatusHelpLinkOverride();
  Event.observe( window, 'load', function() {
	orderStatusHelpLinkOverride.controller.init.main();
  });
}	

// ]]>
</script>
<!-- end override 36 - account order status help link fix -->


 
 <!-- content override 47 with associated CSS-->

<script type="text/javascript">
if (window.location.href.indexOf("/profile/email_preferences.do") != -1) {
	document.observe("dom:loaded",function() {
		var iframe = $('iFrameContent');
		if (iframe) {
			iframe.src = iframe.src.gsub('https://gap.p.delivery.net/m/p/gap/new/Pref.asp','https://gapcanada.p.delivery.net/m/p/gap/can/new/pref.asp');
		}
		iframe.style.display = "block";
	});
}
</script>
<!-- /content override 47 with associated CSS-->

<!-- override #49 Order Detail Currency Fix -->
<script type="text/javascript">
if (window.location.href.indexOf("/profile/order_status_detail.do") != -1){
	document.observe("dom:loaded",function() {
		var pricesToFix = [];
		pricesToFix = pricesToFix.concat($$('.summaryContent td.price'));
		pricesToFix = pricesToFix.concat($$('.summaryContent td.summarySubTotalPrice'));
		pricesToFix = pricesToFix.concat($$('.summaryContent td.summaryTotalPrice'));
		pricesToFix = pricesToFix.concat($$('#itemList dd'));
		pricesToFix.each(function(s) {
		    s.update(s.innerHTML.gsub('US$','CA$'));
		});
	});
}
</script>
<!-- end:override #49 Order Detail Currency Fix -->

<!-- BEGIN: Content Override 92 -->
<script type="text/javascript">
if( window["GIDProduct"] != null ) {
	GIDProduct.prototype.setFabricContent = function(arrayFabricContent, strFabricContent) {
		if (strFabricContent && strFabricContent.length > 0) {
			var arrayFabrics = strFabricContent.split("||");
			for (var i in arrayFabrics) {
				if (!isPrototypeSafe(i, arrayFabrics)) continue;
				var arrayVals = arrayFabrics[i].split("^,^");
				var fabricObj = new GIDProduct.prototype.fabricType(arrayVals[0],arrayVals[1],arrayVals[2]);
				arrayFabricContent.push(fabricObj);
			}
		}
	} 
}
</script>
<!-- END: Content Override 92 -->



<!-- begin contentOverride110 -->
<script type="text/javascript">
 	   if (window["browserService"]) {
 	                Object.extend(browserService.controller.managers.mobileBrowserManager.constants.MOBILE_BROWSER_BUSINESS_UNIT_ID_REDIRECT_URL_MAP, {
 	                        7:"http://m.gapcanada.ca",
 	                        8:"http://m.bananarepublic.gapcanada.ca",
							9:"http://m.oldnavy.gapcanada.ca"
 	                });
 	                browserService.controller.init.main();
 	   }
</script>
<!-- end contentOverride110 -->



<!-- contentOverride113 begin -->
<script type="text/javascript">
if (window['checkout'] && checkout.controller && checkout.controller.modules.billing ) {
	checkout.controller.modules.billing.getBillingRequest = checkout.controller.modules.billing.getBillingRequest.wrap(
		function(old) {
			var status = false;
			try { status = old(); }
			catch(e) { status = false; }
			finally { status = false; }
			return status;
		}
	);
}
if (window['checkout'] && checkout.controller && checkout.controller.modules.signIn ) {
	checkout.controller.modules.signIn.getSignInRequest = checkout.controller.modules.signIn.getSignInRequest.wrap(
		function(old) {
			var status = false;
			try { status = old(); }
			catch(e) { status = false; }
			finally { status = false; }
			return status;
		}
	);
}
</script>
<!-- contentOverride113 end -->


<!-- begin contentOverride130 with associated CSS-->
<script type="text/javascript">
	if (location.pathname == "/cookieFailure.do") {
		Event.observe(window,'load',function() {
			$('noCookie').style.display = "block";
			$$('.siteErrorSpacer').invoke('setStyle',{"display":"block"});
		});
	}
</script>
<!-- end contentOverride130 with associated CSS-->

<!-- BEGIN IT Override - disable responsiveNav calls 12/10/2015 edited 01/25/2016-->
<script type="text/javascript">
/** commented out 021916
if (reportingService && reportingService.controller && reportingService.controller.reportingManager) {
    reportingService.controller.reportingManager.getReportingRequest = function(viewManagers) {
        var reportingManager = reportingService.controller.reportingManager;
        var reportRegistry = reportingService.model.reportRegistry;
        var viewManager = null ;
        if (viewManagers instanceof Array) {
            for (var viewManagerCount = 0; viewManagerCount < viewManagers.length; viewManagerCount++) {
                viewManager = viewManagers[viewManagerCount];
                reportingManager.setViewManagerToReportRegistry(viewManager);
            }
        } else if (viewManagers instanceof Object && reportingService.controller.viewManagers && 
          reportingService.controller.viewManagers.responsiveNav && 
          reportingService.controller.viewManagers.responsiveNav.responsiveNavViewManager &&
          viewManagers !== reportingService.controller.viewManagers.responsiveNav.responsiveNavViewManager) {
            viewManager = viewManagers;
            reportingManager.setViewManagerToReportRegistry(viewManager);
        }
        reportingManager.inspectReportRegistry();
    };
}
**/
if (reportingService && reportingService.controller && reportingService.controller.viewManagers &&
    reportingService.controller.viewManagers.productpageViewManager && reportingService.controller.viewManagers.productpageViewManager.controller) {

    reportingService.controller.viewManagers.productpageViewManager.controller.getReportRequest = function() {
        var reportingManager = reportingService.controller.reportingManager;
        var viewManager = reportingService.controller.viewManagers.productpageViewManager;
        var productReviewService = window["productReviewService"];
        var productReviewStatus = reportingService.controller.viewManagers.productpageViewManager.controller.productReviewStatus;
        if (typeof productReviewService !== "undefined" && productReviewService.constants.bvReviews.BV_REVIEW_ENABLED == "true") {
            var apiUrl = productReviewService.constants.bvApiUrl.BV_API_URL;
            var styleColorId = productReviewService.constants.legacyStyleColor.BV_LEGACY_STYLECOLOR;
            viewManager.isWaitComplete = true;
            if (window.XDomainRequest) {
                var transport = new XDomainRequest();
                if (transport) {
                    transport.onload = function() {
                        var data = transport.responseText.evalJSON();
                        if (data.Results[0] && data.Results[0].ProductStatistics) {
                            productReviewStatus.totalReviewCount = data.Results[0].ProductStatistics.ReviewStatistics.TotalReviewCount;
                            productReviewStatus.bvRatingRange = data.Results[0].ProductStatistics.ReviewStatistics.OverallRatingRange;
                            productReviewStatus.bvAvgRating = data.Results[0].ProductStatistics.ReviewStatistics.AverageOverallRating;
                        }
                        reportingManager.getReportingRequest();
                    };
                    transport.onerror = function() {
                        reportingManager.getReportingRequest();
                    };
                    transport.open("get", apiUrl + styleColorId);
                    transport.send();
                }
            }  else {
                jQuery.ajax({type: "GET",url: apiUrl + styleColorId,data: {},async: true,contentType: "application/json; charset=utf-8",dataType: "jsonp",success: function(data) {
                    if (data.Results[0] && data.Results[0].ProductStatistics) {
                        productReviewStatus.totalReviewCount = data.Results[0].ProductStatistics.ReviewStatistics.TotalReviewCount;
                        productReviewStatus.bvRatingRange = data.Results[0].ProductStatistics.ReviewStatistics.OverallRatingRange;
                        productReviewStatus.bvAvgRating = data.Results[0].ProductStatistics.ReviewStatistics.AverageOverallRating;
                    }
                    reportingManager.getReportingRequest();
                },error: function() {
                    reportingManager.getReportingRequest();
                }});
            }
        } else {
            viewManager.isWaitComplete = true;
            reportingManager.getReportingRequest(); 
        }
    };
}
</script>
<!-- END IT Override - disable responsiveNav calls -->


<!-- BEGIN IT Override #138 - excessive omniture call mitigation -->
<script type="text/javascript">
if (reportingService && reportingService.controller.viewManagers.rewardBannerViewManager && reportingService.controller.viewManagers.rewardBannerViewManager.controller) {
reportingService.controller.viewManagers.rewardBannerViewManager.controller.getReportRequest = function() {};
}
</script>
<!-- END IT Override #138 - excessive omniture call mitigation -->


<!-- BEGIN content override CNOV-9 JS -->
<script type="text/javascript">
// ***** ON CA *****

function swapSignInFormTarget() {
	var signInFormTargetLocation = location.search;
		if (signInFormTargetLocation.indexOf('.jsp') > -1) {
			 var currentSignInTargetURL = $('existing_targetURL').value;
			 var currentRegisterTargetURL = $('new_targetURL').value;
			 if (currentSignInTargetURL.indexOf('www') == -1) {
				 if (currentSignInTargetURL && currentSignInTargetURL.indexOf('.jsp') > -1) {
					 var newSignInTargetURL = 'http://www.oldnavy.ca' + currentSignInTargetURL;
				 } else {
					 var newSignInTargetURL = '/';
				 }
				 // set target URL value
				 $('existing_targetURL').value = newSignInTargetURL;
			 }
			 if (currentRegisterTargetURL.indexOf('www') == -1) {
				 if (currentRegisterTargetURL && currentRegisterTargetURL.indexOf('.jsp') > -1) {
					 var newRegisterTargetURL = 'http://www.oldnavy.ca' + currentRegisterTargetURL;
				 } else {
					 var newRegisterTargetURL = '/';
				 }
				 $('new_targetURL').value = newRegisterTargetURL;
			 }
		}
}
	if (location.pathname =='/profile/sign_in.do') {
		document.observe("dom:loaded",function() {
			swapSignInFormTarget();																 
		});
}


</script>
<!-- END content override CNOV-9 JS -->



<!-- BEGIN content override CNOV-17 (MalformedJSON handler -->
<script type="text/javascript">

//CNOV-17
if (brandConst.IS_NAV2_ENABLED === 'true' && brandConst.IS_FACET_ENABLED === 'true' && window['reportingService'] && reportingService.controller.viewManagers.categoryFacetedSearchViewManager && reportingService.controller.viewManagers.categoryFacetedSearchViewManager.controller) {

    /**
     * Tries to parse for a doubled '}}' at the end of the json.  If that succeeds, then process and report
     * "malformedJSONFixed".  Otherwise report "malformedJSON" and retry once.  If still failing, report
     * "malformedJSONTwice" and display an error to the user.
     **/
    navigationService.controller.managers.categoryFacetedSearchManager.controller.handlers.getCategoryFacetedSearchDataHandlers.malformedJSONHandler = function (response, e) {
        var categoryFacetedSearchManager = navigationService.controller.managers.categoryFacetedSearchManager;
        var model = categoryFacetedSearchManager.model;
        var viewManager = reportingService.controller.viewManagers.categoryFacetedSearchViewManager;

        var returnErrorToUser = false;

        // If doubled trailing "}}"
        if (/}}$/.test(response.transport.responseText)) {
            var newJSON = response.transport.responseText.substring(0, response.transport.responseText.length - 1);
            try {
                response.responseJSON = newJSON.evalJSON();
            } catch (e) {
                if (!model.isRetry) {

                    // Note that we're attempting a retry
                    model.isRetry = true;

                    document.fire("categoryFacetedSearchDataRequest:end");
                    model.dataRequestStatus = categoryFacetedSearchManager.constants.requestStatus.END;

                    viewManager.model.exceptionType = "malformedJSON";
                    viewManager.controller.getReportRequest();

                    categoryFacetedSearchManager.controller.getCategoryFacetedSearchData(null, model.latestFacetRequestUrl + "&retry=true");

                    return;
                } else {
                    // Retry also failed
                    returnErrorToUser = true;
                    viewManager.model.exceptionType = "malformedJSONTwice";

                }
            }

            // Re-parse worked

            model.isRetry = false;

            if (!returnErrorToUser) {
                viewManager.model.exceptionType = "malformedJSONFixed";
                response.transport.response = newJSON;
            }
        } else {

            if (!model.isRetry) {

                // Note that we're attempting a retry
                model.isRetry = true;

                document.fire("categoryFacetedSearchDataRequest:end");
                model.dataRequestStatus = categoryFacetedSearchManager.constants.requestStatus.END;

                viewManager.model.exceptionType = "malformedJSON";
                viewManager.controller.getReportRequest();

                categoryFacetedSearchManager.controller.getCategoryFacetedSearchData(null, model.latestFacetRequestUrl + "&retry=true");
            } else {
                returnErrorToUser = true;
                viewManager.model.exceptionType = "malformedJSONTwice";

                // clear retry
                model.isRetry = false;
            }
        }

        // Have to report error to user
        if (returnErrorToUser) {
            var view = categoryFacetedSearchManager.view;

            if (categoryFacetedSearchManager.model.isDomReady) {
                view.renderExceptionErrorMessage();
            } else {
                Event.observe(window, 'load', view.renderExceptionErrorMessage);
            }
        }

    };



    navigationService.controller.managers.categoryFacetedSearchManager.controller.handlers.getCategoryFacetedSearchDataHandlers.successHandler = navigationService.controller.managers.categoryFacetedSearchManager.controller.handlers.getCategoryFacetedSearchDataHandlers.successHandler.wrap(function (originalMethod, response) {
        // Workaround for "fixed" bad JSON
        if (response.responseJSON == undefined) {
            // Should have been previously handled as an exception
            if (response.request.responseJSON == null) {
                return;
            }

            response.responseJSON = response.request.responseJSON;
            response.responseText = response.request.responseText;
        }

	originalMethod(response);

    });
}
</script>
<!-- END content override CNOV-17 JS -->

<!-- Begin CNOV-55: Fix for bad left nav links -->

<script type="text/javascript">
var leftNavUrlPatch = {
	init: function() {
        	var sideNavCategories = $('sideNavCategories');
                if(sideNavCategories){
                	var htmlStr = sideNavCategories.innerHTML;
                        htmlStr = htmlStr.replace(/href=".do/g, 'href="/browse/category.do');
                        $('sideNavCategories').innerHTML = htmlStr;

			if (navigationService && navigationService.controller && navigationService.controller.managers && navigationService.controller.managers.categoryFacetedSearchManager && navigationService.controller.managers.categoryFacetedSearchManager.view) {
				navigationService.controller.managers.categoryFacetedSearchManager.view.updateCurrentCategoryLink();
			}
		}
	}
};

Event.observe(window, "load", leftNavUrlPatch.init);

</script>

<!-- End CNOV-55: Fix for bad left nav links -->

<!-- Begin CNOV-71 -->
<script type="text/javascript">
cookieManagementService.controller.getCookieDomain =  cookieManagementService.controller.getCookieDomain.wrap(function(originalGetDomainCookie, originalHostname) {
	var hostName = originalGetDomainCookie(originalHostname);
	return /\.[wip|app|gap|gidgol].*/.exec(hostName)[0];
});
</script>
<!-- End CNOV-71 -->



<!-- Begin CNOV-87 v3 -->
<script type="text/javascript">

(function() {

	var orderBrandsCookie = 'strOrderBrands';
    var agentDescription = browserService.api.agentDescription().toLowerCase();
    var isSafari = false;
    if (agentDescription.indexOf('safari') != -1) {
          isSafari = true; 
    }

	function isMobileShoppingBag() {
		return (window.location.host.indexOf('m.') >= 0
		                && (window.location.pathname.indexOf('/buy/shopping') >= 0 ||
		                	window.location.pathname.indexOf('edit_shipping_method_bag') >= 0))
		                && window.shoppingBag &&
		                !shoppingBag.controller.checkoutManager.shouldUseAbsoluteCheckoutPath();
	}

	function isCheckout() {
		return window.location.pathname.indexOf('/checkout/') >= 0 && window.checkout != null; 
	}

	function isOrderConfirm() {
		return window.location.pathname.indexOf('/checkout/orderConfirm.do') >= 0;	
	}


	function setOrderBrands(brands) {
		if (!isSafari && window.localStorage) {
			if (brands === '') {
				localStorage.removeItem(orderBrandsCookie);
			} else {
				localStorage.setItem(orderBrandsCookie, brands);
			}
			
		}
		setCookieVar("omniSession",orderBrandsCookie,brands);
	}

	function getOrderBrands() {
		if (!isSafari && window.localStorage) {
			return localStorage.getItem(orderBrandsCookie) || '';
		} else {
			return getCookieVar("omniSession",orderBrandsCookie) || '';
		}
                return '';
	}

	function trackOrderBrandsOnOrder() {
		if (!window.reportingService || !(
			window.reportingService 
			&& reportingService.controller.viewManagers.orderViewManager
			&& reportingService.controller.viewManagers.orderViewManager.controller)) return;
		
		var oldSetPlaceOrderValues = reportingService.controller.viewManagers.orderViewManager.controller.helper.setPlaceOrderReportingValues;
		reportingService.controller.viewManagers.orderViewManager.controller.helper.setPlaceOrderReportingValues = function() {
			oldSetPlaceOrderValues();

			var isOrderBrandsEmpty = (getCookieVar("omniSession","strOrderBrands") || '').length === 0;

			var helper = reportingService.controller.viewManagers.orderViewManager.controller.helper;
			var productInfo = helper.getPlaceOrderReportingProductsHelper(); 
			var productBrands = productInfo.productBrands;

			setOrderBrands(productBrands);
			
			var isOrderBrandsEmptyAfterReset = (getOrderBrands() || '').length === 0;

			var cookieLimit = browserService.controller.getCookieLimits();
			var isCookieSizeTooLarge = (document.cookie.length > cookieLimit.totalMaxSize) || (document.cookie.split(';').length > cookieLimit.maxCount);
			s.eVar0 = 'orderPlacement: brandsEmpty=' + isOrderBrandsEmpty + ', brandsEmptyAfterReset=' + isOrderBrandsEmptyAfterReset + ', cookieTooLarge: ' + isCookieSizeTooLarge;
			s.t();
		} ;	
	}

	function trackOrderBrandsOnOrderConfirm() {
		if (!window.reportingService || !(window.reportingService
			&& reportingService.controller.viewManagers.orderConfirmViewManager
			&& reportingService.controller.viewManagers.orderConfirmViewManager.controller)) return;
		
		reportingService.controller.viewManagers.orderConfirmViewManager.controller.setReportModel = function() {
			var commonViewManager = reportingService.controller.viewManagers.commonViewManager;
			var orderConfirmViewManager = reportingService.controller.viewManagers.orderConfirmViewManager;
			var commonModel = commonViewManager.model;
			var orderConfirmModel = orderConfirmViewManager.model;
			var order = orderConfirmModel.order;
			var reportName = orderConfirmViewManager.reportName;
			var sAccount = null;
			
			order.zip = getCookieVar("omniSession","strOrderZip");
			order.state = getCookieVar("omniSession","strOrderState");
			order.countryCode = getCookieVar("omniSession","strOrderCountryCode");
			// get product bag contents:
			// updated: correct info at (orderController.js)getPlaceOrderReportingProductsHelper:function()
			order.products = orderConfirm.productsInBag;			
			order.cardTypeName = getCookieVar("omniSession","strCardTypeName");
			order.orderBrands = getOrderBrands();
			/* 
			1) omni.objOrder.strOrderId is set on the page - depends on server side datum.
			2) Check to confirm order exists with data based on order id check.
			Only if order exists should the "s" values be set.
			*/
			if (order.orderId != "") {
				orderConfirmModel.sProducts = commonModel.getSProductsFromBag(order.products, reportName);
				
				try {
					orderConfirmModel.events = orderConfirmViewManager.controller.getEventsFromsProduct(orderConfirmModel.sProducts);
				} catch (error) {
					// Default to all events if an error occurs
					orderConfirmModel.events = "purchase, event3, event4, event5, event6, event7, event16, event18, event43, event44, event45, event48";
				} 
				
				// set on orderViewManager.js
				if (commonModel.backordered) {
					orderConfirmModel.events += ", event31, event30, event29";
				}
				orderConfirmModel.viewType = reportingService.constants.viewTypes.ORDER_CONFIRM_VIEW;
			}

			// Purge all values to prevent a re-read of the data.
			setCookieVar("omniSession","strOrderZip","");
			setCookieVar("omniSession","strOrderState","");
			setCookieVar("omniSession","strOrderCountryCode","");
			setCookieVar("omniSessionProducts","strOrderProducts","");
			setCookieVar("omniSession","strOrderId","");
			setCookieVar("omniSession","strCardTypeName", "");
			setCookieVar("omniSession","hasOpenBag","");
			setCookieVar("omniSession","strOrderBrands","");

			// var suite = omni.environmentSuites[omni.objCurrentServer.suite];
			var suite = reportingService.controller.reportingManager.brandReportSuites;
			if (suite && window["gidBrandSiteConstruct"]) {
				var reportingSuites = [];
				var brandSuiteIterator = function(brandSite) {
					if (brandSite && order.orderBrands.include(brandSite.brandAbbr)
							&& suite.brandSuites[brandSite.brandCode] != undefined) {
						reportingSuites.push(suite.brandSuites[brandSite.brandCode]);
					}
				};
				gidBrandSiteConstruct.gidBrandSites.each(brandSuiteIterator);
				reportingSuites.push(suite.globalSuite);
				responsiveService.api.whenMobile(function(){
					var mobileSuite = reportingService.controller.reportingManager.brandMobileReportSuites;
					reportingSuites.push(mobileSuite.brandSuites[gidBrandSiteConstruct.currentBrandCode]);	
					reportingSuites.push(mobileSuite.globalSuite);					
				});
				sAccount = reportingSuites.join(",");
				orderConfirmModel.sAccount = sAccount;
			}     	
		};
        
        var oldOrderConfirmTransmission = reportingService.controller.viewManagers.orderConfirmViewManager.controller.setReportTransmissionVars;
        reportingService.controller.viewManagers.orderConfirmViewManager.controller.setReportTransmissionVars = function() {
			oldOrderConfirmTransmission();

			var cookieLimit = browserService.controller.getCookieLimits();
			var isBrandsEmpty = (s.eVar34 || '').length === 0;

			if (isBrandsEmpty) {
				s.eVar34 = getOrderBrands();
				isBrandsEmpty = (s.eVar34 || '').length === 0;
			}

			var isCookieTooLarge = (document.cookie.length > cookieLimit.totalMaxSize) || (document.cookie.split(';').length > cookieLimit.maxCount);
			s.eVar0 = reportingService.controller.viewManagers.orderConfirmViewManager.model.sAccount;
            s.prop57 = 'orderConfirm: brandsEmpty=' + isBrandsEmpty + ', cookieTooLarge: ' + isCookieTooLarge;

			setOrderBrands('');
		} ;	
	}

	function fixCookieLimit() {
		if (!window.browserService || responsiveService.controller.getViewport) return;

		browserService.controller.getCookieLimits = function() {
			var userAgent = navigator.userAgent;
			var isIE = userAgent.indexOf('MSIE') >= 0;
			var isChrome = userAgent.indexOf('Chrome/') >= 0;
			var isFirefox = userAgent.indexOf('Firefox/') >= 0;
			var isSafari = userAgent.indexOf('Safari/') >= 0;
			var self = browserService;

			var cookieFunc = null,
                cookieObj = null,
				cookieLimitApi = self.model.cookieLimits.api;
			if (isIE) {
				cookieObj = cookieLimitApi.Explorer(8);
			} else if (isChrome) {
				cookieObj = cookieLimitApi.Chrome();
			} else if (isFirefox) {
				cookieObj = cookieLimitApi.Firefox();
			} else if (isSafari) {
				cookieObj = cookieLimitApi.Safari();
			} else {
				cookieObj = cookieLimitApi.defaultLimits();
			}

			return cookieObj;	
		};

	}

	if (isMobileShoppingBag()) {
		fixCookieLimit();
		window.ABTestVariables.eVar0 = window.location.pathname;	
	} else if (isCheckout()) {
		fixCookieLimit();
		window.ABTestVariables.eVar0 = window.location.host;

		trackOrderBrandsOnOrder();
	} else if (isOrderConfirm()) {
		fixCookieLimit();
		trackOrderBrandsOnOrderConfirm();
	}
	

})();

</script>
<!-- End CNOV-87 -->

<!-- CNOV-88: fix checkout module reporting issue-->
<script type="text/javascript">

(function() {
	function isCheckout() {
		return window.location.pathname.indexOf('/checkout/') >= 0 && window.checkout != null; 
	}

	if (!isCheckout() || (window.responsiveService && responsiveService.controller.getViewport)) return;

	var oldModuleOpen = checkout.controller.reportingManager.setStandardOpenModuleReport;
	checkout.controller.reportingManager.setStandardOpenModuleReport = function() {
		checkout.controller.moduleManager.currentModuleControl = checkout.controller.moduleManager.delegate.currentModuleController();
		oldModuleOpen();
	};
})();
</script>
<!-- End CNOV-88 - fix checkout module reporting issue -->

<!-- Begin CNOV-93 - cookie purge test -->
<script type="text/javascript" src="/Asset_Archive/GPWeb/content/0008/792/725/assets/cnov93.js"></script>
<!-- End CNOV-93 - cookie purge test -->

<!-- BEGIN content override CNOV-103 - CA Locale Switching -->
<script type="text/javascript">
function updateLocaleCookie() {
  var localeParam = document.location.href.toQueryParams().locale;
  if ("fr_CA" == localeParam) { 
    gidLib.setCookie("locale","fr_CA|||",gidLib.getFutureDate({days:70}),"/",gidBrandSiteConstruct.cookieDomain); 
  } else if ("en_CA" == localeParam) {
    gidLib.setCookie("locale","en_CA|||",gidLib.getFutureDate({days:70}),"/",gidBrandSiteConstruct.cookieDomain); 
  }
}
updateLocaleCookie();
</script>
<!-- END content override CNOV-103 - CA Locale Switching -->



<!-- CNOV-61: A/B test for style versus style color engagement-->
<script type="text/javascript">
// <![CDATA[

var NAV2TestCookieCutter = Class.create();
NAV2TestCookieCutter.prototype = {
	initialize:function(CookieVarName,CookieUsedName,CookieValueBase,ForcedModeBaseName,SegmentBreakdown,theEvar,plExcept) {
		this.EvarToUse = theEvar != "" ? theEvar : false;
		this.CookieVariableName = CookieVarName;
		this.CookieUsed = CookieUsedName;
		this.CookieValueBase = CookieValueBase;
		this.SegBreakdown = SegmentBreakdown.split("-");
		this.DoesTheCookieExist = gidLib.getCookieVar(this.CookieUsed, this.CookieVariableName);
		this.RetrievedCookieValue = gidLib.getCookieVar(this.CookieUsed, this.CookieVariableName);
		this.QuickSegment = '';
		this.piperlimeException = plExcept;
		this.userNeedsSync = false;
		this.ForcedModeBase = ForcedModeBaseName;
		this.ModeArrayIndex = this.SegBreakdown.length;
		this.modeArray = new Array();
		this.modeArray[0] = "a";
		this.modeArray[1] = "b";
		
		if (location.href.indexOf(this.ForcedModeBase) >= 1) {
			this.forcedMode();
		}else{
			this.cookieScanner();
		}
	},

	forcedMode:function() {
		for (i = 0; i < this.ModeArrayIndex; i++) {
			if (location.href.indexOf(this.ForcedModeBase + "=" + this.modeArray[i]) >= 1) {
				this.UserSegment = this.CookieValueBase + this.modeArray[i].toUpperCase();
				this.QuickSegment = this.modeArray[i].toUpperCase();
			}
		}
		
		gidLib.setCookieVar(this.CookieUsed,this.CookieVariableName,this.UserSegment);
		if (this.EvarToUse) {
			this.setABTestVariable(this.UserSegment);
		}

		userNeedsSync = true;
	},

	cookieScanner:function() {
		if (this.DoesTheCookieExist) {
			if (this.EvarToUse) {
				this.setABTestVariable(this.RetrievedCookieValue);
			}

			for (i = 0; i < this.ModeArrayIndex; i++) {
				if (this.RetrievedCookieValue == (this.CookieValueBase + this.modeArray[i].toUpperCase())) {
					this.QuickSegment = this.modeArray[i].toUpperCase();
					break;
				}
			}
		} else {
			this.tagManager();
		}
	},

	tagManager:function() {
		this.Segmentation = Math.floor((Math.random()*100)+1); // chooses 1 to 100
		this.FloorThreshold = 0;
		this.TopThreshold = 0;
		
		for (i = 0; i < this.ModeArrayIndex; i++){
			this.TopThreshold = this.FloorThreshold + parseInt(this.SegBreakdown[i]);
			if ((this.Segmentation > this.FloorThreshold) && (this.Segmentation <= this.TopThreshold)){
				this.UserSegment = this.CookieValueBase + this.modeArray[i].toUpperCase();
				this.QuickSegment = this.modeArray[i].toUpperCase();
				break;
			} else {
				this.FloorThreshold = this.TopThreshold;
			}
		}
		
		gidLib.setCookieVar(this.CookieUsed,this.CookieVariableName,this.UserSegment);

		if (this.EvarToUse) {
			this.setABTestVariable(this.UserSegment);
		}
	},
	
	setABTestVariable: function(setValue) {
		thisEvar = 'eVar' + this.EvarToUse;
		ABTestVariables[thisEvar] = setValue;
	}
};


var navCookieCutter = new NAV2TestCookieCutter('NAV2FACETS_1306A_v2_GROUP_TEST', 'mktUniversalPersist', 'navGroupSEG', 'navForceMode', '0-100', '0', '');

if (window.UrlBuilder !== undefined) {
	UrlBuilder.getProductSearchServiceUrl = UrlBuilder.getProductSearchServiceUrl.wrap(function(oM,pageId) {
		var result = oM(pageId);
	
		var abTestVar = ABTestVariables['eVar0'];
		if (abTestVar != undefined) {
			result += "&segment=" + abTestVar;
		}
	
		return result;
	});
}

// ]]>
</script>
<!-- End CNOV-61 -->

<!-- Begin CNOV-110 -->
<script type="text/javascript">
jQuery(document).ready(
	function() {
		var shoppingBagAnchors = jQuery("a[href='/buy/shopping_bag.do']");
		if (gidBrandSiteConstruct && shoppingBagAnchors.length > 0) {
			/* Elements are present on display, so collect the hrefs. */
			var currentBrandCode = gidBrandSiteConstruct.currentBrandCode;
			var secureUrl = gidBrandSiteConstruct.gidBrandSites[currentBrandCode].secureUrl;
			var secureShoppingBagUrl =  secureUrl + "/buy/shopping_bag.do";
			jQuery.each(shoppingBagAnchors, function(i, shoppingBagAnchor) {
				shoppingBagAnchor.href = secureShoppingBagUrl;
			});
		}
	}
);
// Update to fix 'your bag' text link in shopping bag area
document.observe('personalizationData:ready', function() {
	var shoppingBagAnchors = jQuery("#universalInlineBagContainer a[href='/buy/shopping_bag.do']");
	if (gidBrandSiteConstruct && shoppingBagAnchors.length > 0) {
		var currentBrandCode = gidBrandSiteConstruct.currentBrandCode;
		var secureUrl = gidBrandSiteConstruct.gidBrandSites[currentBrandCode].secureUrl;
		var secureShoppingBagUrl =  secureUrl + "/buy/shopping_bag.do";
		jQuery.each(shoppingBagAnchors, function(i, shoppingBagAnchor) {
			shoppingBagAnchor.href = secureShoppingBagUrl;
		});
	}
});
</script>
<!-- End CNOV-110 -->

<!-- Begin CNOV-112 -->
<script type="text/javascript">
if (window.location.pathname.indexOf('/buy/shopping_bag.do') != -1) {
	if (window["shoppingBagPage"]) {
		shoppingBagPage.loadProductData = function(strProductId,dataLoaderAction,strVariantId,strStyleColorId,productBrandCode) {
			if (strProductId == 0) return;
			this.productId = strProductId; this.variantId = strVariantId;
			this.dataLoaderAction = dataLoaderAction;
			var currentLocale = personalizationService.model.personalizationData.personalizationInfoV1.userContext.localeCode;
			var productDataUrl = this.getProductDataUrl(strProductId, strVariantId, strStyleColorId, currentLocale);
			if (!productBrandCode || productBrandCode == gidBrandSiteConstruct.currentBrandCode ) {

				document.fire("productPage:dataRequest");
				if (typeof this.processInlineProductData == 'function' && brandConst.IS_OPTIMIZED_PRODUCT_PAGE_ACTIVE && dataLoaderAction == "initial") {
					this.processInlineProductData();
				}
				else {
					new Ajax.Request(
						productDataUrl,
						{
							method: 'get',
							onComplete: this.parseProductDataAjaxResponse.bind(this),
							onException: this.productDataExceptionHandler
						}
					);
				}
			} else {
				var gidBrand = gidBrandSiteConstruct.gidBrandSites[parseInt(productBrandCode, 10)];
				if (gidBrand) {
					var args = {strProductId:strProductId};
					gidLib.loadScript({
						callerObject:this,
						src:gidBrand.secureUrl + productDataUrl,
						timeout:{
							handler:this.loadScriptTimeoutHandler.bind(this),
							args:args,
							timeDelay:20
						},
						callback:{
							handler:this.loadScriptCallbackHandler.bind(this),
							args:args,
							timeDelay:0.1
						}
					});
				}
			}
		}
	}
}
</script>
<!-- End CNOV-112 -->

<!-- Begin CNOV-113 - shopping bag Learn More popup fix -->
<script type="text/javascript">
if( location.pathname == '/buy/shopping_bag.do' || location.pathname == '/buy/shopping_bag_delete_item.do' || location.pathname == '/buy/shopping_bag_save_item.do' || location.pathname == '/buy/shopping_bag_move_item.do' || location.pathname == '/buy/edit_shipping_method_bag.do' ) {

jQuery(document).ready(
	function() {
		// Addition from AS
		responsiveService.model.pageStrategies = {};
		// Popup link fix - change all /customerService & /browse popups to /buy
		var linkToUpdate = jQuery('.shippingOptionLearnMoreLink a[onclick], #contentItemContainer10000425 a[onclick]');
		if( linkToUpdate.length > 0 ) {
			linkToUpdate.each( function( index, linkElement ) {
				if( jQuery( linkElement ).attr('href').indexOf('/customerService/info.do') > -1 || jQuery( linkElement ).attr('onclick').indexOf('/customerService/info.do') > -1 || jQuery( linkElement ).attr('href').indexOf('/browse/info.do') > -1 || jQuery( linkElement ).attr('onclick').indexOf('/browse/info.do') > -1 ) {
					var linkHref = jQuery( linkElement ).attr('href');
					var linkOnClick = jQuery( linkElement ).attr('onclick');
					linkHref = linkHref.replace('/customerService/info','/buy/info').replace('/browse/info','/buy/info');
					linkOnClick = linkOnClick.replace('/customerService/info','/buy/info').replace('/browse/info','/buy/info');
					jQuery( linkElement ).attr('href', linkHref );
					jQuery( linkElement ).attr('onclick', linkOnClick );
				}
      });
		}
	}
);

}
</script>
<!-- End CNOV-113 - shopping bag Learn More popup fix -->

<!-- Begin CNOV-115 - shopping bag returns link fix -->
<script type="text/javascript">
if( location.pathname == '/buy/shopping_bag.do' || location.pathname == '/buy/shopping_bag_delete_item.do' || location.pathname == '/buy/shopping_bag_save_item.do' || location.pathname == '/buy/shopping_bag_move_item.do' || location.pathname == '/buy/edit_shipping_method_bag.do' ) {

/* Returns page CIDs by BU
GP US - 81264, ON US - 82724, BR US - 80735, PL US - 80975, AT US - 79311
GP CA - 2326, ON CA - 3325, BR CA - 1324
GP EU - 2326, BR EU - 1324
GP JP - 81264, BR JP - 80735 */

jQuery(document).ready(
	function() {
		var wcdReturnsLinkUpdater = {
			// Returns Link CIDs by brand code
			cidsByBrandCode : { 
				'1':'81264', '3':'82724', '2':'80735', '4':'80975', '10':'79311',
				'7':'2326', '9':'3325', '8':'1324',
				'20':'2326', '21':'1324', '28':'2326', '29':'1324',
				'24':'81264', '25':'80735'
			},
			updateLink: function() {
				if( gidBrandSiteConstruct && gidBrandSiteConstruct.currentBrandCode ) {
					// Determine CID to add by brand code
					var brandCode = gidBrandSiteConstruct.currentBrandCode;
					var returnLinkCid = '';
					for( var key in wcdReturnsLinkUpdater.cidsByBrandCode ) {
						if( key == brandCode ) returnLinkCid = wcdReturnsLinkUpdater.cidsByBrandCode[key];
					}

					// Update the link
					var linkToUpdate = jQuery('.shoppingInformationLinks a');
					linkToUpdate.each( function( index, element ) {
						var linkHtml = jQuery(element).html();
						if( linkHtml.toLowerCase().indexOf('return') > -1 ) {
							jQuery(element).attr('href','/customerService/info.do?cid=' + returnLinkCid );
						}
          });
				}
			}			
		}
		wcdReturnsLinkUpdater.updateLink();
	}
);

}

</script>
<!-- End CNOV-115 - shopping bag returns link fix -->

<!-- Begin CNOV-117 - Responsive Shopping Bag CA launch -->
<script type="text/javascript">
// Responsive shopping bag enable
if( location.hostname.substr(0,2) != 'm.' ) {

	var responsiveBagCookieCheck = gidLib.getCookieVar('mktUniversalPersist','responsiveShoppingBagMode');
	var shoppingBagRedirect = false;
	if( responsiveBagCookieCheck != 'responsiveBag_SegB' ) {
		gidLib.removeCookieVar('mktUniversalPersist', 'responsiveShoppingBagMode');
		// setCookieVar doesn't work properly
		//gidLib.setCookieVar('mktUniversalPersist','responsiveShoppingBagMode','responsiveBag_SegB');

		var expDate = (expDate != null ? expDate : gidLib.getFutureDate({ "years": 5 }));
		var domain = (window.gidBrandSiteConstruct || {}).cookieDomain || null;
		
		var cookieStr = gidLib.getCookie('mktUniversalPersist');
		if (cookieStr != '') {
			var cookieArray = cookieStr.split('&');
			var newCookiStr = '';
			var cookieVar;

			cookieArray.each(function(cookieArrayPair, i) {
				cookieVar = cookieArrayPair.split('=');
				cookieVar = cookieVar[0];

				if (cookieVar != 'responsiveShoppingBagMode') {
					newCookiStr = newCookiStr + cookieArrayPair;
					if (i < cookieArray.length) {
						newCookiStr = newCookiStr + '&';
					}
				}
			});
			newCookiStr += 'responsiveShoppingBagMode=responsiveBag_SegB';

			// Reset cookie with new value

			/* Set cookie */
			gidLib.setCookie('mktUniversalPersist', escape(newCookiStr), expDate, '/', domain );
		}
		else {
			gidLib.setCookie('mktUniversalPersist', escape('responsiveShoppingBagMode=responsiveBag_SegB'), expDate, '/', domain );
		}
				
		if( location.pathname == '/buy/shopping_bag.do' || location.pathname == '/buy/shopping_bag_delete_item.do' || location.pathname == '/buy/shopping_bag_save_item.do' || location.pathname == '/buy/shopping_bag_move_item.do' || location.pathname == '/buy/edit_shipping_method_bag.do' ) {
			// Omni tracking of users in cart with no resp bag cookie
			//s.tl( this, 'o', "Desktop user in legacy bag, redirected");
			shoppingBagRedirect = true;
		}
	}
	if( shoppingBagRedirect == true ) {
		var alreadyRedirected = gidLib.getQuerystringParam('bagRedirect');
		if( alreadyRedirected != 'true' ) {
			window.location = '/buy/shopping_bag.do?bagRedirect=true';
		}
		else {
			//s.tl( this, 'o', "Desktop user in legacy bag, already redirected");
		}
	}

}

var responsiveBagAbTestOn = false;
if( location.pathname == '/buy/shopping_bag.do' || location.pathname == '/buy/shopping_bag_delete_item.do' || location.pathname == '/buy/shopping_bag_save_item.do' || location.pathname == '/buy/edit_shipping_method_bag.do' ) {
	// To be replaced by AB test var
	responsiveBagAbTestOn = ( gidLib.getCookieVar('mktUniversalPersist','responsiveShoppingBagMode') == 'responsiveBag_SegB' ) ? true : false;
}

///// Responsive bag JS overrides /////
if( window["responsiveBagAbTestOn"] != null && responsiveBagAbTestOn ) {

	/*// WCD iPad postage stamp patch
	if (navigator.userAgent.indexOf("iPad") !=-1){
		document.write('<style type="text/css">#universalBarContainer #universalMarketingContainerTop { width:auto !important }<\/style>');

		if( window["fixTopForiPad"] != null ) { 
			fixTopForiPad = fixTopForiPad.wrap( function( om ) { });
		}
	}*/
	
	// Pixman fix
	if (!pixelManagementService.constants.DATE_IN_USE) { 
		pixelManagementService.constants.DATE_IN_USE = brandConst.DATE_IN_USE;
	}
	// Fix to ensure if pixman misses shopping bag ready, it catches from the below. Doesn't re-fire pixman pixels
	jQuery(document).ready(function () {
		setTimeout(function () {
			//document.fire('shoppingBag:ready');
			jQuery(document).trigger('shoppingBag:ready');
		}, 2000);
	});
 
	// Remove Canada from cross-brand labels in Universal Nav
	jQuery(document).ready( function() {
		jQuery('.universalBarBrandMenuLabel').each( function(idx,elt) {
			elt.innerHTML = elt.innerHTML.replace(' Canada','');
		});
	});

	// Update promo and return links to launch in new tab
	var app = angular.module('gid.app.shoppingBag.directives');
	app.config(function($provide) {
		$provide.decorator('shoppingBagAboutYourOrderDirective', function($delegate) {
			var directive = $delegate[0];
			directive.compile = function () {
				return function (scope, element, attrs) {
					var i = 0;
					scope.$watch('$parent.shoppingBagData.shoppingBag.activeItems', function (newActiveItems) {
						if( jQuery(window).width() < 569 ) {
							//console.log('ativeItems changed');
							var promoIds = [];
							angular.forEach(scope.upsellPromos, function (up) { promoIds.push(up.promoId); } );
							angular.forEach(scope.appliedPromos, function (ap) { promoIds.push(ap.promoId); } );
							jQuery('div.promos').each(function () {
								//console.log('inside  jquery');
								jQuery(this).unbind('click');
								var aEl = jQuery('.promo a', jQuery(this));
								aEl.unbind('click');
								var promoURL = scope.promoUrlPrefix + promoIds.shift();
								//console.log(promoURL);
								aEl.attr('href', promoURL);
								aEl.attr('target', '_blank');
							});
						}
					});
				};
			};
			return $delegate;
		});
	});
	
	// Update 7-9 day ship option text
	var shoppingBagTransformerModule = angular.module('gid.transformer.shoppingBagTransformer');
	shoppingBagTransformerModule.config(function($provide) {
		$provide.decorator('shoppingBagTransformer', function($delegate) {
			var oldTransformResponse    = $delegate.transformResponse;
			var oldTransformBagResponse = $delegate.transformBagResponse;

			var overrideShippingData = function(jsonData) {
				if (jsonData.shoppingBag && jsonData.shoppingBag.shippingInfo) {
					// Change isInternationalShipping flag from a boolean to a string to fix BorderFree checkout
					var isInternationalShipping = jsonData.shoppingBag.shippingInfo.isInternationalShipping;
					jsonData.shoppingBag.shippingInfo.isInternationalShipping = 
						(isInternationalShipping === true || isInternationalShipping === 'true') ? 'true' : 'false';

					if (jsonData.shoppingBag.shippingInfo.shippingOptions) {
						var shipOptions = jsonData.shoppingBag.shippingInfo.shippingOptions;
						
						// Remove 2096 (Windy City) from array and set to JSON data
						/*shipOptions = shipOptions.filter( function (el) {
							return el.shippingId !== "2096";
						});
						jsonData.shoppingBag.shippingInfo.shippingOptions = shipOptions;*/
						
						// Change Description for standard option
						shipOptions.each( function( elt, idx ) {
							if( elt.description == '7-9 business days' ) elt.description = '7-9 business days - FREE Every Day ($50 min)'; 
						});
					} 
				}
				return jsonData;
			};

			$delegate.transformResponse = function(data, headers) {
				var jsonData = oldTransformResponse(data, headers);
				return overrideShippingData(jsonData);
			};

			$delegate.transformBagResponse = function(data) {
				var jsonData = oldTransformBagResponse(data);
				return overrideShippingData(jsonData);
			}

			return $delegate;
		});
	});

	// Override to disable color/size 'edit in bag' links
	/*var app = angular.module('gid.app.shoppingBag.directives');
	app.config(function($provide) {
		$provide.decorator('shoppingBagPoliciesDirective', function($delegate, $timeout) {
			var directive = $delegate[0];
			directive.compile = function () {
				return function (scope, element, attrs) {
					var i = 0;
					scope.$watch('$parent.shoppingBagData.shoppingBag.activeItems', function () {
						$timeout( function() {
							jQuery('.productAttrValue').each(function() {
								jQuery( this ).off();
								jQuery( this ).html( jQuery( this ).text() ) ;
							});
						}, 0);
					});
				};
			};
			return $delegate;
		});
	});*/
	
	// Double-click delete override
	var shoppingBagServiceModule = angular.module('gid.services.shoppingBagService');
	shoppingBagServiceModule.config(function($provide) {
		$provide.decorator('shoppingBagService', function($delegate, $q) {
			var asyncFuncPromises = [];
			$delegate.syncCall = function (asyncFunc) {
				var len = asyncFuncPromises.length;
				var lastAsyncFuncPromise = (len > 0) ? asyncFuncPromises[len - 1].promise : null;
				var asyncFuncArgs = Array.prototype.slice.call(arguments, 1);
				var asyncFuncDefer = $q.defer();
				var asyncFuncPromise = asyncFuncDefer.promise;
				var actionId = asyncFuncArgs[0];
				for (var i = asyncFuncPromises.length - 1; i >= 0; --i) {
					var afp = asyncFuncPromises[i];
					if (afp.id === actionId) { return afp.promise; }
				}
				asyncFuncPromises.push({ id: actionId, promise: asyncFuncPromise });
				var callAsyncFunc = function () {
					asyncFunc.apply(this, asyncFuncArgs)
					.then(function (response) { 
						asyncFuncPromises.shift();
						asyncFuncDefer.resolve(response);
					},function (reason) { 
						asyncFuncPromises.shift();
						asyncFuncDefer.reject(reason);
					});
				};
				if (lastAsyncFuncPromise) {       	    	   
					lastAsyncFuncPromise.then(function() {
					callAsyncFunc();
				});
				}
				else {
					callAsyncFunc();
				}
				return asyncFuncPromise;
			};
			return $delegate;
		});
	});	

}
	
// Android fix
if( location.pathname == '/checkout/order.do' ) {
	if( window.responsiveService ){
		responsiveService.controller.handlers.androidHandler = function(){}
	}
}

</script>
<!-- End CNOV-117 - Responsive Shopping Bag CA launch -->

<!-- Begin CNOV-119 - Hide Private Policy link in signin page -->
<script type="text/javascript">
if ((location.pathname != '/profile/sign_in.do') || (location.pathname != '/profile/validate_sign_in.do')){
	jQuery(document).ready(function(){
		jQuery("#privacyPolicyLink").hide();
	});
};
</script>
<!-- End CNOV-119 - Hide Private Policy link in signin page -->

<!-- Begin CNOV-123 IOS 8 PP Hover Events Patch -->
<script type="text/javascript">
////////////////////////////////////////////////// 
/////////  IOS 8 PP Hover Events Patch v3  ///////
//////////////////////////////////////////////////

var iOS8PPPatch = function() {
	var iOS8PPPatchURL = document.location.href;
	var iOS8PPPatchDevice = navigator.userAgent;
	if ( (gidLib.getCookieVar("mktUniversalPersist","gapkiosk") == "true") || (((iOS8PPPatchURL.indexOf("product.do") > 0) || (iOS8PPPatchURL.indexOf("outfit.do") > 0)) && ((iOS8PPPatchDevice.indexOf("Version/8") > 0) || (iOS8PPPatchDevice.indexOf("Version/9") > 0) || (iOS8PPPatchDevice.indexOf("CriOS") > 0) && (iOS8PPPatchDevice.indexOf("Mobile") > 0))) ) {		
//console.info("iOS 8 Patching...");				
		//// take action and remove the offending events on the first touch...
		var ColorSwatchArr = jQuery("#colorSwatchContent").children("input");
		var SizeChoiceArr1 = jQuery("#sizeDimension1Swatches").children("button");
		var SizeChoiceArr2 = jQuery("#sizeDimension2Swatches").children("button");
		var QLColorSwatchArr = jQuery("#quickLookColorSwatches").children("input");
		var QLSizeChoiceArr1 = jQuery("#quickLookSize1Swatches").children("button");
		var QLSizeChoiceArr2 = jQuery("#quickLookSize2Swatches").children("button");
		for (i = 0; i < ColorSwatchArr.length; i++) {
			var myButton = document.getElementById(ColorSwatchArr[i].id);
			myButton.removeAttribute('onfocus');
			myButton.removeAttribute('onmouseover');
			myButton.removeAttribute('onmouseout');
			myButton.setAttribute("onclick","productPage.swatchOver('color'," + i + ");productPage.setColor(" + i + ");");		
		}
		
		for (j = 0; j < SizeChoiceArr1.length; j++) {
			var myButton = document.getElementById(SizeChoiceArr1[j].id);
			myButton.removeAttribute('onfocus');
			myButton.removeAttribute('onmouseover');
			myButton.removeAttribute('onmouseout');		
		}
		
		for (k = 0; k < SizeChoiceArr2.length; k++) {
			var myButton = document.getElementById(SizeChoiceArr2[k].id);
			myButton.removeAttribute('onfocus');
			myButton.removeAttribute('onmouseover');
			myButton.removeAttribute('onmouseout');		
		}
		for (i = 0; i < QLColorSwatchArr.length; i++) {
			var myButton = document.getElementById(QLColorSwatchArr[i].id);
			myButton.removeAttribute('onfocus');
			myButton.removeAttribute('onmouseover');
			myButton.removeAttribute('onmouseout');	
			myButton.setAttribute("onclick","outfitPage.swatchOver('color'," + i + ");outfitPage.setColor(" + i + ");");		
	
		}
		
		for (j = 0; j < QLSizeChoiceArr1.length; j++) {
			var myButton = document.getElementById(QLSizeChoiceArr1[j].id);
			myButton.removeAttribute('onfocus');
			myButton.removeAttribute('onmouseover');
			myButton.removeAttribute('onmouseout');		
		}
		
		for (k = 0; k < QLSizeChoiceArr2.length; k++) {
			var myButton = document.getElementById(QLSizeChoiceArr2[k].id);
			myButton.removeAttribute('onfocus');
			myButton.removeAttribute('onmouseover');
			myButton.removeAttribute('onmouseout');		
		}
	}		
}

Event.observe(document,"productPage:ready",iOS8PPPatch);
Event.observe(document,"outfitPage:dataRequest", function() {
	if (document.location.href.indexOf("outfit.do") > 0) {
		var outfitArray = jQuery("div.sProductImage");
		for (i = 0; i < outfitArray.length; i++) {
			outfitArray[i].setAttribute("onclick","outfitPage.moduleToggle("+ i +"); iOS8PPPatch();");
		}
	}
});
if (document.location.href.indexOf("outfit.do") > 0) {
	if(outfitPage){
		if (outfitPage.openOutfit) {
			outfitPage.openOutfit = outfitPage.openOutfit.wrap(function(om,n) {
				om(n);
				iOS8PPPatch();
			});
		}
	}
}

</script>
<!-- End CNOV-123 IOS 8 PP Hover Events Patch -->

<!-- BEGIN Fix for iPad, Safari checkout issue -->
<script type="text/javascript">

if( location.pathname == '/checkout/order.do' ) {
	var wcdIPadSafariCheckoutFixer = function() {
		// Check for iOS 8.3, iPad, and Safari (and not Chrome)
		var userAgent = navigator.userAgent;
		var iOS = parseFloat( ('' + (/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec( userAgent ) || [0,''])[1]).replace('undefined', '3_2').replace('_', '.').replace('_', '') ) || false;
		//console.log('iOS detect = ' + iOS );
		if( iOS.toString().indexOf('8.3') > -1 && userAgent.indexOf('iPad') > -1 && userAgent.indexOf('Safari') > -1 && userAgent.indexOf('Chrome') == -1 ) {
			jQuery('#billingCardNumber').attr('onchange','').attr('onblur','');		

			jQuery('#billingCardNumber').on('change', function () { 
				if( checkout.model.data.modules.registration.guest ) {
					//$('saveCreditCardAsDefault').checked = false;
					jQuery('#saveCreditCardAsDefault').attr('checked',false)
				}
			});
		}
	}
	
	jQuery(document).ready(function(e) {
    wcdIPadSafariCheckoutFixer();
  });
}

</script>
<!-- END Fix for iPad, Safari checkout issue -->

<!-- BEGIN Fix shopping bag link for sem customers - Byung -->
<script type="text/javascript">
	if (location.href.indexOf("sem=true") != -1) {
		Event.observe(document,"updateDomWithPersonalizationData:completed", function () {
			jQuery('#universalInlineBagContainer').find('a').each(function(){
				if (this.href.indexOf('shopping_bag.do') != -1) this.href = "http://" + location.hostname + "/buy/shopping_bag.do";
			});
		});
	}
</script>
<!-- END Fix shopping bag link for sem customers - Byung -->

<!-- BEGIN Fix for Checkout -->
<script type="text/javascript">
if( location.pathname == '/checkout/order.do' ) {
	jQuery(document).ready(function(){
		jQuery('#billingCardNumber').on('change', function () {  
			if (checkout.model.data.modules.registration.guest && !checkout.model.data.modules.registration.visaGuest && !checkout.model.data.modules.shipping.billingSameAsShipping) {
				ccm.billing.view.openBillingAddressEditForm();
				jQuery('#billingAddressRightColReadOnly').hide();
		    }
		});
	});
}
</script>
<!-- END Fix for Checkout -->

<!-- BEGIN nav mode force -->
<script type="text/javascript">
if( location.pathname != '/checkout/order.do' ) {
	jQuery(document).ready(function(e) {
		if( gidLib.getQuerystringParam('osNavForce') == 'a' || gidLib.getQuerystringParam('osNavForce') == 'b' ) {
			var navSeg = gidLib.getQuerystringParam('osNavForce').toUpperCase();
			var cookieParams = gidLib.setCookieParamsHelper("unknownShopperId");
			gidLib.setCookie('ABSegOverride', navSeg + '|A|A|', new Date(gidLib.getFutureDate({years:2})), cookieParams.path, cookieParams.domain, cookieParams.isSecure);			
		}
  });
}
</script>
<!-- END nav mode force -->

<!-- BEGIN: ONESITE2-87 -->
<script type="text/javascript">
if (location.pathname == "/checkout/order.do") {
	jQuery(document).ready(function() {
		jQuery('html').addClass("js");
	});
}
 </script>
<!-- END: ONESITE2-87 -->

<!-- BEGIN disable search in IE9 on product pages -->
<script type="text/javascript">
if( location.pathname == '/browse/product.do' && navigator.userAgent.indexOf('MSIE 9') > -1 ) {
	jQuery(document).ready(function(e) {
		jQuery('div[class~=js-search-component]').remove()
	});
}
</script>
<!-- END disable search in IE9 on product pages -->


<!-- should fix the spinner err due to 'template.match' is not a function error  - provided by Yoshi (1/29/16) -->
<script type="text/javascript">
(function fixTemplateMatch() {
    var oldFillTemplate = gidLib.fillTemplate;
    gidLib.fillTemplate = function(template, object) {
	    template = template.template ? template.template : template;
        return oldFillTemplate(template, object);
	};
})();
</script>

<!-- BEGIN: Fix referrer method -->
<script type="text/javascript">
gidLib.getReferrer = function() {
    return window.referrer || document.referrer
}
</script>
<!-- END: Fix referrer method -->

<!-- BEGIN OneSite cookie setting -->
<script type="text/javascript">
if( location.search.indexOf('osToggle=') > -1 && location.pathname != '/checkout/order.do' ) {
	
var wcdOSToggle = function() {
	jQuery(document).ready(function(e) {
		var osMode = gidLib.getQuerystringParam('osToggle');
		var osToggleFormat = new RegExp(/[ABab]{1}\|[ABab]{1}\|[ABab]{1}\|[ABab]{1}/g);
		if( osToggleFormat.test( osMode ) ) {
			osMode = osMode.toUpperCase();
			if( osMode.substr( osMode.length - 1 ) != '|' ) osMode += '|';
			var cookieParams = gidLib.setCookieParamsHelper("unknownShopperId");
			gidLib.setCookie('ABSegOverride', osMode, new Date(gidLib.getFutureDate({years:2})), cookieParams.path, cookieParams.domain, cookieParams.isSecure);		
		}	
  });
}
wcdOSToggle();

}
</script>
<!-- END OneSite cookie setting -->

<!-- BEGIN Continuity Quick Checkout Override [CNT-561] -->
<script type="text/javascript">
	var wcdVerifyUserForQuickCheckout = function() {
		var userContext = personalizationService.model.personalizationData.personalizationInfoV1.userContext;
		if (userContext) {
			var qcEligible = userContext.isEligibleForQuickCheckout;
			if (qcEligible == "true") {
				s.eVar66 = "verified";
			} else {
				s.eVar66 = "unverified";
			}
		}
	}

	if(window.location.href.indexOf('shopping_bag.do') > -1 || window.location.href.indexOf('checkout/order.do') > -1) {
		personalizationService.api.onPersonalization(function(event) {
			wcdVerifyUserForQuickCheckout();
		});
		jQuery(document).ready(function(){
			jQuery('#leftColumn input').on('focus', function(){
			  var inputId = jQuery(this).attr('id');
			  var exceptionArray = ['billingCardCvvNumber','billingInputPromoRewardCode','billingSummaryInputPromoRewardCode','signInPassword','signInEmailAddress','billingPromoCodeApply','billingContinueButton'];
			  if (jQuery.inArray(inputId, exceptionArray) == -1) {
			  	s.linkTrackVars = 'eVar66';
			  	s.eVar66 = "unverified";
			  	s.tl(this,'o',s.eVar66);
			  }
			});
			jQuery('#leftColumn select').on('focus', function(){
			  var selectId = jQuery(this).attr('id');
			  	s.linkTrackVars = 'eVar66';
			  	s.eVar66 = "unverified";
			  	s.tl(this,'o',s.eVar66);
			});
			jQuery('#placeOrderButton').on('click', function() {
				var userContext = personalizationService.model.personalizationData.personalizationInfoV1.userContext;
				if (userContext) {
					var qcEligible = userContext.isEligibleForQuickCheckout;
					if (qcEligible == "true") {
						s.eVar66 = "verified";
					} else {
						s.eVar66 = "unverified";
					}
				}
			});
		});
	}

	personalizationService.api.onPersonalization(function(event) {
		if (typeof s !== 'undefined' && s !== null && window.location.href.indexOf('shopping_bag.do') == -1 && window.location.href.indexOf('checkout/order.do') == -1) {
			wcdVerifyUserForQuickCheckout();
		}
	});
</script>
<!-- END Continuity Quick Checkout Override [CNT-561] -->
<!--5/2/2016 Begin limit product count on tablet size -->
<script type="text/javascript">
(function($) {
    $(function() {
      $(window).width() < 1025 &&
        gap.FacetFeatureSwitch.setConfig({ pageProductCount: 50 });
      gap.pageProductData && document.fire('productPage:ready');
    });
})(jQuery);
</script>
<!-- End limit product count on tablet size -->
<!-- END Content Item File: /content/0006/131/915/cn6131915.html -->

<!-- END - WCD Sitewide Container 3 -->

<!-- BEGIN - WCD Sitewide Container 4 -->
<!-- BEGIN Content Item File: /content/0010/835/872/cn10835872.html -->


<!-- WCD Product Page overrides -->

<style type="text/css">
#productContentLeft{margin-top:22px; _margin-top:22px; *margin-top:22px;}/*(used to be margin-top:12px -- move product page up*/
#productContentRight{margin-top:22px; _margin-top:22px; *margin-top:22px;}/*(used to be margin-top:12px -- move product page up*/
#productNameText, #productNameText h2, #productNameText h1 {color:#000; padding-left:0px}/*overrides product header shift and color*/

#productContentLeft{margin-top:22px; _margin-top:22px; *margin-top:22px;}/*(used to be margin-top:12px -- move product page up*/
#productContentRight{margin-top:22px; _margin-top:22px; *margin-top:22px;}/*(used to be margin-top:12px -- move product page up*/
#productNameText, #productNameText h2, #productNameText h1 {color:#000; padding-left:0px}/*overrides product header shift and color*/
	
/*font and rule for the sizing box*/
.brand1 #swatchContent input, .brand1 #quickLookSwatches input, .brand1 #shoppingBagEditSwatches input, .brand1 #colorSwatches input, .brand1 #swatchContent button, .brand1 #quickLookSwatches button, .brand1 #shoppingBagEditSwatches button, .brand1 #colorSwatches button, .brand7 #swatchContent input, .brand7 #quickLookSwatches input, .brand7 #shoppingBagEditSwatches input, .brand7 #colorSwatches input, .brand7 #swatchContent button, .brand7 #quickLookSwatches button, .brand7 #shoppingBagEditSwatches button, .brand7 #colorSwatches button, .brand20 #swatchContent input, .brand20 #quickLookSwatches input, .brand20 #shoppingBagEditSwatches input, .brand20 #colorSwatches input, .brand20 #swatchContent button, .brand20 #quickLookSwatches button, .brand20 #shoppingBagEditSwatches button, .brand20 #colorSwatches button {border:1px solid #666; color:#333;}
		
/*product images keyline to white */
.brand7 .imgDiv {background-color:white; border:1px solid #FFFFFF;}
	
/*add to bag segment*/
#addToBagContent {background-color:#ccc;}
#quantityContent label {color:#fff; font-weight:bold;}
#selectionConfirmText {color:#fff; font-weight:bold;}
#priceText {color:#000;}
		
/*about this product segment*/
#tabWindow {background-color:#fff;}
.copyBlock {color:#000; font-weight:bold;}
#tabWindow ul {color:#000;}
		
/* Brand Buttons Override (product page/quick look popup */
.brand1 img.sprite-button_more_views, .brand7 img.sprite-button_more_views, .brand20 img.sprite-button_more_views {background:url("/Asset_Archive/GPWeb/content/0002/444/380/brand_buttons_and_assets_sprite.gif"); background-position: 0 -936px; width: 72px; height: 16px; } /*View Larger button on Quick Look popup*/ 
.brand1 #imageTools #moreViewsBtn, .brand1 #moduleProductImageTools #moreViewsBtn{background-image:url("/Asset_Archive/GPWeb/content/0002/444/380/brand_buttons_and_assets_sprite.gif"); background-position: 0 -936px; width: 72px; height: 16px; margin-left:10px; }
.brand1 #imageTools .over{background-image:url("/Asset_Archive/GPWeb/content/0002/444/380/brand_buttons_and_assets_sprite.gif"); background-position: 0 -1697px; width: 103px; height: 11px;}
.brand1 #imageTools .out{background-image:url("/Asset_Archive/GPWeb/content/0002/444/380/brand_buttons_and_assets_sprite.gif"); background-position: 0 -1636px; width: 115px; height: 11px;} 

/*Image Thumbs key line*/
.brand1 .thumbs, .brand7 .thumbs, .brand20 .thumbs {border-color:#999;}	
.brand1 .thumbSelected, .brand7 .thumbSelected, .brand20 .thumbSelected {border-color:#999;}
	
/*Out Of Stock Button Placement*/
.brand1 .sprite-button_add_to_bag_out, .brand7 .sprite-button_add_to_bag_out, .brand20 .sprite-button_add_to_bag_out {background:url("/Asset_Archive/GPWeb/content/0002/444/380/brand_buttons_and_assets_sprite.gif");background-position:0 -799px; float: right; height:20px; margin-top:5px; width:73px;}

/*QL SIZE CHARTS BUTTON PLCEMENT*/
.brand1 .quicklook-sprites, .brand7 .quicklook-sprites, .brand20 .quicklook-sprites {
	background: url("/Asset_Archive/GPWeb/content/0002/444/380/brand_buttons_and_assets_sprite.gif");background-position: 0 -1283px; width:63px; height:20px;}
	
/* BEGIN: ADD TO BAG STATES - black for on state, grey for off state JP 11/26/12 */	
.brand1 input.sprite-button_add_to_bag_off, .brand7 input.sprite-button_add_to_bag_off, .brand20 input.sprite-button_add_to_bag_off {
	background: url("/Asset_Archive/GPWeb/content/0002/444/380/brand_buttons_and_assets_sprite.gif") repeat scroll 0 -732px transparent;
	height: 17px;
	width: 72px;
}
.brand1 input.sprite-button_add_to_bag_on, .brand1 input.sprite-button_add_to_bag_over, .brand7 input.sprite-button_add_to_bag_on, .brand7 input.sprite-button_add_to_bag_over, .brand20 input.sprite-button_add_to_bag_on, .brand20 input.sprite-button_add_to_bag_over {
	background: url("/Asset_Archive/GPWeb/content/0002/444/380/brand_buttons_and_assets_sprite.gif") repeat scroll 0 -665px transparent;
	height: 17px;
	width: 72px;
}

/* Ship/return marketing */
#newTabWindow { border:1px #c1c1c1 solid; border-top:0; font-size: 11px; margin: 0; padding: 1px 10px 10px; width: 308px; color:#000;}
#newTabWindow .italCopy {font-size:9px;font-style:italic;}
#newTabWindow ul { color:#666; font-size:10px; list-style-type:disc; margin-bottom:10px; padding:0; }
#newTabWindow li { margin-left:20px; }

/* PRODUCT PAGE MAIN CONTENT */
.mainContentWrapper {float:left;padding-top:12px;margin-top:0px;}
#productNameText, #productNameText h2, #productNameText h1 {color:#363636;font-family:arial,verdana,sans-serif;font-size:16px;line-height:14px;}
.productMarketingFlag {color:#707070;}

/* REVIEW SUMMARY BOX */
.brand10 #reviewSummaryHeaderGID {background-color:#B3B1AF;color:#FFFFFF;font-size:10px;padding:3px;text-align:center;}
#reviewSummary {color:#333333;font-size:10px;font-weight:normal;line-height:15px;}
#reviewSummary #reviewSummaryData #averageOverallRating {background-color:#F2F1F0;height:28px;padding:6px;}
#reviewSummary #reviewSummaryData #averageOverallRating #totalReviewCount {color:#363636;height:14px;text-align:center;}
#reviewSummary #reviewSummaryData .reviewSummaryFitTitle {color:#707070;float:left;font-weight:normal;text-align:right;width:72px;}
#reviewSummaryTagTitleActivities {color:#363636;}
#reviewSummary #reviewSummaryData #reviewLinks {border-top:1px solid #dddddd;margin:10px 20px;padding:10px 10px 5px;text-align:center;}
#reviewSummary a {color:#91278F;}

/* Social Media Link Styles - ADDED 06/01/2016 */
.social-links {
	text-align: left;
}
.social-links #pinItDiv {
	margin-left: 105px;
}
</style>

<!-- BEGIN override to fix pixman data populating on product pages in IE -->
<script type="text/javascript">
if( location.pathname == "/browse/product.do" && window["pixelManagementService"] != null ) {
	pixelManagementService.controller.metricsLibraryManager.setMetricsLibrary = pixelManagementService.controller.metricsLibraryManager.setMetricsLibrary.wrap( function( om ) {
		om();
		jQuery(document).trigger('productPagePixMan:ready');
	});
}
</script>
<!-- END override to fix pixman data populating on product pages in IE -->

<!-- BEGIN product page ship/return info insert -->
<script type="text/javascript">
if( location.pathname == "/browse/product.do" && window["productPage"] != null ) {
	
var wcdProductPageShipReturnInserter = {
	init: function() {
		var prodType = 'general';
		if( jQuery('#productMailOnlyReturn').display != 'none' ) { prodType = "generalExclusive"; }
		else if( jQuery('#productFreeReturn').display != 'none' ) { prodType = "selectExclusive"; }
		
		var shipReturnContent = '<div class="copyBlock">Shipping  *</div><ul><li>7-9 business days - FREE Every Day ($50 min)</li><li>4-5 business days - $8.00</li><li>2 business days - $17.00</li><li>1 business day  - $22.00</li></ul><div class="copyBlock">Returns and Exchanges</div><ul><li>FREE returns (to stores or by mail)</li><li>FREE exchanges</li></ul>* <a href="javascript:void(0)" onclick="return wcdProductPageShipReturnInserter.openPopAndSendToOmni()">Learn More</a>';
		
		var newTabWindowDiv = '<div id="newTabWindow">' + shipReturnContent + '</div>';
		if( jQuery('#tabWindow').length > 0 && jQuery('#newTabWindow').length == 0 ) {
			jQuery('#tabWindow').after( newTabWindowDiv );
		}
	},
	
	sendToOmni: function( elt, eventName ) {
		s.tl( elt , 'o', eventName);
	},
	
	openPopAndSendToOmni: function() {
		wcdProductPageShipReturnInserter.sendToOmni( 'shippingReturn', 'Product Page Shipping & Return' );
		return gidLib.layeredPopup.openLayeredPopup({str:'/customerService/info.do?cid=2019',id:'shippingOptions',width:398,height:265,style:{name:'universalPopup'}});
	}
}

jQuery(document).on('productPage:ready', function() {
	var currentPID = gidLib.getQuerystringParam('pid');
	currentPID = currentPID.substr(0,6);
	// Here's where you check specific product ID, change this to whatever you want to exclude
	if( currentPID != '000166') {   
		wcdProductPageShipReturnInserter.init();
	}
});
	
}
</script>
<!-- END product page ship/return info insert -->

<!-- BEGIN REVIEWS 2.0 CSS OVERRIDES -->
<script type="text/javascript">
if( location.pathname == "/browse/product.do" && window["productPage"] != null ) {

var reviews2Flag = {
	productPageLoaded: false, 
	init: function() {
		//Add "Ratings" to the number of ratings in the top widget
		//"Rating" for 1 rating
		//"Ratings" for 0 or more than 1 rating
		//Do not fire if there is already a "Rating" string after # of reviews
		if( jQuery(".bv-rating-ratio-count:contains('Rating')").length < 1 ) {
			if( parseInt(jQuery( "[itemprop='reviewCount']" ).html()) === 1 ) {
				jQuery( "[itemprop='reviewCount']" ).append(' Rating');
			}
			else{
				jQuery( "[itemprop='reviewCount']" ).append(' Ratings');
			}

			//Remove border on the top widget
			jQuery(".bv-primarySummary-rating-container").attr('style', 'border-style: none !important;')

			//Remove fit review sliders
			jQuery(".bv-content-details-container").attr('style', 'display: none !important;');			

			//Remove number next to "Overall" rating sliders
			jQuery(".bv-secondary-rating-summary-rating").attr('style', 'display: none !important;');

			//Flush out review content across the review container
			jQuery(".bv-content-details-offset-on, .bv-content-details-offset-off").attr('style', 'width: 100% !important;left: 10px !important; position: relative !important;');

			//Align the author's name
			jQuery(".bv-author-location span").attr('style', 'position: relative !important; left: 5px !important;');

			//Reduce size of "Write a Review" button at the very top widget
			jQuery(".bv-prs-container .bv-submission-button").attr('style', 'font-size: 11px !important; padding: 0 0 10px !important;');

			//Remove borders on left-hand side individual reviews
			jQuery(".bv-author-userstats").attr('style', 'border-style: none !important;left: 3px !important;margin: 5px 7px !important;position: relative !important;');

			//Decrease width of left-hand side "Votes" data label
			jQuery(".bv-author-userstats-votes").attr('style', 'width: 50px !important;');
		}
	}
}

jQuery(document).on('productPage:ready', function() {
	if( reviews2Flag.productPageLoaded == false ){
		reviews2Flag.productPageLoaded = true;
		reviews2Flag.init.delay(3);
	}
});

//Swatch Change
productPage.setColor = productPage.setColor.wrap( function(om, i) {
	om(i);
	reviews2Flag.init.delay(1.5);
});

//Size Change
productPage.setSizeDimension1 = productPage.setSizeDimension1.wrap( function(om, i) {
	om(i);
	reviews2Flag.init();
});

//Size Change
productPage.setSizeDimension2 = productPage.setSizeDimension2.wrap( function(om, i) {
	om(i);
	reviews2Flag.init();
});

}
</script>
<!-- END REVIEWS 2.0 CSS OVERRIDES -->

<!--  7/14 product review override sort 'Most Recent' -->
<script type="text/javascript">
if( location.pathname == "/browse/product.do" && window["productReviewService"] != undefined ){
	productReviewService.constants.productReview.MOST_RECENT_SORT_ORDER = true;
}
</script>
<!--  end 7/14 product review override -->

<!-- BEGIN Suppress Find-In-Store on Gift Card -->
<script type="text/javascript">
if (location.pathname == "/browse/product.do" && window["productPage"] != null ) {
	jQuery(document).on('productPage:ready', function() {
		if( location.href.indexOf("000166") > -1 ){
			jQuery('findInStoreTabWindow').hide();
		}
	});
}
</script>
<!-- END Suppress Find-In-Store on Gift Card -->

<!-- BEGIN FB Like button - ADDED 06/01/2016 -->
<script type="text/javascript">
	// Facebook like button
	if( location.pathname == '/browse/product.do' && navigator.userAgent.indexOf("MSIE 8") == -1 && navigator.userAgent.indexOf("MSIE 9") == -1 ) {
		var fbProductPageLikeButton = {
			initialize: function() { },
			model: {
				searchDexPageStructure: 'http%3A%2F%2Fwww.gapcanada.ca%2Fproducts%2F'
			},
			controller: {
				init: function() {
					var model = fbProductPageLikeButton.model;
					if (jQuery('.social-links').length !== 0 && jQuery('#fb_like').length == 0) {
						var productName = escape('P' + s.prop1 + '.jsp?tid=atsm000000');

						jQuery('.social-links').append('<div id="fb_like" style="margin-top:7px"><iframe src="https://www.facebook.com/plugins/like.php?href=' + model.searchDexPageStructure + productName + '&send=false&layout=button_count&width=100&show_faces=false&action=like&colorscheme=light&font&height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:100px; height:21px" allowTransparency="true"></iframe></div>');

					} else if(window["productPage"] && jQuery('#fb_like').length == 0 && productPage.productId ) {
						var model = fbProductPageLikeButton.model;

						var productName = escape('P' + productPage.productId + '.jsp?tid=atsm000000');
						
						jQuery('#variantButtons').before('<div id="fb_like" style="margin-top:7px"><iframe src="https://www.facebook.com/plugins/like.php?href=' + model.searchDexPageStructure + productName + '&send=false&layout=button_count&width=330&show_faces=false&action=like&colorscheme=light&font&height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:330px; height:21px" allowTransparency="true"></iframe></div>');
					}
				}
			}
		}

		jQuery(document).ready(function(){
			if (jQuery('body').hasClass('onesiteProdPage')) {
				fbProductPageLikeButton.controller.init();
			}
		});
		
		jQuery(document).on('productPage:ready', function(e) {
			fbProductPageLikeButton.controller.init();
		});
	}
</script>
<!-- END FB Like button -->

<!-- BEGIN - WCD "Pin" button insert - ADDED 06/01/2016 -->
<script type="text/javascript">
	if( location.pathname == "/browse/product.do" && navigator.userAgent.indexOf("MSIE 8") == -1 && navigator.userAgent.indexOf("MSIE 9") == -1  ) {	

		var wcdPinItButtonInsert = {
			pinItStr: '',
			pinItDiv: '',
			pinDesc: '',
			pinMedia: '',
			pinURL: '',
			pinItDivStr: '',
			pinItProductID: '',
			pinItProductIDImgPath:'',
			
			
			insert_pinIt_Btn : function() {
				if( jQuery('#fb_like').length > 0 && jQuery('#pinItDiv').length == 0 ) {
					// Onesite Segment B Styles
					if (jQuery('body').hasClass('onesiteProdPage')) {
						jQuery("#fb_like").css({ "margin-left" : "5px", "overflow" : " hidden", "width" : "100px", "margin-top" : "-24px"});
					} else {
						jQuery("#fb_like").css({ "margin-left" : "45px", "overflow" : " hidden", "width" : "200px", "margin-top" : "-22px"});
					}
					
					wcdPinItButtonInsert.pinURL = encodeURIComponent(window.location.href + '&tid=gpsm000137');

					if (window["productPage"]) {
						//Set Path for the Image To Pin
						wcdPinItButtonInsert.pinItProductID = productPage.objV.arrayVariantStyleColors[productPage.selectedColor].strColorCodeId;
						wcdPinItButtonInsert.pinItProductIDImgPath = "https://secure-www.gapcanada.ca/Asset_Archive/GPWeb/AUTO/p/" + wcdPinItButtonInsert.pinItProductID.substr(0,2) + "/" + wcdPinItButtonInsert.pinItProductID.substr(2,2) + "/" + wcdPinItButtonInsert.pinItProductID.substr(4,2) + "/gap_" + wcdPinItButtonInsert.pinItProductID + ".jpg";
						wcdPinItButtonInsert.pinMedia = encodeURIComponent( wcdPinItButtonInsert.pinItProductIDImgPath);
						
					} else if (gap.pageProductData !== undefined) {
						//Set Path for the Image To Pin
						wcdPinItButtonInsert.pinItProductIDImgPath = "https://secure-www.gapcanada.ca" + gap.pageProductData.currentColorMainImage;
						wcdPinItButtonInsert.pinMedia = encodeURIComponent( wcdPinItButtonInsert.pinItProductIDImgPath);
					}
					if( jQuery('#productNameText').length > 0 ) {
						wcdPinItButtonInsert.pinDesc = jQuery('.productName').html();
					}
					if (jQuery('.description').length > 0){
						if (jQuery('.description').html() != ''){
							wcdPinItButtonInsert.pinDesc = wcdPinItButtonInsert.pinDesc + ' - ' + jQuery('.description').html();
						}		
					}
					wcdPinItButtonInsert.pinDesc = encodeURIComponent(wcdPinItButtonInsert.pinDesc);
					wcdPinItButtonInsert.pinDesc = wcdPinItButtonInsert.pinDesc.replace("'","");
					
					wcdPinItButtonInsert.pinItStr = 'https://pinterest.com/pin/create/button/?url=' + wcdPinItButtonInsert.pinURL + '&media=' + wcdPinItButtonInsert.pinMedia + '&description=' + wcdPinItButtonInsert.pinDesc;
				
					jQuery('#fb_like').before('<div id="pinItDiv"><a href="javascript:void(0);" onclick="window.open(\'' + wcdPinItButtonInsert.pinItStr + '\',\'pinIt\',\'toolbar=0,status=0,width=620,height=500\');"><img src="/Asset_Archive/ATWeb/content/0006/555/712/assets/builder_pinit.png" /></a></div>');
					jQuery('#colorSwatchContent').on('click', function(e) { wcdPinItButtonInsert.updatePinIt(); });
					jQuery('#pinItDiv').on('click', function(e) { wcdPinItButtonInsert.pinItTracking(); });
				}
			},
			
			updatePinIt : function() {
				wcdPinItButtonInsert.pinURL = window.location.href;
				if (window["productPage"]) {
					if (wcdPinItButtonInsert.pinURL.indexOf("pid=") > 0){

						wcdPinItButtonInsert.pinURL = wcdPinItButtonInsert.pinURL.substring(0,wcdPinItButtonInsert.pinURL.indexOf("pid=") + 4);
						wcdPinItButtonInsert.pinURL = wcdPinItButtonInsert.pinURL + productPage.objV.arrayVariantStyleColors[productPage.selectedColor].strColorCodeId;
					}
				}
				
				wcdPinItButtonInsert.pinURL = encodeURIComponent( wcdPinItButtonInsert.pinURL + '&tid=gpsm000137');
				
				//Set Path for the Image To Pin
				if (window["productPage"]) {
					wcdPinItButtonInsert.pinItProductID = productPage.objV.arrayVariantStyleColors[productPage.selectedColor].strColorCodeId;
					//wcdPinItButtonInsert.pinItProductIDImgPath = "https://secure-www.gap.com/resources/productImage/v1/" + wcdPinItButtonInsert.pinItProductID + "/VLI";
					wcdPinItButtonInsert.pinItProductIDImgPath = "https://secure-www.gapcanada.ca/Asset_Archive/GPWeb/AUTO/p/" + wcdPinItButtonInsert.pinItProductID.substr(0,2) + "/" + wcdPinItButtonInsert.pinItProductID.substr(2,2) + "/" + wcdPinItButtonInsert.pinItProductID.substr(4,2) + "/gap_" + wcdPinItButtonInsert.pinItProductID + ".jpg";
				} else if (gap.pageProductData !== undefined) {
					wcdPinItButtonInsert.pinItProductIDImgPath = "https://secure-www.gapcanada.ca" + gap.pageProductData.currentColorMainImage;
				}
					wcdPinItButtonInsert.pinMedia = encodeURIComponent( wcdPinItButtonInsert.pinItProductIDImgPath);
				
				if( jQuery('#productNameText').length > 0 ) {
					wcdPinItButtonInsert.pinDesc = jQuery('.productName').html();
				}
				if (jQuery('.description').length > 0){
					if (jQuery('.description').html() != ''){
						wcdPinItButtonInsert.pinDesc = wcdPinItButtonInsert.pinDesc + ' - ' + jQuery('.description').html();
					}		
				}
				wcdPinItButtonInsert.pinDesc = encodeURIComponent(wcdPinItButtonInsert.pinDesc);
				wcdPinItButtonInsert.pinDesc = wcdPinItButtonInsert.pinDesc.replace("'","");
				wcdPinItButtonInsert.pinItStr = 'https://pinterest.com/pin/create/button/?url=' + wcdPinItButtonInsert.pinURL + '&media=' + wcdPinItButtonInsert.pinMedia + '&description=' + wcdPinItButtonInsert.pinDesc;
		
				jQuery('#pinItDiv').html('<a href="javascript:void(0);" onclick="window.open(\'' + wcdPinItButtonInsert.pinItStr + '\',\'pinIt\',\'toolbar=0,status=0,width=620,height=500\');"><img src="/Asset_Archive/ATWeb/content/0006/555/712/assets/builder_pinit.png" /></a>');
		
			},
			
			pinItTracking: function() {
				s.linkTrackVars='eVar6';
				if( brandConst.BRAND_ID == 'AT' ) { s.eVar6='ATOLPin'; }
				else if( brandConst.BRAND_ID == 'GP' ) { s.eVar6='GOLPin'; }
				else if( brandConst.BRAND_ID == 'PL' ) { s.eVar6='PLOLPin'; }
				else if( brandConst.BRAND_ID == 'BR' ) { s.eVar6='BROLPin'; }
				else if( brandConst.BRAND_ID == 'ON' ) { s.eVar6='ONOLPin'; }
				else { s.eVar6='unknownPin'; }
				s.tl(this,'o',s.eVar6);
				return true; 
			}
		}
		
		jQuery(document).ready(function(){
			if (jQuery('body').hasClass('onesiteProdPage')) {
				wcdPinItButtonInsert.insert_pinIt_Btn();
			}
		});
		jQuery(document).on('productPage:ready', function(){
			wcdPinItButtonInsert.insert_pinIt_Btn();
		});
	}	

	// Out-of-stock page redirect code
	var closedURL = document.location.href;
	// check to see if on store closed page
	if( closedURL.indexOf('store-closed') > -1 || closedURL.indexOf('OutOfStockNoResults') > -1 ) {
		var pinRef = document.referrer;
		// check to see if referred from Pinterest
		if( pinRef.indexOf('pinterest.com') > -1 ) {
			// if so, redirect to brand homepage
			var newURL = 'http://' + document.location.host;
			window.location = newURL;
		}
	}
</script>
<!-- END - WCD "Pin" button insert -->

<!-- END Content Item File: /content/0010/835/872/cn10835872.html -->

<!-- END - WCD Sitewide Container 4 -->

<!-- BEGIN - WCD Sitewide Container 5 -->
<!-- BEGIN Content Item File: /content/0010/918/481/cn10918481.html -->

<style type="text/css">
.vidThumb {background-size: contain;overflow: hidden;position: relative}
.vidThumbA {background-size: contain;overflow: hidden;position: relative}
.position-absolute { position:absolute; left:0px; top:0px; }
#prodVidLG {display: block;position: absolute;visibility: hidden}
#prodVidLGA {display: block;position: absolute;visibility: visible}
.vidhid {visibility: hidden}
div#product_image_bg video {width: 260px}
div#vidTrigger {display:inline-block !important;}
.prodCc {color:#C00;}
</style>
<!--[if lt IE 9 ]>
<script>
var is_ie_lt9 = true;
</script>
<![endif]-->

<script type="text/javascript" async="" src="/Asset_Archive/GPWeb/content/0010/918/481/video.js"></script>

<!-- END Content Item File: /content/0010/918/481/cn10918481.html -->

<!-- END - WCD Sitewide Container 5 -->

<!-- BEGIN - WCD Sitewide Container 6 -->
<!-- BEGIN Content Item File: /content/0011/733/514/cn11733514.html -->


<!-- BEGIN: contentOverride116 -- GOL Department Facet Suppression-->
<script type="text/javascript">
	if( location.pathname == "/browse/category.do" || location.pathname == "/browse/categorySearch.do" ) {

		var defaultDeptFacetnator = {
			displayDeptFacet : false,
			deptFacetId : null,
			
			// Women's categories
			womenCategoriesHideFacet: new Array(),
			// Men's categories
			menCategoriesHideFacet: new Array(),
			// Girls categories
			girlsCategoriesHideFacet: new Array(),
			// Boy's categories
			boysCategoriesHideFacet: new Array(),
			// Toddler/Infant Girl categories
			tgirlCategoriesHideFacet: new Array('89316', '84674', '88938', '89355', '88847', '84678', '84677', '84675', '84673', '82562', '80374', '80378', '8781', '8777', '7190', '7189', '7191', '7206', '80900', '76748', '84670', '82560', '65208', '83376', '83390', '91808', '8772', '14249', '7189', '6445', '35855', '6437', '7190', '7191', '6428', '95546', '35362', '7206', '76748', '94049', '96852', '97106', '97331', '97330', '8772', '98248', '63863', '83393', '17846', '76918', '6465', '95549', '94859', '95548', '8780', '14249', '7189', '6445', '6437', '7190', '7191', '6428', '95549', '95548', '7206', '76748', '99418', '65263', '1002329', '6468', '1003041', '1001377', '1002448', '1002327', '1002328', '1003222', '1004642', '1004813', '1004952', '1005187', '1005471', '6444', '1005611', '1007162', '1007812', '1007167', '1007813', '1009613', '1009995', '1010286', '1010288', '1010289', '8770', '1009184', '1001152', '1002438', '1002436', '1002260', '1009219', '1005882', '1010401', '1009995', '1012349', '1011291', '1012528', '6437', '1013351', '1012927', '1013119', '1013655', '1013706', '1014074', '1014075', '1013451', '1014067', '1014078', '1014421', '1014420', '1014400', '1014399', '1008573', '1012762', '1014074', '1015833', '1016096', '1016098', '1016106', '1016107', '1016108', '1016109', '1016110', '1016111', '1016169', '1016138', '1005882', '1012762', '1016235', '6444', '1016086', '1016789', '1016792', '10008573', '1014604', '1017039', '1017041', '1017043', '1017044', '1017045', '1017311', '1017312', '1012349', '1012352', '1017633', '1018764', '1018766', '1019023', '1019061', '1019412', '1019476', '1019477', '1019461', '1019412', '1019476', '1019477', '1019461', '1019954', '1019983', '1020002', '1020007', '1020008', '1020287', '1020347', '1020356', '1020361', '1020567', '1020568', '1020190', '1020990', '1021001', '1021002', '1021051', '1021053', '1021367', '1021369', '1021370', '1021373', '1021375', '1021476', '1021477', '1021492', '1021493', '1022099', '1021323', '1022245', '1022246', '1022247', '1022248', '1022249', '1025035', '1025036', '1025037', '1025038', '1025039', '1025247', '1025248', '1025249', '1025250', '1025251', '1025252', '1025253', '1025254', '1025265', '1025632', '1025633', '1026347', '1026348', '1026349', '1026350', '1026351', '1026352', '1027169', '1027170', '1027171', '1027172', '1027173', '1027174', '1027175', '1027176', '1027216', '1027217', '1027218', '1028580', '1028581', '1028582', '1028583', '1028584', '1029107', '1029826', '1029827', '1029828', '1029829', '1029830', '1029831', '1029832', '1031545', '1031658', '1031659', '1031660', '1031661', '1031662', '1030946', '1031428', '1032065',	 '1030087',	 '1032232', '1032668', '1032669', '1032670', '1032671', '1032672', '1032673', '1032795', '1033864', '1033898', '1033899', '1033900', '1033901', '1033902', '1034157', '1034574', '1034575', '1034576', '1034577', '1025264', '1035354', '1035356', '1035357', '1035358', '1035359', '1035360', '1036382', '1036383', '1036384', '1036385', '1036386', '1036387', '1036388', '1036389', '1036390', '1038339', '1038340', '1038341', '1038342', '1038649', '1038650', '1038651', '1038652', '1038654', '1039453', '1039454', '1039455', '1039456', '1039457', '1039458', '1039459', '1039460', '1039462', '1039463', '1039464', '1039887', '1040225', '1040226', '1040227', '1040992', '1040993', '1042482', '1042494', '1042497', '1042499', '1042501', '1042504', '1042505', '1042506', '1042507', '6436', '12378', '1043215', '1043216', '1043900', '1043901', '1043902', '1043903', '1043904', '1043905', '1044470', '1044471', '1044472', '1044473', '1044474', '1045037', '1045041', '1045043', '1045044', '1045184', '1045185', '6427', '1046325', '1046327', '1046328', '1046853', '1046855', '1046857', '1046858', '1046859', '1046546', '1047550', '1047551', '1048102', '1048104', '1048105', '1048106', '1048107', '1048108', '1048478', '1048792', '1048793', '1048794', '1048795', '1048796', '1048797', '1049374', '1049375', '1016150', '1050160', '1050162', '1050163', '1050164', '1050165', '1050166', '1050167', '1050168', '1050917', '1050918', '1050919', '1050920', '1051452', '1051453', '1051455', '1051456', '1051457', '1051863', '1051864', '1051865', '1051866', '1052338', '1052340', '1052763', '1052764', '1052765', '1052766', '1053295', '1053296', '1053297', '1053298', '1053767', '1053768', '1054313', '1054314', '1054315', '1054317', '1054995', '1054996', '1055505', '1055506', '1055507', '1055508', '1056026', '1056027', '1056545', '1056546', '1056568', '1056569', '1056570', '1056571', '1057112', '1057113', '1057738', '1057739', '1057845', '1057847', '1058238', '1058239', '1058240', '1058620', '1058621', '1059191', '1059193', '1059194', '1059195', '1059828', '1059829', '1060408', '1060409', '1060842', '1060843', '1060844', '1060845'),
			// Toddler/Infant Boy categories
			tboyCategoriesHideFacet : new Array('89335', '84830', '89903', '88920', '89697', '8777', '7142', '7139', '78580', '17851', '83376', '7185', '80899', '76754', '84825', '82569', '65261', '89354', '88850', '84834', '84833', '84828', '82572', '8788', '91809', '95575', '95598', '95496', '95679', '95682', '95684', '95689', '95692', '95693', '95697', '93306', '93305', '93304', '95184', '91491', '95445', '91808', '82562', '84674', '89902', '95423', '96857', '97105', '96457', '93308', '97332', '97324', '93309', '97795', '97792', '97798', '97801', '97804', '8788', '98250', '70127', '63897', '77431', '17850', '76759', '6392', '95691', '98248', '99403', '95575', '95598', '95496', '95679', '95682', '95691', '95690', '95693', '95697', '99426', '95690', '94883', '1002430', '1002256', '1002440', '1002445', '1001459', '1002692', '1002230', '1002337', '1003472', '1003341', '1003223', '1002339', '1002449', '1001385', '1002338', '1002339', '1004898', '1004822', '1004947', '1004955', '1005183', '1005188', '1005561', '1000656', '1000638', '1005649', '1005946', '1005933', '1005763', '65236', '1007164', '1007814', '1002430', '1009612', '1009614', '1009996', '1010126', '1010127', '1009993', '1009994', '1009996', '1010128', '1010287', '1010290', '1009218', '1005883', '1010419', '8787', '9175', '1011148', '1011147', '1011151', '1011194', '1002438', '1002260', '1012105', '1012439', '1011292', '1012992', '1013109', '1012527', '1013110', '1013353', '1012931', '1013120', '1013121', '1013654', '1013707', '1014056', '1014076', '1014077', '1013452', '1014069', '1014096', '1014097', '1014098', '1014037', '1014027', '1014026', '1014040', '1014068', '1014086', '1014251', '1014066', '1014079', '1014080', '1014094', '1014081', '1014274', '1014402', '1014401', '1012352', '1014076', '1012770', '1013793', '1015386', '1015834', '49693', '1015466', '1016026', '1016237', '12384', '1016006', '1016312', '1015386', '1016085', '1016315', '1016088', '1016446', '1016566', '1016313', '1016335', '6359', '1017007', '1017025', '1017038', '1017488', '1011273', '1017907', '1018540', '1018628', '1018547', '1018629', '1014073', '1018879', '1019066', '1019413', '1019419', '1019655', '1019866', '1019995', '1020003', '1020006', '1019721', '1020316', '1020352', '1020901', '1020902', '1020904', '1021623', '1021624', '1021722', '1022102', '1022116', '1022117', '1022119', '1022120', '1022274', '1020982', '1022686', '1022687', '1023127', '1023130', '1023131', '1023132', '1023133', '1024741', '1024744', '1024745', '1024746', '1024747', '1020366', '1025302', '1025303', '1025304', '1025305', '1025306', '1025307', '1025308', '1025309', '1025312', '1026009', '1026007', '1026006', '1026747', '1027200', '1027205', '1027204', '1027201', '1027203', '1027202', '1027206', '1027219', '1027220', '1027221', '1027015', '1027017', '1027018', '1027019', '1027020', '1027022', '1027023', '1027024', '1027584', '1027586', '1027587', '1027710', '1027711', '1027025', '1028535', '1028585', '1028586', '1028587', '1028588', '1028589', '1028936', '1028938', '1029391', '1029411', '1030085', '1030084', '1030086', '1030087', '1030088', '1031178', '1031179', '1031476', '1031479', '1031480', '1031481', '1031482', '1031740', '1031741', '1031742', '1031743', '1030315', '1031406', '1031407', '1031420', '1031425', '1030321', '1032228', '1032354', '1032355', '1032356', '1032357', '1034167', '1034168', '1034169', '1034263', '1034264', '1002140', '1035680', '1035993', '1035994', '1035995', '1035996', '1038333', '1038334', '1038335', '1038336', '1038337', '1038338', '1039013', '1039040', '1039041', '1039042', '1039051', '1039052', '1039885', '1039922', '1039923', '1039924', '1039925', '1039926', '1039927', '1035926', '1035935', '70949', '1040972', '1040973', '1041105', '1041106', '1041107', '1041108', '1041110', '1041111', '92495', '1041585', '1041586', '1041587', '1041588', '1042328', '1042334', '1042337', '1042339', '1042341', '1042343', '1042346', '1042349', '1042341', '1042353', '1042357', '1041532', '1041533', '1044106', '1044105', '1044369', '1044367', '1044561', '1044563', '1045186', '1045188', '1045965', '1045964', '1046528', '1047206', '1047207', '1047209', '1047210', '1046545', '1047632', '1047633', '1047634', '1047635', '1048475', '1046899', '1046901', '1048887', '1048888', '1048889', '1048890', '1048891', '1048892', '1049759', '1050704', '1050706', '1051908', '1051909', '1051910', '1051911', '1051912', '1051913', '1044549', '1052702', '1052703', '1044550', '1052881', '1052883', '1052884', '1052885', '1052886', '1052887', '1055115', '1055116', '1055117', '1055118', '1055119', '1055120', '1055682', '1055683', '1055687', '1055688', '1056156', '1056157', '1056158', '1056159', '1057918', '1057919', '1057920', '1057921', '1058312', '1058311', '1059842', '1059843', '1059844', '1059845', '1059846', '1059847', '1059900', '1059901', '1059902', '1059903'),                                                                                                                                                                                                        
			processCategoryLists : function() {
				var findIterator = gidLib.getQuerystringParam('cid');

				var deptChannelName = '';
				if( window["reportingService"] != null && reportingService.controller && reportingService.controller.viewManagers && reportingService.controller.viewManagers.commonViewManager && reportingService.controller.viewManagers.commonViewManager.model && reportingService.controller.viewManagers.commonViewManager.model.commonChannelName ) {
					deptChannelName = reportingService.controller.viewManagers.commonViewManager.model.commonChannelName;
				};
				// Gap Girls & Boys
				var subdeptChannelNameString = '';
				if( window["reportingService"] != null && reportingService.controller && reportingService.controller.viewManagers && reportingService.controller.viewManagers.commonViewManager && reportingService.controller.viewManagers.commonViewManager.model && reportingService.controller.viewManagers.commonViewManager.model.commonCurrentPageName ) {
					subdeptChannelNameString = reportingService.controller.viewManagers.commonViewManager.model.commonCurrentPageName;
				}
				
				var deptChannel_Girls = false;
				var deptChannel_Boys = false;
				if( subdeptChannelNameString != '' ) {
					deptChannel_Girls = subdeptChannelNameString.indexOf("Girls") > -1;
					deptChannel_Boys = subdeptChannelNameString.indexOf("Boys") > -1;
				}
				
				if( window.location.search.indexOf('cid=1029308') > -1 ) {
					if( jQuery.inArray( findIterator, defaultDeptFacetnator.womenCategoriesHideFacet ) > -1 || deptChannelName == 'Women' ) {
						defaultDeptFacetnator.deptFacetId = "136";
					}
				}
				
				if( window.location.search.indexOf('cid=1029311') > -1 ) {
					if( jQuery.inArray( findIterator, defaultDeptFacetnator.menCategoriesHideFacet ) > -1 || deptChannelName == 'Men' ) {
						defaultDeptFacetnator.deptFacetId = "75";
					}
				}

				if( jQuery.inArray( findIterator, defaultDeptFacetnator.girlsCategoriesHideFacet ) > -1 || deptChannel_Girls == true ) {
					defaultDeptFacetnator.deptFacetId = "48";
				}

				if( jQuery.inArray( findIterator, defaultDeptFacetnator.boysCategoriesHideFacet ) > -1 || deptChannel_Boys == true ) {
					defaultDeptFacetnator.deptFacetId = "16";
				}

				if( jQuery.inArray( findIterator, defaultDeptFacetnator.tgirlCategoriesHideFacet ) > -1 ) {
					defaultDeptFacetnator.deptFacetId = "165";
				}

				if( jQuery.inArray( findIterator, defaultDeptFacetnator.tboyCategoriesHideFacet ) > -1 ) {
					defaultDeptFacetnator.deptFacetId = "166";
				}
			},
			modifyDomElements : function() {
				// if the department facet does not exist in the UI, do nothing
				if( jQuery('#facet_department').length > 0 ) {
					if( defaultDeptFacetnator.displayDeptFacet == false ) jQuery('#facet_department').hide();

					// override reset all button
					var defaultedDeptFacetElement = null;
					var categoryFacetedSearchManager = navigationService.controller.managers.categoryFacetedSearchManager;
					if( jQuery('#facet_option_' + defaultDeptFacetnator.deptFacetId) ) defaultedDeptFacetElement = jQuery('#facet_option_' + defaultDeptFacetnator.deptFacetId ).children()[0];

					if( defaultedDeptFacetElement ) {
						jQuery('#facet_reset_all')[0].onclick = function(event) {
							categoryFacetedSearchManager.util.resetAllSelectedOptions(event);
							categoryFacetedSearchManager.controller.facetManagers.categoryDepartmentFacetManager.view.facetOptionClicked(defaultedDeptFacetElement,window);
							categoryFacetedSearchManager.controller.filterByFacets();
							return false;
						};
					}
				}
			},

			init: function() {
				defaultDeptFacetnator.processCategoryLists();
				// Only proceed if a dept facet preselection has been found in the lists
				if( defaultDeptFacetnator.deptFacetId ) {
					// Pre Select the appropriate Department Facet
					if( location.hash.length == 0 ) {
						// location.hash = "#department=" + this.deptFacetId;
						jQuery('html').hide();
						location.replace(location.toString() + "#department=" + this.deptFacetId);
					}
					// Perform a redirect with the departmentRedirect parameter if not already redirected
					if (!/departmentRedirect/.test(location)) {
						var currentCID = /cid=\d+/.exec(location);
						jQuery('html').hide();
						location.replace(location.toString().replace(/cid=\d+/,currentCID + "&departmentRedirect=true"));
					}
					// Bind dom modification method to the category product grid event
					jQuery(document).on('categoryProductGrid:ready', defaultDeptFacetnator.modifyDomElements );
				}
			},

			initSegB: function() {
				
				defaultDeptFacetnator.processCategoryLists();
				// Only proceed if a dept facet preselection has been found in the lists
				if( defaultDeptFacetnator.deptFacetId ) {
					// Pre Select the appropriate Department Facet
					if( location.hash.length == 0 ) {
						location.replace(location.toString() + "#pageId=0&department=" + this.deptFacetId);
					}
					// Perform a redirect with the departmentRedirect parameter if not already redirected
					if (!/departmentRedirect/.test(location)) {
						var currentCID = /cid=\d+/.exec(location);
						location.replace(location.toString().replace(/cid=\d+/,currentCID + "&departmentRedirect=true"));
					}
					// Bind dom modification method to the category product grid event
					jQuery(document).on('categoryProductGrid:ready', defaultDeptFacetnator.modifyDomElements );
				}
			}
				
		};

		//defaultDeptFacetnator.init();

		if( window["categoryPage"] == null ) {
			defaultDeptFacetnator.initSegB();

		} else {

			if( window["navigationService"] && navigationService.model.isActive ) {
				defaultDeptFacetnator.init();
			}
		}
	}
</script>
<!-- END: contentOverride116 -- GOL Department Facet Suppression -->

<!-- END Content Item File: /content/0011/733/514/cn11733514.html -->

<!-- END - WCD Sitewide Container 6 -->

<!-- BEGIN - WCD Sitewide Container 7 -->

<!-- END - WCD Sitewide Container 7 -->

<!-- BEGIN - WCD Sitewide Container 8 -->

<!-- END - WCD Sitewide Container 8 -->

<!-- BEGIN - WCD Sitewide Container 9 -->

<!-- END - WCD Sitewide Container 9 -->

<!-- BEGIN - WCD Sitewide Container 10 -->

<!-- END - WCD Sitewide Container 10 -->

<!-- BEGIN - WCD Sitewide Container 11 -->

<!-- END - WCD Sitewide Container 11 -->

<!-- BEGIN - WCD Sitewide Container 12 -->

<!-- END - WCD Sitewide Container 12 -->

<!-- BEGIN - WCD Sitewide Container 13 -->

<!-- END - WCD Sitewide Container 13 -->

<!-- BEGIN - WCD Sitewide Container 14 -->
<!-- BEGIN Content Item File: /content/0011/747/322/cn11747322.html -->


<!-- BEGIN Namogoo pilot -->
<script type="text/javascript" src="//qnajplxtvz-a.akamaihd.net/GA4D28O5Y.js" async=""></script>
<!-- END Namogoo pilot -->

<!-- END Content Item File: /content/0011/747/322/cn11747322.html -->

<!-- END - WCD Sitewide Container 14 -->

<!-- BEGIN - WCD Sitewide Container 15 -->

<!-- END - WCD Sitewide Container 15 -->

<script type="text/javascript">
	// <![CDATA[
		
		
		if (window["responsiveService"]) {
			(function() { 
			    var isMobileProxyActive = browserService.controller.managers.mobileBrowserManager.model.isMobileProxyActive;
			    responsiveService.controller.init.main({active:(isMobileProxyActive !== undefined && !isMobileProxyActive)});
			})();
		}
		if (window["navigationService"]) {
			navigationService.controller.init.main();
		}
	// ]]>
</script>
</head>
<body class="locale_en_CA">
    <h3 class="cssHide">Skip Navigation:</h3>
    




	
		
	
	
			


	
			
			
	
	
	
	








<p id="skipNav" class="visually-hidden">
	Skip to: 
	<a href="#skipNavTopNav" class="skipNav">Top Navigation</a>, 
	
		
		
		
		
		
        
        
		
		

		
		
		
		
		
		
		
	
		
			<a href="#skipNavInlineBag" class="skipNav">Shopping Bag</a>, 
		
	
	<a href="#skipNavMainContent" class="skipNav">Main Content</a>, 
	<a href="#skipNavFooter" class="skipNav">Footer Navigation</a>.
</p>

    




	
		
	
	
			


	
			
			
	
	
	
	











    <a name="skipNavTopNav"></a>

    
		
		
			<div id="universalBar">
				




	
		
	
	
			


	
			
			
	
	
	
	










	
	
	 




	
	
		
		
	




	
		
	
	






<table class="universalBarTable" summary="Links to the other Gap Inc. Brands, promotional information, items in bag, my account, order status, shopping bag">
	<thead><tr><td></td></tr></thead>
	<tbody>
		<tr>
			<td class="universalBarLeft" style="background:url(/content/0005/713/575/universalBar_bkg.png) repeat-x;">&nbsp;</td>
			
				
				
					
					
					
					
				
				
				
			
			<td id="universalBarCenter" class="universalBarCenter">
				<div id="universalBarContainer" class="clearfix universalBarContainer">
					
						<span class="cssHide2">Visit the other Gap Inc. Brands:</span>
						<ul id="universalBarTabs" class="universalBarTabs3 clearfix">
						
							
							
							<li class="brand7">
						
			 						
			 							
			 								<a href="http://www.gapcanada.ca" class="brand current" target="_top" onclick="return gidBrandSiteConstruct.openBrand(7);">
			 								<img src="/assets/common/clear.gif" alt="Gap Canada"> </a>
			 							
			 							
			 						
							</li>
						
							
							
							<li class="brand9">
						
			 						
			 							
			 							
			 								<a href="http://www.oldnavy.ca" class="brand" target="_top" onclick="return gidBrandSiteConstruct.openBrand(9);">
			 								<img src="/assets/common/clear.gif" alt="Old Navy Canada"> </a>
			 							
			 						
							</li>
						
							
							
							<li class="brand8">
						
			 						
			 							
			 							
			 								<a href="http://www.bananarepublic.ca" class="brand" target="_top" onclick="return gidBrandSiteConstruct.openBrand(8);">
			 								<img src="/assets/common/clear.gif" alt="Banana Republic Canada"> </a>
			 							
			 						
							</li>
						
						</ul>
					
					<div id="universalMarketingContainerTop" class="universalMarketingContainer3">
						
						<!-- @TemplateContentLayout(templateRegionName:"gid.common.siteWide.universalBar.10000522.region1") -->

<!-- Universal Bar Images -->
<!-- BEGIN Content Item File: /content/0005/713/575/cn5713575.html -->
<div id="contentItemContainer10000437" class="5713575">



</div>
<!-- END Content Item File: /content/0005/713/575/cn5713575.html -->

<!-- Universal Inline Bag Marketing Container -->

<!-- Universal Bar Marketing Container 1 -->
<!-- BEGIN Content Item File: /content/0009/713/300/cn9713300.html -->
<div id="contentItemContainer10000425" class="9713300">

<style type="text/css">


</style>

<div id="GOL_ca_en_edfs">
	<a class="needsclick toggle-universal-modal" data-title="&nbsp;" data-url="/browse/info.do?cid=47471" data-modal-size="standard" data-action-sheet="small" href="#edfs">
		<img src="/Asset_Archive/GPWeb/content/0009/713/300/assets/gap-edfs-eng_ca.png" alt="Free shipping on all orders over $50. Free returns on all orders. Details" style="width:100%; height:auto;">
	</a>
</div>


</div>
<!-- END Content Item File: /content/0009/713/300/cn9713300.html -->

<!-- Universal Bar Marketing Container 2 -->
<!-- BEGIN Content Item File: /content/0011/706/752/cn11706752.html -->
<div id="contentItemContainer10000424" class="11706752">

<!-- Promo in the bag test-->
<style type="text/css">
.textButton{
  border:none;
  color:#4D5D8A;
  cursor: pointer;
  background: #D5D1CD;
  font-weight: 900;
}
.addShippingText{
  padding-bottom: 0.65em;
}
.subText1{
  color: #333;
  font-size: 87.5%;
  line-height: 1.5;
  text-align: left;
}
.subText2{
  font-style: italic;
}
</style>
<script type="text/javascript">
var segFlagA=false,segFlagB=false,triggerOption=false,defaultSelector=false;
var hasRun = false;
var ShopTrackSeg='',ShopSegCok ='',ShopSegPas ='',CheckTrackSeg ='',CheckSegCok ='',CheckSegPas='';
/*if( location.pathname !== '/buy/shopping_bag.do' && location.pathname !== '/checkout/order.do' && location.hostname.substr(0,2) != 'm.') {
  var wcdPreciseShipTestSeg = 'CPBox';
  personalizationService.api.onPersonalization(function(event) {
    var idOfAbTestWeCareAbout = "130";
    var abTest = event[idOfAbTestWeCareAbout];
    if (abTest) {
      var currentABTestSeg = gidLib.getCookieVar('mktUniversalPersist', 'wcdPromoShipTest');
      if(currentABTestSeg !=''){
        wcdPreciseShipTestSeg = currentABTestSeg;
        abTest.Segment = wcdPreciseShipTestSeg;
      }else{
        wcdPreciseShipTestSeg = abTest.Segment;
        gidLib.setCookieVar('mktUniversalPersist', 'wcdPromoShipTest', wcdPreciseShipTestSeg);
      }
      personalizationService.api.personalizationDone([abTest, {}]);
    }
  });
}*/
  // Check for and hide promo messaging on test PPC promos
  jQuery(document).on('wcdCVEAboutYourOrd', function() {
    jQuery('.aboutYourOrderBlock').hide();
     setTimeout(function(){
        var counter = 0;
        if(jQuery('.shopping-bag-marketing-large').find('img').length > 0){
          jQuery('.shopping-bag-marketing-large').find('img').css('float','right');
        }
        var noOfPromos = jQuery('.aboutYourOrderBlock .promos').length;
        if(noOfPromos > 0){
          for(var i=0;i<noOfPromos;i++){
            var popupProText = jQuery('.aboutYourOrderBlock .promos').eq(i).text();
            if(popupProText.indexOf('GapCash') < 0 && popupProText.indexOf('Super Cash') < 0 ){
              jQuery('.aboutYourOrderBlock .promos').eq(i).hide();
             // jQuery('.aboutYourOrderBlock .promos').eq(i).remove();
              counter++;
            }
          } 
          if(counter == noOfPromos){
            jQuery('.aboutYourOrderBlock').hide();
          }else{
            jQuery('.aboutYourOrderBlock').show();
          }
        }
      },1000);
  });
  
if( location.pathname == '/buy/shopping_bag.do' || ( location.pathname == '/profile/validate_sign_in.do' && window["angular"] != null ) ) {
ShopTrackSeg='';
ShopSegCok ='';
ShopSegPas ='';
dataObj = JSON.stringify({ op : "replace",
    path: "/shoppingBag/shippingOptions",
    value: "2113"
});
var personalizationflag1 = false;
var shopperIdN ='';
shopperIdN = getCookie("unknownShopperId");
shopperIdN = shopperIdN.split('|')[0];
// calling angular transformer directive 
  var shoppingBagTransformerModule = angular.module('gid.transformer.shoppingBagTransformer');
  shoppingBagTransformerModule.config(function($provide) {
  $provide.decorator('shoppingBagTransformer', function($delegate, $timeout) {
    var oldTransformResponse    = $delegate.transformResponse;
    var oldTransformBagResponse = $delegate.transformBagResponse;
    var subTotAmt ='';
    shopperIdN = getCookie("unknownShopperId");
    shopperIdN = shopperIdN.split('|')[0];

    var overrideShippingData = function(jsonData) {
      if (jsonData.shoppingBag && jsonData.shoppingBag.charges && jsonData.shoppingBag.charges.subTotal){
        var subTotAmt = jsonData.shoppingBag.charges.subTotal;
        subTotAmt = subTotAmt.split('CA$')[1];
        subTotAmt = parseFloat(subTotAmt);
      }
      if (jsonData.shoppingBag && jsonData.shoppingBag.shippingInfo && jsonData.shoppingBag.shippingInfo.shippingOptions) {
        var shipOptions = jsonData.shoppingBag.shippingInfo.shippingOptions;
        segFlagB = gidLib.getCookieVar('mktUniversalPersist', 'pib');
        if(segFlagB == "true"){
          if (typeof Storage != 'undefined') {
            try {
              var defaultSelector = sessionStorage.getItem('defaultSelector');
            }
            catch(e){}
          }
          if (defaultSelector!='true') {
            if (subTotAmt >= 50){
              shipOptions.each(function(elt, idx) {
                if( elt.shippingId == '2113' ) {
                  elt.selected = true;
                }
                else if( elt.shippingId == '2082' ) {
                  elt.selected = false;
                }                
              });
              jsonData.shoppingBag.shippingInfo.shippingOptions = shipOptions;
              jQuery.ajax({
                      method: 'POST',
                      headers:{
                        "X-HTTP-Method-Override": "PATCH",
                      },
                      contentType: "application/json-patch+json",
                      url: '/resources/shoppingBag/v1/'+shopperIdN,
                      data: dataObj,
                      dataType: 'json',
                      processData: false,
                      success: function(data){
                        //console.log('ajax post was succeeded');
                      },
                      error: function(){
                        //console.log('ajax post was failed');
                      }
              });
            } 
          }
          jQuery(document).trigger('wcdCVEAboutYourOrd');
        } 
      }
      return jsonData;
    };
    $delegate.transformResponse = function(data, headers) {
      var jsonData = oldTransformResponse(data, headers);
      return overrideShippingData(jsonData);
    };
    $delegate.transformBagResponse = function(data) {
      var jsonData = oldTransformBagResponse(data);
      return overrideShippingData(jsonData);
    }
    return $delegate;
  });
});
}
else if(location.pathname == '/checkout/order.do'){
  var personalizationflagC = false;
  CheckTrackSeg ='';
  CheckSegCok ='';
  CheckSegPas='';
  if( ccm && ccm.shipping && ccm.shipping.view && ccm.shipping.view.setDataToPage ) {
    ccm.shipping.view.setDataToPage = ccm.shipping.view.setDataToPage.wrap( function( om ) {
      om();
      //removing .00 cents from price
      if(jQuery('#shippingOptionsRadioText2113') != 'undefined'){
        jQuery('#shippingOptionsRadioText2113').html('7-9 business days - FREE Every Day ($50 min)'); 
      }
      if(jQuery('#shippingOptionsRadioText2082')!='' && jQuery('#shippingOptionsRadioText2082').length > 0){
        var currentPrice1 = jQuery('#shippingOptionsRadioText2082').html();
        if(typeof currentPrice1 !== "undefined"){
          currentPrice1 = currentPrice1.replace('- $0.00','');
          jQuery('#shippingOptionsRadioText2082'). html(currentPrice1);
        }
      }
      if(jQuery('#shippingOptionsRadioText2122')!='' && jQuery('#shippingOptionsRadioText2122').length > 0){
        var currentPrice1 = jQuery('#shippingOptionsRadioText2122').html();
        if(typeof currentPrice1 !== "undefined"){
          currentPrice1 = currentPrice1.replace('- $0.00','');
          jQuery('#shippingOptionsRadioText2122'). html(currentPrice1);
        }
      }
      if(jQuery('#shippingOptionsRadioText2018')!='' && jQuery('#shippingOptionsRadioText2018').length > 0){
        var currentPrice1 = jQuery('#shippingOptionsRadioText2018').html();
        if(typeof currentPrice1 !== "undefined"){
          currentPrice1 = currentPrice1.replace('- $0.00','');
          jQuery('#shippingOptionsRadioText2018'). html(currentPrice1);
        }
      }
      // removing extra period from pop up
      if(jQuery('#updateBillingWithShippingPanel label').html() !='undefined'){
        jQuery('#updateBillingWithShippingPanel label').html('Use this address for my billing information? <span class="cssHide labelErrorMessage"></span>');
      }
      personalizationflagC = gidLib.getCookieVar('mktUniversalPersist', 'pib');
        if(personalizationflagC == "true"){
              if(jQuery('#billingModuleSummaryIncomplete').length > 0){
                jQuery('#billingModuleSummaryIncomplete').find('.summaryModuleHeader').html('Payment');
              }
              if(jQuery('#billingInput').find('.editableModuleHeader').length > 0){
                var temp = jQuery('#billingInput').find('.editableModuleHeader').html();
                temp = temp.replace('&amp; Promotions','');
                jQuery('#billingInput').find('.editableModuleHeader').html(temp);
              }
              if(jQuery('#promotionsContainer').length > 0){
                jQuery('#promotionsContainer').hide();
              }
              if(jQuery('#billingCodeSummary').find('.summaryModuleHeader').length > 0){
                jQuery('#billingCodeSummary').find('.summaryModuleHeader').hide();
              }
              if(jQuery('#billingSummaryPromoCodeAppliedList').length > 0){
                jQuery('#billingSummaryPromoCodeAppliedList').closest('.billingCodeType').hide();
              }

        }
        if(jQuery("input[name='shippingOptions']").length > 0){
            jQuery("input[name='shippingOptions']").on('click',function(){
              //set value to session storage
              if(typeof(Storage)!='undefined'){
                try {
                    sessionStorage.setItem('defaultSelector','true');
                  }
                  catch(e){}
              }
            });
        }
    }); // end of ccm shipping
  } // end of ccm
}// end of else
</script>


</div>
<!-- END Content Item File: /content/0011/706/752/cn11706752.html -->

<!-- Universal Bar Marketing Container 3 -->
<!-- BEGIN Content Item File: /content/0011/816/884/cn11816884.html -->
<div id="contentItemContainer10000423" class="11816884">

<!--Reporting pib & PAS value to omniture from Promo in bag-->
<script type="text/javascript">
//Reporting pib & PAS value to omniture from HP,DP,CP
if( location.pathname !== '/buy/shopping_bag.do' && location.pathname !== '/checkout/order.do' && location.hostname.substr(0,2) != 'm.') {
  var flagX = '';
  var reportHPSeg = '';
  personalizationService.api.onPersonalization(function(event){
    var idOfAbTestWeCareAbout = "130";
    var abTest = event[idOfAbTestWeCareAbout];
    var eCommHPCookie = gidLib.getCookieVar('mktUniversalPersist', 'pib');
    if(eCommHPCookie !==''){
      reportHPSeg = 'pib:'+ eCommHPCookie;
      wcdLib.trackValue(this,reportHPSeg,reportHPSeg,'eVar7');
    }
    else if (abTest){
      if(abTest.Segment !==''){
        if(abTest.Segment === 'SBPBox'){
          flagX ='true';
        }else{
          flagX ='false';
        }
        reportHPSeg = 'pib:'+flagX;
        wcdLib.trackValue(this,reportHPSeg,reportHPSeg,'eVar7');
      }
      personalizationService.api.personalizationDone([abTest, {}]);
    }
  });
}
//Reporting pib & PAS value to omniture from SB 
if( location.pathname == '/buy/shopping_bag.do' || ( location.pathname == '/profile/validate_sign_in.do' && window["angular"] != null ) ) {

function shoppingBagReporting(){
  var reportShoppingBagSeg = '';
  var flag1 = '';
  var eCommCookie = gidLib.getCookieVar('mktUniversalPersist', 'pib');
    if(eCommCookie !== ''){
      reportShoppingBagSeg = 'pib:'+eCommCookie;
    }else{
      if(personalizationService && personalizationService.model && personalizationService.model.personalizationData){
        var pNewData = personalizationService.model.personalizationData;
        if(pNewData.personalizationInfoV1.hasOwnProperty('featureSelections') && (pNewData.personalizationInfoV1.featureSelections!==null)){
          var pNewData1 = pNewData.personalizationInfoV1.featureSelections;
          if(pNewData1.hasOwnProperty('Abtests') && pNewData1.Abtests !==null ){
            var perData = pNewData1.Abtests;
            if(!Array.isArray(perData)){
              perData = [perData];
            }
            
            for (i=0;i<perData.length;i++) {
              if (perData[i].Id=='130') {
                if(perData[i].Segment ==='SBPBox'){
                  flag1 = 'true';
                }else{
                  flag1 = 'false';
                }
                reportShoppingBagSeg = 'pib:' + flag1;
              }
            } //end for loop
          }
        }
      }
    }
    if(reportShoppingBagSeg !==''){
      wcdLib.trackValue(this,reportShoppingBagSeg,reportShoppingBagSeg,'eVar7');
    }  
}
  
  jQuery(document).ready(function() { 
    shoppingBagReporting();
  });
}
//Reporting pib & PAS value to omniture from CO 
else if(location.pathname == '/checkout/order.do'){
  var reportCheckoutSeg ='';
  var flag2 ='';
  var eCommCheckCookie = gidLib.getCookieVar('mktUniversalPersist', 'pib');
  if( ccm && ccm.shipping && ccm.shipping.view && ccm.shipping.view.setDataToPage ) {
    ccm.shipping.view.setDataToPage = ccm.shipping.view.setDataToPage.wrap( function( om ) {
      om();
      if(eCommCheckCookie !==''){
        reportCheckoutSeg = 'pib:'+ eCommCheckCookie;
      }else{
        if(personalizationService && personalizationService.model && personalizationService.model.personalizationData){
          var pNewDataC = personalizationService.model.personalizationData;
          if(pNewDataC.personalizationInfoV1.hasOwnProperty('featureSelections') && (pNewDataC.personalizationInfoV1.featureSelections!==null)){
            var pNewData1C = pNewDataC.personalizationInfoV1.featureSelections;
            if(pNewData1C.hasOwnProperty('Abtests') && pNewData1C.Abtests !==null ){
              var perDataC = pNewData1C.Abtests;
              if(!Array.isArray(perDataC)){
                perDataC = [perDataC];
              }
              for (i=0;i<perDataC.length;i++) {
                if (perDataC[i].Id=='130') {
                  if(perData[i].Segment ==='SBPBox'){
                    flag2 = 'true';
                  }else{
                    flag2 = 'false';
                  }
                  reportCheckoutSeg = 'pib:' + flag2;
                }
              } //end for loop
            }
          }
        }
      }
      if(reportCheckoutSeg !==''){
        wcdLib.trackValue(this,reportCheckoutSeg,reportCheckoutSeg,'eVar7');
      }
    });
  }    
}
</script>








</div>
<!-- END Content Item File: /content/0011/816/884/cn11816884.html -->



<!--  new onesite template sub-regions -->


					</div>
					<div id="universalInlineBagContainer" class="universalBarBackground">
						
							<div id="signInContent">
								
									
									
									
									<h3 class="cssHide">Sign In Navigation:</h3>
									<ul>
										<li id="signInYourAccount">
										</li>
										<li id="signInSignIn">
										</li>
									</ul>
									<ul>
										<li id="topNavLanguageToggle">
											<div id="signInOrderStatus"></div>
										</li>
										
									</ul>
								
							</div>
							<div id="inlineBagPlaceHolder">
								<a name="skipNavInlineBag"></a>
								<h3 class="cssHide">Shopping Bag:</h3>
							   	<div id="inlineBagItemMessage" class="screenreader">
							    	<input name="inlineBagItemMessageItem" id="inlineBagItemMessageItem">	
							 	</div>
								<div id="inlineBagHeader" class="clearfix">
									
										<div class="checkoutButtonContainer"><a href="/buy/shopping_bag.do"><img src="/assets/common/clear.gif" width="15" height="15" alt="" class="universalButtonSprite universalSpriteTopnavInlinebagLogo"></a></div>
										<div class="inlineBagTopLayerContainer">
											<div id="inlineBagTopPriceLayer" class="inlineBagSummary">
											</div>
											<div id="checkoutButtonContainer2"><a href="/buy/shopping_bag.do"><img src="/assets/common/clear.gif" alt="checkout" id="inlineBagCheckOut1" class="universalButtonSprite universalButtonSpriteCheckoutOn"></a></div>
										</div>
									
									
								</div>
								
									<div id="inlineBagHeaderOpen" style="display:none;">
										<div class="checkoutButtonContainer"><a href="/buy/shopping_bag.do"><img src="/assets/common/clear.gif" width="15" height="15" alt="" class="universalButtonSprite universalSpriteTopnavInlinebagLogo"></a></div>
										<div class="inlineBagTopLayerContainerOpen"><div id="inlineBagTopPriceLayerOpen" class="inlineBagSummary"></div></div>
										<div id="closeButtonContainer"><img src="/assets/common/clear.gif" alt="close" class="universalButtonSprite universalSpriteInlineBagCloseOn"></div>
									</div>
									
	                                <div id="inlineBagClip">
                                		<div id="inlineBagContent" style="display:none;">
                                			<div id="inlineBagItems">
                                                <div id="gidInlineBag">
                                        	        <ul id="lineItems"></ul>
												    <div id="inlineBagSummary" class="clearfix">			
													    <div id="inlineBagSummaryItemCount" class="itemCount"></div>
										    			<div id="inlineBagSummarySubTotal" class="subTotal">
										            		Subtotal:
											    			<span id="inlineBagSummarySubPriceLabel" class="price"></span>
												    	</div>
											    	</div>
									            </div>
												<div id="universalInlineBagBottom">
													<div id="link1"><a href="/buy/shopping_bag.do">View your bag</a></div>
													<div id="link2"><a href="/buy/shopping_bag.do"><img id="inlineBagCheckOut2" src="/assets/common/clear.gif" alt="checkout" class="button_check_out universalButtonSprite universalButtonSpriteCheckoutOn"></a></div>
												</div>
										    </div>
	                                    </div>
										<div id="inlineCustomerAttributesPlaceholder"></div>
									</div>
	 
									
									<div id="inlineBagMarketingClip">
										<div id="inlineBagMarketingContent" style="display:none;">
										
								            
								            <div id="gidInlineBagMarketingContainer">
								                
								                	
								                		
								                	




	
		
	
	
			


	
			
			
	
	
	
	










	
	





	
		
	
	
			


	
			
			
	
	
	
	












								                
									        </div>
									        	
										    <div id="gidInlineBagPromo">
												<div id="inlineBagPromo" style="padding: 5px;" class="clearfix">
												
												    <span id="gidProductUpsellMessage" style="display:none;">
									    				<p class="promoMsg" id="productUpsellMsg"></p>
										    			<a class="promoLink" id="productUpsellLink" href="#"></a>
										    		</span>	
												
												    <span id="mupUpsellMessage" style="display:none;">
									    				<p class="promoMsg mupUpSellMsg" id="mupUpSellMsg"></p>
										    			<p class="promoMsg mupUpSellLink" id="mupUpSellLink"></p>
										    		</span>
									
												    <span id="gwpPwpSelectionMessage" style="display:none;">
									    				<img id="selImageLink" src="/assets/common/clear.gif" style="display:none;">
											    		
												    	<p class="promoMsg">
													    	You've earned
														    <span id="gwpPwpMsg"></span><br>
														    
									    					<a href="" id="promoLink"></a>
										    				<br>
										    			    <span id="promoSelLink" class="selLink" style="display:none;"></span>
												    			    
									   						<span id="staticPromoTxt" class="promoTxt" style="display:none;">This item has been added to your bag.</span>
												    	</p>
												    </span>
												    
									    		</div>
											
												<div id="inlineBagCrossSell" class="clearfix" onclick="">
												    <img id="crossSellImg" src="/assets/common/clear.gif">
												
									    			<p class="promoMsg">
										    			Complete the Look!<br>								
										    			<span id="crossSellOutfitMsg"></span>
											    	</p>							
												    <p class="promoMsg">Shop this outfit &gt;&gt;</p>
												</div>
										    </div>			
										</div>
									</div>
								
							</div>
						
					</div>
				</div>
			</td>
			<td class="universalBarRight" style="background:url(/content/0005/713/575/universalBar_bkg.png) repeat-x;">&nbsp;</td>
		</tr>
	</tbody>
</table>

			</div>
		
	

    <div id="bodyContainer" class="limit-width page-content nav-shiftee">
        




	
		
	
	
			


	
			
			
	
	
	
	






	<noscript>
		<div class="siteErrorSpacer">
			&#160;
		</div>
	</noscript>
	
		<div class="siteErrorSpacer">
			&nbsp;
		</div>
	
	

        
        	
		        <div id="topNav" class="clearfix">
		            




	
		
	
	
			


	
			
			
	
	
	
	















	
<div id="universalTopNav" class="topNavTopRow clearfix">
	<div id="topNavCommon_region1"><!-- @TemplateContentLayout(templateRegionName:"gid.common.siteWide.divisionNavigation.10000509.region1") -->

<script type="text/javascript">
if( window["responsiveBagAbTestOn"] != null && responsiveBagAbTestOn ) {
    // Add responsiveBag classname to body
    document.body.className += ' responsiveShoppingBag';
}
</script>

<style type="text/css">
/*--  new top NAV 2/16/2016 --*/

/* NAVIGATION STYLES */
#topNavWrapper {
  margin: 10px auto 30px;
  width: 100%; 
}
.onesiteProdPage #topNavWrapper { 
  margin:0 0 40px; 
}
#mainNavGOL { 
  width: 100%; 
  max-width: 1400px; 
  margin: 0 auto; 
}
.gpnavigation{ 
    width: 100%;
    font-size:14px; 
    text-transform: uppercase;
    font-weight: bold;
    letter-spacing: normal;
    font-family:  Helvetica, Arial, sans-serif;
    list-style: none;

    -webkit-flex-flow: row nowrap; flex-flow: row nowrap;
    display: -webkit-flex; display:flex; 
    -webkit-align-items: center; align-items:center; 
    -webkit-justify-content: space-between;
    justify-content: space-between;
}
.gpnavigation li { 
  float:left; 
}

.gpnavigation #globalLogo, #gapLogo_2016 { 
  width:70px;
}
.gpnavigation #globalLogo a { 
  text-decoration: none;
  border: none;
}
.gpnavigation a { 
  color:#000; 
  text-decoration: none;
}
/*.gpnavigation a:hover{ text-decoration: none;}*/
.gpnavigation li.topNavItem a:hover,
.gpnavigation a[class*="_selected"] {
  color: #000;
  text-decoration:none; 
  border-bottom: 3px solid #000;
  padding: 6px 0 3px 0;
}

/*.gpnavigation a[class*="_selected"]:hover { }*/

@media (min-width:1024px){
  .gpnavigation{ 
    font-size: 16px;
  }
}
/* ABOVE NAVIGATION STYLES */


#promoBannerContainer {
  position: relative;
}


/* FACETS STYLES */
.facets-container {
  color: #020D41;
}
#sideNavFacetsHeader {
  /*width: 152px;*/
  background-color: #EEE;
  color: #020d41;
  padding-bottom: 10px;
}
div.facet {
  border-bottom: none;
}
div.facet .facetName {
  color: #020D41;
}
#facet_color {
  display: none;
}
#facet_price {
  display: none;
}
div.facet_style ul li.style-option {
  width:152px;
  color: #333;
  font-size: 11px;
}
div.facet .sprite-button {
  background-image: url("/Asset_Archive/GPWeb/content/0011/832/458/assets/facet_sprite_gol.png");
}
div.facet #size_facet_button {
  background-position: 0 -30px;
  height: 24px;
  width: 120px;
}
#facet_header_item_count {
  font-size:11px;
}
div.facet div.flyout-panel {
  padding: 0 0 10px 5px;
}

/* SIDE NAV CATEGORY STYLES */
#sideNavCategories {
  text-align:left;
}
#sideNav ul.category {
  margin:0;
}
#sideNav li.category {
  margin: 3px 0 0;
}
#sideNav li.header {
  border: none;
  margin: 0px;
  padding: 0px;
  color: #000;
  font-size: 10px;
  font-weight: bold;
  margin-top: 10px;
  padding: 0;
}
#sideNav li.categorySelected {
  padding: 0px;
  margin: 0px;
}
#sideNav a.categorySelected:link,
#sideNav a.categorySelected:visited,
#sideNav a.categorySelected:active,
#sideNav a.categorySelected:hover {
  margin: 0px;
}
#sideNav li.header.firstHeader {
  padding: 0px;
  border: none;
}

/* Category HTML banner */
#categoryNameHeader {
  background-color: #194783 !important;
}


/* Preview Bar fix */
.responsiveShoppingBag #previewBar input[type="radio"] {
  width: auto;
  height: auto;
}

.responsiveShoppingBag div#bodyContainer div#mainContent { position: static; }
.responsiveShoppingBag #promoWrapper,
.responsiveShoppingBag #promoDisruptor,
.responsiveShoppingBag #promoDisruptor div,
.responsiveShoppingBag #promoDisruptor p,
.responsiveShoppingBag #promoBanner,
.responsiveShoppingBag #promoBanner div,
.responsiveShoppingBag #promoBanner p {
  box-sizing: content-box;
}

/* Are these breakpoint styles still neccessary? - CF */
/* Small Breakpoint - all hidden */	
html.breakpoint-small .responsiveShoppingBag #EDFS-container {
  width: 126px;
  height: 41px;
  margin: 12px 0 0 12px;
}
html.breakpoint-small .responsiveShoppingBag #EDFS-container a {
  display: block;
  width: 126px;
  height: 41px;
  background-image: url(/Asset_Archive/GPWeb/content/0008/371/968/assets/10-25_EDFSFR_MobileAsset.png);
  background-size: 100% 100%;
}
html.breakpoint-small .responsiveShoppingBag #EDFS-container a img { display: none; }
html.breakpoint-small .responsiveShoppingBag div#bodyContainer div#mainContent { margin-top: 20px; }

/* Medium Breakpoint */
html.breakpoint-medium .responsiveShoppingBag #EDFS-container {
  width: 126px;
  height: 41px;
  margin: 12px 0 0 12px;
}
html.breakpoint-medium .responsiveShoppingBag #EDFS-container a {
  display: block;
  width: 126px;
  height: 41px;
  background-image: url(/Asset_Archive/GPWeb/content/0008/371/968/assets/10-25_EDFSFR_MobileAsset.png);
  background-size: 100% 100%;
}
html.breakpoint-medium .responsiveShoppingBag #EDFS-container a img { display:none }
html.breakpoint-medium .responsiveShoppingBag #topNav #universalTopNav { display:block }
html.breakpoint-medium .responsiveShoppingBag #topNav #infoBarContentWrapper { display:none }

/* Large Breakpoint */
html.breakpoint-large .responsiveShoppingBag #EDFS-container {
  width: 150px;
  height: 49px;
  margin: 2px 0 0 2px;
}
html.breakpoint-large .responsiveShoppingBag #EDFS-container a {
  display: block;
  width: 150px;
  height: 49px;
  background-image: url(/Asset_Archive/GPWeb/content/0008/371/968/assets/10-25_EDFSFR_MobileAsset.png);
  background-size: 100% 100%;
}
html.breakpoint-large .responsiveShoppingBag #EDFS-container a img { display: none; }
html.breakpoint-large .responsiveShoppingBag #topNav #universalTopNav { display: block; }
html.breakpoint-large .responsiveShoppingBag #topNav #infoBar {
  width: 100%;
  box-sizing: content-box;
}
html.breakpoint-large .responsiveShoppingBag #topNav #logoWrapper { width: auto; }
html.breakpoint-large .responsiveShoppingBag #topNav #infoBar .header-quick-links { padding: 0; }

/* X-Large Breakpoint */
html.breakpoint-xlarge .responsiveShoppingBag #topNav #universalTopNav { display: block; }
html.breakpoint-xlarge .responsiveShoppingBag #topNav #infoBar {
  width: 100%;
  box-sizing: content-box;
}
html.breakpoint-xlarge .responsiveShoppingBag #topNav #infoBar .header-quick-links { padding: 0; }

@media only screen and (max-width: 981px) and (min-width:768px) {
	#sideNavCategories { padding-left:5px }
}

/* BEGIN - z-index fix of popupLayeredContent for RB Surveys and OneSite logo */
#popupLayeredContent { z-index:100 }
/* END - z-index fix of popupLayeredContent for RB Surveys and OneSite logo */



#sideNav {
    font-size: 11px;
    font-family: Helvetica,Arial,sans-serif;
}
</style>
<div class="grid-root">
  <div class="g-1-1">
    <div id="topNavWrapper">
    <div id="mainNavGOL">
      <ul class="gpnavigation grid-root">
        <li class="topNavItem"></li>
        <li id="globalLogo">
          <a href="/"><img id="gapLogo_2016" src="/Asset_Archive/GPWeb/content/0011/832/458/assets/Teal_logo.gif" alt="gap"></a>
        </li>
        <li class="topNavItem">
          <a id="division5643" class="division5643_notSelected" href="/browse/subDivision.do?cid=5646&amp;mlink=39813,10323437,MainNav_W&amp;clink=10323437">women</a>
        </li>
        <li class="topNavItem">
          <a id="customtopNav1016012" class="gol_gapBodyNav" href="/browse/category.do?cid=1016012&amp;mlink=39813,10323437,visnav_Body&amp;clink=10323437">gapbody</a>
        </li>
        <li class="topNavItem">
          <a id="division83062" class="division83062_notSelected" href="/browse/subDivision.do?cid=83062&amp;mlink=39813,10323437,MainNav_Gapfit&amp;clink=10323437">gapfit</a>
        </li>
        <li class="topNavItem">
          <a id="division5997" class="division5997_notSelected" href="/browse/division.do?cid=5997&amp;mlink=39813,10323437,MainNav_Mat&amp;clink=10323437">maternity</a>
        </li>
        <li class="topNavItem">
          <a id="division5063" class="division5063_notSelected" href="/browse/subDivision.do?cid=5065&amp;mlink=39813,10323437,MainNav_M&amp;clink=10323437">men</a>
        </li>
        <li class="topNavItem">
          <a id="division6256" class="division6256_notSelected" href="/browse/subDivision.do?cid=6256&amp;mlink=39813,10323437,MainNav_G&amp;clink=10323437">girls</a>
        </li>
        <li class="topNavItem">
          <a id="division6172" class="division6172_notSelected" href="/browse/subDivision.do?cid=6172&amp;mlink=39813,10323437,MainNav_B&amp;clink=10323437">boys</a>
        </li>
        <li class="topNavItem">
          <a id="division6413" class="division6413_notSelected" href="/browse/subDivision.do?cid=6413&amp;mlink=39813,10323437,MainNav_Toddler&amp;clink=10323437">toddler</a>
        </li>
        <li class="topNavItem">
          <a id="division6487" class="division6487_notSelected" href="/browse/subDivision.do?cid=6487&amp;mlink=39813,10323437,MainNav_Baby&amp;clink=10323437">baby</a>
        </li>
        <li class="topNavItem">
          <a id="customtopNavv1043398" class="gol_olapic" href="/browse/info.do?cid=1043398&amp;mlink=5058,10323437,visnav_Olapic&amp;clink=10323437"><span class="gol_socialLink">#gaplove</span></a>
        </li>
        <li class="topNavItem"></li>
      </ul>
    </div><!--/#mainNavGOL-->
    </div>
  </div>
</div>

<div id="topNavBottomBannerContainer" class="clearfix">
    <!--Container 2 OLD PLACEMENT  @Container(containerId:"10000394",isBodyContainer:"true") -->
    <!--Container 3 -->
    <!--Container 4 -->
    <!--Container 5 -->
</div>

<!-- REMOVE AFTER HOLIDAY -->
<div class="bottomBorder"></div>

<script type="text/javascript">
/*HP Top Nav width override */
if( location.pathname == '/browse/home.do' || location.pathname == '/' ) { //widen top nav for HP
     //jQuery('#topNav').attr('style','width:100%;');
     jQuery('#mainNavGOL').attr('style','width:100%;margin:0 auto;max-width:1400px;');
}


jQuery(window).load( function() {
   /* #gaplove on-state */
    if (jQuery('body').hasClass("cid1043398")) {
        jQuery('.gol_olapic').addClass("gaplove_selected");
    }
});
</script>

<!--  ONESITE  Templates -->

</div>

	
</div>
 


		        </div>
		    
	    
        
        <div id="mainContentContainer" class="clearfix">
            <a name="skipNavSideNav"></a>
           	
           		
				
				
					<div id="sideNav">
						




	
		
	
	
			


	
			
			
	
	
	
	











<script type="text/javascript"></script>

<h3 class="cssHide">Side Navigation:</h3>




<div class="LeftNavigationMarketingContentTop">
	
		
		
			
		
	
</div>


	<div id="sideNavFacetsHeader" class="facets-container facet facet_master_header hideMe">
	<!-- @FF Division Facet Code hidden until ready to play. JS is in place in facet manager -->
		<div id="lrCategoryNameHeader" class="category heading categoryNameDiv"></div>
		<div class="category heading categoryItemCountResetDiv">
			<span id="facet_header_item_count" class="totalItemCountDiv"></span>
			<span class="resetAllButton hideMe"><a id="facet_reset_all" href="#" onclick="navigationService.controller.managers.categoryFacetedSearchManager.util.resetAllSelectedOptions(event);navigationService.controller.managers.categoryFacetedSearchManager.controller.filterByFacets();return false;" class="sprite-button sprite-button_reset" alt="???browse.templates.categoryFacetedSearch.text.reset???" title="???browse.templates.categoryFacetedSearch.text.reset???"></a></span>
		</div>
	</div>

	<div id="sideNavFacets" class="facets-container"></div>	



	
	

	
	
	
	 
	
	
		
		
		
		
		




	
		
	
	
			


	
			
			
	
	
	
	






<!-- Web Hierarchy Side Navigation -->

  

  
    
  



	
	<div id="sideNavCategories">
	  <ul class="category">
	  
	      
	          
	          
	      
	      
	        
	          
	            
	            
	          
	          
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        <li class="header firstHeader" id="categoryNav41023">Your Account</li>
	        
	        
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav2301"><a href="/customerService/info.do?cid=2301" class="category">Create Account</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav2302"><a href="/customerService/info.do?cid=2302" class="category">Email Sign Up</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav41209"><a href="/customerService/info.do?cid=41209" class="category">Manage Account</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	          
	            
	            
	              
	          
	          
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        <li class="header" id="categoryNav41135">As You Shop</li>
	        
	        
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav2307"><a href="/customerService/info.do?cid=2307" class="category">Shopping Bag</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav2312"><a href="/customerService/info.do?cid=2312" class="category">Size Charts</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav2328"><a href="/customerService/info.do?cid=2328" class="category">Gift Card Info</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav39233"><a href="/customerService/info.do?cid=39233" class="category">Important Safety Recall</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	          
	            
	            
	              
	          
	          
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        <li class="header" id="categoryNav41137">Purchasing and Ordering</li>
	        
	        
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav2321"><a href="/customerService/info.do?cid=2321" class="category">Placing an Order</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav40958"><a href="/customerService/info.do?cid=40958" class="category">Payment</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav40959"><a href="/customerService/info.do?cid=40959" class="category">Prices, Limits and Taxes</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	          
	            
	            
	              
	          
	          
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        <li class="header" id="categoryNav41024">Order Status, Shipping and Delivery, Backorders</li>
	        
	        
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav2324"><a href="/customerService/info.do?cid=2324" class="category">Shipping and Handling</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav2325"><a href="/customerService/info.do?cid=2325" class="category">Order Status and Tracking</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav57813"><a href="/customerService/info.do?cid=57813" class="category">Backorders</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	          
	            
	            
	              
	          
	          
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        <li class="header" id="categoryNav41144">Changes, Returns and Exchanges</li>
	        
	        
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav2326"><a href="/customerService/info.do?cid=2326" class="category">Online Returns</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav40965"><a href="/customerService/info.do?cid=40965" class="category">Gift and Gift Card Returns</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav40967"><a href="/customerService/info.do?cid=40967" class="category">Changes and Cancellations</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	          
	            
	            
	              
	          
	          
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        <li class="header" id="categoryNav41145">Privacy, Security and Web Info</li>
	        
	        
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	            
	        
	        
	      
	      
	        
	        
	        
	            <li class="categorySelected categoryActive" id="categoryNav2331"><a href="/customerService/info.do?cid=2331" class="categorySelected">Privacy Policy</a>
	      
	        
	      </li>
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav2336"><a href="/customerService/info.do?cid=2336" class="category">Accessibility</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav28795"><a href="/customerService/info.do?cid=28795" class="category">JavaScript</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav6754"><a href="/customerService/info.do?cid=6754" class="category">Terms of Use</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav41118"><a href="/customerService/info.do?cid=41118" class="category">Copyright Infringement Claims</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav7843"><a href="/customerService/info.do?cid=7843" class="category">Contact Us</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav1005456"><a href="/customerService/info.do?cid=1005456" class="category">Ontario Accessibility</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav1006668"><a href="/browse/info.do?cid=1006668" class="category">mobileCookieWriterCS</a></li>
	      
	        
	      
	    
	  
	      
	          
	          
	      
	      
	        
	        
	        
	        
	        
	      
          
	        
	        
	            
	        
	      
	      
	        
	        
	        
	            <li class="category" id="categoryNav1019623"><a href="/customerService/info.do?cid=1019623" class="category">desktopCookieWriterCS</a></li>
	      
	        
	      
	    
	  
	  </ul>
	</div>
	


	






<div class="LeftNavigationMarketingContentBottom">
	
</div>

					</div>
				
			
            <a name="skipNavMainContent"></a>
            <div id="mainContent" class="clearfix">
                <h3 class="cssHide">Main Content:</h3>
                




	
		
	
	
			


	
			
			
	
	
	
	










	
	<div id="CSContentVariant10000734_region1"><!-- @TemplateContentLayout(templateRegionName:"gid.customerService.content.variant.10000734.region1") -->

<style type="text/css">
.wcd_onesite { font-size:16px; }
#previewToggle { box-sizing:border-box; width:100%; max-width:990px; margin:0 auto; }
body #previewToggle, body #previewContent { padding:0; }
body #quickLookWindow, body #productBagError { display:none }
body #topNav { width:100% }
body #bodyContainer { width:100% }
body #mainContentContainer { width:100% }
#mainContentContainer #mainContent { width:100% }
#mainContentBottom { display:none }
#mainContent .header1 { margin:0px 0px 25px 0px; }
#sideNavCategories { display:none; }
#mainContent #CSContentVariant10000734_region1 { width:100%; max-width:990px; min-width:0px; margin:0 auto; }

.csTopicPage { box-sizing:border-box; width:100%; max-width:990px; padding:10px 20px; margin:0 auto; }
.csTopicPage .csTopicNav { float:left; box-sizing:border-box; }
.skavaSite .csTopicPage .csTopicNav { display:none }
.csTopicPage .csTopicLanding { margin-bottom:20px }
.csTopicPage .csTopicLanding .csLandingLink { font-size:22px; color:#333; text-decoration:none; }
.csTopicPage .csTopicLanding .csLandingLink:hover { color:#0073c8; }
.csTopicPage .csTopicNav ul, .csTopicPage .csTopicNav ol { margin:0 0 10px 0; padding-right:20px }
.csTopicPage .csTopicNav li { list-style:none; }
.csTopicPage .csTopicNav li strong { font-size:106.7%; }
.csTopicPage .csTopicNav li a { font-size:86.7%; color:#666; }
.csTopicPage .csTopicNav li a:hover { color:#000; }
.csTopicPage .csTopicNav li a.selected { color:#0073C8; }
.csTopicPage .csTopicSection { padding:10px 0 0; border-top:1px #ccc solid; }
.csTopicPage h3 { margin:10px 0; }
.csTopicPage ul { margin-left:21px; }
.csTopicPage li { padding-bottom:8px; list-style:disc; }
.csTopicPage ol li { list-style:decimal; }
.csTopicPage a { color:#0073C8; text-decoration:none }
.csTopicPage p { margin:0 0 13px; line-height:1.5em; }
.csTopicPage blockquote { margin:0 0 15px 15px }
.csTopicPage table, .csTopicPage th, .csTopicPage td { border-left:none; border-right:1px solid #d5d1cd; border-bottom:1px solid #d5d1cd; padding:10px 8px 10px 8px; text-align:center; line-height:18px; }
.csTopicPage table { width:100%; border-collapse:collapse; border-left:1px solid #d5d1cd; }
.csTopicPage th { color:#666; font-weight:bold; border-bottom:5px solid #d5d1cd; border-top:none; font-size:15px; background:none; border-top:1px solid #d5d1cd; }
.csTopicPage td { font-size:14px; text-align: left; border-top:1px solid #d5d1cd; }

/* Fix for small BP Source Sans font issue */
@media (max-width: 767px) {
	.heading-b_universal, .heading-c_universal { font-family:Helvetica,Arial,Roboto,sans-serif }
}
</style>

<div class="csTopicPage grid-root">
	<div class="g-1-1">
    <div class="body-a_universal">
    	<div class="csTopicLanding"></div>
    	<div class="csTopicNav g-lg-1-5 g-1-1">
      	<div class="show-at-lg"></div>
      </div>
      <div class="csTopicMain g-lg-4-5 g-1-1">
        <!-- BEGIN Content Item File: /content/0010/736/669/cn10736669.html -->
<div id="contentItemContainer10000808" class="10736669">


<div>
	<h2 class="header1 heading-b_universal" id="top">Our Commitment to Privacy</h2>	

	<p">Last Updated: March 7, 2013<p></p>
	
	<h3 class="csTopicSection header3 heading-c_universal">Privacy Policy</h3>

	<p>Gap Inc. and our affiliates and subsidiaries in the U.S. and Canada, including Gap (Canada) Inc. and Old Navy (Canada) Inc. (collectively, "Gap Companies") and our brands, including Gap, Banana Republic, Old Navy, Gap Generation, and other Gap Inc. brands (collectively, our "brands") value our customers and respect your privacy. We collect information about you in our stores and through our websites connected to this policy in an effort to improve your shopping experience and to communicate with you about our products, services, contests and promotions.</p>
  
	<p>This policy describes the personal information we collect about you, why we collect it, how we use it, and when we share it with third parties. Our policy also describes the choices you can make about how we collect, use, and disclose your information. If our information practices change, we will post an updated policy on our website. You can tell if the policy has changed by checking the Last Updated date that appears at the top of this policy. You can browse our site without providing any personal information, but if you choose not to provide us with certain personal information, that may result in your being unable to use certain services or features offered by us.</p>
  
	<p>If you have any questions about our privacy policy, please contact us as described in the section entitled, <a href="#contact">"How do I contact you?"</a> below.</p>
  
	<ul>
		<li><a href="#kind">What kind of personal information do Gap Companies collect? </a></li>
		<li><a href="#use">How do Gap Companies use personal information? </a></li>
		<li><a href="#share">Do Gap Companies share personal information about me? </a></li>
		<li><a href="#access">How do I access or change personal information? </a></li>
		<li><a href="#choices">How do I make choices about personal information? </a></li>
		<li><a href="#collectNonPer">How do Gap Companies collect and use non-personal information?</a></li>
		<li><a href="#collectCookies">How do Gap Companies collect and use cookies and other tracking technologies? </a></li>
		<li><a href="#internetAdvert">How is my information used for behavioural or interest-based advertising?</a></li>
		<li><a href="#IPaddress">How do Gap Companies collect and use IP addresses? </a></li>
		<li><a href="#secure">How do I know personal information about me is secure? </a></li>
		<li><a href="#phishing">What is "phishing"?</a></li>
		<li><a href="#suspicious">I received a suspicious email from a Gap Inc. brand regarding an order I did not place. What should I do?</a></li>
		<li><a href="#jobpost">I responded to an online job posting for a Gap Inc. job that requires me to upload personal financial information. Is this part of your hiring process?</a></li>
		<li><a href="#links">What about links to other websites? </a></li>
		<li><a href="#retain">How long do you retain my information?</a></li>
		<li><a href="#contact">How do I contact you?</a></li>
	</ul>
	
	<h3 class="csTopicSection header3 heading-c_universal" id="kind">What kind of personal information do Gap Companies collect?</h3>
	
  <p>We may collect personal information from you, such as your name, email address, postal address, phone number or credit card number, when you visit one of our websites or stores, place an order online or by phone, make an in-store purchase, save your information with us online, return an item to a store, contact us with a question or concern, or participate in a contest, promotion, or survey. We may maintain a record of your product interests and the purchases you make online or by phone and in our stores. We may combine all of this personal information with personal information about you that we acquire from our joint marketing partners, from unrelated third parties, and from our other brands.</p>
  
	<p>Personal information about you is or may be stored in servers hosted in various countries, including in the United States and Canada.  Your personal information may be subject to the laws of the countries in which it is stored or used, and those countries may have a different data protection regime than the country in which you reside and under the laws of those other countries, in certain circumstances, courts, law enforcement agencies, regulatory agencies or security authorities in those other countries may be entitled to access your personal information. By providing us with any personal information, you consent to the transfer of your personal information to other countries, such as the United States, which may have a different privacy regime from your country of residence.</p>
  
  <p><a href="#top">back to top</a></p>
		
	<h3 class="csTopicSection header3 heading-c_universal" id="use">How do Gap Companies use personal information?</h3>
  
  <p>We may use your personal information in the following ways:</p>
		
	<ul>
    <li>To process and fulfill your order(s), including to send you emails to confirm your order status and shipment</li>
    <li>To process merchandise returns</li>
    <li>To administer and fulfill contests, loyalty programs, and other promotions and programs in which you participate</li>
    <li>To help us address problems with and improve our site design, products and services</li>
    <li>To enhance your shopping experience</li>
    <li>To help us learn more about your shopping preferences</li>
    <li>To understand your shopping interests and purchasing history so that we can tailor offers and promotions to you</li>
    <li>For our internal business purposes, such as to analyze trends and statistics, for audits, to develop new products, to enhance our websites, to improve our services, to identify usage trends and to determine the effectiveness of our promotional campaigns</li>
    <li>To protect the security or integrity of our websites and our business</li>
    <li>To prevent, detect and investigate activity and transactions that are suspicious, fraudulent, or violate our terms of use</li>
    <li>To contact you if necessary regarding your transactions with us, changes to our terms, conditions, and policies and/or for other administrative purposes</li>
    <li>With your consent when required, to communicate with you and to send you information by email, postal mail, telephone, text message, or other means about our products, services, contests, and promotions, unless you have directed us not to contact you with promotional communications</li>
  </ul>

	<p><a href="#top">back to top</a></p>
		
	<h3 class="csTopicSection header3 heading-c_universal" id="share">Do Gap Companies share personal information about me?</h3>
	
  <p>We may share your personal information in the following ways:</p>
		
	<ul>
    <li>Gap Companies. When you provide personal information to one of our Gap Companies, we may share that information with our other Gap Companies so that they may use and disclose it for the purposes described in this privacy policy.</li>
    <li>Service Providers. We engage service providers who manage our customer information and perform services on our behalf, such as fulfilling promotions, sending communications to our customers, conducting surveys, processing credit cards, fulfilling your requests, or helping prevent, detect and investigate fraudulent or suspicious activities and transactions. We require that our service providers appropriately protect personal information and use it only to provide services to us.  These service providers are or may be located in the following countries:  Canada, the United States, Brazil, India, and the United Kingdom.</li>
    <li>Third Parties. We may share your personal information with third party sponsors of contests, promotions, scrip or loyalty programs, or otherwise in accordance with the terms and conditions applicable to any such contests, promotions or programs. You should carefully review any such terms and conditions, as they may contain additional important information about a sponsor's or other third party's use of your personal information. To the extent that the terms and conditions conflict with this privacy policy, the terms and conditions of such contests, promotions and programs shall control.</li>
    <li>Corporate Transactions. In the unlikely event of a reorganization, merger, sale, joint venture, assignment, transfer or other disposition (including without limitation in connection with any bankruptcy or similar proceedings) of all or any portion of the business, assets or stock of the Gap Companies or any of our businesses, personal information about our customers and other information we have collected as described in this policy may be among the transferred business assets and may be shared with other parties.</li>
    <li>Other Disclosures. Gap Companies also may disclose personal information about you in order to: (1) protect the legal rights, privacy or safety of Gap Companies or our employees, agents and contractors; (2) protect the safety and security of visitors to our websites or other properties; (3) protect against fraud or other illegal activity or for risk management purposes; (4) respond to inquiries or requests from government or public authorities in any country in which we operate, including the U.S.; (5) permit us to pursue available remedies or limit the damages that we may sustain; (6) enforce our Terms of Use or the terms and conditions applicable to any contest, promotion or program; or (7) comply with the law or legal process.</li>
  </ul>

	<p><a href="#top">back to top</a></p>
	
	<h3 class="csTopicSection header3 heading-c_universal" id="access">How do I access or change personal information?</h3>
  
	<p>You can contact us as described in the section entitled "How do I contact you?" to request access to or more information about the use of personal information or to ask us to change, update, delete and/or suppress personal information. Please note that certain personal information may be exempt from such access, correction, deletion or suppression rights pursuant to local data protection laws. We will respond as required by applicable law. Further, if we provide functionality on any of our websites that permits you to set up an account on the site, you may log into your account to access and change your personal information.</p>
  
  <p>You must clearly indicate: the information that you wish to have changed; the information that you wish to have suppressed from our database; or the limitations you wish to put on our use of your personal information.</p>
  
  <p><a href="#top">back to top</a></p>
		
	<h3 class="csTopicSection header3 heading-c_universal" id="choices">How do I make choices about personal information?</h3>
  
  <p>Gap Companies and our brands want to communicate with you only if you want to hear from us. If you prefer not to receive promotional information, such as information about special offers and sales events, from one or more of our brands, you can let us know by contacting our customer service as described in the section entitled, "How do I contact you?", below or by following the "opt out" instructions provided in promotional emails sent to you.</p>
  
  <p>Please be sure to include your full name and the email address you used when you registered with or made a purchase from our brand(s). If you ask us to remove your name and address from promotional lists, we will maintain your name in a "do not contact" file in order to honor your request. It may take up to 10 days to process your email request and 6-8 weeks to process your postal mail request, during which period you may continue to receive communications from Gap Companies.</p>
  
	<p>If you change your mind, you can start receiving promotional communications from us again by signing up when you visit our websites or our stores or when you enter a sweepstakes or contest, or by contacting customer service.</p>
  
  <p><a href="#top">back to top</a></p>
		
	<h3 class="csTopicSection header3 heading-c_universal" id="collectNonPer">How do Gap Companies collect and use non-personal information?</h3>
	
  <p>Non-personal information is information that does not identify you. It may include information you have provided to us such as demographic data, for example, your gender, birthday, and personal interests. Non-personal information also includes aggregate information, for example, using personal information to calculate the percentage of our customers who like a particular brand.</p>
  
	<p>When you visit our websites, the Gap Companies collect information that may include your MAC address, your computer type, screen resolution, OS version, Internet browser, IP address (as further described below), cookies (as further described below), pixel tags, web beacons, and other similar technologies (as further described below) to better serve you with more tailored information and facilitate your ongoing use of our websites.</p>
  
	<p>The Gap Companies may use non-personal information and share non-personal information with other third parties for any purpose. The Gap Companies may combine non-personal information with personal information, such as combining your geographic location with your name, but if we do this the information will be treated by us as personal information for so long as it is combined.</p>
  
  <p><a href="#top">back to top</a></p>
		
	<h3 class="csTopicSection header3 heading-c_universal" id="collectCookies">How do Gap Companies collect and use cookies and other tracking technologies?</h3>
	
  <p>Our websites use "cookies," which are small data files that are stored on your computer when you visit a website. Cookies may be used in a variety of ways to enhance or personalize your online experience. For example, we may use cookies to enable you to use certain website features, store your preferences, recognize you when you return to our website, and monitor and maintain information about your use of our websites. Cookies may also be used to collect transaction information needed by a scrip or loyalty program to which you have authorized us to provide your personal information. (See the section entitled, "Do Gap Companies share my information?", above.) You can set your browser not to accept cookies or to notify you when you are sent a cookie, giving you the opportunity to decide whether or not to accept it. If you do not accept cookies, however, certain features of our websites may not be available to you. To learn more about cookies, please visit <a href="http://www.allaboutcookies.org/">http://www.allaboutcookies.org/</a>.</p>
	
  <p>We also use "pixel tags" (also called "web beacons" or "clear gifs"), which are tiny graphic images, and other similar technologies on our websites and in our emails. Pixel tags help us analyze our customers' online behavior and measure the effectiveness of our websites and our advertising. We work with service providers that help us track, collect, and analyze this information. Pixel tags on our sites may be used to collect information about your visit, including the pages you view, the features you use, the links you click, and other actions you take in connection with the sites. This information may include your browser type, your operating system, date and time information, and other technical information about your computer. We may also track certain information about the identity of the website you visited immediately before coming to our site. Pixel tags and cookies in our emails may be used to track your interactions with those messages, such as when you receive, open, or click a link in an email message from us.</p>
  
  <p>We may combine the information we collect through cookies and pixel tags with other information we have collected from and about you. This information may be used to improve our websites, to personalize your online experience, to tailor our communications with you, to determine the effectiveness of our advertising, to understand your preferences and for other internal business purposes.</p>
  
  <p><a href="#top">back to top</a></p>
		
	<h3 class="csTopicSection header3 heading-c_universal" id="internetAdvert">How is my information used for behavioural or interest-based advertising?</h3>
  
  <p>We work with third-party companies that use tracking technologies (including cookies and pixel tags) on our websites in order to provide tailored advertisements on our behalf and on behalf of other advertisers across the Internet. These companies may collect information about your activity on our sites and your interaction with our advertising and other communications and use this information to determine which ads you see on third-party websites and applications. For more information about this practice and to understand your your options, including how you can opt-out of receiving third-party behavioural ads, please visit the Digital Advertising Alliance website as <a href="http://www.aboutads.info">http://www.aboutads.info</a>.</p>
  
  <p><a href="#top">back to top</a></p>
	
	<h3 class="csTopicSection header3 heading-c_universal" id="IPaddress">How do Gap Companies collect and use IP addresses? </h3>
	
  <p>Your IP address is a number that is automatically assigned to your computer by your Internet Service Provider (ISP). This number is logged automatically in our server log files whenever you visit our websites, along with the time of your visit and the pages that you visited. It is also collected by pixel tags, as described above. Collecting IP addresses is standard practice on the Internet and is done automatically by many websites.</p>
  
	<p>We may use IP addresses for the same purposes for which we use personal information, as well as for calculating website usage levels, helping diagnose server problems, and administering our websites and your use of our websites including providing opportunities to you and fulfilling your requests and purchases. Except where otherwise required by law, we treat IP addresses, server log files and related information as non-personal information.</p>
  
  <p><a href="#top">back to top</a></p>
		
	<h3 class="csTopicSection header3 heading-c_universal" id="secure">How do I know personal information about me is secure?</h3>
	
  <p>We do our best to provide you with a safe and convenient online experience. We have in place physical, electronic, contractual, and managerial safeguards to help protect the security and privacy of your personal information from unauthorized access, acquisition or disclosure. When you enter your personal information on our websites, we use Secure Sockets Layer (SSL) technology to protect your personal information as it is transmitted to us.</p>
  
	<p>Unfortunately, no data transmission over the Internet or data storage system can be guaranteed to be 100% secure. Please do not send us sensitive information through email. If you have reason to believe that your interaction with us is no longer secure, you must immediately notify us of the problem by contacting us as described in the section entitled, "How do I contact you?" below. If you choose to notify us by physical mail this will delay the time it takes for us to respond to the problem.</p>
  
  <p><a href="#top">back to top</a></p>
	
	<h3 class="csTopicSection header3 heading-c_universal" id="phishing">What is "phishing"?</h3>
  
	<p>"Phishing" is a scam designed to steal your personal information. If you receive an email that looks like it is from us asking you for your personal information, do not respond. We will never request your password, user name, credit card information or other personal information through email.</p>

	<p><a href="#top">back to top</a></p>
	
	<h3 class="csTopicSection header3 heading-c_universal" id="suspicious">I received a suspicious email from a Gap Inc. brand regarding an order I did not place. What should I do?</h3>

	<p>We are aware of phony emails sent out under our brand names. These emails did not originate from Gap Inc., and individuals who received fraudulent order status emails have not been charged. For your protection, do not click links or open any files attached to suspicious, unsolicited emails. If you believe your personal computer has been compromised as a result of the scam, please consult an IT professional.  For more information, contact the FBI's Internet Crimes Complaint Center: <a href="http://www.ic3.gov/default.aspx" target="_blank">http://www.ic3.gov/default.aspx</a>. We work with law enforcement on their investigations of these kinds of fraudulent emails.</p>

	<p><a href="#top">back to top</a></p>
	
	<h3 class="csTopicSection header3 heading-c_universal" id="jobpost">I responded to an online job posting for a Gap Inc. job that requires me to upload personal financial information. Is this part of your hiring process?</h3>

	<p>No. Gap Inc. does not ask prospective job applicants for information about their bank accounts, credit history or passwords to financial accounts. If you are asked for personal financial or security information in response to a job application, this is likely a fraudulent job listing hosted by spammers posing as Gap Inc. to mislead job applicants. You can validate all Gap Inc. job postings on gapinc.com/careers. Spammers also create phony aliases such as thegap-usa.com to mimic our company and/or brand names in an effort to commit identity theft or other forms of fraud. If you receive this type of suspicious email activity, please alert the Government of Canada's Canadian Anti-Fraud Centre at <a href="mailto:info@antifraudcentre.ca" target="_blank">info@antifraudcentre.ca</a></p>

	<p><a href="#top">back to top</a></p>
	
	<h3 class="csTopicSection header3 heading-c_universal" id="links">What about links to other websites?</h3>
  
  <p>For your convenience and information, our websites may contain links to other sites, which may have privacy practices and policies that differ from our own. We are not responsible for the content or practices of any linked site. We recommend that you review the privacy policy of any site that you access through our sites. The inclusion of a link to a third-party site on our websites does not imply that any of the Gap Companies endorses the site.</p>
  
  <p><a href="#top">back to top</a></p>
  
	<h3 class="csTopicSection header3 heading-c_universal" id="retain">How long do you retain my information?</h3>
	
  <p>We will retain your personal information for the period necessary to fulfill the purposes outlined in this policy unless a longer retention period is required or permitted by law.</p>
  
  <p><a href="#top">back to top</a></p>
  
	<h3 class="csTopicSection header3 heading-c_universal" id="contact">How do I contact you?</h3>
	
  <p>To make choices about receiving promotional communications, to update or change personal information about you in our databases or to request that we delete or suppress your personal information, please contact our brands by email, telephone, or postal mail as listed below.  If you have other questions about our privacy policy, please direct your communication to "ATTN: Canada Privacy Officer."</p>
  
  <p><a href="#top">back to top</a></p>
  
	<p>Gap Canada Customer Service<br>13153 Coleraine Dr.<br>Bolton, ON L7E 3B6<br>Canada<br><a href="tel:18004277895">1-800-GAPSTYLE (1-800-427-7895)</a><br><a href="tel:18889061104">1-888-906-1104</a> (TDD hearing impaired - English)<br><a href="tel:18667408344">1-866-740-8344</a> (TDD hearing impaired - French)<br><a href="mailto:custserv@gapcanada.ca">custserv@gapcanada.ca</a></p>

	<p>Banana Republic Canada Customer Service<br>13153 Coleraine Dr.<br>Bolton, ON L7E 3B6<br>Canada<br><a href="tel:18882778953">1-888-BR STYLE (1-888-277-8953)</a><br><a href="tel:18889061104">1-888-906-1104</a> (TDD hearing impaired - English)<br><a href="tel:18667408344">1-866-740-8344</a> (TDD hearing impaired - French)<br><a href="mailto:custserv@bananarepublic.ca">custserv@bananarepublic.ca</a></p>
  
	<p>Old Navy Canada Customer Service<br>13153 Coleraine Dr.<br>Bolton, ON L7E 3B6<br>Canada<br><a href="tel:18006536289">1-800-OLD-NAVY (1-800-653-6289)</a><br><a href="tel:18889061104">1-888-906-1104</a> (TDD hearing impaired - English)<br><a href="tel:18667408344">1-866-740-8344</a> (TDD hearing impaired - French)<br><a href="mailto:custserv@oldnavy.ca">custserv@oldnavy.ca</a></p>
</p"></div>


</div>
<!-- END Content Item File: /content/0010/736/669/cn10736669.html -->

        
        
        
        
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
var wcdCsLeftnav = {
	csTitleText: 'Customer Service',
	csLandingCid: '2136',
	csData: [
		{ "csSectionTitle": "Your Account",
			"csLinks": [
				{ "name": "Create Account", "cid": "2301" },
				{ "name": "Email Signup", "cid": "2302" },
				{ "name": "Manage Account", "cid": "41209" }
			]
		},
		{ "csSectionTitle": "As You Shop",
			"csLinks": [
				{ "name": "Shopping Bag", "cid": "2307" },
				{ "name": "Size Charts", "cid": "2312" }
			]
		},
		{ "csSectionTitle": "Purchasing and Ordering",
			"csLinks": [
				{ "name": "Placing an Order", "cid": "2321" },
				{ "name": "Payment", "cid": "40958" },
				{ "name": "Prices, Limits and Taxes", "cid": "40959" }
			]
		},
		{ "csSectionTitle": "Order Status, Shipping and Delivery, Backorders",
			"csLinks": [
				{ "name": "Shipping &amp; Handling", "cid": "2324" },
				{ "name": "Order Status &amp; Tracking", "cid": "2325" }
			]
		},
		{ "csSectionTitle": "Changes, Returns and Exchanges",
			"csLinks": [
				{ "name": "Online Returns", "cid": "2326" },
				{ "name": "Gift &amp; Gift Card Returns", "cid": "40965" },
				{ "name": "Changes and Cancellations", "cid": "40967" }
			]
		},
		{ "csSectionTitle": "Privacy, Security and Web Info",
			"csLinks": [
				{ "name": "Privacy Policy", "cid": "2331" },
				{ "name": "Accessibility", "cid": "2336" },
				{ "name": "Javascript", "cid": "28795" },
				{ "name": "Terms of Use", "cid": "6754" },
				{ "name": "Contact Us", "cid": "7843" }
			]
		}
	],
	init: function() {
		jQuery(document).ready(function(e) {
			var leftnavStr = '';
			var csSection = null;
			var csTopic = null;
			var currentCid = gidLib.getQuerystringParam('cid');
			jQuery('.csTopicLanding').append('<a href="/customerService/info.do?cid=' + wcdCsLeftnav.csLandingCid + '" class="csLandingLink">‹ ' + wcdCsLeftnav.csTitleText + '</a>');
			for( var i=0; i < wcdCsLeftnav.csData.length; i++ ) {
				csSection = wcdCsLeftnav.csData[i];
				leftnavStr += '<ul><li><strong>' + csSection.csSectionTitle + '</strong></li>';
				
				for( var j=0; j < csSection.csLinks.length; j++ ) {
					csTopic = csSection.csLinks[j];
					if( currentCid == csTopic.cid ) {
						leftnavStr += '<li><a href="/customerService/info.do?cid=' + csTopic.cid + '" class="selected">' + csTopic.name + '</a></li>';
					}
					else {
						leftnavStr += '<li><a href="/customerService/info.do?cid=' + csTopic.cid + '">' + csTopic.name + '</a></li>';
					}
				}
				leftnavStr += '</ul>';
			}			
			jQuery('.csTopicNav div').append( leftnavStr );
    });
	}		
}
wcdCsLeftnav.init();  

jQuery(document).ready( function()  {
	jQuery('#mainContent').addClass('wcd_onesite');
	if( jQuery("#contentItemContainer10000808").length > 0 ){
		jQuery('h2').addClass('heading-b_universal');
		jQuery('h3').addClass('heading-c_universal');
		jQuery('h4').addClass('heading-c_universal');
		jQuery('li').css('line-height','1.5em');
		jQuery('p').css('line-height','1.5em');
		jQuery('.csContentPage').addClass('body-a_universal');
		jQuery('.csContentPage span').addClass('body-a_universal');
	}
});

if( location.hostname.substr(0,2) == 'm.' ) {
	document.body.className += ' skavaSite';
}
</script>
</div>
	
	            <div id="mainContentBottom">
	                
	            	




	
		
	
	
			


	
			
			
	
	
	
	







	            </div>
            </div>
        </div>
        
            
                <a name="skipNavFooter"></a>
                <div id="footer">
                    




	
		
	
	
			


	
			
			
	
	
	
	












	
<div id="footer_BrandContainer">
	<div id="footer_brand_region1"><!-- @TemplateContentLayout(templateRegionName:"gid.common.siteWide.brand.footers.region1") -->
<!-- CIID:11495270 Gap CA En - Footer Region -->

<style type="text/css">

/* BEGIN OVERRIDE globalOptimized.css */
#topNav,
#productBagError,
#footer #footer_GID_marketing,
#footer #footer_TextLinkNavigation {
	max-width: 100%;
}
#footer #footer_BrandContainer {
	width: 100%;
}
#footer a:link,
#footer a:visited,
#footer a:active {
	color: inherit;
}
/* END OVERRIDE globalOptimized.css */

/* BEGIN OVERRIDES searchDexFooter */
#searchDexFooter {
	border-top: none;
	padding-left: 1em;
	padding-right: 1em;
	padding-top: 1.5em;
}
#searchDexFooter .searchDexBrand {
	/* Add some buffer space between brand logos on narrow screens */
	margin-bottom: 12px !important;	/* overrides inline style tag */
}
@media only screen and (min-width:768px) {
	#searchDexFooter {
		padding-top: 1.5em;
	}
}
/* END OVERRIDES searchDexFooter */

/* BEGIN Hide the eCom Language Toggle, so we can replace it with our own */
#footer_languageToggle {
	display: none;
}
/* END Hide the eCom Language Toggle, so we can replace it with our own */

/* BEGIN utility classes */
.footer-region-container .u-nowrap {
	white-space: nowrap;
}
.footer-region-container .sitewidth {
	width: 1400px;	/* based on site nav width */
}
.footer-region-container .sitewidth-max {
	max-width: 1400px;	/* based on site nav width */
}
.footer-region-container .sp_horizontal_auto {
	margin-left: auto;
	margin-right: auto;
}
.footer-region-container .sp_xxl {
	margin-bottom: 3em;
}
.footer-region-container .pd_edges {
	padding-left: 1em;
	padding-right: 1em;
}
.footer-region-container .pd_xl {
	padding-bottom: 2em;
}
.footer-region-container .pd_top_xl {
	padding-top: 2em;
}
/* END utility classes */

.footer-region-container {
	font-size: 16px;	/* base font size */
}
.footer-region-container .heading-b {
	line-height: 1.2;
}
</style>

<div id="brandFooter_Region1" class="footer-region-container onesite grid-root">
	<div id="brandftr1_10000512" class="g-1-1 clearfix hide-at-lg"><!-- BEGIN Content Item File: /content/0010/099/207/cn10099207.html -->
<div id="contentItemContainer10000512" class="10099207">

<!-- CIID: 10099207 Gap CA En Medium and Small Footer -->
<style>

/* BEGIN OVERRIDE gap.css */
.accordion {
	margin: 0;
}
/* END OVERRIDE gap.css */

.footer-item {
	color: #333;
	padding: 1em .5em;
}

.accordion {
  margin-top: 0;
}
.accordion--trigger .footer-item {
  padding-left: 5px; /* compensate for the pseudo-elements widths so that the text lines up with non-accordion items */
}
.accordion--content .g-1-1 {
  border-top: 1px solid #eee;
  padding: .5em .5em .5em 1.5em;
}

h2.footer-item,
.accordion--trigger h2 {
	font-size: 13.5px;  /* Needs a hard pixel setting to override (absurd) font-size: 106.7% attribute in gap_common.css - CF */
	line-height: 1;
	color: #333;
	font-weight: 700;
	text-transform: uppercase;
}
.footer-line {
	border-top: solid 2px #EEE;
}
.footer_mobile_emailsignup,
.footer_mobile_smssignup {
	text-align: center;
}
.footer_mobile_main img {
	max-width: 100%;
}
.footer_mobile_main .flyoutMenu {
	width: 100%;
	cursor: pointer;
	margin: 0 auto;
	padding: 17px 0;
	position: relative;
	border: none;
	background-color: #000d42;
	color: #ffffff;
}
.footer_mobile_main .flyoutMenu .flyoutCTA {
	text-align: center;
	font-family: 'helvetica',Arial,Helvetica,sans-serif;
	font-size: 16px;
	font-weight: bold;
	text-transform: uppercase;
	letter-spacing: 1px;
	line-height: normal;
}
.footer_mobile_main .link-arrow {
	width: 0;
	height: 0;
	border-top: 5px solid transparent;
	border-bottom: 5px solid transparent;
	border-left: 10px solid white;
	margin: 0 0 0px 7px;
	display: inline-block;
}
.footer_mobile_others {
	background-color: #000d42;
	color: white;
	text-align: center;
	font-size: 12px;
	padding: 1.5em .5em 1em;
}
.footer_mobile_others a {
	white-space: nowrap;
}
.footer_mobile_others a:link,
.footer_mobile_others a:visited,
.footer_mobile_others a:active{
	color: white;
}
.footer_mobile_main a:link,
.footer_mobile_main a:visited,
.footer_mobile_main a:active,
.footer_mobile_main a:hover {
	text-decoration: none;
}
.footer_mobile_copyright p {
	font-size: 0.8em;
	line-height: 1.8em;
}
.footer-lang-toggle p {
	color: #fff;
	text-align: center;
}

</style>

<div class="footer_mobile_main">

	<div class="footer_mobile_emailsignup">
		<a href="/profile/info.do?cid=98143&amp;mlink=39813,10281817,MOB_HP_Email_Signup&amp;clink=10281817" class="needsclick">
			<img src="/Asset_Archive/GPWeb/content/0010/281/817/assets/assetsVNav/090815_mobile_HP_EmailSignup30_EC.gif" alt="email sign up" class="needsclick">
			<div class="flyoutMenu newArr needsclick">
				<div class="inner-flyout needsclick">
					<div class="flyoutCTA needsclick">Sign up now <span class="link-arrow needsclick"></span></div>
				</div>
			</div>
		</a>
	</div><!-- /.footer_mobile_emailsignup -->

	<div class="footer_mobile_smssignup">
		<a href="sms:36888?body=YES" class="SMSsignup needsclick">
			<img class="nav needsclick" src="/Asset_Archive/GPWeb/content/0010/281/817/assets/assetsVNav/100715_SMS_mobile_HP_EC_wbutton.gif" alt="SMS signup">
		</a>
	</div><!-- /.footer_mobile_smssignup -->

	<div class="footer-mobile-links grid-root">
		<div class="g-1-1 footer-line">
			<a href="/customerService/storeLocator.do" onclick="return contentItemLink(this,'','CS_Footer_StoreLocator');">
				<h2 class="footer-item">Store Locator</h2>
			</a>
		</div>
		<div class="g-1-1 footer-line">
			<a href="/customerService/info.do?cid=2136" onclick="return contentItemLink(this,'','CS_Footer_CustomerService');">
				<h2 class="footer-item">Customer Service</h2>
			</a>
		</div>
		<div class="g-1-1 footer-line">
			<a href="/profile/order_history.do?isNav=true">
				<h2 class="footer-item">Orders &amp; Returns</h2>
			</a>
		</div>
		<div class="accordion g-1-1 footer-line" data-bind="accordion: { animated: true }">
			<div class="accordion--group">
				<button class="accordion--trigger">
					<h2 class="footer-item">Gift Cards</h2>
				</button>
				<div class="accordion--content">
					<div class="g-1-1">
						<a onclick="return wcdLib.contentItemLinkWithFacet(this,'','Footer_1_GC');" href="/customerService/info.do?cid=2116">
							<h2 class="footer-item-content">Buy Gift Cards</h2>
						</a>
					</div>
				</div>
			</div>
		</div>
		<div class="accordion g-1-1 footer-line" data-bind="accordion: { animated: true }">
			<div class="accordion--group">
				<button class="accordion--trigger">
					<h2 class="footer-item">SHOP OUR OTHER BRANDS</h2>
				</button>
				<div class="accordion--content">
					<div class="g-1-1">
						<a href="http://oldnavy.gapcanada.ca/">
							<h2 class="footer-item-content">Old Navy</h2>
						</a>
					</div>
					<div class="g-1-1">
						<a href="http://bananarepublic.gapcanada.ca/">
							<h2 class="footer-item-content">Banana Republic</h2>
						</a>
					</div>
				</div>
			</div>
		</div>
	</div><!-- /.footer-mobile-links -->

</div><!-- /.footer_mobile_main -->

<div class="footer_mobile_others">
	<div class="footer-lang-toggle g-1-1">
		<p class="body-a"><strong>English</strong>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="javascript:gidLib.localeUtils.toggleLocale('fr_CA');">Français</a></p>
	</div>
	<div class="footer_mobile_downloadapp g-1-1">
		<a href="https://itunes.apple.com/us/app/gap/id326347260?mt=8"><h3>Download our App</h3></a>
	</div>
	<div class="footer_mobile_copyright g-1-1">
		<p>© 1997 - <span class="currentYearFooter"></span> Gap Inc. | <a href="/customerService/info.do?cid=2331" onclick="return contentItemLink(this,'','CS_Footer_PrivacyPolicy');">Privacy Policy</a> | <a href="/customerService/info.do?cid=6754" onclick="return contentItemLink(this,'','CS_Footer_TermsOfUse');">Terms of Use</a></p>
		<p><a href="/customerService/info.do?cid=1005563">Accessibility for Ontarians with Disabilities Act</a></p>
	</div>
</div><!-- /.footer_mobile_others -->


</div>
<!-- END Content Item File: /content/0010/099/207/cn10099207.html -->
</div>
	<div id="brandftr2_10000514" class="g-1-1 clearfix hide-at-md"><!-- BEGIN Content Item File: /content/0011/580/835/cn11580835.html -->
<div id="contentItemContainer10000514" class="11580835">

<!-- CIID: 10188346 Gap CA En -->
<div id="freeShipBanner" style="width: 100%; margin-top: 20px; background-color: #FFF;">
	<a class="needsclick toggle-universal-modal" data-title="&nbsp;" data-url="/browse/info.do?cid=47471" data-modal-size="standard" data-action-sheet="small" href="#edfs">
		<img src="/Asset_Archive/GPWeb/content/0011/580/835/assets/041216_ALL_footer_EDFS_EC.gif" class="block" style="max-width: 100%; margin: 0 auto;" alt="Free shipping on all orders over $50.">
	</a>
</div>


</div>
<!-- END Content Item File: /content/0011/580/835/cn11580835.html -->
</div>	
	<div id="brandftr3_10000513" class="g-1-1 clearfix"><!-- BEGIN Content Item File: /content/0010/249/364/cn10249364.html -->
<div id="contentItemContainer10000513" class="10249364">



</div>
<!-- END Content Item File: /content/0010/249/364/cn10249364.html -->
</div>
	<div id="brandftr4_10000510" class="g-1-1 clearfix"><!-- BEGIN Content Item File: /content/0011/689/896/cn11689896.html -->
<div id="contentItemContainer10000510" class="11689896">

<!-- Implements CORS for IE8/IE9 -->
<script type="text/javascript" src="/Asset_Archive/GPWeb/content/0011/689/896/assets/jquery.xdomainrequest.min.js"></script>

<!-- sitewide Olapic API wrapper -->
<link rel="stylesheet" type="text/css" href="/Asset_Archive/GPWeb/content/0011/689/896/assets/slick/slick.css">
<link rel="stylesheet" type="text/css" href="/Asset_Archive/GPWeb/content/0011/689/896/assets/slick/slick-theme.css">
<script type="text/javascript" src="/Asset_Archive/GPWeb/content/0011/689/896/assets/slick/slick.min.js"></script>

<!-- Sitewide OLAPIC Lightbox -->
<style>
#hpSocial {display:none;}
#shop-social-popup {
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  width: 970px;
  height: 560px;
  margin-top: -300px;
  margin-left: -487px;
  border: 1px solid #999;
  box-shadow: 6px 6px 6px #CCC;
  z-index: 600;
  background-color: #FFF;
  letter-spacing:normal;
  font-size: 10px;
}

#shop-social-popup-cover {
  display: none;
  background-color: rgba(125,125,125,0.75);
  width:100%;
  height:100%;
  position:fixed;
  z-index:5000;
}

#shop-social-popup-inner { position: relative; width: 100%; height: 100%; margin-top: 24px; }

#popup-left-col {
  width: 475px;
  height: 95%;
  margin-left: 15px;
  float: left;
}

#popup-left-col .o-ugc-image {
  height: 417px;
  width:  415px;
  float: left;
  background-size: contain;
  background-repeat: no-repeat;
  margin-left: 5px;
  background-position: 50% 50%; 
}

#popup-right-col {
  width: 440px;
  height: 515px;
  overflow: hidden;
  float: left;
  text-align: center;
  background: none repeat scroll 0 0 #FFF;
  position: relative;
  box-sizing: border-box;
}

.o-br-shop-this-look { 
  display: block;
  width: 440px;
  height: 33px;
  text-align: center;
  margin-top: 70px;
  margin-bottom: 10px;
 }

#popup-right-col-scroller {
  height: 250px;
  /* width: 440px; */
  overflow: hidden;
  position: relative;
  margin-bottom: 20px;
  margin-top: 20px;
}

.noProductsMsg {
  display:none;
  width: 250px; 
  height: 220px;
  text-align: center;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; 
  font-size: 1.5em; 
  color: #000; 
  position: relative;
  margin: 50px auto 0;
}

.noProductsMsg p{
  line-height: 1.5em;
}


/* SLICK SCROLLER STYLES */
#popup-right-col-scroller .slick-prev { position:relative; float:left; display:none !important; }
#popup-right-col-scroller .slick-next {
    background-image: url('/Asset_Archive/GPWeb/content/0011/689/896/assets/GAP_olapic_ShoppablePopUp2orMore_desktop_more.png') !important;
    background-repeat: no-repeat !important;
    width:44px !important;
    height:11px !important;
    margin-top: -58px !important;
    margin-right: 25px  !important;
}
#popup-right-col-scroller .slick-slider { margin-bottom: 0;}
#popup-right-col-scroller .slick-list { padding-left: 40px; }

.taggedProduct { margin-bottom: 28px; display: inline-block;position: relative;vertical-align: top; /*border-top: 1px solid #000; border-bottom: 1px solid #000;*/ }
.o-product-price { text-align: center; }
.o-product-url { text-align: center; }
.o-product-name { text-align: center; font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; font-size: 1.3em; padding-top: 5px; color: #231f20; }
.o-ugc-uploader-area { margin: 10px 0px; text-decoration: none; text-align: center; font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; font-weight: 300; font-size: 1.4em; color: #333; }
.o-ugc-uploader { margin: 10px 0px; text-decoration: none; text-align: center; }
.o-ugc-uploader a { text-decoration: none; font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; font-weight: 700; font-size: 1.4em; color: #231f20; }
.o-ugc-uploader a:hover { text-decoration: underline; color: #999; }
.o-gp-social-share { text-align: center; }
.o-gp-social-share img { margin-top:20px; }
.o-lightbox-keyline {border-top: 1px solid #000; width: 50%; margin: 0 auto;}
.o-upload-photos-button { text-align: center; }
.o-ucg-uploader-social img { 
  width: 10px; 
  height: 10px;
}

.o-ugc-prev-image {
  position: relative;
  width: 25px;
  float: left;
  margin-top: 200px;
}

.o-ugc-next-image {
  position: relative;
  width: 25px;
  float: left; 
  margin-left: 5px;
  margin-top: 200px;
}

#button-x-close {
  background-image: url(/Asset_Archive/GPWeb/content/0011/689/896/assets/close.png);
  background-repeat: no-repeat;
  display: block;
}

#shop-social-popup .o-credit { position: absolute; bottom: 30px; right: 5px; color: #CCC; font-size: 1em; }
#shop-social-popup .o-credit a { font-size: 1em; color: #CCC; text-decoration: none; }
#shop-social-popup .o-credit a:hover { text-decoration: none; color: #000; }
#shop-social-popup .o-credit img { width: 20px; margin-right: 5px; }


/* Olapic Photo Uploader */
#uploader-popup {
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  width: 970px;
  height: 530px;
  margin-top: -270px;
  margin-left: -487px;
  border: 1px solid #999;
  box-shadow: 6px 6px 6px #CCC;
  z-index: 100;
  background-color: #FFF;
}

#uploader-popup-inner { position: relative; width: 100%; height: 100%; margin-top: 10px; }

/* UGC Report Window */
#o-ugc-report-popup {

}

/* PRODUCT PAGE STYLES */
#olapic-product-page-container {
  border-bottom: 2px solid #000;
  border-top: 2px solid #000;
  display: block;
  float: left;
  margin-bottom: 20px;
  margin-top: 10px;
  padding-bottom: 10px;
  position: relative;
  text-align: center;
  width: 260px;
}


.o-product-page-ugc-image-container {
  position: relative;
  overflow: hidden;
  margin: 20px auto 0 auto;
  /* border-radius: 4px; */
  width:260px;
  height:260px;
}

.o-product-page-ugc-image-container ul {
  position: relative;
  margin: 0;
  padding: 0;
  height: 260px;
  list-style: none;
}

.o-product-page-ugc-image-container ul li {
  position: relative;
  display: block;
  float: left;
  margin: 0;
  padding: 0;
  width: 260px;
  height: 260px;
  text-align: center;
  /* line-height: 300px; */
}

.o-product-page-ugc-image {
  width: 260px;
  /*height: 260px;*/
  margin-top: 40px;
  /*background-size: contain;
  background-repeat: no-repeat;*/
}

.o-product-page-ugc-img {
  width: 260px;
  /*height: 260px;*/
}

.o-product-page-ugc-img-url {
  width: 260px;
  /*height: 260px;*/
}

.o-product-page-header {
  float: left;
}

.o-product-page-upload-photos-btn {
  margin-top: 13px;
}

.o-product-page-footer {
  margin-top:10px;
}

.o-product-page-footer-br-copy {
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-size: 1.35em;
  color: #333;
  padding-top: 5px;
  text-align: center;
}

.o-product-page-footer-olapic-copy {
  float: right;
}

.o-product-page-footer-br-assets img {
  width:80%;
  padding-top: 10px;
}

.o-product-prev-btn, .o-product-next-btn {
  display: none; 
}

.o-product-prev-btn {
  left: -1%;
  position: absolute;
  top: 38%;
  z-index: 50;
}
.o-product-next-btn {
  left: 93%;
  position: absolute;
  top: 38%;
  z-index: 50;
}

/*NEW PRODUCT PAGE WIDGET */
.wcd-olapicContent-footer{
  display: none;
}

.olapic-headline-ftr {
    color: #666;
    font-weight: 700;
    font-size: 1.5em; /*Seg A */
}

.olapic-header-ftr {
  color: #000;
  line-height: 0.2em; /*Seg A */
  font-size: 1.8em; /*Seg A */
  font-weight: 700;

}

.uploadCTA-ftr {
    cursor: pointer;
    display: inline-block;
    font-weight: bold;
    text-transform: uppercase;
    z-index: 10;    
    padding: 5px 5px;
    text-decoration: none;    
    background: transparent none repeat scroll 0 0;
}
.uploadbtnImg-ftr {
    margin-top: 30px;
    border: 2px solid #000;
    color: #000;
}

.uploadbtn-caret-ftr {
    margin-top:2px;
    margin-left: 2px;
    border-color: transparent transparent transparent #000;
    border-style: solid;
    border-width: 4px 4px 4px 4px;
    content: "";
    display: inline-block;
    height: 0;
    vertical-align: top;
    width: 0;
}

.olapic-nav-prev-ftr {
    display: block;
    float: left;
    height: 100%;
    width: 17px;
    background-image: url("/Asset_Archive/GPWeb/content/0010/316/454/assets/LFTarrow.png");
    background-position: 50% 50%;
    background-repeat: no-repeat;
    left: 3px;
    position: absolute;
    z-index: 10;
    cursor: pointer;
}

.olapic-nav-next-ftr {
    display: block;
    float: left;
    height: 100%;
    width: 17px;
    background-image: url("/Asset_Archive/GPWeb/content/0010/316/454/assets/RTarrow.png");
    background-position: 50% 50%;
    background-repeat: no-repeat;
    position: absolute;
    right: 0;
    z-index: 10;
    cursor: pointer;
}

.o-UGC-container-footer {
  position: relative;
  height: 200px;
  overflow: hidden;

}

.noUGC-message-ftr {
  background: url('/Asset_Archive/GPWeb/content/0010/845/293/assets/030316_OLA_PP_Widget_mobile.jpg');
  background-size: cover;
  width:200px;
  height:200px;
  margin-top: 1.0em;
}

.o-UGC-content {      
  position: absolute;
    top: 0;
    left: 0;
}

.o-UGC-content ul {
  position: relative;
  margin: 0;
  padding: 0;
  list-style: none;
}

.o-UGC-content ul li {
  position: relative;
  display: block;
  float: left;
  margin: 0;
  padding: 0;
  width: 200px;
  height: 200px;
  text-align: center;
  padding:.3em;
}

.o-product-ugc-img {
    width: 200px;
}
</style>

<!-- BEGIN: OLAPIC POPUP -->
<div id="shop-social-popup" data-media-id="">
  <div id="shop-social-popup-inner">
    <a href="javascript:void(0);" id="button-x-close" style="display: block; width: 21px; height: 21px; position: absolute; top: -13px; right: 14px; z-index: 50;" onclick="closeShopSocialPopUp();"></a>
    <div id="popup-left-col">
      <div class="o-ugc-uploader"><span class="o-ucg-uploader-social"></span> Photo by <a href="javascript:void(0)" target="_blank"></a></div>
      <div class="o-ugc-prev-image"><a class="br-photostream-prev" href="#"><img src="/Asset_Archive/GPWeb/content/0011/689/896/assets/Lightbox-PrevArrow-72.png" alt="previous arrow"></a></div>
      <div class="o-ugc-image"></div>
      <div class="o-ugc-next-image"><a class="br-photostream-next" href="#"><img src="/Asset_Archive/GPWeb/content/0011/689/896/assets/Lightbox-NextArrow-72.png" alt="next arrow"></a></div>
      <div class="o-gp-social-share">
        <img src="/Asset_Archive/GPWeb/content/0011/689/896/assets/GAP_olapic_ShoppablePopUp2orMore_desktop_icons.png" alt="care to share" usemap="#careToShare_links">
          <map name="careToShare_links">  
            <area shape="rect" coords="0,0,15,16" id="careToShare_fbLink" href="#" target="_blank" alt="share on facebook">
            <area shape="rect" coords="25,0,55,16" id="careToShare_twitterLink" href="#" target="_blank" alt="share on twitter">
            <area shape="rect" coords="62,0,80,16" id="careToShare_pinterestLink" href="#" target="_blank" alt="share on pinterest">
            </map>
      </div>

      <!--<div class="o-prev-next-test-buttons"><a class="br-photostream-prev" href="#">Previous</a> | <a class="br-photostream-next" href="#">Next</a></div>-->
    </div>
    <div id="popup-right-col">
      <div class="o-br-shop-this-look"><img src="/Asset_Archive/GPWeb/content/0011/689/896/assets/030316_OLA_shopthelook_header.png" alt="shop this look"></div>
      <div class="o-lightbox-keyline"></div>
      <div id="popup-right-col-scroller"></div>
      <div class="noProductsMsg"><p>This product was so popular,<br>it's no longer available.</p><br><p><b>Don't worry!</b></p><p>We have so many more <br>things for you to love<br>just a click away...</p></div>
      <div class="o-lightbox-keyline"></div>
      <!--div class="o-upload-photos-button"><a href="javascript:showUploaderPopUp(); showGPUploader(); closeShopSocialPopUp();"><img src="/Asset_Archive/GPWeb/content/0011/689/896/assets/Lightbox-UploadPhotos-72.png" alt="upload photos" /></a></div-->
    </div>
    <div class="o-credit"><a href="http://olapic.com" target="_blank" title="Powered by Olapic"><img src="/Asset_Archive/GPWeb/content/0011/689/896/assets/olapicIcon.png" alt="Olapic Icon"></a></div>
  </div>
</div>
<!-- END: OLAPIC POPUP -->

<!--OLAPID WIDGET FOR NEW PRODUCT PAGE -->
<div class="wcd-olapicContent-footer">
  <div class="g-inner">
    <div class="panel panel_product-info">
    <div class="product-information--item pd_left_0-75">

    <!--OLAPIC CONTENT -->
    <div class="grid-root">
      <div class="g-1-2">
            <h3 class="product-information--heading olapic-headline-ftr">#gaplove</h3>
        <h3 class="product-information--heading olapic-header-ftr">gap x you</h3>
        <p>Get inspired. Add it to your closet. Share it with the world.</p>
      </div>
      <div class="g-1-2">
        <div style="text-align:right;"><div style="background: transparent;" class="uploadCTA-ftr  uploadbtnImg-ftr" onclick="showGPUploader();">upload your photo<span class="uploadbtn-caret-ftr"></span></div></div>
      </div>
      <div class="g-1-1 g-lg-1-1">
        <div class="o-UGC-container-footer">
                <div class="noUGC-message-ftr" onclick="showGPUploader();"></div>
                  <a href="#" class="hide-at-md olapic-nav-button olapic-nav-prev-ftr"></a>
                  <a href="#" class="hide-at-md olapic-nav-button olapic-nav-next-ftr"></a> 
          </div>
        </div>
    </div><!--end gridroot-->


    </div> <!-- end product-information-item -->
    </div> <!-- endpanel panel_product-info -->
  </div> <!-- end g-inner -->
</div> <!--end wcd-olapicContent-footer -->

<!-- BEGIN: OLAPIC UPLOADER WINDOW -->
<!-- converted to modal pop up
<div id="uploader-popup">
  <div id="uploader-popup-inner">
    <a href="javascript:void(0)" id="button-x-close" style="display: block; width: 22px; height: 22px; position: absolute; top: 2px; right: 10px;" onclick="closeUploaderPopUp();"></a>
    <iframe name='olapic-upload' id="olapic-upload" frameborder="0" border="0" cellspacing="0" style="border-style: none; width: 100%; height: 97%;"></iframe>
  </div>
</div>
-->
<!-- END: OLAPIC UPLOADER WINDOW -->

<script type="text/javascript">
var Olapic = {
  API_KEY: "900455d7506fe6d81a17b44658fcb6b68c05238bd5e7ba1e869b878a166c87de", //API Key for GP CA
  API_BASE_URL: "http://photorankapi-a.akamaihd.net",
  AUTH_TOKEN: "?auth_token=900455d7506fe6d81a17b44658fcb6b68c05238bd5e7ba1e869b878a166c87de", //API Key for GP CA
  API_VER: "&version=v2.2",
  CALLBACK: "&callback=?",
  CUSTOMERID: "217344", //GAP CA

  TRACK_BASE_URL: "http://data.photorank.me/track/widget/",
  RSTRING: "", // Olapic_Gallery Analytics cookie value in the __olapicU key
  TRACK_SFDP_ID: "8240508832d7ca2755e26fb6f446000d", // Olapic instance id
  TRACK_PDP_ID: "0ea431cd91d54d3582619583be685f08", // Olapic_Gallery instance id

  // PHOTORANK API CALLS
  getMedia: function(objectId) {
    return jQuery.getJSON(Olapic.API_BASE_URL + '/media/' + objectId + Olapic.AUTH_TOKEN + Olapic.API_VER);
  },

  getMediaStreams: function(objectId) {
    return jQuery.getJSON(Olapic.API_BASE_URL + '/media/' + objectId + '/streams/' + Olapic.AUTH_TOKEN + Olapic.API_VER);
  },

  getStream: function(objectId) {
    return jQuery.getJSON(Olapic.API_BASE_URL + '/streams/' + objectId + Olapic.AUTH_TOKEN + Olapic.API_VER);
  },

  getStreamMediaRecent: function(objectId) {
    return jQuery.getJSON(Olapic.API_BASE_URL + '/streams/' + objectId + '/media/recent' + Olapic.AUTH_TOKEN + Olapic.API_VER);
  },

  getStreamMediaPhotorank: function(objectId) {
    return jQuery.getJSON(Olapic.API_BASE_URL + '/streams/' + objectId + '/media/photorank' + Olapic.AUTH_TOKEN + Olapic.API_VER);
  },

  getStreamsByTag: function(objectId) {
    return jQuery.getJSON(Olapic.API_BASE_URL + '/customers/' + Olapic.CUSTOMERID + '/streams/bytag/' + objectId + Olapic.AUTH_TOKEN + Olapic.API_VER);
  },

  getAllMediaRecent: function() {
    return jQuery.getJSON(Olapic.API_BASE_URL + '/customers/' + Olapic.CUSTOMERID + '/media/recent/' + Olapic.AUTH_TOKEN + Olapic.API_VER);
  },

  getCategoryStreams: function(objectId) {
    return jQuery.getJSON(Olapic.API_BASE_URL + '/categories/' + objectId + '/streams/' + Olapic.AUTH_TOKEN + Olapic.API_VER);
  },

  getCategoryMediaRecent: function(objectId) {
    return jQuery.getJSON(Olapic.API_BASE_URL + '/categories/' + objectId + '/media/recent' + Olapic.AUTH_TOKEN + Olapic.API_VER);
  },

  getCategoryByTag: function(objectId) {
    return jQuery.getJSON(Olapic.API_BASE_URL + '/customers/' + Olapic.CUSTOMERID + '/categories/search/' + Olapic.AUTH_TOKEN + "&tag_key=" + objectId + Olapic.API_VER);
  },

  // Analytics API calls

  trackBestRender: function() {
    return jQuery.getJSON(Olapic.TRACK_BASE_URL + Olapic.TRACK_SFDP_ID + '/best/render/' + Olapic.AUTH_TOKEN + '&analytics_id=' + Olapic.RSTRING + '&pics=1');
  },

  trackBestMove: function() {
    return jQuery.getJSON(Olapic.TRACK_BASE_URL + Olapic.TRACK_SFDP_ID + '/best/move' + Olapic.AUTH_TOKEN + '&analytics_id=' + Olapic.RSTRING + '&pics=1');
  },

  trackMove: function() {
    return jQuery.getJSON(Olapic.TRACK_BASE_URL + Olapic.TRACK_SFDP_ID + '/best/move' + Olapic.AUTH_TOKEN + '&analytics_id=' + Olapic.RSTRING + '&pics=1');
  },

  trackBestClick: function(mediaId) {
    return jQuery.getJSON(Olapic.TRACK_BASE_URL + Olapic.TRACK_SFDP_ID + '/best/media/' + mediaId + '/click' + Olapic.AUTH_TOKEN + '&analytics_id=' + Olapic.RSTRING + '&pics=1');
  },

  trackBestView: function(mediaId) {
    return jQuery.getJSON(Olapic.TRACK_BASE_URL + Olapic.TRACK_SFDP_ID + '/best/media/' + mediaId + '/view' + Olapic.AUTH_TOKEN + '&analytics_id=' + Olapic.RSTRING + '&pics=1');
  },

  trackBestClose: function(mediaId) {
    return jQuery.getJSON(Olapic.TRACK_BASE_URL + Olapic.TRACK_SFDP_ID + '/best/media/' + mediaId + '/close' + Olapic.AUTH_TOKEN + '&analytics_id=' + Olapic.RSTRING + '&pics=1');
  },

  trackStreamUpload: function(streamId) {
    return jQuery.getJSON(Olapic.TRACK_BASE_URL + Olapic.TRACK_PDP_ID + '/stream/' + streamId + '/upload_click' + Olapic.AUTH_TOKEN + '&analytics_id=' + Olapic.RSTRING + '&pics=1');
  },

  trackStreamView: function(streamId) {
    return jQuery.getJSON(Olapic.TRACK_BASE_URL + Olapic.TRACK_SFDP_ID + '/stream/'+ streamId + '/view' + Olapic.AUTH_TOKEN + '&analytics_id=' + Olapic.RSTRING + '&pics=1');
  },

  trackPDPMove: function() {
    return jQuery.getJSON(Olapic.TRACK_BASE_URL + Olapic.TRACK_PDP_ID + '/best/move' + Olapic.AUTH_TOKEN + '&analytics_id=' + Olapic.RSTRING + '&pics=1');
  },

  trackStreamPDPRender: function(streamId) {
    return jQuery.getJSON(Olapic.TRACK_BASE_URL + Olapic.TRACK_PDP_ID + '/stream/'+ streamId + '/render' + Olapic.AUTH_TOKEN + '&analytics_id=' + Olapic.RSTRING + '&pics=1');
  }
  

};

// OLAPIC ANALYTICS

var olapicCookieValue = gidLib.getCookie('__olapicU');

if (!olapicCookieValue) {
  var rString = randomString(32, '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ');
  Olapic.RSTRING = rString;
  gidLib.setCookie('__olapicU', Olapic.RSTRING, gidLib.getFutureDate({"days": 30}), '/', '.gapcanada.ca');
} else {
  Olapic.RSTRING = olapicCookieValue;
}

function randomString(length, chars) {
    var result = '';
    for (var i = length; i > 0; --i) result += chars[Math.round(Math.random() * (chars.length - 1))];
    return result;
}
</script>

<script type="text/javascript">
/* Global Vars */
var slickTrigger; // Set global variable for Slick Scroller. Default is off (0).
var prevslickTrigger;
var twoProducts = 0; // Set global variable to check if there are more than 2 products. If yes, then don't turn on the slick scroller. Default is off (0).
var pageId; //Set what page are we on in order to set the Olapic Tracking Vars correctly. 1 = hp; 2 = anywhere else
var unslickToggle = 0;

if( ( window.location.href.indexOf( '/browse/product.do' != -1 ) ) || ( window.location.href.indexOf( '/browse/info.do?cid=1043398' != -1 ) ) || ( window.location.href.indexOf( '/browse/info.do?cid=1036969' != -1 ) ) ) {
  pageId = 1;
} else {
  pageId = 2;
}

function initSlickScroller() {
    jQuery("#popup-right-col-scroller").slick({
      infinite: true,
      slidesToShow: 2,
      slidesToScroll: 2,
      nextArrow: '<button type="button" class="slick-next"></button>'
    });
}

function showShopSocialPopUp(opi, fromNav, streamId) {

  jQuery("#shop-social-popup").fadeIn("fast");
  jQuery("#shop-social-popup").attr("data-media-id", opi);

  //console.info(opi);
  //evar tracking
  if( ( location.pathname == '/' || location.pathname == '/browse/home.do' ) ) {
       s.linkTrackVars = 'eVar6';
       s.eVar6 = 'HP_Olapic_lightbox'; 
       s.tl(this, 'o', s.eVar6);
      Olapic.TRACK_SFDP_ID = olapicWidgetInstance; // HP Tracking ID

  }else if (location.pathname == '/browse/product.do') {
       s.linkTrackVars = 'eVar6';
       s.eVar6 = 'Product_Olapic_lightbox'; 
       s.tl(this, 'o', s.eVar6);
       Olapic.TRACK_SFDP_ID = '0ea431cd91d54d3582619583be685f08'; // Product Page Tracking ID

  } else {
       s.linkTrackVars = 'eVar6';
       s.eVar6 = 'Gallery_Olapic_lightbox'; 
       s.tl(this, 'o', s.eVar6);
       Olapic.TRACK_SFDP_ID = olapicWidgetInstance; // Gallery Tracking ID
  }

  Olapic.getMedia(opi).done(function(response) {

    Olapic.trackBestClick(opi).done(function(response) { });
    Olapic.trackBestView(opi).done(function(response) { });
    if (fromNav) {
      Olapic.trackMove(opi).done(function(response) { });
    }

    var picId = response.data.images.normal;
    //console.info('pic ' + response.data.images.normal);

    jQuery("#popup-left-col .o-ugc-image").css("background-image", "url(" + response.data.images.normal + ")");

    var ugcUploaderName = response.data._embedded.uploader.username;
    jQuery("#popup-left-col .o-ugc-uploader a").html("");
    if (ugcUploaderName) { ugcUploaderName = ugcUploaderName.toLowerCase(); }    
    jQuery("#popup-left-col .o-ugc-uploader a").html(ugcUploaderName);

    if (response.data._embedded.uploader.social_connections.instagram) {
      jQuery("#popup-left-col .o-ugc-uploader .o-ucg-uploader-social").html("<img src='/Asset_Archive/GPWeb/content/0011/689/896/assets/Lightbox-InstagramIcon-72.png'>")
      jQuery("#popup-left-col .o-ugc-uploader a").attr("href", "http://instagram.com/" + response.data._embedded.uploader.social_connections.instagram.username);
    } else if (response.data._embedded.uploader.social_connections.twitter) {
      jQuery("#popup-left-col .o-ugc-uploader .o-ucg-uploader-social").html("<img src='/Asset_Archive/GPWeb/content/0011/689/896/assets/Lightbox-TwitterIcon-72.png'>")
      jQuery("#popup-left-col .o-ugc-uploader a").attr("href", "http://twitter.com/" + response.data._embedded.uploader.social_connections.twitter.username);
    }

    var opiShareUrl = '';
    //opiShareUrl = encodeURIComponent("http://bananarepublic.gap.com/browse/info.do?cid=1036970&opi=");
    opiShareUrl = encodeURIComponent("http://www.gapcanada.ca/browse/home.do&opi=");

    jQuery("#careToShare_fbLink").attr("href", "javascript:postToFeed("+opi+", \'"+picId+"\');");
    jQuery("#careToShare_twitterLink").attr("href", "https://twitter.com/home?status=" + opiShareUrl + opi);
    jQuery("#careToShare_pinterestLink").attr("href", "https://pinterest.com/pin/create/button/?url=" + opiShareUrl + opi + "&media=" + response.data.images.normal );

    showTaggedProducts(opi);
    showNextPrevUgcStream(opi, streamId);
    
  });
}

function showTaggedProducts(opi) {
    resetPopupRightColScroller();

    //console.info('tagged products opi: ' + opi);
    Olapic.getMediaStreams(opi).done(function(response) {

      var productImages = [];
      var productPrices = [];
      var productNames = [];
      var productUrls = [];
      var indexTaggedProduct = -1;
      twoProducts = 0;

      var jsonObjectArray = [];
      var jsonObjectArray = response.data._embedded.stream;
      jsonObjectArray.reverse();
      
      
      if (jsonObjectArray.length >= 3) {
        prevslickTrigger = slickTrigger;
        slickTrigger = 3;
      } else if (jsonObjectArray.length <= 2) {
        prevslickTrigger = slickTrigger;
        slickTrigger = 0;
      } else {
        prevslickTrigger = slickTrigger;
        slickTrigger = 0;
      }

      //hide out of stock message 
      jQuery('#popup-right-col-scroller').show();
      jQuery('.noProductsMsg').hide();
      
      if (jsonObjectArray.length == 2) { twoProducts = 1 } else { twoProducts = 0 }

      jQuery.each(jsonObjectArray, function( index, value ) {
        if (value.tag_based_key) {
          indexTaggedProduct++;
          // if more than one tagged product, create new elements as needed
          if (indexTaggedProduct > 0) {
            jQuery(".taggedProduct:eq(0)").clone().appendTo("#popup-right-col-scroller");
          }

          productImages[indexTaggedProduct] = value._embedded.base_image.images.thumbnail;
          productNames[indexTaggedProduct] = value.name;

          //console.info('productimages:' + productImages[indexTaggedProduct]);
          //console.info(productNames[indexTaggedProduct]);
          //console.info(value.product_url);

          var relativeProductUrl = value.product_url;
          relativeProductUrl = relativeProductUrl.replace(/^.*\/\/[^\/]+/, '');       
          productUrls[indexTaggedProduct] = relativeProductUrl;

          if ( location.pathname == '/browse/product.do' ) {
            var olapicTrackUrl = "http://data.photorank.me/track/widget/";
            olapicTrackUrl += Olapic.TRACK_PDP_ID; 
            olapicTrackUrl += "/stream/";
            olapicTrackUrl += '1';
            olapicTrackUrl += "/media/";
            olapicTrackUrl += opi;
            olapicTrackUrl += "/shop?analytics_id=";
            olapicTrackUrl += Olapic.RSTRING;
            olapicTrackUrl += "&pics=";
            olapicTrackUrl += '1'; //Olapic.mediaList.length;
            olapicTrackUrl += "&redirect_url=";
            olapicTrackUrl += encodeURIComponent(location.host);
            olapicTrackUrl += encodeURIComponent(productUrls[indexTaggedProduct]);
            olapicTrackUrl += "&auth_token=" + Olapic.API_KEY;
            console.info(olapicTrackUrl);
          } else if  ( window.location.href.indexOf('/browse/info.do?cid=1043398') > -1 )  { // gallery 
            var olapicTrackUrl = "http://analytics.photorank.me/track/widget/";
            olapicTrackUrl += olapicWidgetInstance; //Gallery Widget instance
            olapicTrackUrl += "/stream/";
            olapicTrackUrl += '1';
            olapicTrackUrl += "/media/";
            olapicTrackUrl += opi;
            olapicTrackUrl += "/shop?analytics_id=";
            olapicTrackUrl += Olapic.RSTRING;
            olapicTrackUrl += "&pics=";
            olapicTrackUrl += '1'; //Olapic.mediaList.length;
            olapicTrackUrl += "&redirect_url=";
            olapicTrackUrl += encodeURIComponent(location.host);
            olapicTrackUrl += encodeURIComponent(productUrls[indexTaggedProduct]);
            olapicTrackUrl += "&auth_token=" + Olapic.API_KEY;
            console.info(olapicTrackUrl);
          } else if( location.pathname == '/browse/home.do' || location.pathname == '/' ) { //hp
            var olapicTrackUrl = "http://analytics.photorank.me/track/widget/";
            olapicTrackUrl += olapicWidgetInstance;  //HP Widget instance
            olapicTrackUrl += "/stream/";
            olapicTrackUrl += '1';
            olapicTrackUrl += "/media/";
            olapicTrackUrl += opi;
            olapicTrackUrl += "/shop?analytics_id=";
            olapicTrackUrl += Olapic.RSTRING;
            olapicTrackUrl += "&pics=";
            olapicTrackUrl += '1'; //Olapic.mediaList.length;
            olapicTrackUrl += "&redirect_url=";
            olapicTrackUrl += encodeURIComponent(location.host);
            olapicTrackUrl += encodeURIComponent(productUrls[indexTaggedProduct]);
            olapicTrackUrl += "&auth_token=" + Olapic.API_KEY;
            console.info(olapicTrackUrl);
          } else  { 
            var olapicTrackUrl = "http://analytics.photorank.me/track/widget/";
            olapicTrackUrl += Olapic.TRACK_PDP_ID; 
            olapicTrackUrl += "/stream/";
            olapicTrackUrl += '1';
            olapicTrackUrl += "/media/";
            olapicTrackUrl += opi;
            olapicTrackUrl += "/shop?analytics_id=";
            olapicTrackUrl += Olapic.RSTRING;
            olapicTrackUrl += "&pics=";
            olapicTrackUrl += '1'; //Olapic.mediaList.length;
            olapicTrackUrl += "&redirect_url=";
            olapicTrackUrl += encodeURIComponent(location.host);
            olapicTrackUrl += encodeURIComponent(productUrls[indexTaggedProduct]);
            olapicTrackUrl += "&auth_token=" + Olapic.API_KEY;
          }

          if (jsonObjectArray.length >= 3) {
            jQuery(".o-product-url img:eq(" + indexTaggedProduct + ")").attr( { 
              src: productImages[indexTaggedProduct],
              width: "125px"
            } );
            jQuery(".o-product-name").css( {
              width: "125px",
              textAlign: "center"
            } );
            //console.info('more than 3');
          } else if (jsonObjectArray.length == 2)  {
            jQuery(".o-product-url img:eq(" + indexTaggedProduct + ")").attr( { 
              src: productImages[indexTaggedProduct],
              width: "150px"
            } );
            jQuery(".o-product-name").css( {
              width: "150px",
              textAlign: "center",
              padding: "0 25px"
            } );            
            //console.info('2 products');        
          } else if (jsonObjectArray.length == 1)  {
            jQuery(".o-product-url img:eq(" + indexTaggedProduct + ")").attr( "src", productImages[indexTaggedProduct] );
            jQuery(".o-product-name").css( {
              width: "440px",
              textAlign: "center"
            } );
            //console.info('1 product'); 
          }

          jQuery(".o-product-url:eq(" + indexTaggedProduct + ")").attr("href", olapicTrackUrl);
          jQuery(".o-product-name:eq(" + indexTaggedProduct + ")").html(productNames[indexTaggedProduct].split('|')[0]);


        }

      })

    }).done(function() {
      
      if (slickTrigger == 3) {
        //initSlickScroller();

        //check for previous instance of slick and kill it.
        if ( typeof slick == "undefined" ) {
          //console.info('new slick'); 
          if (prevslickTrigger == slickTrigger) {
            
           jQuery("#popup-right-col-scroller").slick("unslick"); 
          }
          setTimeout(initSlickScroller, 800);
        } else {            
          jQuery("#popup-right-col-scroller").slick("unslick"); 
          setTimeout(initSlickScroller, 800);
        }

        //add slick 
        //setTimeout(initSlickScroller, 500);
      } else {
        
        if ( typeof slick != "undefined" ) {
          //console.info('unslick');
          jQuery("#popup-right-col-scroller").slick("unslick"); 
        } else {
          unslickToggle = 1;
        }

        if ( unslickToggle == 1 ) { jQuery("#popup-right-col-scroller").slick("unslick"); }

        if (twoProducts == 1) {
          jQuery(".taggedProduct:gt(1)").remove();
        } else {
          jQuery(".taggedProduct:not(:eq(0))").remove();
        }
      } 
    }).fail(function() {
      //NO TAGGED PRODUCTS
        //out of stock message 
      jQuery('#popup-right-col-scroller').hide();
      jQuery('.noProductsMsg').show();
      clearTaggedProducts();
    });
}

function showNextPrevUgcStream(opi, streamId) {
  var streamId;
  var ugcPhotoId = opi;
  var ugcPhotoStreamList = [];


  if ( jQuery(window.gpOlapic).length > 0 ) { // homepage/gallery media list
    //console.info('lightbox gallery/hp');

    ugcPhotoStreamList = gpOlapic.mediaList;
    var ugcProductPhotoStreamArray = new Array();

    for (var i=0; i < ugcPhotoStreamList.length; i++) {
      ugcProductPhotoStreamArray.push( parseInt(ugcPhotoStreamList[i].id) );
    }
    var ucgPhotoIdIndex = ugcProductPhotoStreamArray.indexOf(ugcPhotoId);
    var ugcPhotoFirstId = ugcPhotoStreamList[0].id;
    var ugcPhotoLastId = ugcPhotoStreamList[ugcProductPhotoStreamArray.length - 1].id;
    var ucgPhotoIdPrevIndex = ( ucgPhotoIdIndex - 1 );
    if (ucgPhotoIdPrevIndex == '-1') {
      var ucgPhotoIdPrev = parseInt(ugcPhotoLastId);
    } else {
      var ucgPhotoIdPrev = parseInt(ugcPhotoStreamList[ucgPhotoIdPrevIndex].id);
    }
    var ucgPhotoIdNextIndex = ( ucgPhotoIdIndex + 1 );
    if (ucgPhotoIdNextIndex == (ugcProductPhotoStreamArray.length)) {
      var ucgPhotoIdNext = parseInt(ugcPhotoFirstId);
    } else {
      var ucgPhotoIdNext = parseInt(ugcPhotoStreamList[ucgPhotoIdNextIndex].id);
    }

    if ( ugcPhotoStreamList.length < 2 ) {
      jQuery(".o-ugc-prev-image").css("visibility", "hidden");
      jQuery(".o-ugc-next-image").css("visibility", "hidden");
    } else {
      jQuery(".br-photostream-prev").attr("href", "javascript:showShopSocialPopUp("+ucgPhotoIdPrev+", false);");
      jQuery(".br-photostream-next").attr("href", "javascript:showShopSocialPopUp("+ucgPhotoIdNext+", false)");
    }
    
    return;

  } else if ( (location.pathname == '/browse/product.do') && (omni.strCurrentPageName.indexOf("Factory") < 0) ) {
    //console.info('lightbox product page');

    var productPgTid = ""; //Tid = Tagged ID
    productPgTid = getParameterByName('pid');
    var productPgTidParentTid = productPgTid.substring(0,6);

    Olapic.getStreamsByTag(productPgTidParentTid).done(function(response) {

      var streamId = "";
      streamId = response.data.id;

      Olapic.getStreamMediaRecent(streamId).done(function(response) {

        var opi = response.data._embedded.media[0].id;

        var ugcPhotoStreamList = response.data._embedded.media;;
        var ugcProductPhotoStreamArray = new Array();
        for (var i=0; i < ugcPhotoStreamList.length; i++) {
          ugcProductPhotoStreamArray.push( parseInt(ugcPhotoStreamList[i].id) );
        }
        var ucgPhotoIdIndex = ugcProductPhotoStreamArray.indexOf(ugcPhotoId);
        var ugcPhotoFirstId = ugcPhotoStreamList[0].id;
        var ugcPhotoLastId = ugcPhotoStreamList[ugcProductPhotoStreamArray.length - 1].id;

        var ucgPhotoIdPrevIndex = ( ucgPhotoIdIndex - 1 );
        
        if (ucgPhotoIdPrevIndex == '-1') {
          var ucgPhotoIdPrev = parseInt(ugcPhotoLastId);
        } else {
          var ucgPhotoIdPrev = parseInt(ugcPhotoStreamList[ucgPhotoIdPrevIndex].id);
        }
        
        var ucgPhotoIdNextIndex = ( ucgPhotoIdIndex + 1 );
        if (ucgPhotoIdNextIndex == (ugcProductPhotoStreamArray.length)) {
          var ucgPhotoIdNext = parseInt(ugcPhotoFirstId);
        } else {
          var ucgPhotoIdNext = parseInt(ugcPhotoStreamList[ucgPhotoIdNextIndex].id);
        }
        
        if ( ugcPhotoStreamList.length < 2 ) {
          jQuery(".o-ugc-prev-image").css("visibility", "hidden");
          jQuery(".o-ugc-next-image").css("visibility", "hidden");
        } else {
          jQuery(".br-photostream-prev").attr("href", "javascript:showShopSocialPopUp("+ucgPhotoIdPrev+", true);");
          jQuery(".br-photostream-next").attr("href", "javascript:showShopSocialPopUp("+ucgPhotoIdNext+", true)");
        }

      });

      return;

    });

  } else {
      jQuery(".o-ugc-prev-image").css("visibility", "hidden");
      jQuery(".o-ugc-next-image").css("visibility", "hidden");
  }
}


function clearTaggedProducts() {

  jQuery(".taggedProduct:not(:eq(0))").remove();
  jQuery(".o-product-url img:eq(0)").attr( { 
    src: "/assets/common/clear.gif",
    width: ""
  } );
  jQuery(".o-product-url:eq(0)").attr("href", "javascript:void(0)");
  jQuery(".o-product-name:eq(0)").html("");
  jQuery(".o-product-price:eq(0)").html("");

  jQuery("#popup-left-col .o-related-feeds ul li:not(:eq(0))").remove();
  jQuery("#popup-left-col .o-related-feeds ul li:eq(0)").html("");
  
}

function resetTaggedProductDiv() {
  jQuery('#popup-right-col-scroller').append('<div class="taggedProduct"><a href="" onclick="" class="o-product-url"><img src="/assets/common/clear.gif" /></a><br /><div class="o-product-name"></div></div>');
}

function resetPopupRightColScroller() {
  jQuery('#popup-right-col-scroller').empty();
  resetTaggedProductDiv();
}

function closeShopSocialPopUp() {
  jQuery("#shop-social-popup").fadeOut("fast");
  var mediaId = jQuery("#shop-social-popup").attr("data-media-id");
  Olapic.trackBestClose(mediaId).done(function(response) { });
}

function showGPUploader() {
  
       gap.UniversalModal.publishModal({
        modalSize: 'max',
        actionSheet: 'large',
        url: 'https://www.photorank.me/uploader/gap?lang=en_CA' 
      }); 
  
  //evar tracking
  if( ( location.pathname == '/' || location.pathname == '/browse/home.do' ) ) {
       s.linkTrackVars = 'eVar6';
       s.eVar6 = 'HP_Olapic_upload'; 
       s.tl(this, 'o', s.eVar6);
  } else {
       s.linkTrackVars = 'eVar6';
       s.eVar6 = 'Gallery_Olapic_upload'; 
       s.tl(this, 'o', s.eVar6);
  }
}

function showUploaderPopUp() {
  //jQuery("#uploader-popup").fadeIn("fast");
}

function closeUploaderPopUp() {
 // jQuery("#uploader-popup").fadeOut("fast");
}

// OPEN LIGHTBOX FOR NON-ASSOCIATED PRODUCT (Not associated to a stream) - OPENS THE PRODUCT ON THE LANDING PAGE: /browse/info.do?cid=1036970
function checkForOpiInQueryString() {
  if ( window.location.search.indexOf("opi=") != -1 ) {
    var opi = "";
    opi = getParameterByName("opi");
    showShopSocialPopUp(opi, false);
  }
}

jQuery( window ).load(function() {
  setTimeout(checkForOpiInQueryString, 1000);
});

</script>

<script>
// FACEBOOK SHARE 
var wcdPageCID=window.location.search;
var wcdPageHash=wcdPageCID.substring(wcdPageCID.indexOf('=')+1);
if(wcdPageHash!="91471" && wcdPageHash!="1040058"){
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '1665909237018154',
      xfbml      : true,
      version    : 'v2.5'
    });
  };

  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "//connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));

  function postToFeed(opi, picId) {
    //console.info('facebook feed: ' + opi);
    //console.info(picId);
    // calling the API ...
    var obj = {
      method: 'feed',
      redirect_uri: 'http://www.gapcanada.ca',
      link: 'http://www.gapcanada.ca/browse/info.do?cid=1043398&mlink=5058,10323437,facebook_Olapic&clink=10323437&opi=' + opi,
      picture: picId,
      name: 'gap x you',
      description: "#gaplove Wear, share + show us how you Gap this season."
    };

    function callback(response) {
      // document.getElementById('msg').innerHTML = "Post ID: " + response['post_id'];
    }
    FB.ui(obj, callback);
  }
}
</script>


<!-- Olapic UGC Product Placement : Using the API Call -->
<script type="text/javascript">
/***BEGIN PRODUCT PAGE OLAPIC WIDGET ******/

function getParameterByName(name) {
    name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
    var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
        results = regex.exec(location.search);
    return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
}

function addOlapicUcgToProductPg(prodPgCID) {
  // Search the DOM for #imageThumbs and place the #olapic-product-page-container after it
  var imgThumbsDiv = jQuery("#imageThumbs");
  var olapicContentEmbed = '<div id=\"olapic-product-page-container\"></div>';
  var $olapicContent = jQuery(olapicContentEmbed);
  jQuery(imgThumbsDiv).after($olapicContent);

  var productPgTid = ""; //Tid = Tagged ID
  productPgTid = getParameterByName('pid');
  var productPgTidParentTid = productPgTid.substring(0,6);

  //console.info(productPgTidParentTid);

    //PP header
    //jQuery("#olapic-product-page-container").append("<div class='o-product-page-header'></div>"); //no social
    jQuery("#olapic-product-page-container").append("<div class='o-product-page-header'><img src='/Asset_Archive/GPWeb/content/0011/689/896/assets/pp/GAP_olapic_PP_noUCG_desktop_social.png'></a></div>");
    //PP content
    jQuery(".o-product-page-header").after("<div class='o-product-page-ugc-image'></div>");


    Olapic.getStreamsByTag(productPgTidParentTid).done(function(response) {
      //console.info('product found:' + productPgTidParentTid);

      var streamId = "";
      streamId = response.data.id;

      Olapic.getStreamMediaRecent(streamId).done(function(response) {

        Olapic.trackStreamPDPRender(streamId).done(function(response) {});

        var opi = response.data._embedded.media[0].id;

        //PP header
        //jQuery("#olapic-product-page-container").append("<div class='o-product-page-header'></div>"); //no social
        //jQuery("#olapic-product-page-container").append("<div class='o-product-page-header'><img src='/Asset_Archive/GPWeb/content/0011/689/896/assets/pp/GAP_olapic_PP_noUCG_desktop_social.png'></a></div>");

        //PP main content
        //jQuery(".o-product-page-header").after("<div class='o-product-page-ugc-image'></div>");

        //PP prev/next arrows
        jQuery(".o-product-page-ugc-image").append("<div class='o-product-prev-btn'><a href='#' class='o-product-prev-btn-url'><img src='/Asset_Archive/GPWeb/content/0011/689/896/assets/pp/Product-Pg-PrevArrow-72.png' class='o-product-prev-btn-url-png'></a></div>");

        jQuery(".o-product-page-ugc-image").append("<div class='o-product-next-btn'><a href='#' class='o-product-next-btn-url'><img src='/Asset_Archive/GPWeb/content/0011/689/896/assets/pp/Product-Pg-NextArrow-72.png' class='o-product-next-btn-url'></a></div>");

        //PP UGC images
        jQuery(".o-product-page-ugc-image").append("<div class='o-product-page-ugc-image-container'></div>");
        jQuery(".o-product-page-ugc-image-container").append("<ul class='o-product-page-ugc-list'></ul>");

        if (response.data._embedded.media.length > 1) { //PP UGC content recognized
          //console.info('product image found:' + productPgTidParentTid);
          jQuery(".o-product-prev-btn").show();
          jQuery(".o-product-next-btn").show();
          for (var i=0; i < response.data._embedded.media.length; i++) {
            jQuery(".o-product-page-ugc-image-container ul").append("<li data-ugcId='"+response.data._embedded.media[i].id+"\'><img class='o-product-page-ugc-img-"+i+"\ o-product-page-ugc-img' /></li>");
            jQuery(".o-product-page-ugc-img-"+i).attr( "src", response.data._embedded.media[i].images.normal ); 
            jQuery(".o-product-page-ugc-img-"+i).wrap("<a href=\"javascript:showShopSocialPopUp("+response.data._embedded.media[i].id+", true);\" ></a>");
          }
          jQuery("ul.o-product-page-ugc-image-container").find("[data-ugcId='" + opi + "']").appendTo("ul.o-product-page-ugc-image-container");
          ugcSlideShow(opi);

        }  else {
          jQuery(".o-product-page-ugc-image-container ul").append("<li data-ugcId='"+response.data._embedded.media[0].id+"\'><img class='o-product-page-ugc-img' /></li>");
          jQuery(".o-product-page-ugc-img").attr( "src", response.data._embedded.media[0].images.normal ); 
          jQuery(".o-product-page-ugc-img").wrap("<a href=\"javascript:showShopSocialPopUp("+response.data._embedded.media[0].id+", true);\" ></a>"); 
        }

        //PP footer UCG recognized
        jQuery(".o-product-page-ugc-image").after("<div class='o-product-page-footer'></div>");
        jQuery(".o-product-page-footer").append("<div class='o-product-page-footer-olapic-copy'>Powered by <a href=\"http://www.olapic.com/?utm_source=referral&utm_medium=powered-by-olapic&utm_campaign=\" target=\"_blank\">Olapic</a></div>");
        jQuery(".o-product-page-footer").append("<div class='o-product-page-footer-br-assets'></div>");
        jQuery(".o-product-page-footer-br-assets").append("<img src=\"/Asset_Archive/GPWeb/content/0011/689/896/assets/pp/GAP_olapic_PP_yesUCG_desktop_copy.gif\">");
        jQuery(".o-product-page-footer").append("<div class='o-product-page-upload-photos-btn'><a href=\"javascript:showUploaderPopUp();showGPUploader();trackItPPUploader();\"><img src='/Asset_Archive/GPWeb/content/0011/689/896/assets/pp/GAP_olapic_PP_desktop_upload.png'></a></div>");
        return;

      }).fail(function(response) { 
        //console.info('FAIL product NOT found:' + productPgTidParentTid);
          //jQuery(".o-product-page-header").after("<div class='o-product-page-ugc-image'></div>");
          jQuery(".o-product-page-ugc-image").append("<a href=\"javascript:showUploaderPopUp();showGPUploader();\" class='o-product-page-ugc-img-url'></a>");
          jQuery(".o-product-page-ugc-img-url").append("<img class='o-product-page-ugc-img' />");
          jQuery(".o-product-page-ugc-img-url img").attr( "src", "/Asset_Archive/GPWeb/content/0011/689/896/assets/pp/GAP_olapic_PP_noUCG_desktop_placeholder.jpg" );
          jQuery(".o-product-page-ugc-image").after("<div class='o-product-page-footer'></div>");
          jQuery(".o-product-page-footer").append("<div class='o-product-page-footer-olapic-copy'></div>");
          jQuery(".o-product-page-footer").append("<div class='o-product-page-footer-br-assets'></div>");
          jQuery(".o-product-page-footer-br-assets").append("<img src=\"/Asset_Archive/GPWeb/content/0011/689/896/assets/pp/GAP_olapic_PP_noUCG_desktop_copy.png\">");
          jQuery(".o-product-page-footer").append("<div class='o-product-page-upload-photos-btn'><a href=\"javascript:showUploaderPopUp();showGPUploader();trackItPPUploader();\"><img src='/Asset_Archive/GPWeb/content/0011/689/896/assets/pp/GAP_olapic_PP_desktop_upload.png'></a></div>");
          return;
      });
    }).fail(function(response) { //PP no UGC content version
      //console.info('NO UGC FAIL product NOT found:' + productPgTidParentTid);
      //jQuery("#olapic-product-page-container").append("<div class='o-product-page-header'><img src='/Asset_Archive/GPWeb/content/0011/689/896/assets/pp/GAP_olapic_PP_noUCG_desktop_social.png'></a></div>");
      
      //jQuery(".o-product-page-header").after("<div class='o-product-page-ugc-image'></div>");
      jQuery(".o-product-page-ugc-image").append("<a href=\"javascript:showUploaderPopUp(); showGPUploader();\" class='o-product-page-ugc-img-url'></a>");
      jQuery(".o-product-page-ugc-img-url").append("<img class='o-product-page-ugc-img' />");
      jQuery(".o-product-page-ugc-img-url img").attr( "src", "/Asset_Archive/GPWeb/content/0011/689/896/assets/pp/GAP_olapic_PP_noUCG_desktop_placeholder.jpg" );
      jQuery(".o-product-page-ugc-image").after("<div class='o-product-page-footer'></div>");
      jQuery(".o-product-page-footer").append("<div class='o-product-page-footer-olapic-copy'></div>");
      jQuery(".o-product-page-footer").append("<div class='o-product-page-footer-br-assets'></div>");
      jQuery(".o-product-page-footer-br-assets").append("<img src=\"/Asset_Archive/GPWeb/content/0011/689/896/assets/pp/GAP_olapic_PP_noUCG_desktop_copy.png\">");
      jQuery(".o-product-page-footer").append("<div class='o-product-page-upload-photos-btn'><a href=\"javascript:showUploaderPopUp();showGPUploader();trackItPPUploader();\"><img src='/Asset_Archive/GPWeb/content/0011/689/896/assets/pp/GAP_olapic_PP_desktop_upload.png'></a></div>");
      return;
  });
  
  //PP Footer
  //console.info('upload footer');
  //jQuery(".o-product-page-footer").append("<div class='o-product-page-upload-photos-btn'><a href=\"javascript:showUploaderPopUp();showGPUploader();\"><img src='/Asset_Archive/GPWeb/content/0011/689/896/assets/pp/GAP_olapic_PP_desktop_upload.png'></a></div>");

}

function ugcSlideShow(opi) {
    var slideCount = jQuery('.o-product-page-ugc-image-container ul li').length;
    var slideWidth = jQuery('.o-product-page-ugc-image-container ul li').width();
    var slideHeight = jQuery('.o-product-page-ugc-image-container ul li').height();
    var sliderUlWidth = slideCount * slideWidth;
    
    jQuery('.o-product-page-ugc-image-container').css({ width: slideWidth, height: slideHeight });
    jQuery('.o-product-page-ugc-image-container ul').css({ width: sliderUlWidth, marginLeft: - slideWidth });
    jQuery('.o-product-page-ugc-image-container ul li:last-child').prependTo('.o-product-page-ugc-image-container ul');

    function moveLeft(opi) {
      Olapic.trackPDPMove(opi).done(function(response) { });
      jQuery('.o-product-page-ugc-image-container ul').animate({
        left: + slideWidth
      }, 200, function () {
          jQuery('.o-product-page-ugc-image-container ul li:last-child').prependTo('.o-product-page-ugc-image-container ul');
          jQuery('.o-product-page-ugc-image-container ul').css('left', '');
        });
      };
    function moveRight(opi) {
      Olapic.trackPDPMove(opi).done(function(response) { });
      jQuery('.o-product-page-ugc-image-container ul').animate({
        left: - slideWidth
      }, 200, function () {
          jQuery('.o-product-page-ugc-image-container ul li:first-child').appendTo('.o-product-page-ugc-image-container ul');
          jQuery('.o-product-page-ugc-image-container ul').css('left', '');
      });
    };

    jQuery('a.o-product-prev-btn-url').click(function (e) {
      moveLeft(opi);
      e.preventDefault();
    });

    jQuery('a.o-product-next-btn-url').click(function (e) {
      moveRight(opi);
      e.preventDefault();
    });
}

function ugcSlideShowSegA(opi) {
  //console.info('ugc slide show');
    var slideCount = jQuery('.o-UGC-content ul li').length;
    var slideWidth = jQuery('.o-UGC-content ul li').width();
    var slideHeight = jQuery('.o-UGC-content ul li').height();
    var sliderUlWidth = slideCount * slideWidth;
    
    jQuery('.o-UGC-content').css({ width: slideWidth, height: slideHeight });
    jQuery('.o-UGC-content ul').css({ width: sliderUlWidth, marginLeft: - slideWidth });
    jQuery('.o-UGC-content ul li:last-child').prependTo('.o-UGC-content ul');

    function moveLeft(opi) {
      Olapic.trackPDPMove(opi).done(function(response) { });
      jQuery('.o-UGC-content ul').animate({
        left: + slideWidth
      }, 200, function () {
          jQuery('.o-UGC-content ul li:last-child').prependTo('.o-UGC-content ul');
          jQuery('.o-UGC-content ul').css('left', '');
        });
      };
    function moveRight(opi) {
      Olapic.trackPDPMove(opi).done(function(response) { });
      jQuery('.o-UGC-content ul').animate({
        left: - slideWidth
      }, 200, function () {
          jQuery('.o-UGC-content ul li:first-child').appendTo('.o-UGC-content ul');
          jQuery('.o-UGC-content ul').css('left', '');
      });
    };

    jQuery('a.olapic-nav-prev-ftr').click(function (e) {
      moveLeft(opi);
      e.preventDefault();
    });

    jQuery('a.olapic-nav-next-ftr').click(function (e) {
      moveRight(opi);
      e.preventDefault();
    });
}

function trackItPPUploader(target) {
     s.linkTrackVars = 'eVar6';
     s.eVar6 = 'Product_Olapic_upload'; //tid here
     s.tl(target, 'o', s.eVar6);
}

//PRODUCT PAGE WIDGET
/*if( (location.pathname == '/browse/product.do' && window["productPage"] != null ) && (omni.strCurrentPageName.indexOf("Factory") < 0) ) {
  jQuery(document).on('productPage:ready', function() {
    var prodPgCID = '';
    prodPgCID = productPage.strDefaultCategoryId
    addOlapicUcgToProductPg(prodPgCID);
  });
}*/

/***********NEW PRODUCT PAGE WIDGET FOR SEG A *******/
function addOlapicUCGtoPPSegA() {
  var olapicPPContainer = jQuery('#imageThumbs');

      if( olapicPPContainer.length > 0 ) {
       olapicPPContainer.after(jQuery('.wcd-olapicContent-footer'))   
       jQuery(".wcd-olapicContent-footer").show(); //hidden in case Container/Region for Product Page isn't assigned correctly!
 
      }

  var olapicContainer = jQuery(".o-UGC-container-footer");
  var olapicContentEmbed = '<div class=\"o-UGC-content\"></div>';
  var $olapicContent = jQuery(olapicContentEmbed);

  if( jQuery(olapicContainer).length > 0 ) {
    jQuery(olapicContainer).append($olapicContent);
  }

  var productPgTid = ""; //Tid = Tagged ID
  productPgTid = getParameterByName('pid');
  var productPgTidParentTid = productPgTid.substring(0,6);


    Olapic.getStreamsByTag(productPgTidParentTid).done(function(response) {
      //console.info('product found:' + productPgTidParentTid);

      var streamId = "";
      streamId = response.data.id;

      Olapic.getStreamMediaRecent(streamId).done(function(response) {

        Olapic.trackStreamPDPRender(streamId).done(function(response) {});

        var opi = response.data._embedded.media[0].id;


        //PP UGC images
        jQuery(".o-UGC-content").append("<ul class='o-product-ugc-list'></ul>");

        if (response.data._embedded.media.length > 1) { //PP UGC content recognized

          jQuery(".noUGC-message-ftr").hide(); //hide default message

           for (var i=0; i < response.data._embedded.media.length; i++) {
            jQuery(".o-UGC-content ul").append("<li data-ugcId='"+response.data._embedded.media[i].id+"\'><img class='o-product-ugc-img-"+i+"\ o-product-ugc-img' /></li>");
            jQuery(".o-product-ugc-img-"+i).attr( "src", response.data._embedded.media[i].images.normal ); 
            jQuery(".o-product-ugc-img-"+i).wrap("<a href=\"javascript:showShopSocialPopUp("+response.data._embedded.media[i].id+", true);\" ></a>");

          }
           ugcSlideShowSegA(opi);
          // console.info('new pp');
          var ugcTotalItems = i;
          var ugcItemWidth = 205;
          var ugcContentWidth =  ugcItemWidth * ugcTotalItems;
          //console.info(ugcContentWidth);

          jQuery(".o-UGC-content").css( {width: ugcContentWidth} );
          jQuery("ul.o-UGC-container").find("[data-ugcId='" + opi + "']").appendTo("ul.o-UGC-container");

          if (ugcTotalItems < 5) {
            jQuery(".o-UGC-content ul").css( {'margin-left' : '0', 'width' : '100%'} );
          }

        }  else {
          jQuery(".noUGC-message-ftr").hide(); //hide default message
          jQuery(".o-UGC-content ul").append("<li data-ugcId='"+response.data._embedded.media[0].id+"\'><img class='o-product-ugc-img' /></li>");
          jQuery(".o-product-ugc-img").attr( "src", response.data._embedded.media[0].images.normal ); 
          jQuery(".o-product-ugc-img").wrap("<a href=\"javascript:showShopSocialPopUp("+response.data._embedded.media[0].id+", true);\" ></a>"); 
          jQuery(".olapic-nav-prev-ftr").css( {'background-image' : 'none'} );
          jQuery(".olapic-nav-next-ftr").css( {'background-image' : 'none'} );
          //jQuery(".o-UGC-content ul").css( {'margin-left' : '180px'} );  //center if only 1 UGC
        }

        return;

      }).fail(function(response) { 
        //console.info('FAIL product NOT found:' + productPgTidParentTid);
        //show no UGC message
        return;
      });
    }).fail(function(response) { //PP no UGC content version
      //console.info('NO UGC FAIL product NOT found:' + productPgTidParentTid);
      //show no UGC message
      return;
  });
  
}



//PRODUCT PAGE WIDGET
if (location.pathname == '/browse/product.do' && window["productPage"]) {

  jQuery(document).on('productPage:ready', function() {   

      //console.info('Product Page SEG A');   
      addOlapicUCGtoPPSegA();       

    jQuery(document).trigger("olapic:ready"); 
  });
}

/***END PRODUCT PAGE OLAPIC WIDGET ******/
</script>



</div>
<!-- END Content Item File: /content/0011/689/896/cn11689896.html -->
</div>
	<div id="brandftr5_10000511" class="g-1-1 clearfix"></div>
	<div id="textFooterLinks1_10000515" class="g-1-1 clearfix hide-at-md"><!-- BEGIN Content Item File: /content/0011/822/103/cn11822103.html -->
<div id="contentItemContainer10000515" class="11822103">

<!-- CIID:11140648 Gap CA En - Lg and XL Footer -->

<style>
/* BEGIN OVERRIDE gap_common.css */
.footer-darkblue-container .heading-b,
.footer-darkblue-container .body-a {
	color: inherit;
}
/* END OVERRIDE gap_common.css */

.footer-darkblue-container {
	background-color: #000d42;
	color: #fff;
}
.footer-darkblue-container a {
	color: #fff;
}
.footer-darkblue-container .footer-primary {
	width: 100%;
}
.footer-darkblue-container .footer-secondary {
	width: 100%;
	text-align: center;
}
.footer-darkblue-container .footer-primary-col {
  box-sizing: border-box;
  padding-left: 1em;
  padding-right: 1em;
}
.footer-darkblue-container .footer-primary-col:first-child {
	padding-left: 0;
}
.footer-darkblue-container .footer-primary-col:last-child {
	padding-right: 0;
}
.footer-darkblue-container .small-text .body-a {
	font-size: .75em;
}
#footer .footer-darkblue-container .legal a:link,
#footer .footer-darkblue-container .legal a:visited,
#footer .footer-darkblue-container .legal a:active {
	text-decoration: underline;
}
.footer-email-signup .footer-email-signup-inner {
	width: 100%;
	max-width: 278px;	/* requested by brand */
}
.footer-email-signup input[type="email"] {
	font-size: 0.75em;
	color: #fff;
	box-sizing: border-box;
	width: 100%;
	padding: 3px 8px;
	border: none;
	border-bottom: 1px solid #fff;
	background-color: transparent;
}
.footer-email-signup .validationWarning {
	color: #f00;	/* legible on dark blue bg? */
	font-weight: bold;
}
.footer-email-signup .button-container button {
	float: right;
	background-color: transparent;
	padding: 5px 5px 5px 9px;
	border: 2px solid #fff;
	cursor: pointer;
	font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
	font-size: 0.75em;
	line-height: 1;
	color: #fff;	/* overrides globalOptimized.css */
	font-weight: 500;
	text-align: center;
	text-transform: uppercase;
	letter-spacing: 1px;
}
.footer-email-signup .button-container button .email-caret {
	display: inline-block;
	margin-left: 4px;
	margin-top: 2px;
	/* arrow shape */
	border-color: transparent transparent transparent #fff;
	border-style: solid;
	border-width: 4px 4px 4px 7px;
/*	border-left: 7px solid #FFF;
	border-right: 4px solid transparent;	*/
}
.footer-sms-signup .heading-b {
	margin-top: 14px;
}
.footer-darkblue-container .footer-column3-inner {
	width: 100%;
	max-width: 350px;
}
.footer-darkblue-container .footer-stay-connected,
.footer-darkblue-container .footer-cs-links {
	width: 100%;
}
.footer-darkblue-container .footer-stay-connected .social_img {
	float: left;
	margin-right: 15px;
}
.footer-darkblue-container .footer-stay-connected .social_img:last-child {
	margin-right: 0;
}
.footer-darkblue-container .footer-cs-links {
	border-top: 1px solid #fff;
	padding-top: 2em;
	-webkit-justify-content: space-between;
	justify-content: space-between;
}
.footer-darkblue-container .footer-cs-links ul.cslinks {
	list-style: none outside none;
}
#footer .footer-darkblue-container .footer-cs-links li {
	float: left;
	clear: both;
	margin: 0 0 .75em;
	padding: 0;
}
.footer-darkblue-container .footer-cs-links li strong {
	text-transform: uppercase;
}
</style>

<!-- This code is only visible on Lg and higher breakpoints -->
<div class="footer-darkblue-container pd_top_xl pd_xl">
	<div class="footer-darkblue-inner sitewidth-max pd_edges sp_horizontal_auto clearfix">

		<div class="footer-primary grid-root sp_xxl">

			<div class="footer-email-signup footer-primary-col g-1-3 pd_top">
				<div class="footer-email-signup-inner sp_horizontal_auto">

					<div class="heading-b sp_sm">Sign up for email <span class="u-nowrap">&amp; get 40% off<span class="asterisk">*</span></span></div>
					<form name="joinEmail_gap" id="joinEmail_gap" action="https://secure-www.gapcanada.ca/profile/updateEmailPreferences.do" onsubmit="return validateFormGapFooter(this)" method="post" class="clearfix sp_lg">
						<input type="HIDDEN" name="brand_country_code" value="GPCA">
						<input type="HIDDEN" name="lang_pref" value="CA_EN">
						<input type="HIDDEN" name="targetURL" value="/profile/info.do?cid=76495&amp;locale=en_CA">
						<input type="HIDDEN" id="src_genGapFooter" name="src_gnrc_cd" value="WEBSITE EMAIL SIGNUP">
						<input type="HIDDEN" id="src_specGapFooter" name="src_spfc_cd" value="GP=EA_06_08;BR=NA;ON=NA;PL=NA;AT=NA;BRFS=NA;GPO=NA">
						<label for="footer-email-field" class="sp_sm">
							<div class="visually-hidden label-a">Email Address</div>
							<input id="footer-email-field" name="email" type="email" maxlength="255" onfocus="setDefaultGapFooter(this);" onblur="clearDefaultGapFooter(this);" autocomplete="off" value="Email, please">
						</label>
						<label for="footer-confirm-email-field" class="sp">
							<div class="visually-hidden label-a">Confirm Email Address</div>
							<input id="footer-confirm-email-field" name="confirm_email" type="email" maxlength="255" onfocus="setDefaultGapFooter(this);" onblur="clearDefaultGapFooter(this);" autocomplete="off" value="Confirm your email">
						</label>
						<div class="button-container">
							<button class="email-btn">Sign Up Now <span class="email-caret"></span></button>
						</div>
					</form>
					<div class="legal small-text">
						<div class="body-a"><span class="asterisk">*</span>Valid for first-time registrants only &amp; applies to reg. price items only. <a onclick="return contentItemLink(this,'','emailreg');" href="/customerService/info.do?cid=2331">Privacy Policy</a></div>
					</div>

				</div>
			</div><!-- /.footer-email-signup -->

			<div class="footer-sms-signup footer-primary-col g-1-3">
				<div class="clearfix sp_sm">
					<div class="heading-b left"><strong>Let's text.</strong></div>
					<img src="/Asset_Archive/GPWeb/content/0011/822/103/assets/041216_ALL_footer_white_gapASAP.png" alt="GapASAP Logo" class="left">
				</div>
				<div class="body-a sp">Text "YES" to 36888 and we'll make sure you never miss a thing.<span class="asterisk2">**</span></div>
				<div class="legal small-text">
					<div class="body-a sp"><span class="asterisk2">**</span>GapASAP: Up to 2 automated marketing msg/wk at this number. No purchase necessary. Msg &amp; data rates may apply. <a href="http://www.gapcanada.ca/text" target="_blank">www.gapcanada.ca/text</a></div>
					<div class="body-a">Yes! I would like to receive style news and exclusive offers from Gap Inc. and related companies and brands including Gap (Canada) Inc. and Old Navy (Canada) Inc., Banana Republic (Canada) Inc., and Athleta. You can withdraw your consent at any time. For more details see our <a href="/customerService/info.do?cid=2331&amp;locale=en_CA" target="_blank" onclick="return contentItemLink(this,'','CS_privacypolicy');">Privacy Policy</a> or <a href="/customerService/info.do?cid=7843&amp;locale=en_CA" target="_blank" onclick="return contentItemLink(this,'','CS_contactus');"> Contact Us</a>.</div>
				</div>
			</div><!-- /.footer-sms-signup -->

			<div class="footer-column3 footer-primary-col g-1-3 pd_top">
				<div class="footer-column3-inner sp_horizontal_auto">

					<div class="footer-stay-connected sp_xl clearfix">
						<div class="body-a sp"><strong>STAY CONNECTED</strong></div>
						<div class="social-icons">
							<div class="social_img">
								<a href="https://www.facebook.com/pages/Gap/14856729724" target="_blank" onclick="footer_evarTrackIt('cs_footer_facebook');"><!--
									--><img src="/Asset_Archive/GPWeb/content/0011/822/103/assets/social_icons/041216_ALL_footer_ICON_FB.png" alt="Facebook"><!--
								--></a>
							</div>
							<div class="social_img">
								<a href="http://www.twitter.com/gap" target="_blank" onclick="footer_evarTrackIt('cs_footer_twitter');"><!--
									--><img src="/Asset_Archive/GPWeb/content/0011/822/103/assets/social_icons/041216_ALL_footer_ICON_Twitter.png" alt="Twitter"><!--
								--></a>
							</div>
							<div class="social_img">
								<a href="http://www.pinterest.com/Gap" target="_blank" onclick="footer_evarTrackIt('cs_footer_pinterest');"><!--
									--><img src="/Asset_Archive/GPWeb/content/0011/822/103/assets/social_icons/041216_ALL_footer_ICON_Pinterest.png" alt="Pinterest"><!--
								--></a>
							</div>
							<div class="social_img">
								<a href="http://instagram.com/gap" target="_blank" onclick="footer_evarTrackIt('cs_footer_instagram');"><!--
									--><img src="/Asset_Archive/GPWeb/content/0011/822/103/assets/social_icons/041216_ALL_footer_ICON_IG.png" alt="Instagram"><!--
								--></a>
							</div>
							<div class="social_img">	
								<a href="http://gap.tumblr.com/" target="_blank" onclick="footer_evarTrackIt('cs_footer_tumblr');"><!--
									--><img src="/Asset_Archive/GPWeb/content/0011/822/103/assets/social_icons/041216_ALL_footer_ICON_Tumblr.png" alt="Tumblr"><!--
								--></a>
							</div>	
						</div>
					</div>

					<div class="footer-cs-links grid-root">
						<ul class="cslinks g-1-2 small-text">
							<li class="body-a"><strong><a href="/customerService/info.do?cid=2136" onclick="return contentItemLink(this,'','CS_Footer_CustomerService');">CUSTOMER SUPPORT</a></strong></li>
							<li class="body-a"><a href="/customerService/info.do?cid=2136" onclick="return contentItemLink(this,'','CS_Footer_CustomerService');">Customer Service</a></li>
							<li class="body-a"><a href="/customerService/info.do?cid=2326" onclick="return contentItemLink(this,'','CS_Footer_Returns');">Returns</a></li>
							<li class="body-a"><a href="/customerService/info.do?cid=2116" onclick="return contentItemLink(this,'','CS_Footer_GC');">Giftcards</a></li>
						</ul>
						<ul class="cslinks g-2-5 small-text">
							<li class="body-a"><strong><a href="/customerService/info.do?cid=2136" onclick="return contentItemLink(this,'','CS_Footer_CustomerService');">FIND US</a></strong></li>
							<li class="body-a"><a href="/customerService/info.do?cid=59182" onclick="return contentItemLink(this,'','CS_Footer_StoreLocator');">Store Locator</a></li>
							<li class="body-a">1.800.GAPSTYLE</li>
							<li class="body-a">1.800.427.7895</li>
						</ul>
					</div>

				</div>
			</div><!-- /.footer-column3 -->

		</div><!-- /.footer-primary -->

		<div class="footer-secondary grid-root">

			<div class="footer-lang-toggle g-1-1 sp">
				<p class="body-a"><strong>English</strong>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="javascript:gidLib.localeUtils.toggleLocale('fr_CA');">Français</a></p>
			</div>

			<div class="footer-copyright g-1-1">
				<p class="body-a sp">© 1997 - <span class="currentYear"></span> Gap Inc. | 1.800.427.7895 | <a href="/customerService/info.do?cid=2331" onclick="return contentItemLink(this,'','CS_Footer_PrivacyPolicy');"><strong>Privacy Policy</strong></a> | <a href="/customerService/info.do?cid=6754" onclick="return contentItemLink(this,'','CS_Footer_TermsofUse');"><strong>Terms of Use</strong></a></p>
				<p class="body-a"><a href="/customerService/info.do?cid=1005563">Accessibility for Ontarians with Disabilities Act</a></p>
			</div><!-- /.footer-copyright -->

		</div><!-- /.footer-secondary -->

	</div>
</div><!-- /.footer-darkblue-container -->

<script type="text/javascript">
// BEGIN Pull Year from Personalization - DO NOT REMOVE est. 2014
document.observe('personalizationData:ready', function() {
	if ( personalizationService.model.personalizationData.personalizationInfoV1.userContext.viewDate ) {
		var dateString = personalizationService.model.personalizationData.personalizationInfoV1.userContext.viewDate;
		var currentYear = dateString.split("-",1);
		jQuery('.currentYear').each(function() {
			jQuery(this).text(currentYear);
		});
	}
});
// END Pull Year from Personalization - DO NOT REMOVE est. 2014

/*Footer evar6 tracking */
function footer_evarTrackIt(myTid) {
	s.linkTrackVars = 'eVar6';
	s.eVar6 = myTid; //tid here
	s.tl(this, 'o', s.eVar6);
}

// Do we still need these two scripts?
function setDefaultGapFooter(elem) {
	if(elem.value==elem.defaultValue)elem.value='';
	$(elem).removeClassName('validationWarning');
}
function clearDefaultGapFooter(elem) {
	if(elem.value=='')elem.value=elem.defaultValue;
}

// Form Validation
function validateFormGapFooter() {
	// check form fields
	var form = $('joinEmail_gap');
	var sendForm = false;
	if (form.email) {
		var email = form.email.value;
		var confirmEmail = form.confirm_email.value;
		var reg = /\b(^(\S+@).+((\.com)|(\.net)|(\.edu)|(\.mil)|(\.gov)|(\.org)|(\.aero)|(\.arpa)|(\.asia)|(\.biz)|(\.cat)|(\.coop)|(\.info)|(\.int)|(\.jobs)|(\.mobi)|(\.name)|(\.post)|(\.pro)|(\.tel)|(\.xxx)|(\..{2,2}))$)\b/gi;
		
		function checkRequired() {
			var requiredFields = false;
			var warning = 'This field is required';
			if (form.email.value == form.email.defaultValue) {
				form.email.defaultValue = warning;
				form.email.value = warning;
				$(form).email.addClassName('validationWarning');
				requiredFields = false;
			} else {
				$(form).email.removeClassName('validationWarning');
				requiredFields = true;
			}
			if (form.confirm_email.value == form.confirm_email.defaultValue) {
				form.confirm_email.defaultValue = warning;
				form.confirm_email.value = warning;
				$(form).confirm_email.addClassName('validationWarning');
				requiredFields = false;
			} else if (requiredFields == false) {
				requiredFields = false;
			} else {
				$(form).confirm_email.removeClassName('validationWarning');
				requiredFields = true;
			}
			if (requiredFields == true) {
				sendForm = true;
				checkEmail();
			}
		}
		function checkEmail() {
			if (reg.test(email) == false) {
				var warning = 'Invalid Email Address';
				form.email.defaultValue = warning;
				form.email.value = warning;
				$(form).email.addClassName('validationWarning');
				sendForm = false;
			} else {
				$(form).email.removeClassName('validationWarning');
				sendForm = true;
				checkConfirmEmail();
			}
		}
		function checkConfirmEmail() {
			if (sendForm = true && email != confirmEmail) {
				var warning = 'Email Addresses Must Match';
				form.confirm_email.defaultValue = warning;
				form.confirm_email.value = warning;
				$(form).confirm_email.addClassName('validationWarning');
				sendForm = false;
			} else if (email == confirmEmail) {
				$(form).confirm_email.removeClassName('validationWarning');
				sendForm = true;
			}
		}
		checkRequired();
	}
	return sendForm;
}
</script>


</div>
<!-- END Content Item File: /content/0011/822/103/cn11822103.html -->
</div>
	<div id="textFooterLink2_10000516" class="g-1-1 clearfix"></div>
</div>

<script type="text/javascript">

// Responsive bag JS overrides
if( window["responsiveBagAbTestOn"] != null && responsiveBagAbTestOn ) {
	var wcdFooterResponsiveUpdate = function() {
		jQuery(document).ready( function() {

			// jbox popups
			var edfsFooter = jQuery('#MapfooterNewEDFS area');
			var edfsPopupWidth = '472';
			var edfsPopupHeight = '450';
			if( jQuery(window).width() < 569 ) {
				edfsPopupWidth = '300';
				edfsPopupHeight = '350';
			}
			
			if( edfsFooter.length > 0 ) {
				edfsFooter.attr({ 'onclick':'', 'rel':'jbox', 'data-jbox-url':'/buy/info.do?cid=35295', 'data-jbox-width':edfsPopupWidth, 'data-jbox-height':edfsPopupHeight });
			}		
			jbox.checkDataAttributes();

		});
	}
	wcdFooterResponsiveUpdate();
}

// Update marketing content for responsive bag
if( window["responsiveBagAbTestOn"] != null && responsiveBagAbTestOn ) {
	jQuery(document).ready( function() {
		var footerTextLinks = jQuery('#contentItemContainer10000515 div');
		if( footerTextLinks.length > 0 ) {
			footerTextLinks[0].style.cssText = '';
		}
		
		// jbox popups
		var edfsFooter = jQuery('.edfs-footer');
		if( edfsFooter.length > 0 ) {
			edfsFooter.attr({ 'onclick':'', 'rel':'jbox', 'data-jbox-url':'/buy/info.do?cid=47471', 'data-jbox-width':'472', 'data-jbox-height':'450' });
		}		
	});
}

</script>
</div>
</div>

<!-- Future Story Place holder #209 & #210-->
<div id="footer_GID_marketing">
	
</div>

<div id="footer_TextLinkNavigation">
	<div id="footer_brand_region2"></div>
</div>
<div id="footer_languageToggle">
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		
			
			
				
					<span class="languageToggleBold">English</span>
				
				
							
			 | 
		
			
			
				
				
					<a href="javascript:gidLib.localeUtils.toggleLocale('fr_CA');">
						<span class="languageToggle">Français</span>
					</a>
				
							
			
		
	
</div>


<div id="footer_preferLocaleLanguageOptions">
	
</div>

	<style>
		#searchDexFooter {font-size:9px;}
		#searchDexFooter .expFooter {text-align:center;padding-top:10px;padding-bottom:10px;}
		#searchDexFooter .expFooter A:link{text-decoration:none}
		#searchDexFooter .expFooter A:visited{text-decoration:none}
		#searchDexFooter .expFooter A:active{text-decoration:none}
		#searchDexFooter .expFooter A:hover{text-decoration:none}
		#searchDexFooter .brandExp { padding-bottom:10px;}
		#searchDexFooter .linkContainer{display:none;}
		#searchDexFooter .plus {margin-left:-2px;cursor:pointer;cursor:hand;}
		#searchDexFooter .minus{display:none;margin-left:-2px;cursor:pointer;cursor:hand;font-size:10px;}		
	</style>
	
	<script type="text/javascript">
		var browseSearchDexFooters = {

	        linksets : null,
	        plusset : null,
	        minusset : null,
	       
	        init : function() {
				if($('linkContainers') != null){
					this.linksets = $('linkContainers').select('.linkContainer');
				}
				if($('searchDexFooterContainer') != null){
					$('searchDexFooter').style.display="block";
					this.plusset = $('searchDexFooterContainer').select('.plus');
					this.minusset = $('searchDexFooterContainer').select('.minus');
				}
	        },

	        expandLink: function(s){
	            var expand = this.linksets[s] ;
	            var lsp = this.plusset[s] ;
	            var lsm = this.minusset[s] ; 

	            this.shrinkLinks();

	            if(expand != null){
	                expand.style.display = 'inline';
	                expand.style.float = 'none';
	            }      
	            if(lsm != null){
	                lsm.style.display = 'inline';
	            }
	            if(lsp != null){
	                lsp.style.display = 'none';
	            }
	        },

	        shrinkLinks: function(){
		    if(this.plusset != null){
	                this.plusset.invoke("setStyle",{display:'inline'});
	            }
		    if(this.minusset != null){
	                this.minusset.invoke("setStyle",{display:'none'});
	            }
		    if(this.linksets != null){
	                this.linksets.invoke("setStyle",{display:'none'});
	            }
	        }
	           
		};
		Event.observe(window,"load", function() {
	 		browseSearchDexFooters.init();
		});
		
	</script>
	
	


<div id="footer_Region3">
	<div id="footer_brand_region3"></div>
</div>

	
	





	
		
	
	
			


	
			
			
	
	
	
	








	

	
	





	
		
	
	
			


	
			
			
	
	
	
	














                </div>
            
        
    </div>
    
        
    

    

    




	
		
	
	
			


	
			
			
	
	
	
	








	
		
		
			
		
	

	


<div class="cssHide">
	
	
	<script type="text/javascript" src="/gid/js/common/layouts/en/reporting/sCode-2016-2-23.js"></script>
	 <script type="text/javascript">
	   reportingService.controller.viewManagers.commonViewManager.model.contentItemIdListReport = "10736669,9713300,11706752,11816884,11821821,5713575,9713300,11706752,11816884,10097493,10409689,10409691,11140418,11807661,11581276,11807663,11810384,11795204,10099207,11580835,10249364,11689896,11822103";
	 </script>
	
	<noscript>
		
			<img src="http://gapnojavaproduction.112.2o7.net/b/ss/gapnojavaproduction?pageName=gp%3AcustomerService&amp;g=" alt="" />
		
	</noscript>
</div>	

	
 

    




	
		
	
	
			


	
			
			
	
	
	
	









	
		
			<script type="text/javascript">
				document.write('<div id="noCookie" class="siteError nav-shiftee">');
				document.write('<p id="noCookieText" class="supportErrorText">');
				document.write('Please enable cookies in your browser to experience all the custom features of our site, including the ability to make a purchase. ');
				document.write('</p>');
				document.write('</div>');
			</script><div id="noCookie" class="siteError nav-shiftee"><p id="noCookieText" class="supportErrorText">Please enable cookies in your browser to experience all the custom features of our site, including the ability to make a purchase. </p></div>
		
		
	
	<noscript>
		<div id="noScript" class="siteError nav-shiftee">
			<p id="noScriptText" class="supportErrorText">
				Please
				<a href="/customerService/info.do?cid=000000">enable JavaScript</a>
				in your browser to experience all the custom features of our site, including the ability to make a purchase.
			</p>
			
				<p id="noCookieText" class="supportErrorText">
					Please enable cookies in your browser to experience all the custom features of our site, including the ability to make a purchase.
				</p>
			
		</div>
	</noscript>
	




	
		
	
	
			


	
			
			
	
	
	
	








  <div class="onesite">
    <!-- ko if: universalModal.isModalVisible -->
<div data-bind="with: universalModal">
  <div class="universal-modal--backdrop" data-bind="
      css: {
        'show-modal': isModalVisible
      },
      click: closeModal
    ">
    <div class="universal-modal" data-bind="
        stopBubble: true, css: {
          'show-modal': isModalVisible
        }
      ">
      <!-- ko if: !chromelessModal() -->
      <div class="modal--header" data-bind="css: { 'modal--header_no-background': !headerBackground() }">
        <span data-bind="text: templateData().title"></span>
        <button class="modal--close-button" data-bind="click: closeModal" aria-label="Close Modal" title="Close Modal">
          <span class="modal--close-icon icon-x" aria-hidden="true">
            <svg class="modal--close-icon--svg" viewBox="0 0 15 15">
              <g stroke-width="1">
                <line x1="4.25" y1="10.75" x2="10.75" y2="4.25"></line>
                <line x1="4.25" y1="4.25" x2="10.75" y2="10.75"></line>
              </g>
            </svg>
          </span>
        </button>
      </div>
      <!-- /ko -->
      <div data-bind="template: {name: templateName, data: templateData()}" class="modal--content"></div>
    </div>
    </div>
</div>
<!-- /ko -->
<script type="template/handlebars" id="modal-iframe-template">
  <iframe id="iframe" data-bind="attr: {src: url}"></iframe>
</script>
<script type="template/handlebars" id="modal-signin-template">
  <div class="signin" data-bind="with: contentViewModel">
  <p data-bind="text: titleText" class="signin--title">
  </p>

  <div class="signin--image"></div>

  <div class="signin--form" data-bind="validationOptions: { insertMessages: false, decorateInputElement: true, errorElementClass: 'form--input_error' }">
    <form data-bind="submit: doSignIn" novalidate>
      <div class="form--global-error-message pd_top_sm">
        <p data-bind="text: signinErrors"></p>
      </div>

      <div class="signin--input-wrapper">
        <p id="signinEmailAddressError" class="form--inline-error-message signin--inline-error-message" data-bind="validationMessage: emailAddress"></p>
        <input type="email" placeholder="Email address" name="emailAddress" data-bind="hasFocus: hasEmailFocus, value: emailAddress" class="form--text-input signin--input" />
      </div>

      <div class="signin--input-wrapper">
        <p id="signinPasswordError" class="form--inline-error-message signin--inline-error-message" data-bind="validationMessage: password"></p>
        <input type="password" placeholder="Password" name="password" aria-label="Input password" data-bind="value: password" class="form--text-input signin--input" />
      </div>

      <a class="signin--forgot-password link_default" href="/profile/forgot_password.do?locale=en_CA">
        Forgot your password?
      </a>

      <button class="button_universal_primary_a" type="submit">
        Sign In
      </button>

      <div class="signin--signup">
        Don’t have an account? <a class="link_default" href="/profile/sign_in.do">Sign up here</a>.
      </div>
    </form>
  </div>
</div>

</script>
<script type="template/handlebars" id="magic-link-confirmation-template">
  <div class="magic-link-confirmation" data-bind="with: contentViewModel">

  <div class="magic-link-confirmation--title">
    <span class="icon-check-mark-outer" data-bind="if: isAuthenticatedAndMagicLinkNotSent">
      <span class="icon-check-mark"></span>
    </span>
    <span class="magic-link-confirmation--title-text" data-bind="html: titleText">
    </span>
  </div>

  <div class="magic-link-confirmation--image" data-bind="ifnot: magicLinkSent">
    <div class="magic-link-confirmation--animation">

  <div class="magic-link-confirmation--animation-elements">
    <div class="magic-link-confirmation--animation-email"></div>
    <div class="magic-link-confirmation--animation-email-shadow">
      <img src="/static_content/images/magic-link/email-shadow.svg" />
    </div>

    <div class="magic-link-confirmation--animation-mobile"></div>
    <div class="magic-link-confirmation--animation-mobile-shadow">
      <img src="/static_content/images/magic-link/mobile-shadow.svg" />
    </div>

    <div class="magic-link-confirmation--animation-tablet"></div>
    <div class="magic-link-confirmation--animation-tablet-shadow">
      <img src="/static_content/images/magic-link/tablet-shadow.svg" />
    </div>

    <div class="magic-link-confirmation--animation-desktop"></div>
    <div class="magic-link-confirmation--animation-desktop-shadow">
      <img src="/static_content/images/magic-link/desktop-shadow.svg" />
    </div>
  </div>
  
  <div class="magic-link-confirmation--animation-fallback">
    <img src="/static_content/images/magic-link/magic-link-animation-fallback.png" />
  </div>

</div>

  </div>

  <div class="magic-link-confirmation--link-sent-image" data-bind="if: magicLinkSent">
    <div class="magic-link-confirmation--link-sent-animation animate"
     data-bind="css:{'favorites-override': !isShoppingBagPage() }">

  <div class="magic-link-confirmation--animation-elements">

    <div class="magic-link-confirmation--animation-email">
      <div class="magic-link-confirmation--circle">
        <img data-bind="visible: isShoppingBagPage" src="/static_content/images/magic-link/bag.svg" />
        <img data-bind="visible: !isShoppingBagPage()" src="/static_content/images/magic-link/heart.svg" />
      </div>
    </div>

    <div class="magic-link-confirmation--animation-mobile">
      <div class="magic-link-confirmation--circle">
        <img data-bind="visible: isShoppingBagPage" src="/static_content/images/magic-link/white-bag.svg" />
        <img data-bind="visible: !isShoppingBagPage()" src="/static_content/images/magic-link/white-heart.svg" />
      </div>
    </div>
    <div class="magic-link-confirmation--animation-mobile magic-link-confirmation--mobile-color">
      <div class="magic-link-confirmation--circle">
        <img data-bind="visible: isShoppingBagPage" src="/static_content/images/magic-link/white-bag.svg" />
        <img data-bind="visible: !isShoppingBagPage()" src="/static_content/images/magic-link/white-heart.svg" />
      </div>
    </div>

    <div class="magic-link-confirmation--animation-tablet">
      <div class="magic-link-confirmation--circle">
        <img data-bind="visible: isShoppingBagPage" src="/static_content/images/magic-link/white-bag.svg" />
        <img data-bind="visible: !isShoppingBagPage()" src="/static_content/images/magic-link/white-heart.svg" />
      </div>
    </div>
    <div class="magic-link-confirmation--animation-tablet magic-link-confirmation--tablet-color">
      <div class="magic-link-confirmation--circle">
        <img data-bind="visible: isShoppingBagPage" src="/static_content/images/magic-link/white-bag.svg" />
        <img data-bind="visible: !isShoppingBagPage()" src="/static_content/images/magic-link/white-heart.svg" />
      </div>
    </div>

    <div class="magic-link-confirmation--animation-desktop">
      <div class="magic-link-confirmation--circle">
        <img data-bind="visible: isShoppingBagPage" src="/static_content/images/magic-link/white-bag.svg" />
        <img data-bind="visible: !isShoppingBagPage()" src="/static_content/images/magic-link/white-heart.svg" />
      </div>
    </div>
    <div class="magic-link-confirmation--animation-desktop magic-link-confirmation--desktop-color">
      <div class="magic-link-confirmation--circle">
        <img data-bind="visible: isShoppingBagPage" src="/static_content/images/magic-link/white-bag.svg" />
        <img data-bind="visible: !isShoppingBagPage()" src="/static_content/images/magic-link/white-heart.svg" />
      </div>
    </div>
  </div>

  <div class="magic-link-confirmation--animation-fallback">
    <!-- ko ifnot: isShoppingBagPage -->
    <img src="/static_content/images/magic-link/confirmation-favorites-fallback.gif" />
    <!-- /ko -->
    <!-- ko if: isShoppingBagPage -->
    <img src="/static_content/images/magic-link/confirmation-bag-fallback.gif" />
    <!-- /ko -->
  </div>
</div>

  </div>

  <div class="magic-link-confirmation--text" data-bind="if: isAuthenticatedAndMagicLinkNotSent">
    <span data-bind="html: messageText"/>
  </div>

  <div data-bind="visible: hasError" class="magic-link-error--container">
    <span class="magic-link-error--text" data-bind="text: errorMessage"></span>
  </div>

  <button type="submit" id="magic_link_action"
    class="button_universal_primary_a"
    data-bind="text: buttonText, click: onMagicLinkButtonPress">
  </button>

</div>

</script>
<!-- ko if: featurama.enabled('facets') -->
  <script type="template/handlebars" id="ko-component-template">
    <div class="accordion accordion_facet" data-bind="accordion: { exclusive: true, showFirst: false }">
  <div class="modal--header accordion_facet--header">
    <div class="tabs--item-count cat-page--item-count cat-page--item-count--has-animation"
  data-bind="
    css: {
      'cat-page--item-count--zero': $root.productCategory.isItemCountZero()
    },
    visible: $root.productCategory.isItemCountInitialized()
  "
  style="display: none;">
  <span data-bind="text: $root.productCategory.k_totalItems()"></span>
  <span data-bind="visible: !$root.productCategory.multipleItems()" style="display: none;" aria-live="polite">
    item
  </span>
  <span data-bind="visible: $root.productCategory.multipleItems()" style="display: none;" aria-live="polite">
    items
  </span>
</div>

    <button class="modal--close-button" data-bind="click: $parent.closeModal" aria-label="Close Modal">
      <span class="modal--close-icon icon-x" aria-hidden="true">
        <svg class="modal--close-icon--svg" viewBox="0 0 15 15">
          <g stroke-width="1">
            <line x1="4.25" y1="10.75" x2="10.75" y2="4.25" />
            <line x1="4.25" y1="4.25" x2="10.75" y2="10.75" />
          </g>
        </svg>
      </span>
    </button>
  </div>
  <div class="accordion_facet--scrollable-content">
    <div class="accordion_facet--scrollable-area">
    <!-- ko if: gap.viewModel.facetManager.hasFacets() -->
      <!-- ko foreach: { data: gap.viewModel.facetManager.k_facets, as: 'facet' } -->
      <div class="accordion--group accordion_facet--group">
        <button class="accordion--trigger accordion_facet--trigger" data-bind="text: facet.label, noFocus: true"></button>
        <div class="accordion--content accordion_facet--content" data-bind="
          css: 'accordion_facet--' + facet.name,
          component: {
            name: facet.name,
            params: {
              type: 'accordion',
              viewModel: gap.viewModel[facet.viewModel]
            }
          }">
        </div>
      </div>
      <!-- /ko -->
      <div class="accordion_facet--selected" data-bind="css: {'has-tags': gap.viewModel.facetManager.hasTags()}">
          <!-- ko foreach: { data: gap.viewModel.facetManager.k_facets, as: 'facet' } -->
            <!-- ko
                  component: {
                    name: 'facet-tags',
                    params: {
                      facetModel: gap.viewModel[facet.viewModel]
                    }
                  }
                -->
            <!-- /ko -->
          <!-- /ko -->
      </div>
      <!-- /ko -->
    </div>
  </div>
  <div class="accordion_facet--actions">
    <button class="button_secondary accordion_facet--action-button clear-all-button"
            data-bind="
              css: {'has-tags': gap.viewModel.facetManager.hasTags()},
              click: gap.viewModel.facetManager.clearFacetSelections
            ">
      Clear All
    </button>
    <button class="button_primary accordion_facet--action-button" data-bind="click: $parent.closeModal">
      Done
    </button>
  </div>
</div>

  </script>
<!-- /ko -->
<!-- Surfacing the templates inside fis-ris-modal, to prevent nested script tags -->
<script type="template/handlebars" id="fist-modal-template">
  <div data-bind="with: baseViewModel">
    <div data-bind="visible: isFisActive()">
      <!-- ko component: {
        name: 'find-in-store',
        params: {
          k_selectedStore: k_selectedStore,
          k_postalCode: k_postalCode
        }
      }
      -->
      <!--/ko-->
    </div>
    <div data-bind="visible: isRisActive()" class="fis-ris-container">

      <div class="l--ris-selected">
        <div class="ris-selected">

  <div data-bind="
    component: {
      name: 'ris-selected-product',
      params:  gap.viewModel.findBoxManager
    }">
  </div>

  <div data-bind="
    component: {
      name: 'ris-selected-location',
      params: {
        store: k_selectedStore(),
        isReserveComplete: k_reserveComplete()
      }
    }">
  </div>

</div>

      </div>

      <div class="l--ris-main">
        <div class="sp_all">
          <!-- ko component: {
            name: 'reserve-in-store',
            params: {
              k_selectedStore: k_selectedStore,
              k_selectedSKU: gap.viewModel.findBoxManager.k_selectedSKU,
              k_reserveComplete: k_reserveComplete
            }
          }
          -->
          <!--/ko-->
        </div>
      </div>

      <div class="fis-ris--bottom-note fis-ris--bottom-note_with-border">
        <strong class="fis-ris--bottom-note--strong">Please Note:</strong>
        You can reserve five items daily. After we confirm an item is available,
        we hold it until the store closes the following day. Prices in store may
        differ from prices online.
      </div>

    </div>
  </div>
</script>
<script id="find-box-template" type="template/text">
  <div class="l--find-box">
    <div class="l--find-box--image">
      <div class="g-inner">
        <img data-bind="attr: { src: $component.viewModel.productImage().small }">
      </div>
    </div>
    <div class="l--find-box--name">
      <div class="g-inner">
        <div class="sp_sm">
          <div class="fis-ris--header">
            <h1 class="product-title fis-ris--header--title" data-bind="html: $component.viewModel.productName"></h1>
            <div class="fis-ris--header--id" data-bind="html: $component.productNumberDisplay"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="l--find-box--swatches">
      <div class="g-inner">
        <div class="find-box--swatches">
          <div data-bind="
            component: {
              name: 'color-selector-manager',
              params: {
                colors: $component.viewModel.colors,
                k_selectedColor: $component.viewModel.k_selectedColor,
                colorLabel: $component.viewModel.colorLabel
              }
            }">
          </div>
          <div class="sp_sm" data-bind="
            component: {
              name: 'size-selector-manager',
              params: {
                k_selectedSizeCombo: $component.viewModel.k_selectedSizeCombo,
                k_selectedColor: $component.viewModel.k_selectedColor,
                k_selectedSKU: $component.viewModel.k_selectedSKU,
                k_activeVariant: $component.viewModel.k_activeVariant
              }
            }">
          </div>
        </div>
      </div>
    </div>
  </div>
</script>

<script id="color-selector-template" type="template/text">
  <div class="label-wrapper">
    <span class="label"><span data-bind="text: colorLabel"></span>:</span>
    <span class="label-value" data-bind="text: $data.getSelectedColorName()"></span>
  </div>
  <div class="swatches swatches_color swatches_find-box">
    <ul class="swatches--list">
      <!-- ko foreach: $data.k_availableColors() -->
        <li class="swatches--item swatches--item_fixed-width">
          <label class="color-swatch--label swatch--fixed-width swatches_half-off--item" data-bind="{ click: $component.selectSwatch, noFocus: true }">
            <input class="swatches--radio" type="radio" name="color-radio" data-bind="
              value: colorName">
            <span class="swatches--swatch swatches--color">
              <span class="swatches--image_wrapper" data-bind="css: { 'swatches--underlined': $component.isSelectedColor($data)}">
                <img class="swatches--image" data-bind="attr: { src: swatchImage, alt: colorName }">
              </span>
            </span>
          </label>
        </li>
      <!-- /ko -->
    </ul>
  </div>
</script>

<script id="size-selector-template" type="template/text">
  <div class="label-wrapper">
    <span class="label" data-bind="css: {'label_error': !$data.k_selectedSizeCombo().sizeDimension1 }">
      <span data-bind="text: getSizeDim1Label()"></span>:
    </span>
    <span class="label-value" data-bind="text: $data.getSelectedSizeName()"></span>
  </div>
  <div class="swatches swatches_size swatches_find-box">
    <!-- ko foreach: $data.k_availableSizes() -->
    <label class="swatches--item swatches--item_find-box swatches--item_natural-width" role="radio" data-bind="{click: $component.selectSize, noFocus: true}">
      <input class="swatches--radio" type="radio" data-bind="{ value: $component.getSizeName($data), checked: $component.getSelectedSizeName(), attr: { 'name': 'size-radio' }}">
      <span class="swatches--swatch swatches--size">
        <span class="swatches--text" data-bind="text: sizeDimension1"></span>
      </span>
    </label>
    <!-- /ko -->
  </div>

  <!--ko if: hasSecondDimension -->
  <div class="label-wrapper">
    <span class="label" data-bind="css: {'label_error': !$data.k_selectedSizeCombo().sizeDimension2 }">
      <span data-bind="text: getSizeDim2Label()"></span>:
    </span>
    <span class="label-value" data-bind="text: $data.getSelectedSizeLengthName()"></span>
  </div>
  <div class="swatches swatches_size swatches_find-box">
    <!-- ko foreach: $data.k_availableSizeLengths() -->
    <label class="swatches--item swatches--item_find-box swatches--item_natural-width" role="radio" data-bind="{click: $component.selectSizeLength, noFocus: true}">
      <input class="swatches--radio" type="radio" data-bind="{ value: $component.getSizeLengthName($data), checked: $component.getSelectedSizeLengthName(), attr: { 'name': 'size-radio-length' }}">
      <span class="swatches--swatch swatches--size">
        <span class="swatches--text" data-bind="text: $component.getSizeLengthName($data)"></span>
      </span>
    </label>
    <!-- /ko -->
  </div>
  <!-- /ko -->
</script>


<script type="text/html" id="find-in-store-template">
  <div data-bind="
    component: {
      name: 'find-box',
      params: {
        viewModel: gap.viewModel.findBoxManager,
      }
    }"></div>

  <div id="store-card-manager" data-bind="
    component: { name: 'store-card-manager',
      params: {
        k_postalCode: k_postalCode
      }
    }
  ">
    <div class="pd pd_left pd_right">
      <div class="store-card-controls">
        <div class="store-card-control store-card-control--location" data-bind="
          component: {
            name: 'store-card-location-controls',
            params: {
              k_radius: k_radius,
              k_postalCode: k_postalCode
            }
          }
        ">
        </div>
        <div class="store-card-control store-card-control--sort" data-bind="
          component: {
            name: 'store-card-sort-controls',
            params: {
              k_storeCards: k_storeCards
            }
          }
        ">
        </div>
      </div>

      <!-- ko if: !k_allSizesSelected() -->
        <p class="store-card-message">Please select a size above to see store availability.</p>
      <!-- /ko -->

      <!-- ko if: k_allSizesSelected() && !k_isSkuAvailable() -->
        <p class="store-card-message">Sorry, your selection is currently unavailable in the stores. Please change your selection and try again.</p>
      <!-- /ko -->

      <!-- ko if: k_allSizesSelected() && k_isSkuAvailable() && didSearch() && !hasResults() -->
        <p class="store-card-message"><!-- Error executing helper: i18n helper  due to error  --></p>
      <!-- /ko -->

      <!-- ko if: k_allSizesSelected() && k_isSkuAvailable() && didSearch() && hasResults() -->
        <!-- ko foreach: { data: k_storeCards, as: 'store' } -->
          <!-- ko component: {
            name: 'store-card',
            params: {
              data: store,
              k_selectedStore: gap.viewModel.fistModal.k_selectedStore
            }
          } -->
          <!-- /ko -->
        <!-- /ko -->
      <!-- /ko -->
    </div>

    <div class="fis-ris--bottom-note" data-bind="css: { 'fis-ris--bottom-note_with-border': !k_storeCardFindInfo().hasResults }">
      <!-- Error executing helper: i18n helper  due to error  -->
      <!-- Error executing helper: i18n helper  due to error  -->
    </div>

  </div>
</script>

<script type="text/html" id="reserve-in-store-template">

  <div data-bind="visible: !k_reserveComplete()">
    <div class="ris-form">

      <div class="ris-form--intro">
        <div class="sp">
          <h3 class="ris-form--heading">Please Enter Your Contact Information</h3>
        </div>
        <p class="ris-form--intro-paragraph">We’ll confirm when we locate your item, usually within an hour of the request.</p>
      </div>

      <form action="">
        <div class="text-input_basic">
  <label data-bind="validationElement: k_firstName">

    <div class="sp_xs">
      <span class="text-input_basic--label-text">First Name</span>
    </div>
    <input class="text-input_basic--input" type="" name="firstName" data-bind="value: k_firstName">
    <div class="sp_xs">
      <span class="text-input_basic--label-text error" data-bind="validationMessage: k_firstName"></span>
    </div>

  </label>
</div>

        <div class="text-input_basic">
  <label data-bind="validationElement: k_lastName">

    <div class="sp_xs">
      <span class="text-input_basic--label-text">Last Name</span>
    </div>
    <input class="text-input_basic--input" type="" name="lastName" data-bind="value: k_lastName">
    <div class="sp_xs">
      <span class="text-input_basic--label-text error" data-bind="validationMessage: k_lastName"></span>
    </div>

  </label>
</div>

        <div class="text-input_basic">
  <label data-bind="validationElement: k_emailAddress">

    <div class="sp_xs">
      <span class="text-input_basic--label-text">Email</span>
    </div>
    <input class="text-input_basic--input" type="email" name="emailAddress" data-bind="value: k_emailAddress">
    <div class="sp_xs">
      <span class="text-input_basic--label-text error" data-bind="validationMessage: k_emailAddress"></span>
    </div>

  </label>
</div>

        <div class="text-input_basic">
  <label data-bind="validationElement: k_mobileNumber">

    <div class="sp_xs">
      <span class="text-input_basic--label-text">Mobile Number <sup>&dagger;</sup></span>
        <span class="text-input_basic--optional-flag">Optional</span>
    </div>
    <input class="text-input_basic--input" type="tel" name="mobileNumber" data-bind="value: k_mobileNumber">
    <div class="sp_xs">
      <span class="text-input_basic--label-text error" data-bind="validationMessage: k_mobileNumber"></span>
    </div>

  </label>
</div>

        <div class="input-note">
  <p class="input-note--text">
    &dagger; Used only to contact you about your request. Mobile rates may apply.
  </p>
</div>


        <label class="custom-checkbox" data-bind="noFocus: true">
  <input class="custom-checkbox--input" type="checkbox" data-bind="checked: k_optIn">
  <span class="custom-checkbox--checkbox" aria-hidden="true"><!-- This element is used to help draw the custom checkbox --></span>
  <span class="custom-checkbox--text">Sign up for our emails to get first dibs on new arrivals, can't miss deals and more.</span>
</label>


        <div class="grid-root">
          <div class="g-1-2">
            <button class="button_primary" type="submit" data-bind="click: reserve">Reserve</button>
          </div>
          <div class="g-1-2">
            <button class="ris-form--cancel" data-bind="click: closeFistModal">Cancel</button>
          </div>
        </div>
      </form>

    </div>
  </div>

  <div data-bind="visible: k_reserveComplete()">
    <!-- ko if: !k_isReserveFail() -->
    <!-- ko if: k_isStoreOpen() -->
      <div class="ris-confirmation">
  <p class="ris-confirmation--intro">
    Thanks, <span data-bind="text: k_firstName"></span>!<br />
    Your request is received.<br />
    We’re looking for your item now.
  </p>

  <div class="ris-confirmation--instructions">
    <h2 class="ris-confirmation--heading">After we find it:</h2>
    <ol class="ris-confirmation--list">
      <li class="ris-confirmation--list-item">
        <span class="ris-confirmation--icon icon-ris-clock" data-grunticon-embed data-bind="grunticonEmbed"></span>
        We’ll confirm your item is ready, usually within an hour.
      </li>
      <li class="ris-confirmation--list-item">
        <span class="ris-confirmation--icon icon-ris-email" data-grunticon-embed data-bind="grunticonEmbed"></span>
        Check the email for where to pick up your item in the store.
      </li>
      <li class="ris-confirmation--list-item">
        <span class="ris-confirmation--icon icon-ris-shopping-bag" data-grunticon-embed data-bind="grunticonEmbed"></span>
        We’ll hold your item until closing time, <span></span>, <span></span> <span></span>.
      </li>
    </ol>
  </div>

  <div class="ris-confirmation--action">
    <button class="button_primary button_inline" data-bind="click: closeFistModal">Continue Shopping</button>
  </div>
</div>

    <!-- /ko -->
    <!-- ko if: !k_isStoreOpen() -->
      <div class="ris-confirmation">
  <p class="ris-confirmation--intro">
    Thanks, <span data-bind="text: k_firstName"></span>!<br />
    Your request is received.<br />
    We’ll look for your item when the store opens.
  </p>

  <div class="ris-confirmation--instructions">
    <h2 class="ris-confirmation--heading">After we find it:</h2>
    <ol class="ris-confirmation--list">
      <li class="ris-confirmation--list-item">
        <span class="ris-confirmation--icon icon-ris-clock" data-grunticon-embed data-bind="grunticonEmbed"></span>
        We’ll contact you to confirm that your item is ready.
      </li>
      <li class="ris-confirmation--list-item">
        <span class="ris-confirmation--icon icon-ris-email" data-grunticon-embed data-bind="grunticonEmbed"></span>
        Check your email for where to pick up the item in the store.
      </li>
    </ol>
  </div>

  <div class="ris-confirmation--action">
    <button class="button_primary button_inline" data-bind="click: closeFistModal">Continue Shopping</button>
  </div>
</div>

    <!-- /ko -->
<!-- /ko -->
<!-- ko if: k_isReserveFail() -->
  <div class="ris-confirmation">
  <p class="ris-confirmation--intro">Technical Difficulties</p>

  <div class="ris-confirmation--instructions">
    <ol class="ris-confirmation--list">
      <li class="ris-confirmation--list-item">
        <span class="ris-confirmation--icon icon-ris-clock" data-grunticon-embed data-bind="grunticonEmbed"></span>
        We are currently experiencing technical difficulties. Please try again later or call us for assistance.
      </li>
    </ol>
  </div>

  <div class="ris-confirmation--action">
    <button class="button_primary button_inline" data-bind="click: closeFistModal">Continue Shopping</button>
  </div>
</div>

<!-- /ko -->

  </div>

</script>

<script type="text/html" id="store-card-sort-controls-template">
  <div class="pillbox">
    <input class="pillbox--radio" type="radio" name="fis-sort" id="sort-availability" value="availability"
      data-bind="
        noFocus: true,
        checked: k_sortingCriteria
      "/>
    <label class="pillbox--item" for="sort-availability">
      <span class="pillbox--text">Availability</span>
    </label>

    <input class="pillbox--radio" type="radio" name="fis-sort" id="sort-distance" value="distance"
      data-bind="
        noFocus: true,
        checked: k_sortingCriteria
      "/>
    <label class="pillbox--item" for="sort-distance">
      <span class="pillbox--text">Distance</span>
    </label>
  </div>
</script>

<script type="text/html" id="store-card-location-controls-template">
  <p><span class="capitalize">within</span>
    <select id="controls-radius" data-bind="value: radius">
      <option value="5">5</option>
      <option value="10">10</option>
      <option value="25">25</option>
      <option value="50">50</option>
      <option value="100">100</option>
    </select> kms of
    <span class="controls-postalcode--wrapper">
      <label class="" for="controls-postalcode">
        <span class="visually-hidden">Postal code</span>
      </label>
      <input id="controls-postalcode" class="text-input_basic--input" type="text" data-bind="
        textInput: postalCode"
      />
    </span>
  </p>
</script>

<script type="text/html" id="store-card-template">
  <div class="store-card">
    <div class="store-card--inner" data-bind="css: availabilityClass">
      <div class="store-card--cell store-card--cell_info">
        <div class="store-card--info">
          <div data-bind="if: data.inventoryStatus == 'available'" class="store-card--availability">Available</div>

          <div data-bind="if: data.inventoryStatus == 'limited'"  class="store-card--availability store-card--availability_is-limited">
            <span class="tooltip-wrapper">
              <button data-bind="event: {mouseover: openMessage, mouseout: closeMessage, click: toggleMessage}, noFocus: true" class="tooltip-toggle unbuttonize link">Limited</button>
              <div class="tooltip is-tooltip-hidden">To ensure availability, click the &quot;Reserve in Store&quot; button to have a sales associate look for the item and hold it for you.</div>
            </span>
          </div>

          <div data-bind="if: data.inventoryStatus == 'unavailable'" class="store-card--availability">Unavailable</div>

          <div class="store-card--distance"><span data-bind="text: data.storeDistance"></span> kms</div>
          <div class="store-card--store">
            <h1 class="store-card--name"><a target="_blank" data-bind="text: data.storeName, attr: { 'href': mapUrl }"></a></h1>

            <div class="store-card--address">
              <a target="_blank" data-bind="attr: { 'href': mapUrl }">
                <span class="store-card--address-line" data-bind="text: addressLine1"></span>
                <span class="store-card--address-line" data-bind="text: addressLine2"></span>
                <span>
                  <span data-bind="text: cityName"></span>, <span data-bind="text: data.storeAddress.stateProvinceCode"></span> <span data-bind="text: data.storeAddress.postalCode"></span>
                </span>
              </a>
            </div>
            <div data-bind="text: data.storeAddress.phoneNumber"></div>
          </div>
        </div>
      </div>
      <div class="store-card--cell store-card--cell_hours">
        <div class="store-card--hours accordion" data-bind="accordion: { animated: true, showFirst: false }">
          <div class="accordion--group">
            <button class="store-card--hours-toggle accordion--trigger" data-bind="noFocus: true">Store Hours</button>

            <div class="accordion--content">
              <dl class="ris-selected--key-value-list"  data-bind="foreach: storeHours">
                <dt class="ris-selected--key-value-list--key" data-bind="text: day"></dt>
                <dd class="ris-selected--key-value-list--value ris-selected--key-value-list--value_time" data-bind="text: time"></dd>
              </dl>
            </div>
          </div>
        </div>
      </div>
      <div class="store-card--cell store-card--cell_action">
        <div data-bind="visible: isReservable">
          <button class="store-card--button button_tertiary" data-bind="click: triggerReserve.bind(data)">
            Reserve
          </button>
        </div>
      </div>
    </div>
  </div>
</script>

<script type="text/html" id="ris-selected-product-template">
<div class="ris-selected--product">
  <div class="media">
    <div class="media--image ris-selected--image show-at-md">
      <img data-bind="attr: { src: k_smallProductImage(), alt: productName }">
    </div>

    <div class="media--body">
      <div class="sp_xs">
        <span class="ris-selected--product--name" data-bind="text: productName"></span>
      </div>
      <div data-bind="visible: isMarkedDown()">
        <span class="ris-selected--product--price_old" data-bind="text: getLocalizedRegularPrice()"></span>
        <span class="ris-selected--product--price_new" data-bind="text: getLocalizedCurrentPrice()"></span>
      </div>
      <div data-bind="visible: !isMarkedDown()">
        <span class="ris-selected--product--price" data-bind="text: getLocalizedCurrentPrice()"></span>
      </div>
      <dl class="ris-selected--key-value-list">
        <dt class="ris-selected--key-value-list--key"><span data-bind="text: colorLabel"></span>:</dt>
        <dd class="ris-selected--key-value-list--value ris-selected--key-value-list--value_bold" data-bind="text: getColorName()"></dd>
      </dl>
      <!-- ko foreach: { data: sizeDimensions, as: 'sizeDimensionLabel' } -->
        <dl class="ris-selected--key-value-list">
          <dt class="ris-selected--key-value-list--key"><span data-bind="text: sizeDimensionLabel"></span>:</dt>
          <dd class="ris-selected--key-value-list--value ris-selected--key-value-list--value_bold" data-bind="text: $component.getSelectedSize($index())"></dd>
        </dl>
      <!-- /ko -->
    </div>
  </div>
</div>
</script>

<script type="text/html" id="ris-selected-location-template">

<div class="media">

  <div class="media--image ris-selected--image show-at-md">
    <div class="icon-pin-outer_lg" aria-hidden="true">
      <div class="icon-pin"></div>
    </div>
  </div>

  <div class="media--body" data-bind="with:store">
    <div class="fis-ris--selected-store">You've selected this store: </div>

    <div class="ris-selected--location--name" data-bind="text: data.storeName"></div>
    <div class="sp_xs show-at-lg">
      <div class="ris-selected--location--address">
        <span class="ris-selected--location--address-line" data-bind="text: data.storeAddress.addressLine1"></span>
        <span class="ris-selected--location--address-line" data-bind="text: data.storeAddress.addressLine2"></span>
        <span class="ris-selected--location--address-line">
          <span data-bind="text: data.storeAddress.stateProvinceCode"></span>,
          <span data-bind="text: data.storeAddress.postalCode"></span>
        </span>
      </div>
      <div class="ris-selected--location--phone" data-bind="text: data.storeAddress.phoneNumber"></div>
    </div>


    <div class="inline-block sp_xs" data-bind="visible: !$component.isReserveComplete">
      <button class="unbuttonize" data-bind="noFocus: true, click: gap.viewModel.fistModal.activateStepFis">
        <span class="fis-ris--change-store link">Change Store</span>
      </button>
    </div>

    <dl class="ris-selected--key-value-list show-at-lg">
      <div data-bind="foreach: { data: storeHours, as: 'storeHours'}">
        <dt class="ris-selected--key-value-list--key" data-bind="text: storeHours.day"></dt>
        <dd class="ris-selected--key-value-list--value ris-selected--key-value-list--value_time" data-bind="text: storeHours.time"></dd>
      </div>
    </dl>
  </div>

</div>
</script>



    <div class="signin-flyout">
  <span class="signin-flyout--arrow"></span>
  <div data-bind="with: signinFlyOut">
    <div class="signin-flyout--image sp_lg"></div>
    <div class="heading-d_universal sp_lg">
      <div class="signin-flyout--text-message" data-bind="html: textMessage"></div>
    </div>
    <button class="button_universal_primary_a" type="submit" title="Sign in" data-bind="text: signinMessage, click: openSignIn">
    </button>
  </div>
</div>

  </div>

<script type="text/javascript">
  gap = typeof gap !== 'undefined' ? gap : {};
  gap.EnvConfig =
      {  "favorites": {    "apigee": {		"manageFavoritesUrl": "https://customer.api.gap.com/v1/favorites-clientid",		"mergeFavoritesUrl": "https://customer.api.gap.com/v1/mergedfavorites"    },    "ABTestIds": {    	"categoryPage": 43,    	"productPage": 43,    	"topNav": 43    }  }};
    </script>
<script src="/static_content/vendor/vendor-0ce09e13d1.js"></script>
<script src="/static_content/js/gap-061545c70b.js"></script>


	




	
		
	
	
			


	
			
			
	
	
	
	










<div id="popupLayeredContent" class="cssHide2"></div>
<div id="quickLookWindow"></div>
<img src="/assets/common/clear.gif" id="quickLookLauncher" alt="QuickLook" onclick="quickLook.launchQuickLook();" onmouseover="setImgSrc(this,'/gid/assets/common/quicklook/en_CA/button_quicklook_launcher_over.gif');" onmouseout="setImgSrc(this,'/gid/assets/common/quicklook/en_CA/button_quicklook_launcher_on.gif');" onmousedown="setImgSrc(this,'/gid/assets/common/quicklook/en_CA/button_quicklook_launcher_down.gif');" style="cursor: pointer;" class="cssHide2">
	
<div id="dragLayer">
	<div id="dragBox">
	    <img id="dragImg" src="/assets/common/clear.gif">
	</div>
</div>

<div id="zoomLayer"><img id="zoomImg" src="/assets/common/clear.gif"></div>

<div id="productColorError" class="cssHide2 productError" style="display:none;">
	<div id="productColorErrorMain" class="">select</div>
	<div id="productColorErrorArrow" class=""></div>
</div>
<div id="productSizeDimension1Error" class="cssHide2 productError" style="display:none;">
	<div id="productSizeDimension1ErrorMain" class="">select</div>
	<div id="productSizeDimension1ErrorArrow" class=""></div>
</div>
<div id="productSizeDimension2Error" class="cssHide2 productError" style="display:none;">
	<div id="productSizeDimension2ErrorMain" class="">select</div>
	<div id="productSizeDimension2ErrorArrow" class=""></div>
</div>
	

<div id="productBagError" class="cssHide2"></div>
<div id="productSoldOutMsg" class="cssHide2"></div>
<div id="productOnOrderMsg" class="cssHide2"></div>
<div id="productAjaxLoader" class="cssHide2"></div>
<div id="outfitProductAjaxLoader" class="cssHide2"></div>
<div id="inlineBagAjaxLoader" class="cssHide2">
<div id="inlineShoppingBagDataLoaderContainer"></div>
<div id="inlineShoppingBagDataMarketingContainer"></div>
</div>

<div id="watirDebug" class="cssHide2">
	<div id="debugAjaxStatus"></div>
	<div id="debugModules"></div>
</div>

	




	
		
	
	
			


	
			
			
	
	
	
	







<div id="siteWideBusinessCodeBody"><!-- @TemplateContentLayout(templateRegionName:"gid.common.siteWide.businessCode.regionBottom") -->

<!-- BEGIN - WCD Sitewide Container 16 -->
<!-- BEGIN Content Item File: /content/0010/097/493/cn10097493.html -->
<div id="contentItemContainer212633" class="10097493">


<script>
if (window.gap && gap.CustomNavigationIntegrator && gap.CustomNavigationIntegrator.setConfig && navigator.userAgent.indexOf("MSIE 8") == -1) {

	gap.CustomNavigationIntegrator.setConfig({
	// to edit the default name of a division or subdiv
	// define the biz and follow it with corrected text
		rename : {
		/* EXAMPLE
		"5646" : "Women's"
		*/
			"5646"	: "Women",
			"5997"	: "Maternity",
			"6413"	: "Toddler",
			"6487"	: "Baby"
		},

		// to hide a division or sub/div or category
		// only use the biz id
		/* EXAMPLE
		hide : [76739,69775,90824],*/
		hide : [
			36707,	 // Gap.com
			36709,	 // OldNavy.com
			36710,	 // BananaRepublic.com
			6345,	 // Toddler Boy
			1020555, // Exclusions copy_us only
			1014714, // Factory Women
		  	1014823, // Factory Men
		  	1015086	 // Factory Kids
		],

		// to add a division or subdiv
		addDivisions : [
		/* EXAMPLE
		{id:"c2136", template:"85035", name:"Customer Service", url:"/customerService/info.do?cid=2136"},
		{id:"c60786", template:"85035", name:"Toasty Tech", url:"/browse/category.do?cid=60786"},
		{id:"google", template:"85035", name:"Google", url:"http://www.google.com"}
		*/
		],

		// to change order of division or subdivision. use biz id or id (from addDivisions)
		/* EXAMPLE
		divisionOrder : [56999,5646,85035,85032,5063,12021,5997,6256,6172,43184,37470,"c2136","c60786","google"]
		*/
		divisionOrder : [
			5646,		// women
			83062,	// gapfit
			5997,		// maternity
			5065,		// men
			6256,		// girls
			6172,		// boys
			6413,		// toddler
			6487		// baby
		],
		
		customConfig : function() {
			// custom
			jQuery('li[data-cid=6256]').children('h2').addClass('catnav--item_first-of-type'); // FIX INDENTATION
			jQuery('li[data-cid=6413]').children('h2').addClass('catnav--item_first-of-type'); // FIX INDENTATION

			/*  HIDES CIDs IN SM BP */
			var cidHideArray =[7500, 7511, 7513, 7517, 1016310];
			if (gap.Mediaqueries.currentBP.size == 'small') {
				jQuery.each(cidHideArray, function(index, value) {jQuery("li[data-cid="+value+"]").hide(); }); 
			} 

			/* overridden leftnav category links reincorporated into menu */
			
			// redirects
			jQuery('li[data-cid=1027011] a').attr('href','/browse/info.do?cid=1028245'); // change a href of gift shop link

		} // end customConfig

	})
};

</script>

<!-- BEGIN fix issue where s_pers is being set to blank and causing JS errors during reporting -->
<script type="text/javascript">
	(function() {
		if (gidLib.getCookie("s_pers") == "") {
			var p = gidLib.setCookieParamsHelper("s_pers");
			gidLib.setCookie("s_pers", null, p.exp, p.path, p.domain, p.isSecure);
		}
	})();
</script>
<!-- END fix issue where s_pers is being set to blank and causing JS errors during reporting -->

<!-- BEGIN double-tap fix in bag -->
<script type="text/javascript">
if( location.pathname == '/buy/shopping_bag.do' ) {
  s.trackExternalLinks=false;
}
</script>
<!-- END double-tap fix in bag -->

<!-- BEGIN: 5/18/2016 DEDUPE SKUS for ONESITE PDP -->
<script type="text/javascript">
if (location.pathname == "/browse/product.do" && gap.pageProductData) {
    var getSku2Purge = function(s1,s2) {
        /** one skus is in stock, the other is out of stock **/
        if (s1.inStock == true && s2.inStock == false) return s2.skuId;
        if (s1.inStock == false && s2.inStock == true) return s1.skuId;
        /** one skus is BO'ed, the other is not **/
        if (s1.backOrderDate == null && s2.backOrderDate != null) return s2.skuId;
        if (s1.backOrderDate != null && s2.backOrderDate == null) return s1.skuId;
        /** if both are BO'ed **/
        if (s1.backOrderDate != null && s2.backOrderDate != null) {
            if ((new Date(s1.backOrderDate)).getTime() > (new Date(s2.backOrderDate)).getTime()) return s1.skuId;
            if ((new Date(s1.backOrderDate)).getTime() <= (new Date(s2.backOrderDate)).getTime()) return s2.skuId;
        }
        /** both skus either in stock or both out of stock **/
        return s1.skuId;
    };
    var isDuplicateSku = function(s1,s2) {
        var r = false;
        if (s1.skuId != s2.skuId) {
            if (s1.sizeDimension2) {
                if (s1.sizeDimension1 == s2.sizeDimension1 && s1.sizeDimension2 == s2.sizeDimension2) r = true;
            } else {
                if (s1.sizeDimension1 == s2.sizeDimension1) r = true;
            }
        }
        return r;
    };
    gap.pageProductData.variants.each(function(v){
        if (v.productStyleColors) {
            v.productStyleColors.each(function(cg){
                var purgeList = [];
                cg.each(function(c){
                /** preprocess to identify duplicates **/
                    c.sizes.each(function(s1,i){
                        c.sizes.each(function(s2,j){
                            if (isDuplicateSku(s1,s2) == true) {
                                if (i < j) {
                                    var sku2Purge = getSku2Purge(s1,s2);
                                } else {
                                    var sku2Purge = getSku2Purge(s2,s1);
                                }
                                if (jQuery.inArray(sku2Purge,purgeList) == -1) purgeList.push(sku2Purge);
                            }
                        });
                    });
                    /** purge dupes from the sizes array **/
                    if (purgeList.length > 0) {
                        var newSizes = []
                        c.sizes.each(function(s,i){
                            if (jQuery.inArray(s.skuId,purgeList) == -1) {
                                newSizes.push(s);
                            }
                        });
                        c.sizes = newSizes;
                        if (console && console.log) {
                            console.log("SKUs removed " + purgeList.join(", "));
                        }
                    }
                });
            });
            /** dedupe sizedimensions list **/
            var unique = function(xs) {
                return xs.filter(function(x, i) {
                    return xs.indexOf(x) === i
                })
            }
            v.sizeDimensions.sizeDimension1.dimensions = unique(v.sizeDimensions.sizeDimension1.dimensions);
            if (v.sizeDimensions.sizeDimension2) v.sizeDimensions.sizeDimension2.dimensions = unique(v.sizeDimensions.sizeDimension2.dimensions);
        }
    });
}
</script>
<!-- END: DEDUPE SKUS for ONESITE PDP -->



</div>
<!-- END Content Item File: /content/0010/097/493/cn10097493.html -->

<!-- END - WCD Sitewide Container 16 -->

<!-- BEGIN - WCD Sitewide Container 17 -->
<!-- BEGIN Content Item File: /content/0010/409/689/cn10409689.html -->
<div id="contentItemContainer212632" class="10409689">


<!-- WCD Shared Body Code - this codebase is to remain consistent across all market brands -->
<script type="text/javascript">

jQuery.wcdSharedOverride_bodyClassContextSetter = {
	init: function() {
		// Find environment and apply class to body
		var pageEnv = location.hostname;
		var pageEnvClass = '';
		if( pageEnv.indexOf('wip.gidapps.') > -1 ) {
			pageEnvClass = 'wipEnv';
		}
		else if( pageEnv.indexOf('app.gidapps.') > -1 ) {
			pageEnvClass = 'appEnv';
		}
		else {
			pageEnvClass = 'prodEnv';
		}
		document.body.className += ' ' + pageEnvClass;

		// Find .do page name and apply class to body
		var pagePath = location.pathname;
		var pageType = '';
		var firstSlash = pagePath.indexOf('/');
		var secondSlash = pagePath.indexOf('/', firstSlash+1 );
		if( secondSlash > -1 ) {
			pageType = pagePath.substr( secondSlash+1 );
			pageType = pageType.replace('.do','');
		}
		else if( location.pathname == '/' ) {
			pageType = 'home';
		}
		document.body.className += ' ' + pageType + 'Page';
		
		// If CID in URL, apply CID class to body
		var pageParams = location.search;
		var pageCat = jQuery.wcdSharedOverride_bodyClassContextSetter.findParam('cid');
		if( pageCat != '' ) {
			document.body.className += ' cid' + pageCat;
		}
		
		// If product or outfit page, apply PID/OID class to body
		var pageProdId = '';
		var pageProdScid = '';
		if( pagePath == '/browse/product.do' ) {
			pageProdId = jQuery.wcdSharedOverride_bodyClassContextSetter.findParam('pid');
			pageProdScid = jQuery.wcdSharedOverride_bodyClassContextSetter.findParam('scid');

			// Find Style-Color ID
			if( pageProdScid != '' ) {
				pageProdScid = pageProdScid.substr(0,9);
			}
			else if( pageProdId.length >= 9 ) {
				pageProdScid = pageProdId.substr(0,9);
			}
			if( pageProdScid != '' ) {
				document.body.className += ' scid' + pageProdScid;
			}
			
			// Find base Product ID
			if( pageProdId != '' ) {
				pageProdId = pageProdId.substr(0,6);
				document.body.className += ' pid' + pageProdId;
			}
		}
		else if( pagePath == '/browse/outfit.do' && pageParams.indexOf('oid=') > -1 ) {
			pageProdId = jQuery.wcdSharedOverride_bodyClassContextSetter.findParam('oid');
			document.body.className += ' oid' + pageProdId;
		}

		// OneSite classes
		if( location.pathname == '/browse/category.do' && window["categoryPage"] == null ) {
			document.body.className += ' onesiteCatPage';
		}
		if( location.pathname == '/browse/product.do' && window["productPage"] == null ) {
			document.body.className += ' onesiteProdPage';
		}
		//adding Onesite class name to Division/SubDivision Pages 
		var isResponsiveMode = cookie.get('ABSeg') == "B|B|B|B|";
		if(isResponsiveMode && location.pathname == '/browse/division.do'){
			document.body.className += ' onesiteDivPage';
		}
		if(isResponsiveMode && location.pathname == '/browse/subDivision.do'){
			document.body.className += ' onesiteSubDivPage';
		}
	},
	
	findParam: function( paramName ) {
		var paramToReturn = '';
		var pageParams = location.search;
		if( pageParams.indexOf( paramName + '=' ) > -1 ) {
			paramToReturn = pageParams.substr( pageParams.indexOf( paramName + '=' ) + paramName.length + 1 );
			if( paramToReturn.indexOf('&') > -1 ) paramToReturn = paramToReturn.substr( 0, paramToReturn.indexOf('&') );
		}
		return paramToReturn;
	}
}
jQuery.wcdSharedOverride_bodyClassContextSetter.init();

</script>


</div>
<!-- END Content Item File: /content/0010/409/689/cn10409689.html -->

<!-- END - WCD Sitewide Container 17 -->

<!-- BEGIN - WCD Sitewide Container 18 -->

<!-- END - WCD Sitewide Container 18 -->

<!-- BEGIN - WCD Sitewide Container 20 -->
<!-- BEGIN Content Item File: /content/0010/409/691/cn10409691.html -->
<div id="contentItemContainer212629" class="10409691">


<!-- Gap CA - EN pixel container -->
<script type="text/javascript">
if( location.pathname != '/checkout/order.do' ) {

var doubleClickPixelPartner = new pixelManagementService.constructors.AbstractPixelPartner();
pixelManagementService.controller.pixelPartnerManager.setPixelPartnerToPixelPartnerRegistry(doubleClickPixelPartner);

with (doubleClickPixelPartner) {
	isReadyForTransmission = false;
	isWaitReport = false;
	pixelPartnerId = "doubleClickPixelPartner";
	pixelPartnerName = "DoubleClick Iframe Pixel Partner";
	pixelPartnerCookieVarPrefix = "doubleClick";
	pixelPartnerInboundParameterList = [];
	pixelPartnerPersistedParameterList = [];
	pixelPartnerStartDate = "2011/10/20";
	pixelPartnerEndDate = "2020/10/24";

	controller.setPixelPartnerModel = function() {
		
		// Set DoubleClick config parameters for brands		
		this.model.config_gap_ca = {
		  confirmation: { type : 'cagap206', cat : 'cagap504'},
		  bag:          { type : 'cagap155', cat : 'cagap690'},
		  browse:       { type : 'cagap155', cat : 'cagap425'},
		  currency : "CAD",
		  src : 2840523
		};
	
		this.model.config_br_ca = {
		  confirmation: { type : 'caban704', cat : 'caban659'},
		  bag:          { type : 'caban063', cat : 'caban441'},
		  browse:       { type : 'caban063', cat : 'caban599'},
		  currency : "CAD",
		  src : 2840523
		};
	
		this.model.config_on_ca = {
		  confirmation: { type : 'caold657', cat : 'caold229'},
		  bag:          { type : 'caold205', cat : 'caold951'},
		  browse:       { type : 'caold205', cat : 'caold138'},
		  currency : "CAD",
		  src : 2840523
		};		
	
		// Set up configs for entering brand code
		this.model.configs = { '7': this.model.config_gap_ca, '8': this.model.config_br_ca, '9' : this.model.config_on_ca};
		this.model.config = this.model.config_gap_ca;
		
		// Set metrics from PixMan library
		var metricsLibrary = pixelManagementService.model.metricsLibrary;
		this.model.enteringBrandCode = ( metricsLibrary.common.enteringBrandCode ) ? metricsLibrary.common.enteringBrandCode : '';
		this.model.pageUrl = ( metricsLibrary.common.pageUrl ) ? encodeURIComponent(metricsLibrary.common.pageUrl) : '';
		this.model.pageName = ( metricsLibrary.common.pageName ) ? encodeURIComponent(metricsLibrary.common.pageName) : '';
		this.model.pageType = ( metricsLibrary.common.pageType ) ? metricsLibrary.common.pageType : '';
		if( this.model.pageType.substr(0,1) == "/" ) { this.model.pageType = this.model.pageType.substr(1); }
		this.model.pageId = ( metricsLibrary.common.pageId ) ? metricsLibrary.common.pageId : '';
		this.model.lastInTID = ( metricsLibrary.common.tid ) ? metricsLibrary.common.tid : '';
		this.model.apCode = ( metricsLibrary.common.ap ) ? metricsLibrary.common.ap : '';
		this.model.isNewCustomer = ( metricsLibrary.common.isNewCustomer ) ? metricsLibrary.common.isNewCustomer : '';
		this.model.visitorFlag = ( metricsLibrary.common.isRecognizedVisitor ) ? metricsLibrary.common.isRecognizedVisitor : '';
		this.model.proto = window.location.protocol;
			
		// Set product variables
		var productList = ( metricsLibrary.shoppingBag.productList ) ? metricsLibrary.shoppingBag.productList : [];
		var skus = "";
		var prices = "";
		var productNames = "";
		var brands = "";
		var prodQty = ( metricsLibrary.shoppingBag.productCount ) ? metricsLibrary.shoppingBag.productCount : 0;
		if (typeof(productList != "undefined") && Object.isArray(productList) && productList.length != 0 && productList[0].skuId != "") {
			var priceArr = [ ];
			var prodNameArr = [ ];
			var prodBrandArr = [ ];
			var skuArr = [ ];
			jQuery.each( productList, function( idx, prod ) {
				priceArr.push( prod.price );
				prodNameArr.push( prod.productName );
				prodBrandArr.push( prod.productBrandCode );
				skuArr.push( prod.skuId );
			});
			prices = priceArr.join('|');
			productNames = prodNameArr.join('|');
			brands = prodBrandArr.join('|');
			skus = skuArr.join('|');
		}
		
		this.model.itemPrices = prices;
		this.model.itemBrands = brands;
		this.model.qty = prodQty;
		this.model.productSkus = skus;
		
	}
	controller.setPixelPartnerTransmissionTemplate = function() {
		var shoppingBagUrls = ['/buy/shopping_bag.do','/buy/shopping_bag_delete_item.do','/buy/shopping_bag_save_item.do','/buy/shopping_bag_move_item.do','/buy/edit_shipping_method_bag.do'];
		var metricsLibrary = pixelManagementService.model.metricsLibrary;
		var axel = Math.random() + "";
		var a = axel * 10000000000000;
		
		if (location.pathname == "/checkout/orderConfirm.do") {

			if( this.model.enteringBrandCode ) {
				this.model.config = this.model.configs[ this.model.enteringBrandCode ] || this.model.config;
			}
			
			// Set order metrics
			// Quantity fix
			var orderProductList = ( metricsLibrary.order.productList ) ? metricsLibrary.order.productList : [];
			var orderProductQty = 0;
			if (typeof(orderProductList != "undefined") && Object.isArray(orderProductList) && orderProductList.length != 0 && orderProductList[0].productBusinessId != "") {
				
				jQuery.each( orderProductList, function( idx, prod ) {
					orderProductQty += parseInt( prod.quantity );
				});
			}
			this.model.qty = orderProductQty.toString();
			
			// Check/set metrics to partner
			this.model.grossMerchDemand = ( metricsLibrary.order.orderTotal ) ? metricsLibrary.order.orderTotal : 0;
			this.model.checkoutBrand = ( metricsLibrary.order.checkoutBrand ) ? metricsLibrary.order.checkoutBrand : '';			
			this.model.shippingZip = ( metricsLibrary.order.shippingZip ) ? encodeURIComponent( metricsLibrary.order.shippingZip ) : ''; 		
			this.model.billingZip = ( metricsLibrary.order.billingZip ) ? encodeURIComponent( metricsLibrary.order.billingZip ) : '';
			this.model.orderId = ( metricsLibrary.order.orderId ) ? metricsLibrary.order.orderId : '';

			this.model.promotionSubTotal = ( metricsLibrary.order.promotionSubTotal ) ? parseFloat( metricsLibrary.order.promotionSubTotal ) : 0;
			this.model.promotionRewardsTotal = ( metricsLibrary.order.promotionRewardsTotal ) ? parseFloat( metricsLibrary.order.promotionRewardsTotal ) : 0;		
			this.model.giftServicesTotal = ( metricsLibrary.order.giftServicesTotal ) ? parseFloat( metricsLibrary.order.giftServicesTotal ) : 0;
			
			this.model.shippingTotal = ( metricsLibrary.order.shippingTotal ) ? parseFloat( metricsLibrary.order.shippingTotal ) : 0;
			
			this.model.taxTotal = ( metricsLibrary.order.taxTotal ) ? parseFloat( metricsLibrary.order.taxTotal ) : 0;
		
			this.model.orderTotal = ( metricsLibrary.order.orderTotal ) ? parseFloat( metricsLibrary.order.orderTotal ) : 0;
				
			// Fixes rounding problem and convert data back to string for passing in URL
			this.model.myShipTotal = parseInt( this.model.shippingTotal*100 );
			this.model.myTaxTotal = parseInt( this.model.taxTotal*100 );
			this.model.myOrderTotal = parseInt( this.model.orderTotal*100 );
			this.model.myTotal = this.model.myOrderTotal - this.model.myShipTotal - this.model.myTaxTotal;
			this.model.myTotal = parseFloat(this.model.myTotal/100);
			this.model.netDemand = this.model.myTotal;
			this.model.grossMerchandise = this.model.netDemand + this.model.promotionSubTotal;
			this.model.grossMerchandise = this.model.grossMerchandise.toString();			
			this.pixelPartnerTransmissionTemplate = new Template(		
				"<iframe src=\"#{model.proto}//fls.doubleclick.net/activityi;src=#{model.config.src};type=#{model.config.confirmation.type};cat=#{model.config.confirmation.cat};tran=#{model.enteringBrandCode};qty=#{model.qty};cost=#{model.grossMerchandise};u=#{model.config.currency};u1=#{model.productSkus};u2=#{model.pageType};u3=#{model.pageId};u4=#{model.apCode};u5=#{model.lastInTID};u6=#{model.itemPrices};u7=#{model.itemBrands};u8=#{model.checkoutBrand};u9=#{model.pageName};u11=#{model.isNewCustomer};u12=#{model.shippingZip};u15=#{model.netDemand};u16=#{model.promotionSubTotal};u17=#{model.taxTotal};u18=#{model.shippingTotal};ord=#{model.orderId}?\" width=\"1\" height=\"1\" frameborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\"></iframe>");
		}
		else if ( shoppingBagUrls.include( location.pathname ) ) {
			this.model.pageType = "shopping_bag";
			// TO BE MOVED AWAY FROM TEMPLATES WHEN I.T. WORK DONE
			this.pixelPartnerTransmissionTemplate = new Template(
				"<iframe src=\"#{model.proto}//fls.doubleclick.net/activityi;src=#{model.config.src};type=#{model.config.bag.type};cat=#{model.config.bag.cat};tran=#{model.enteringBrandCode};qty=#{model.qty};u=#{model.config.currency};u1=#{model.productSkus};u2=#{model.pageType};u3=#{model.pageId};u4=#{model.apCode};u5=#{model.lastInTID};u6=#{model.itemPrices};u7=#{model.itemBrands};u8=#{model.checkoutBrand};u9=#{model.pageName};u10=#{model.pageUrl};ord=" + a + "?\" width=\"1\" height=\"1\" frameborder=\"0\"><\/iframe>" );
				
		}
		else if (window.location.protocol != "https:") {
			// TO BE MOVED AWAY FROM TEMPLATES WHEN I.T. WORK DONE
			this.pixelPartnerTransmissionTemplate = new Template(
				"<iframe src=\"#{model.proto}//fls.doubleclick.net/activityi;src=#{model.config.src};type=#{model.config.browse.type};cat=#{model.config.browse.cat};tran=#{model.enteringBrandCode};u=#{model.config.currency};u2=#{model.pageType};u3=#{model.pageId};u4=#{model.apCode};u5=#{model.lastInTID};u9=#{model.pageName};u10=#{model.pageUrl};ord=" + a + "?\" width=\"1\" height=\"1\" frameborder=\"0\"><\/iframe>" );
				
		}
	}
	controller.setCleanUp = function() {
		// alert("setCleanUp() running: pixelPartnerName = " + this.pixelPartnerName);
	}
}

}
</script>

<!-- Range DoubleClick pixel - ap-14 -->
<script type="text/javascript">
if( location.pathname != '/checkout/order.do' ) {

var rangeDoubleClickPixelPartner = new pixelManagementService.constructors.AbstractPixelPartner();
pixelManagementService.controller.pixelPartnerManager.setPixelPartnerToPixelPartnerRegistry(rangeDoubleClickPixelPartner);

with (rangeDoubleClickPixelPartner) {
	isReadyForTransmission = false;
	isWaitReport = false;
	pixelPartnerId = "rangeDoubleClickPixelPartner";
	pixelPartnerName = "Range DoubleClick Pixel Partner";
	pixelPartnerCookieVarPrefix = "rangeDoubleClick";
	pixelPartnerInboundParameterList = [];
	pixelPartnerPersistedParameterList = [];
	pixelPartnerStartDate = "2011/10/20";
	pixelPartnerEndDate = "2020/10/24";

	controller.setPixelPartnerModel = function() {
		
		// Range DFA Configs
		this.model.config_range_gap_ca = {
		  confirmation: { type : 'go_co298', cat : 'go_co811'},
		  currency : "CAD",
		  src : 2859487
		};
	
		this.model.config_range_br_ca = {
		  confirmation: { type : 'br_co280', cat : 'br_co754'},
		  currency : "CAD",
		  src : 2859487
		};
	
		this.model.config_range_on_ca = {
		  confirmation: { type : 'on_co960', cat : 'on_co289'},
		  currency : "CAD",
		  src : 2859487
		};
		
		// Set up configs for entering brand code
		this.model.configs_range = { '7': this.model.config_range_gap_ca, '8': this.model.config_range_br_ca, '9' : this.model.config_range_on_ca};
		this.model.config_range = this.model.config_range_gap_ca;
		
		// Set metrics from PixMan library
		var metricsLibrary = pixelManagementService.model.metricsLibrary;
		this.model.enteringBrandCode = ( metricsLibrary.common.enteringBrandCode ) ? metricsLibrary.common.enteringBrandCode : '';
		this.model.pageUrl = ( metricsLibrary.common.pageUrl ) ? encodeURIComponent(metricsLibrary.common.pageUrl) : '';
		this.model.pageName = ( metricsLibrary.common.pageName ) ? encodeURIComponent(metricsLibrary.common.pageName) : '';
		this.model.pageType = ( metricsLibrary.common.pageType ) ? metricsLibrary.common.pageType : '';
		if( this.model.pageType.substr(0,1) == "/" ) { this.model.pageType = this.model.pageType.substr(1); }
		this.model.pageId = ( metricsLibrary.common.pageId ) ? metricsLibrary.common.pageId : '';
		this.model.lastInTID = ( metricsLibrary.common.tid ) ? metricsLibrary.common.tid : '';
		this.model.apCode = ( metricsLibrary.common.ap ) ? metricsLibrary.common.ap : '';
		this.model.isNewCustomer = ( metricsLibrary.common.isNewCustomer ) ? metricsLibrary.common.isNewCustomer : '';
		this.model.visitorFlag = ( metricsLibrary.common.isRecognizedVisitor ) ? metricsLibrary.common.isRecognizedVisitor : '';
		this.model.proto = window.location.protocol;

		// Set product variables
		var productList = ( metricsLibrary.shoppingBag.productList ) ? metricsLibrary.shoppingBag.productList : [];
		var skus = "";
		var prices = "";
		var productNames = "";
		var brands = "";
		var prodQty = ( metricsLibrary.shoppingBag.productCount ) ? metricsLibrary.shoppingBag.productCount : 0;
		if (typeof(productList != "undefined") && Object.isArray(productList) && productList.length != 0 && productList[0].skuId != "") {
			var priceArr = [ ];
			var prodNameArr = [ ];
			var prodBrandArr = [ ];
			var skuArr = [ ];
			jQuery.each( productList, function( idx, prod ) {
				priceArr.push( prod.price );
				prodNameArr.push( prod.productName );
				prodBrandArr.push( prod.productBrandCode );
				skuArr.push( prod.skuId );
			});
			prices = priceArr.join('|');
			productNames = prodNameArr.join('|');
			brands = prodBrandArr.join('|');
			skus = skuArr.join('|');
		}
		
		this.model.itemPrices = prices;
		this.model.itemBrands = brands;
		this.model.qty = prodQty;
		this.model.productSkus = skus;
		
	}
	controller.setPixelPartnerTransmissionTemplate = function() {
		var shoppingBagUrls = ['/buy/shopping_bag.do','/buy/shopping_bag_delete_item.do','/buy/shopping_bag_save_item.do','/buy/shopping_bag_move_item.do','/buy/edit_shipping_method_bag.do'];
		var metricsLibrary = pixelManagementService.model.metricsLibrary;
		var axel = Math.random() + "";
		var a = axel * 10000000000000;
		var partnerCookieValue = metricsLibrary.common.ap;
		
		if (location.pathname == "/checkout/orderConfirm.do" && partnerCookieValue == "14") {

			if( this.model.enteringBrandCode ) {
				this.model.config_range = this.model.configs_range[ this.model.enteringBrandCode ] || this.model.config_range;
			}
			
			// Set order metrics
			// Quantity fix
			var orderProductList = metricsLibrary.order.productList;
			var orderProductQty = 0;
			if (typeof(orderProductList != "undefined") && Object.isArray(orderProductList) && orderProductList.length != 0 && orderProductList[0].productBusinessId != "") {
				jQuery.each( orderProductList, function( idx, prod ) {
					orderProductQty += parseInt( prod.quantity );
				});
			}
			this.model.qty = orderProductQty.toString();

			this.model.grossMerchDemand = ( metricsLibrary.order.orderTotal ) ? metricsLibrary.order.orderTotal : 0;
			this.model.checkoutBrand = ( metricsLibrary.order.checkoutBrand ) ? metricsLibrary.order.checkoutBrand : '';			
			this.model.shippingZip = ( metricsLibrary.order.shippingZip ) ? encodeURIComponent( metricsLibrary.order.shippingZip ) : ''; 		
			this.model.billingZip = ( metricsLibrary.order.billingZip ) ? encodeURIComponent( metricsLibrary.order.billingZip ) : '';
			this.model.orderId = ( metricsLibrary.order.orderId ) ? metricsLibrary.order.orderId : '';

			this.model.promotionSubTotal = ( metricsLibrary.order.promotionSubTotal ) ? parseFloat( metricsLibrary.order.promotionSubTotal ) : 0;
			this.model.promotionRewardsTotal = ( metricsLibrary.order.promotionRewardsTotal ) ? parseFloat( metricsLibrary.order.promotionRewardsTotal ) : 0;		
			this.model.giftServicesTotal = ( metricsLibrary.order.giftServicesTotal ) ? parseFloat( metricsLibrary.order.giftServicesTotal ) : 0;
			
			this.model.shippingTotal = ( metricsLibrary.order.shippingTotal ) ? parseFloat( metricsLibrary.order.shippingTotal ) : 0;
			
			this.model.taxTotal = ( metricsLibrary.order.taxTotal ) ? parseFloat( metricsLibrary.order.taxTotal ) : 0;
		
			this.model.orderTotal = ( metricsLibrary.order.orderTotal ) ? parseFloat( metricsLibrary.order.orderTotal ) : 0;
						
			// Fixes rounding problem
			this.model.myShipTotal = parseInt( this.model.shippingTotal*100 );
			this.model.myTaxTotal = parseInt( this.model.taxTotal*100 );
			this.model.myOrderTotal = parseInt( this.model.orderTotal*100 );
			this.model.myTotal = this.model.myOrderTotal - this.model.myShipTotal - this.model.myTaxTotal;
			this.model.myTotal = parseFloat(this.model.myTotal/100);
			this.model.netDemand = this.model.myTotal;
			this.model.grossMerchandise = this.model.netDemand + this.model.promotionSubTotal;
			
			// TO BE MOVED AWAY FROM TEMPLATES WHEN I.T. WORK DONE
			this.pixelPartnerTransmissionTemplate = new Template(		
				"<img src=\"https://ad.doubleclick.net/activity;src=#{model.config_range.src};type='#{model.config_range.confirmation.type};cat=#{model.config_range.confirmation.cat};qty=#{model.qty};cost=#{model.grossMerchandise};u11=;u10=;u9=;u8=#{model.shippingZip};u12=#{model.enteringBrandCode};u3=#{model.skus};u2=#{model.productNames};u1=#{model.orderId};u7=;u6=;u5=#{model.netDemand};u4=#{model.qty};ord=#{model.orderId}?\" width=\"1\" height=\"1\" frameborder=\"0\" ALT=\"\"/>");
			
		}
	}
	controller.setCleanUp = function() {
		// alert("setCleanUp() running: pixelPartnerName = " + this.pixelPartnerName);
	}
}

}
</script>

<!-- TrialPay Pixel - PixMan - ap=15 -->
<script type="text/javascript">
if( location.pathname != '/checkout/order.do' ) {

var trialPayPixelPartner = new pixelManagementService.constructors.AbstractPixelPartner();
pixelManagementService.controller.pixelPartnerManager.setPixelPartnerToPixelPartnerRegistry(trialPayPixelPartner);
 
var shoppingBagUrls = ['/buy/shopping_bag.do','/buy/shopping_bag_delete_item.do','/buy/shopping_bag_save_item.do','/buy/shopping_bag_move_item.do','/buy/edit_shipping_method_bag.do'];

//Workaround for PixMan DATE_IN_USE
if ( shoppingBagUrls.include( location.pathname ) ){
	gidLib.setCookieVar("PixManDateInUse", "dateInUse", pixelManagementService.constants.DATE_IN_USE);
}
if (location.pathname == "/checkout/order.do"){
	pixelManagementService.constants.DATE_IN_USE = 
	gidLib.getCookieVar("PixManDateInUse", "dateInUse");
}
 
 
with (trialPayPixelPartner) {
	isReadyForTransmission = false;
	isWaitReport = false;
	pixelPartnerId = "trialPayPixelPartner";
	pixelPartnerName = "Trial Pay Pixel Partner";
	pixelPartnerCookieVarPrefix = "trialPay";
	pixelPartnerInboundParameterList = ["sid"];
	pixelPartnerPersistedParameterList = ["sid"];
	pixelPartnerStartDate = "2010/11/02";
	pixelPartnerEndDate = "2020/12/20";
	trialPayPixelPartner.model.aid = "103209";
	
	controller.setPixelPartnerModel = function() {
		var metricsLibrary = pixelManagementService.model.metricsLibrary;
		var orderTotal = ( metricsLibrary.order.orderTotal ) ? parseFloat(metricsLibrary.order.orderTotal) : 0;
		// Fixes rounding problem
		var myShipTotal = ( metricsLibrary.order.shippingTotal ) ? parseInt(metricsLibrary.order.shippingTotal*100) : 0;
		var myTaxTotal = ( metricsLibrary.order.taxTotal ) ? parseInt(metricsLibrary.order.taxTotal*100) : 0;
		var myOrderTotal = parseInt(orderTotal*100);
		var myTotal = myOrderTotal - myShipTotal - myTaxTotal;
		model.netDemand = parseFloat(myTotal/100);
	}
	controller.setPixelPartnerTransmissionTemplate = function() {
		var metricsLibrary = pixelManagementService.model.metricsLibrary;
		var pageType = ( metricsLibrary.common.pageType ) ? metricsLibrary.common.pageType : '';
		var partnerCookieValue = ( metricsLibrary.common.ap ) ? metricsLibrary.common.ap : '';
		model.sid = controller.getCookieVar("sid");
		if (pageType != null && pageType != undefined) {
			
			/* order confirmation transmission template */
			/* if (pageType == "orderConfirm" || pageType =="nav") { */
			/* workaround for the pageTitle issue on VDEV */
			if ((location.pathname == "/checkout/orderConfirm.do")&&(partnerCookieValue == "15")) {
				this.pixelPartnerTransmissionTemplate = new Template(
					"<img  height='1' width='1' border='0' src='https://tpc.trialpay.com/?tp_aid=#{model.aid}&tp_sid=#{model.sid}&tp_oid=#{model.metricsLibrary.order.orderId}&tp_sa=#{model.netDemand}' />");
			}		
		}	
	} 
}

}
</script>

<!-- Google Ad Services pixel - PixMan - ap=13 -->
<script type="text/javascript">
if( location.pathname != '/checkout/order.do' ) {

var googleAdServicesPixelPartner = new pixelManagementService.constructors.AbstractPixelPartner();
pixelManagementService.controller.pixelPartnerManager.setPixelPartnerToPixelPartnerRegistry(googleAdServicesPixelPartner);

with (googleAdServicesPixelPartner) {
	isReadyForTransmission = false;
	isWaitReport = false;
	pixelPartnerId = "googleAdServicesPixelPartner";
	pixelPartnerName = "Google Ad Services Pixel Partner";
	pixelPartnerCookieVarPrefix = "googleAdServices";
	pixelPartnerInboundParameterList = [];
	pixelPartnerPersistedParameterList = [];
	pixelPartnerStartDate = "2011/01/26";
	pixelPartnerEndDate = "2020/01/26";
	googleAdServicesPixelPartner.model.google_conversion_id = "999883742";
	googleAdServicesPixelPartner.model.google_conversion_label = "2YddCJrhoQIQ3ofk3AM";
	googleAdServicesPixelPartner.model.guid = "ON";

	controller.setPixelPartnerModel = function() {
		// Pull in order subtotal (netDemand)
		var metricsLibrary = pixelManagementService.model.metricsLibrary;
		var orderTotal = ( metricsLibrary.order.orderTotal ) ? parseFloat(metricsLibrary.order.orderTotal) : 0;
		var myShipTotal = ( metricsLibrary.order.shippingTotal ) ? parseInt(metricsLibrary.order.shippingTotal*100) : 0;
		var myTaxTotal = ( metricsLibrary.order.taxTotal ) ? parseInt(metricsLibrary.order.taxTotal*100) : 0;
		var myOrderTotal = parseInt(orderTotal*100);
		var myTotal = myOrderTotal - myShipTotal - myTaxTotal;
		model.netDemand = parseFloat(myTotal/100);
		
		// Pull product list in proper format
		var getFormattedProductListBound = this.controller.helper.getFormattedProductList.bind(this);
		var formattedProductList = getFormattedProductListBound();
		this.model.formattedProductList = formattedProductList;
	}
	controller.setPixelPartnerTransmissionTemplate = function() {
		var metricsLibrary = pixelManagementService.model.metricsLibrary;
		var pageType = ( metricsLibrary.common.pageType ) ? metricsLibrary.common.pageType : '';
		var partnerCookieValue = ( metricsLibrary.common.ap ) ? metricsLibrary.common.ap : '';
		if (pageType != null && pageType != undefined) {
			if (( location.pathname == "/checkout/orderConfirm.do" ) && ( partnerCookieValue == "13" )) {

				// TO BE MOVED AWAY FROM TEMPLATES WHEN I.T. WORK DONE
				this.pixelPartnerTransmissionTemplate = new Template(
					"<img height=\"1\" width=\"1\" style=\"border-style:none;\" alt=\"\" src=\"http://www.googleadservices.com/pagead/conversion/#{model.google_conversion_id}/?value=#{model.netDemand}&amp;label=#{model.google_conversion_label}&amp;guid=#{model.guid}&amp;oid=#{model.metricsLibrary.order.orderId}&amp;item=#{model.formattedProductList}&amp;script=0\" />");
			}
		}
	}
	controller.setCleanUp = function() {
		// alert("setCleanUp() running: pixelPartnerName = " + this.pixelPartnerName);
	}
	controller.helper = new Object();
	// Product list with specific formatting
	controller.helper.getFormattedProductList = function() {
		var productList = null;
		if( location.pathname == "/checkout/orderConfirm.do" ){
			productList = ( this.model.metricsLibrary.order.productList ) ? this.model.metricsLibrary.order.productList : [];
		}
		var formattedProductList = "";
		if( productList != null ) {

			jQuery.each( productList, function( idx, prod ) {
				var pricePer = prod.price/prod.quantity;
				var sku9dig = '';
				if( prod.skuId != null ) sku9dig = prod.skuId.substr(0,9);
				formattedProductList += "("
				formattedProductList += pricePer.toFixed(2) + "*";
				formattedProductList += prod.quantity + "*";
				formattedProductList += sku9dig + "*";
				formattedProductList += "null*";
				formattedProductList += sku9dig + ")";
			});
		}
		return formattedProductList;
	}
}

}
</script>

<!-- BrightTag iframe -->
<script type="text/javascript">
if( location.pathname != '/checkout/order.do' ) {

var brightTagPixelPartner = new pixelManagementService.constructors.AbstractPixelPartner();
pixelManagementService.controller.pixelPartnerManager.setPixelPartnerToPixelPartnerRegistry(brightTagPixelPartner);

with (brightTagPixelPartner) {
	isReadyForTransmission = false;
	isWaitReport = false;
	pixelPartnerId = "brightTagPixelPartner";
	pixelPartnerName = "Bright Tag Pixel Partner";
	pixelPartnerCookieVarPrefix = "brightTag";
	pixelPartnerInboundParameterList = [];
	pixelPartnerPersistedParameterList = [];
	pixelPartnerStartDate = "2011/07/19";
	pixelPartnerEndDate = "2020/07/19";
	// BrightTag site id - region-specific (US, CA, EU)
	brightTagPixelPartner.model.brighttag_site_id = "L8pXkEl";
	// Currensy - u
	brightTagPixelPartner.model.currencyType = "CAD";
	
	controller.getPixmanElement = function (variableName, pixManValue, suffix){
		var returnKeyPair="";
		if(suffix==null || suffix==undefined){
			suffix="";
		}
		if(pixManValue!=null && pixManValue!=undefined && pixManValue!=""){
			returnKeyPair = variableName + "=" + pixManValue + suffix; 
		}
		else{
			returnKeyPair="";
		}
		return returnKeyPair;
    },

	controller.setPixelPartnerModel = function() {
		
		// Set BT variables from metricsLibrary
		var metricsLibrary = pixelManagementService.model.metricsLibrary;
		
		// BROWSE/BAG/ORDER CONF variables
		
		// Total qty in cart - qty
		if( location.pathname == "/checkout/orderConfirm.do" ) {
			var orderProductList = ( metricsLibrary.order.productList ) ? metricsLibrary.order.productList : [];
			var orderProductQty = 0;
			if (typeof(orderProductList != "undefined") && Object.isArray(orderProductList) && orderProductList.length != 0 && orderProductList[0].productBusinessId != "") {
				jQuery.each( orderProductList, function( idx, prod ) {
					orderProductQty += parseInt( prod.quantity );
				});
			}
			this.model.totalQty = orderProductQty.toString();
		}
		else {
			this.model.totalQty = ( metricsLibrary.shoppingBag.productCount ) ? metricsLibrary.shoppingBag.productCount : 0;
		}
		
		// Entering brand code  - tran - ONLY set if PARTNER cookie set
		this.model.enteringBrandCode = ( metricsLibrary.common.enteringBrandCode ) ? metricsLibrary.common.enteringBrandCode : '';
		
		// Product level metrics
		if( location.pathname == "/checkout/orderConfirm.do" && metricsLibrary.order.productListForCJ ) {
			var productList = ( metricsLibrary.order.productListForCJ ) ? metricsLibrary.order.productListForCJ : [];
		}
		else {
			var productList = ( metricsLibrary.shoppingBag.productList ) ? metricsLibrary.shoppingBag.productList : [];
		}
		// Product SKUs in Cart - pipe-delimited - u1
		var skus = "";
		// Product Item Prices in Cart - pipe-delimited - u6
		var prices = "";
		// Product Item Brands in Cart - pipe-delimited - u7
		var brands = "";
		// Product Item Quantities in Cart - pipe-delimited - u19
		var prodQty = "";
		// Gross Net Demand by Brand - pipe-delimited - u52
		var grossNetDemand = '';
		
		if( typeof(productList != "undefined") && Object.isArray(productList) && productList.length != 0 && productList[0].skuDescription != "" ) {
			var skuArr = [ ];
			var priceArr = [ ];
			var brandArr = [ ];
			var qtyArr = [ ];
			var demandArr = [ ];
			jQuery.each( productList, function( idx, prod ) {
				skuArr.push( prod.skuId );
				priceArr.push( prod.price );
				brandArr.push( prod.productBrandCode );
				qtyArr.push( prod.quantity );

				// Net demand calculation
				var prodPrice = prod.price/prod.quantity;
				var lineBrandPlccBrandProductLevel = 0;
				var orderLevelDiscountProductLevel = 0;
				var plccDiscountsProductLevel = 0;
				var netDemand = 0;
				
				if( prod.lineBrandPlccBrandProductLevel ) lineBrandPlccBrandProductLevel = prod.lineBrandPlccBrandProductLevel/prod.quantity;
				if( prod.orderLevelDiscountProductLevel ) orderLevelDiscountProductLevel = prod.orderLevelDiscountProductLevel/prod.quantity;
				if( prod.plccDiscountsProductLevel ) plccDiscountsProductLevel = prod.plccDiscountsProductLevel/prod.quantity;
				
				netDemand = prodPrice - ( lineBrandPlccBrandProductLevel + orderLevelDiscountProductLevel + plccDiscountsProductLevel );
				demandArr.push( netDemand.toFixed(2) );

			});
			// Set SKUs, Item Prices, Item Brands, Item Quantities
			skus = skuArr.join('|');
			prices = priceArr.join('|');
			brands = brandArr.join('|');
			prodQty = qtyArr.join('|');
			grossNetDemand = demandArr.join('|');
		}
		this.model.itemPrices = prices;
		this.model.itemBrands = brands;
		this.model.prodQty = prodQty;
		this.model.productSkus = skus;
		this.model.productNetDemand = grossNetDemand;
		
		// Page Type - u2
		this.model.pageType = ( metricsLibrary.common.pageType ) ? metricsLibrary.common.pageType : '';
		if( this.model.pageType.substr(0,1) == "/" ) { this.model.pageType = this.model.pageType.substr(1); }

		// Page ID - u3 - CID, Outfit ID or Product ID
		this.model.pageId = ( metricsLibrary.common.pageId ) ? metricsLibrary.common.pageId : '';
		if( metricsLibrary.common.pageName && ( location.pathname == '/' || location.pathname == '/browse/home.do' ) ) {
			// Fix CIDs not being pulled on home page content
			if( metricsLibrary.common.pageName.substr( 0, 2 ) == 'gp' ) { this.model.pageId = '5058'; }
			else if( metricsLibrary.common.pageName.substr( 0, 2 ) == 'on' ) { this.model.pageId = '5151'; }
			else if( metricsLibrary.common.pageName.substr( 0, 2 ) == 'br' ) { this.model.pageId = '5001'; }
			else if( metricsLibrary.common.pageName.substr( 0, 2 ) == 'bg' ) { this.model.pageId = '15956'; }
			else if( metricsLibrary.common.pageName.substr( 0, 2 ) == 'at' ) { this.model.pageId = '46650'; }			
		}
		
		// AP (Affiliate Partner) Value - u4 - ONLY set if PARTNER cookie set
		this.model.apCode = ( metricsLibrary.common.ap ) ? metricsLibrary.common.ap : '';
		
		// Last in TID - u5 - Last tracking ID recieved; ONLY set if PARTNER cookie set
		this.model.lastInTID = ( metricsLibrary.common.tid ) ? metricsLibrary.common.tid : '';
		
		// Page Name - u9 - Omniture Page Name
		this.model.pageName = ( metricsLibrary.common.pageName ) ? encodeURIComponent( metricsLibrary.common.pageName ) : '';
		
		// Page URL - u10 - Full page URL
		this.model.pageURL = ( metricsLibrary.common.pageUrl ) ? encodeURIComponent( metricsLibrary.common.pageUrl ) : '';
		
		// Is New Customer flag - u11
		this.model.isNewCustomer = ( metricsLibrary.common.isNewCustomer ) ? metricsLibrary.common.isNewCustomer : '';

		// Recognized Visitor flah - u14
		this.model.isRecognizedVisitor = ( metricsLibrary.common.isRecognizedVisitor ) ? metricsLibrary.common.isRecognizedVisitor : '';
		
		// Unknown shopper ID - u20 - GID unknown shopper ID
		// "988B422DA188A5C5DFCD32567DDBA4ED|||"
		if( gidLib.getCookie('unknownShopperId') != 0  ) {
			this.model.unknownShopperID = gidLib.getCookie('unknownShopperId');
			this.model.unknownShopperID = this.model.unknownShopperID.substr( 0, this.model.unknownShopperID.indexOf('|') );
		}
		else {
			this.model.unknownShopperID = '';
		}

		// Customer ID - u21 - GID KNOWN customer ID
		// "40895368|||"
		if( gidLib.getCookie('customerId') != 0  ) {
			this.model.customerID = gidLib.getCookie('customerId');
			this.model.customerID = this.model.customerID.substr( 0, this.model.customerID.indexOf('|') );
		}
		else {
			this.model.customerID = '';
		}

		// Preferred Locale (country/language pref) - u25
		this.model.preferredLocale = 'en_CA';
		if( window['locale'] != null && locale == 'fr_CA' ) { 
			this.model.preferredLocale = locale;
		}

		// DotomiToken - u26 - 22-25 taken in EU/JP - to merge in
		this.model.dotomiToken = ( metricsLibrary.common.dotomiToken ) ? metricsLibrary.common.dotomiToken : '';

		// DI ID - u27 - DI/Email ID - pulled from mktUniversalPersist
		this.model.diID = ( gidLib.getCookieVar('mktUniversalPersist','DI') != '' ) ? gidLib.getCookieVar('mktUniversalPersist','DI') : '';
		
		// Encrypted email cipher - u40
		this.model.encryptionCipher = ( metricsLibrary.common.cipher ) ? metricsLibrary.common.cipher : '';
		
		// Encrypted email vector - u41
		this.model.encryptionVector = ( metricsLibrary.common.vector ) ? metricsLibrary.common.vector : '';

		// Encrypted email string - u42
		this.model.encryptedEmail = ( metricsLibrary.common.userEmailEncrypt ) ? metricsLibrary.common.userEmailEncrypt : '';
	
		// Mobile vs desktop user - u44
		// GID mobile detection includes: iPhone, iPod, Android Mobile ONLY
		this.model.mobileVsDesktop = 'desktop';
		
		var userAgentCheck = navigator.userAgent.toLowerCase();
		if( /iphone|ipod/i.test( userAgentCheck ) || ( userAgentCheck.indexOf('android') > -1 && userAgentCheck.indexOf('mobile') > -1 ) ) {
			this.model.mobileVsDesktop = 'mobile';	
		}

		// PRODUCT PAGE ONLY variables 
		if( location.pathname == '/browse/product.do' ) {
			
			// Set up product page data
			this.model.productName = '';
			this.model.productBrandCode = '';
			this.model.productPrice = '';
			this.model.productImage = '';
			this.model.productSizesInStock = '';
			this.model.productSizesOutOfStock = '';
			this.model.productVendorName = '';
			this.model.productOriginalPrice = '';
			this.model.productDefaultCID = '';
			this.model.currentDivisionName = '';
			this.model.categoryNameClicked = '';
			this.model.productOnOrder = '';
			this.model.productLowInventory = '';
			
			if( window["productService"] != null && productService.objP && productService.objV ) {
				
				// Update URL if there's no CID in it
				if( gidLib.getQuerystringParam('cid') == '' && this.model.pageURL.indexOf('cid') == -1 && productPage.strDefaultCategoryId ) {
					this.model.pageURL += '%26cid%3D' + productPage.strDefaultCategoryId;
				}
				// Set default CID if CID is not in URL
				if( gidLib.getQuerystringParam('cid') == '' && productPage.strDefaultCategoryId ) {
					this.model.productDefaultCID = productPage.strDefaultCategoryId;
				}
				
				// Highlighted division pulled from page name metric
				var currentDivisionName = '';
				if( metricsLibrary.common.pageName != '' ) {
					var pageNameArr = metricsLibrary.common.pageName.split(':');
					if( pageNameArr.length > 2 ) {
						if( pageNameArr[1] == 'browse' ) {
							currentDivisionName = pageNameArr[2];
						}
					}
				}
				this.model.currentDivisionName = encodeURIComponent( currentDivisionName );

				// Highlighted category name pulled from page leftnav
				var categoryNameClicked = '';
				if( jQuery('#sideNavCategories').length > 0 ) {
					var selectedCategory = jQuery('#sideNavCategories a[class*="categorySelected"]');
					if( selectedCategory.length > 0 ) {
						categoryNameClicked += selectedCategory.text();
					}
				}
				this.model.categoryNameClicked = encodeURIComponent( categoryNameClicked );

				// Product Name - u28
				if( productService.objP.strProductStyleName ) {
					this.model.productName = encodeURIComponent( productService.objP.strProductStyleName );
				
					// Check whether item has a vendor (ie. Piperlime), if so prepend vendor name
					if( this.model.productName != '' && productService.objP.strVendorName && productService.objP.strVendorName != '' ) {
						this.model.productName = productService.objP.strVendorName + ' ' + this.model.productName;
						this.model.productVendorName = encodeURIComponent( productService.objP.strVendorName );
					}
				}
				
				// Product Brand - u29 - brand code sent
				if( productService.objP.brandCode ) {
					this.model.productBrandCode = productService.objP.brandCode;
				}
				
				// Variant/color based
				if( productService.hasOwnProperty('objV') && productService.hasOwnProperty('activeColor') ) {
					var currentProductColor = productService.activeColor;
					var currentProductColorObj = productService.objV.arrayVariantStyleColors[ currentProductColor ];
					
					// Product Price - u30 - find selected variant/color to determine best
					if( currentProductColorObj.price ) {
						this.model.productPrice = currentProductColorObj.price.replace('CA$','').replace(' $ CA','').replace(',','.');
						//console.log('price set');
					}
					
					// Product Original Price - u35
					if( currentProductColorObj.strRegularPrice ) {
						this.model.productOriginalPrice = currentProductColorObj.strRegularPrice.replace('CA$','').replace(' $ CA','').replace(',','.');
					}
					
					// Product Image URL - u31
					if( currentProductColorObj.hasOwnProperty('arrayVariantStyleColorImages') ) {
						if( currentProductColorObj.arrayVariantStyleColorImages['Main'] ) {
							this.model.productImage = 'http://' + location.hostname + currentProductColorObj.arrayVariantStyleColorImages['Main'].strImagePath;
							this.model.productImage = encodeURIComponent( this.model.productImage );
							//console.log('image set from Main');
						}
						else if( currentProductColorObj.arrayVariantStyleColorImages['MainThumb'] ) {
							this.model.productImage = 'http://' + location.hostname + currentProductColorObj.arrayVariantStyleColorImages['MainThumb'].strImagePath;
							this.model.productImage = encodeURIComponent( this.model.productImage );
						}
					}	
					
					// Default 9-digit Product ID - 9-digit - u50 - used for out-of/in stock size determination
					if( currentProductColorObj.strColorCodeId ) {
						this.model.productIdDefault9Dig = currentProductColorObj.strColorCodeId;				
										
						// Product Sizes In Stock - u32 - pulling from page
						// Product Sizes Out of Stock - u33
						var allSkus = productPage.objV.arrayVariantSkus;
						var allSize1s = productPage.arrayAllSizeDimension1;
						var allSize2s = productPage.arrayAllSizeDimension2;
						var currentSkuId = '';
						var currentSkuSize1 = '';
						var currentSkuSize2 = '';
						var currentSkuSizeDescription = '';
						var sizeDesc = '';
						var arrSkuSizesAll = [];
						var arrSkuSizesInStock = [];
						var arrSkuSizesOutOfStock = [];
						
						if( allSize1s.length > 0 && allSize2s.length > 0 ) {
							for( var i=0; i < allSize1s.length; i++ ) {
								for( var j=0; j < allSize2s.length; j++ ) {
									sizeDesc = '';
									sizeDesc += allSize1s[i].strName + ':' + allSize2s[j].strName;
									arrSkuSizesAll.push( sizeDesc );
								}
							}
						}
						else if( allSize1s.length > 0 ) {
							for( var i=0; i < allSize1s.length; i++ ) {
								sizeDesc = '';
								sizeDesc += allSize1s[i].strName;
								arrSkuSizesAll.push( sizeDesc );
							}
						}
						
						//console.log( 'all sizes ' + arrSkuSizesAll );
						
						jQuery.each(allSkus, function(key,valueObj){
							// If the value is an object that represents an in-stock color/size SKU of the initially loaded color
							if( jQuery.type( valueObj ) == 'object' ) {
								// Restrict to initially loaded color
								if( valueObj.strSkuId.indexOf( currentProductColorObj.strColorCodeId ) > -1 ) {
									currentSkuSizeDescription = '';
									currentSkuId = valueObj.strSkuId;
									currentSkuSize1 = valueObj.strSizeDim1Id;
									currentSkuSize2 = valueObj.strSizeDim2Id;
									
									if( allSize1s.length > 0 ) {
										for( var i=0; i < allSize1s.length; i++ ) {
											if( allSize1s[i].strId == currentSkuSize1 ) {
												currentSkuSizeDescription += allSize1s[i].strName;
											}			
										}
									}
									
									if( allSize2s.length > 0 ) {
										for( var j=0; j < allSize2s.length; j++ ) {
											if( allSize2s[j].strId == currentSkuSize2 ) {
												currentSkuSizeDescription += ':' + allSize2s[j].strName;
											}			
										}
									}
							
									//console.log( 'sku = ' + currentSkuId + '; size1 = ' + currentSkuSize1 + '; size2 = ' + currentSkuSize2 + '; sizeDesc = ' + currentSkuSizeDescription );
									arrSkuSizesInStock.push( currentSkuSizeDescription );
								}
							}
						});
						
						//console.log( 'sizes in stock ' + arrSkuSizesInStock );
						
						arrSkuSizesOutOfStock = jQuery.grep( arrSkuSizesAll, function( elt ) {
							return jQuery.inArray( elt, arrSkuSizesInStock ) == -1;
						});
						
						//console.log( 'sizes out of stock ' + arrSkuSizesOutOfStock );
						
						if( arrSkuSizesInStock.length > 0 ) {
							// Replace ' &#189' with 'half'
							for( var i=0; i < arrSkuSizesInStock.length; i++ ) {
								arrSkuSizesInStock[i] = arrSkuSizesInStock[i].replace(' &#189','half');
							}
							this.model.productSizesInStock = arrSkuSizesInStock.join();
							this.model.productSizesInStock = this.model.productSizesInStock.toLowerCase();
							//console.log('in stock sizes set');
						}
						if( arrSkuSizesOutOfStock.length > 0 ) {
							// Replace ' &#189' with 'half'
							for( var j=0; j < arrSkuSizesOutOfStock.length; j++ ) {
								arrSkuSizesOutOfStock[j] = arrSkuSizesOutOfStock[j].replace(' &#189','half');
							}
							this.model.productSizesOutOfStock = arrSkuSizesOutOfStock.join();
							this.model.productSizesOutOfStock = this.model.productSizesOutOfStock.toLowerCase();
							//console.log('out of stock sizes set');
						}
					}
					
					// Is product on order - u45 - based on existance of an on-order date
					var productOnOrder = 'false';
					if( productPage.isSkuOnOrder(productPage.activeColor, productPage.activeSizeDimension1, productPage.activeSizeDimension2) != null ) {
						productOnOrder = 'true';
					}
					this.model.productOnOrder = productOnOrder;
					
					// Low Inventory - u46 - based on return of Low Inventory function
					var productLowInventory = 'false';
					if( productPage.isSkuLowInventory(productPage.activeColor, productPage.activeSizeDimension1, productPage.activeSizeDimension2) != null && productPage.isSkuLowInventory(productPage.activeColor, productPage.activeSizeDimension1, productPage.activeSizeDimension2) == true ) {
						productLowInventory = 'true';
					}
					this.model.productLowInventory = productLowInventory;
					
					// Current selected variant on product page load - u49
					// 1: Regular, 2: Tall, 3: Petite, 8: Plus
					var currentVariantId = '1'; 
					if( productService.strVariantId ) {
						currentVariantId = productService.strVariantId.toString();
					}
					this.model.currentVariantId = currentVariantId;
				}
			}
		}

		// ORDER CONF ONLY variables
		else if (location.pathname == "/checkout/orderConfirm.do") {

			// Page Type fix on order conf page
			this.model.pageType = 'orderConfirm';

			// Order ID - ord - Gap.com order ID
			this.model.orderId = ( metricsLibrary.order.orderId ) ? metricsLibrary.order.orderId : '';
			
			this.model.promotionSubTotal = ( metricsLibrary.order.promotionSubTotal ) ? parseFloat( metricsLibrary.order.promotionSubTotal ) : 0;
			this.model.promotionRewardsTotal = ( metricsLibrary.order.promotionRewardsTotal ) ? parseFloat( metricsLibrary.order.promotionRewardsTotal ) : 0;
			this.model.giftServicesTotal = ( metricsLibrary.order.giftServicesTotal ) ? parseFloat( metricsLibrary.order.giftServicesTotal ) : 0;
			this.model.shippingTotal = ( metricsLibrary.order.shippingTotal ) ? parseFloat( metricsLibrary.order.shippingTotal ) : 0;
			this.model.taxTotal = ( metricsLibrary.order.taxTotal ) ? parseFloat( metricsLibrary.order.taxTotal ) : 0;
			this.model.orderTotal = ( metricsLibrary.order.orderTotal ) ? parseFloat( metricsLibrary.order.orderTotal ) : 0;
				
			// Fixes rounding problem
			this.model.myShipTotal = parseInt( this.model.shippingTotal*100 );
			this.model.myTaxTotal = parseInt( this.model.taxTotal*100 );
			this.model.myOrderTotal = parseInt( this.model.orderTotal*100 );
			this.model.myTotal = this.model.myOrderTotal - this.model.myShipTotal - this.model.myTaxTotal;
			this.model.myTotal = parseFloat(this.model.myTotal/100);

			// Total Merch (ie. Net Demand) - u15 - Order total - shipping - tax
			this.model.netDemand = this.model.myTotal;

			// Total Merch + promo dolloers (ie. Gross Merch Demand) - cost - Order total - shipping - tax + promo dollares
			this.model.grossMerchandise = this.model.netDemand + this.model.promotionSubTotal;
			
			// Checkout Brand - u8 - brand a user checks out on
			this.model.checkoutBrand = ( metricsLibrary.order.checkoutBrand ) ? metricsLibrary.order.checkoutBrand : '';
			
			// Shipping & Billing zips - u12, u13 respectively - user zip codes
			this.model.shippingZip = ( metricsLibrary.order.shippingZip ) ? metricsLibrary.order.shippingZip : '';
			this.model.billingZip = ( metricsLibrary.order.billingZip ) ? metricsLibrary.order.billingZip : '';
			
			// Promotional dollars - u16 - coupon dollars
			this.model.promoDollars = this.model.promotionSubTotal;
			
			// Tax - u17 - tax amount
			this.model.tax = this.model.taxTotal;
			
			// Shipping - u18 - total shipping charged
			this.model.shipping = this.model.shippingTotal;

			// Encrypted billing address string - u43
			this.model.encryptedBillingAddress = ( metricsLibrary.order.billingAddressEncrypt ) ? metricsLibrary.order.billingAddressEncrypt : '';
		}
		jQuery(document).trigger('brightTagPixelPartner:dataModelLoaded');
		
	}
	controller.setPixelPartnerTransmissionTemplate = function() {
		var shoppingBagUrls = ['/buy/shopping_bag.do','/buy/shopping_bag_delete_item.do','/buy/shopping_bag_save_item.do','/buy/shopping_bag_move_item.do','/buy/edit_shipping_method_bag.do'];

		// Order conf page fire
		if( location.pathname == "/checkout/orderConfirm.do" ) {
			// TO BE MOVED AWAY FROM TEMPLATES WHEN I.T. WORK DONE
			this.pixelPartnerTransmissionTemplate = new Template(		
				"<iframe src=\"//s.thebrighttag.com/tag?" + 
					"site=#{model.brighttag_site_id}&" + 
					"mode=iframe&" + 
					"ord=#{model.orderId}&" + 
					"qty=#{model.totalQty}&" + 
					"cost=#{model.grossMerchandise}&" + 
					"tran=#{model.enteringBrandCode}&" + 
					"u=#{model.currencyType}&" + 
					"u1=#{model.productSkus}&" + 
					"u2=#{model.pageType}&" + 
					"u3=#{model.pageId}&" + 
					"u4=#{model.apCode}&" + 
					"u5=#{model.lastInTID}&" + 
					"u6=#{model.itemPrices}&" + 
					"u7=#{model.itemBrands}&" + 
					"u8=#{model.checkoutBrand}&" + 
					"u9=#{model.pageName}&" + 
					"u10=#{model.pageURL}&" + 
					"u11=#{model.isNewCustomer}&" + 
					"u12=#{model.shippingZip}&" + 
					"u13=#{model.billingZip}&" + 
					"u14=#{model.isRecognizedVisitor}&" + 
					"u15=#{model.netDemand}&" + 
					"u16=#{model.promoDollars}&" + 
					"u17=#{model.tax}&" + 
					"u18=#{model.shipping}&" + 
					"u19=#{model.prodQty}&" + 
					"u20=#{model.unknownShopperID}&" + 
					"u21=#{model.customerID}&" + 
					"u25=#{model.preferredLocale}&" + 
					this.controller.getPixmanElement("u26",model.dotomiToken,"&") + 
					"u27=#{model.diID}&" + 
					"u40=#{model.encryptionCipher}&" + 
					"u41=#{model.encryptionVector}&" + 
					"u42=#{model.encryptedEmail}&" + 
					"u43=#{model.encryptedBillingAddress}&" + 					
					"u44=#{model.mobileVsDesktop}&" + 
					"u52=#{model.productNetDemand}&" + 
					"\" width=\"1\" height=\"1\" frameborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\"></iframe>");
		}
		
		// Product Page fire
		else if( location.pathname == '/browse/product.do' ) {
			// TO BE MOVED AWAY FROM TEMPLATES WHEN I.T. WORK DONE
			this.pixelPartnerTransmissionTemplate = new Template(		
				"<iframe src=\"//s.thebrighttag.com/tag?" + 
					"site=#{model.brighttag_site_id}&" + 
					"mode=iframe&" + 
					"qty=#{model.totalQty}&" + 
					"tran=#{model.enteringBrandCode}&" + 
					"u=#{model.currencyType}&" + 
					"u1=#{model.productSkus}&" + 
					"u2=#{model.pageType}&" + 
					"u3=#{model.pageId}&" + 
					"u4=#{model.apCode}&" + 
					"u5=#{model.lastInTID}&" + 
					"u6=#{model.itemPrices}&" + 
					"u7=#{model.itemBrands}&" + 
					"u9=#{model.pageName}&" + 
					"u10=#{model.pageURL}&" + 
					"u11=#{model.isNewCustomer}&" + 
					"u14=#{model.isRecognizedVisitor}&" + 
					"u19=#{model.prodQty}&" + 
					"u20=#{model.unknownShopperID}&" + 
					"u21=#{model.customerID}&" + 
					"u25=#{model.preferredLocale}&" + 
					this.controller.getPixmanElement("u26",model.dotomiToken,"&") +
					"u27=#{model.diID}&" + 
					"u28=#{model.productName}&" + 
					"u29=#{model.productBrandCode}&" + 
					"u30=#{model.productPrice}&" + 
					"u31=#{model.productImage}&" + 
					"u32=#{model.productSizesInStock}&" + 
					"u33=#{model.productSizesOutOfStock}&" + 
					"u34=#{model.productVendorName}&" + 
					"u35=#{model.productOriginalPrice}&" + 
					"u36=#{model.productDefaultCID}&" + 
					"u37=#{model.currentDivisionName}&" + 
					"u38=#{model.categoryNameClicked}&" + 
					"u40=#{model.encryptionCipher}&" + 
					"u41=#{model.encryptionVector}&" + 
					"u42=#{model.encryptedEmail}&" + 
					"u44=#{model.mobileVsDesktop}&" + 
					"u45=#{model.productOnOrder}&" + 
					"u46=#{model.productLowInventory}&" + 
					"u52=#{model.productNetDemand}&" + 
					"\" width=\"1\" height=\"1\" frameborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\"></iframe>");
		}
		
		// Other non-secure pages
		else if( window.location.protocol != "https:" || shoppingBagUrls.include( location.pathname ) ) {
			// TO BE MOVED AWAY FROM TEMPLATES WHEN I.T. WORK DONE
			this.pixelPartnerTransmissionTemplate = new Template(
				"<iframe src=\"//s.thebrighttag.com/tag?" + 
					"site=#{model.brighttag_site_id}&" + 
					"mode=iframe&" + 
					"qty=#{model.totalQty}&" + 
					"tran=#{model.enteringBrandCode}&" +
					"u=#{model.currencyType}&" + 
					"u1=#{model.productSkus}&" + 
					"u2=#{model.pageType}&" + 
					"u3=#{model.pageId}&" +
					"u4=#{model.apCode}&" + 
					"u5=#{model.lastInTID}&" + 
					"u6=#{model.itemPrices}&" + 
					"u7=#{model.itemBrands}&" + 
					"u9=#{model.pageName}&" + 
					"u10=#{model.pageURL}&" + 
					"u11=#{model.isNewCustomer}&" + 
					"u14=#{model.isRecognizedVisitor}&" + 
					"u19=#{model.prodQty}&" + 
					"u20=#{model.unknownShopperID}&" + 
					"u21=#{model.customerID}&" + 
					"u25=#{model.preferredLocale}&" + 
					this.controller.getPixmanElement("u26",model.dotomiToken,"&") +
					"u27=#{model.diID}&" + 
					"u40=#{model.encryptionCipher}&" + 
					"u41=#{model.encryptionVector}&" + 
					"u42=#{model.encryptedEmail}&" + 
					"u44=#{model.mobileVsDesktop}&" + 
					"u52=#{model.productNetDemand}&" + 
					"\" width=\"1\" height=\"1\" frameborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\"></iframe>");
		}
		// Profile/account pages for Gap
		else if (location.pathname == "/profile/info.do" && ( location.search.indexOf('cid=48755') > -1 || location.search.indexOf('cid=53959') > -1 || location.search.indexOf('cid=82640') > -1 ) ) {
			this.pixelPartnerTransmissionTemplate = new Template(
				"<iframe src=\"//s.thebrighttag.com/tag?" + 
					"site=#{model.brighttag_site_id}&" + 
					"mode=iframe&" + 
					"qty=#{model.totalQty}&" + 
					"tran=#{model.enteringBrandCode}&" +
					"u=#{model.currencyType}&" + 
					"u1=#{model.productSkus}&" + 
					"u2=#{model.pageType}&" + 
					"u3=#{model.pageId}&" +
					"u4=#{model.apCode}&" + 
					"u5=#{model.lastInTID}&" + 
					"u6=#{model.itemPrices}&" + 
					"u7=#{model.itemBrands}&" + 
					"u9=#{model.pageName}&" + 
					"u10=#{model.pageURL}&" + 
					"u11=#{model.isNewCustomer}&" + 
					"u14=#{model.isRecognizedVisitor}&" + 
					"u19=#{model.prodQty}&" + 
					"u20=#{model.unknownShopperID}&" + 
					"u21=#{model.customerID}&" + 
					"u25=#{model.preferredLocale}&" + 
					this.controller.getPixmanElement("u26",model.dotomiToken,"&") +
					"u27=#{model.diID}&" + 
					"u40=#{model.encryptionCipher}&" + 
					"u41=#{model.encryptionVector}&" + 
					"u42=#{model.encryptedEmail}&" + 					
					"u44=#{model.mobileVsDesktop}&" + 
					"\" width=\"1\" height=\"1\" frameborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\"></iframe>");
		}
	}
	controller.setCleanUp = function() {
		// alert("setCleanUp() running: pixelPartnerName = " + this.pixelPartnerName);
	}
	controller.helper = new Object();
}

}
</script>

<div id="doubleClickPixelDiv"></div>
<div id="partnerPixelDiv"></div>

<script type="text/javascript">

// WCD in-page event BrightTag service - Quicklook, QL Add To Bag, Find It Now, Reserve In Store, Add To Bag
if( location.pathname == '/browse/product.do' || location.pathname == '/browse/outfit.do' || location.pathname == '/browse/category.do' || location.pathname == '/browse/categorySearch.do' || location.pathname == '/browse/search.do' ) {

	var wcdBrightTagService = {
		model: {
			supportedEvents: ['QuickLook','AddToQLBag','FindItNow','ReserveInStore','AddToBag','LoadVariantProduct'],
			btFrameId: 'wcdBrightTagServiceFrame',
			brFrameUrl: '',
			btDataModel: '',
			btFrameExists: false,
			btLoadVariantCalls: 0
		},
  	init: function() {
			// Copy data model over from existing BT tag
			if( window["brightTagPixelPartner"] != null ) {
				if( brightTagPixelPartner.model ) {
					wcdBrightTagService.model.btDataModel = {};
					jQuery.extend( wcdBrightTagService.model.btDataModel, brightTagPixelPartner.model );
				}
			}
		},
		controller: {
			// Creates dynamic BT frame if not present
			createBrightTagFrame: function() {
				var model = wcdBrightTagService.model;
				if( jQuery('#' + model.btFrameId + ' iframe').length == 0 ) {
					jQuery('body').append('<div id="' + model.btFrameId + '"><iframe width="1" height="1" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe></div>');
					//jQuery('body').append('<div id="' + model.btFrameId + '"><iframe src="/Asset_Archive/BRWeb/content/0008/954/949/assets/blank.gif" width="1" height="1" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe></div>');
					model.btFrameExists = true;
				}
			},
			updateBrightTagFrame: function() {
				var model = wcdBrightTagService.model;
				if( model.btFrameUrl != '' && jQuery('#' + model.btFrameId + ' iframe').length > 0 ) {
					jQuery('#' + model.btFrameId + ' iframe' ).attr('src', model.btFrameUrl );
					//console.log('iframe URL set');
				}
			},
			fireBrightTag: function( eventName ) {
				//console.log('fired for ' + eventName );
				
				var wcdBTRef = wcdBrightTagService;
				var model = wcdBTRef.model;
				var btDataModel = model.btDataModel;
				var controller = wcdBTRef.controller;
				var btFrameUrl = '';
				// Fire BrightTag for supported events only
				if( jQuery.inArray( eventName, model.supportedEvents ) > -1 && btDataModel != '' ) {
					if( ! model.btFrameExists ) {
						controller.createBrightTagFrame();
					}
					
					btDataModel.pageName = brightTagPixelPartner.model.pageName;
					if( btDataModel.pageName && btDataModel.pageName.indexOf( eventName ) == -1 ) {
						btDataModel.pageName += '%3A' + eventName;
					}
					
					// Update Add to Bag events to pass price of product added to bag
					if( eventName == 'AddToBag' || eventName == 'AddToQLBag' ) {
						btDataModel.addToBagSellPrice = '';

						if( eventName == 'AddToBag' ) {
							var currentProductColor = productPage.activeColor;
							var currentProductColorObj = productPage.objV.arrayVariantStyleColors[ currentProductColor ];
							if( currentProductColorObj.price ) {
								btDataModel.addToBagSellPrice = currentProductColorObj.price;
							}
							if( productPage.strSelectedQty ) {
								if( productPage.strSelectedQty != '1' ) {
									btDataModel.addToBagSellPrice = parseFloat( btDataModel.addToBagSellPrice ) * parseInt( productPage.strSelectedQty );
									btDataModel.addToBagSellPrice = btDataModel.addToBagSellPrice.toFixed(2);
									btDataModel.addToBagSellPrice = btDataModel.addToBagSellPrice.toString();
								}
							}
						}
						else if( eventName == 'AddToQLBag' ) {
							var currentProductColor = quickLook.activeColor;
							var currentProductColorObj = quickLook.objV.arrayVariantStyleColors[ currentProductColor ];
							if( currentProductColorObj.price ) {
								btDataModel.addToBagSellPrice = currentProductColorObj.price;
							}
							if( model.qtySelected ) {
								if( model.qtySelected != '1' ) {
									btDataModel.addToBagSellPrice = parseFloat( btDataModel.addToBagSellPrice ) * parseInt( model.qtySelected );
									btDataModel.addToBagSellPrice = btDataModel.addToBagSellPrice.toFixed(2);
									btDataModel.addToBagSellPrice = btDataModel.addToBagSellPrice.toString();
								}
							}
						}
					}
					
					// Update Add to Bag event to pass full product ID in page URL
					if( eventName == 'AddToBag' ) {
						// Update URL if there's no CID in it
						if( gidLib.getQuerystringParam('cid') == '' && btDataModel.pageURL.indexOf('cid') == -1 && productPage.strDefaultCategoryId ) {
							btDataModel.pageURL += '%26cid%3D' + productPage.strDefaultCategoryId;
						}

						if( productPage.objV.objStyleSizeInfo.intSizeDimensionsCount >= 1 ) {
							var strColorId = productPage.objV.arrayVariantStyleColors[ productPage.selectedColor ].strColorCodeId;
							var strSize1Id = productPage.arrayAllSizeDimension1[ productPage.selectedSizeDimension1 ].strId;
							var strSize2Id = "";
						}
						if( productPage.objV.objStyleSizeInfo.intSizeDimensionsCount == 2 ) {
							strSize2Id = productPage.arrayAllSizeDimension2[ productPage.selectedSizeDimension2 ].strId;
						}
						var strSkuID = productPage.objV.arrayVariantSkus[ strColorId + "_" + strSize1Id + "_" + strSize2Id ].strSkuId;
						
						// Parse URL and replace product ID with selected
						var currentProductId = btDataModel.pageURL;
						currentProductId = currentProductId.substr( currentProductId.indexOf('pid%3D') + 6 );
						if( currentProductId.indexOf('%26') > -1 ) {
							currentProductId = currentProductId.substr( 0, currentProductId.indexOf('%26') );
						}
						var arrAddedProductURL = btDataModel.pageURL.split( currentProductId );
						var addedProductURL = '';
						if( arrAddedProductURL.length > 0 ) {
							addedProductURL = arrAddedProductURL[0] + strSkuID;
							if( arrAddedProductURL.length > 1 ) { addedProductURL += arrAddedProductURL[1]; }
						}
						
						btDataModel.pageURL = addedProductURL;
					}
					
					// If Load Product Variant, adjusts product page elements for new variant
					else if( eventName == 'LoadVariantProduct' ) {
						var productObjRef = '';
						if( eventName == 'LoadVariantProduct' && window["productPage"] != null ) {
							productObjRef = productPage;
						}
						else if( eventName == 'LoadVariantQLProduct' && window["quickLook"] != null ) {
							productObjRef = quickLook;
						}
							
						if( productObjRef != '' ) {
							
							// New product ID of variant
							var currentProductColor = productObjRef.activeColor;
							var currentProductColorObj = productObjRef.objV.arrayVariantStyleColors[ currentProductColor ];
							var newVariantProductId = currentProductColorObj.strColorCodeId;
							
							// Update Page ID with variant ID
							btDataModel.pageId = newVariantProductId;
							
							// Update Page URL with variant ID
							// Parse URL and replace product ID with selected
							var currentProductId = btDataModel.pageURL;
							currentProductId = currentProductId.substr( currentProductId.indexOf('pid%3D') + 6 );
							if( currentProductId.indexOf('&') > -1 ) {
								currentProductId = currentProductId.substr( 0, currentProductId.indexOf('%26') );
							}
							var arrVariantProductURL = btDataModel.pageURL.split( currentProductId );
							var variantProductURL = '';
							if( arrVariantProductURL.length > 0 ) {
								variantProductURL = arrVariantProductURL[0] + newVariantProductId;
								if( arrVariantProductURL.length > 1 ) { variantProductURL += arrVariantProductURL[1]; }
							}
							
							btDataModel.pageURL = variantProductURL;

							// Update URL if there's no CID in it
							if( gidLib.getQuerystringParam('cid') == '' && btDataModel.pageURL.indexOf('cid') == -1 && productObjRef.strDefaultCategoryId ) {
								btDataModel.pageURL += '%26cid%3D' + productObjRef.strDefaultCategoryId;
							}

							// Product Name - u28, Product Vendor Name - u34
							if( productObjRef.objP.strProductStyleName ) {
								btDataModel.productName = '';
								btDataModel.productName = encodeURIComponent( productObjRef.objP.strProductStyleName );
							
								// Check whether item has a vendor (ie. Piperlime), if so prepend vendor name
								if( btDataModel.productName != '' && productObjRef.objP.strVendorName && productObjRef.objP.strVendorName != '' ) {
									btDataModel.productName = encodeURIComponent( productObjRef.objP.strVendorName ) + '%20' + btDataModel.productName;					
									btDataModel.productVendorName = encodeURIComponent( productObjRef.objP.strVendorName );
								}
							}
							
							// Product Brand - u29 - brand code sent
							if( productObjRef.objP.brandCode ) {
								btDataModel.productBrandCode = '';
								btDataModel.productBrandCode = productObjRef.objP.brandCode;
							}
							
							// Variant/color based
							if( productObjRef.hasOwnProperty('objV') && productObjRef.hasOwnProperty('activeColor') ) {
								btDataModel.productPrice = '';
								var currentProductColor = productObjRef.activeColor;
								var currentProductColorObj = productObjRef.objV.arrayVariantStyleColors[ currentProductColor ];
								
								// Product Price - u30 - find selected variant/color to determine best
								if( currentProductColorObj.price ) {
									btDataModel.productPrice = currentProductColorObj.price.replace('CA$','').replace(' $ CA','').replace(',','.');
									//console.log('price set');
								}
					
								// Product Original Price - u35
								if( currentProductColorObj.strRegularPrice ) {
									btDataModel.productOriginalPrice = currentProductColorObj.strRegularPrice.replace('CA$','').replace(' $ CA','').replace(',','.');
								}
								
								// Product Image URL - u31
								if( currentProductColorObj.hasOwnProperty('arrayVariantStyleColorImages') ) {
									btDataModel.productImage = '';
									if( currentProductColorObj.arrayVariantStyleColorImages['Main'] ) {
										btDataModel.productImage = encodeURIComponent('http://' + location.hostname + currentProductColorObj.arrayVariantStyleColorImages['Main'].strImagePath );
										//console.log('image set from Main');
									}
									else if( currentProductColorObj.arrayVariantStyleColorImages['MainThumb'] ) {
										btDataModel.productImage = encodeURIComponent('http://' + location.hostname + currentProductColorObj.arrayVariantStyleColorImages['MainThumb'].strImagePath );
									}
								}					
							}
							
							// Product Sizes In Stock - u32 - pulling from page
							// Product Sizes Out of Stock - u33
							var allSkus = productObjRef.objV.arrayVariantSkus;
							var allSize1s = productObjRef.arrayAllSizeDimension1;
							var allSize2s = productObjRef.arrayAllSizeDimension2;
							var currentSkuId = '';
							var currentSkuSize1 = '';
							var currentSkuSize2 = '';
							var currentSkuSizeDescription = '';
							var sizeDesc = '';
							var arrSkuSizesAll = [];
							var arrSkuSizesInStock = [];
							var arrSkuSizesOutOfStock = [];
							
							if( allSize1s.length > 0 && allSize2s.length > 0 ) {
								for( var i=0; i < allSize1s.length; i++ ) {
									for( var j=0; j < allSize2s.length; j++ ) {
										sizeDesc = '';
										sizeDesc += allSize1s[i].strName + ':' + allSize2s[j].strName;
										arrSkuSizesAll.push( sizeDesc );
									}
								}
							}
							else if( allSize1s.length > 0 ) {
								for( var i=0; i < allSize1s.length; i++ ) {
									sizeDesc = '';
									sizeDesc += allSize1s[i].strName;
									arrSkuSizesAll.push( sizeDesc );
								}
							}
							
							//console.log( 'all sizes ' + arrSkuSizesAll );
							
							jQuery.each(allSkus, function(key,valueObj){
								// If the value is an object that represents an in-stock color/size SKU of the initially loaded color
								/*if( eventName == 'LoadVariantProduct' ) {
									var currentPid = productObjRef.strDefaultStyleColorId;
								}
								else if( quickLook.objQuickLookTarget ) {
									var currentPid = quickLook.objQuickLookTarget.strDefaultStyleColor;
								}*/

								if( jQuery.type( valueObj ) == 'object' ) {
									// Restrict to initially loaded color
									if( valueObj.strSkuId.indexOf( newVariantProductId ) > -1 ) {
										currentSkuSizeDescription = '';
										currentSkuId = valueObj.strSkuId;
										currentSkuSize1 = valueObj.strSizeDim1Id;
										currentSkuSize2 = valueObj.strSizeDim2Id;
										
										if( allSize1s.length > 0 ) {
											for( var i=0; i < allSize1s.length; i++ ) {
												if( allSize1s[i].strId == currentSkuSize1 ) {
													currentSkuSizeDescription += allSize1s[i].strName;
												}			
											}
										}
										
										if( allSize2s.length > 0 ) {
											for( var j=0; j < allSize2s.length; j++ ) {
												if( allSize2s[j].strId == currentSkuSize2 ) {
													currentSkuSizeDescription += ':' + allSize2s[j].strName;
												}			
											}
										}
								
										//console.log( 'sku = ' + currentSkuId + '; size1 = ' + currentSkuSize1 + '; size2 = ' + currentSkuSize2 + '; sizeDesc = ' + currentSkuSizeDescription );
										arrSkuSizesInStock.push( currentSkuSizeDescription );
									}
								}
							});
							
							//console.log( 'sizes in stock ' + arrSkuSizesInStock );
							
							arrSkuSizesOutOfStock = jQuery.grep( arrSkuSizesAll, function( elt ) {
								return jQuery.inArray( elt, arrSkuSizesInStock ) == -1;
							});
							
							//console.log( 'sizes out of stock ' + arrSkuSizesOutOfStock );
							
							btDataModel.productSizesInStock = '';
							if( arrSkuSizesInStock.length > 0 ) {
								// Replace ' &#189' with 'half'
								for( var i=0; i < arrSkuSizesInStock.length; i++ ) {
									arrSkuSizesInStock[i] = arrSkuSizesInStock[i].replace(' &#189','half');
								}
								btDataModel.productSizesInStock = arrSkuSizesInStock.join();
								btDataModel.productSizesInStock = btDataModel.productSizesInStock.toLowerCase();
								//console.log('in stock sizes set');
							}
							btDataModel.productSizesOutOfStock = '';
							if( arrSkuSizesOutOfStock.length > 0 ) {
								// Replace ' &#189' with 'half'
								for( var j=0; j < arrSkuSizesOutOfStock.length; j++ ) {
									arrSkuSizesOutOfStock[j] = arrSkuSizesOutOfStock[j].replace(' &#189','half');
								}
								btDataModel.productSizesOutOfStock = arrSkuSizesOutOfStock.join();
								btDataModel.productSizesOutOfStock = btDataModel.productSizesOutOfStock.toLowerCase();
								//console.log('out of stock sizes set');
							}
						}
					}

					// If QuickLook or AddToQLBag, add product elements
					else if( eventName == 'QuickLook' || eventName == 'AddToQLBag' ) {
						if( ( eventName == 'QuickLook' || eventName == 'AddToQLBag' ) && window["quickLook"] != null && quickLook.objP && quickLook.objV ) {
							
							// Fake URL to be product page
							var qlProductId = quickLook.objP.strProductId;
							var currentCid = gidLib.getQuerystringParam('cid');
							currentCid = currentCid.substr(0,6);
							
							// Update Add to Bag QL event to override product ID to pass full product ID of item added
							if( eventName == 'AddToQLBag' ) {
								if( quickLook.objV.objStyleSizeInfo.intSizeDimensionsCount >= 1 ) {
									var strColorId = quickLook.objV.arrayVariantStyleColors[ quickLook.selectedColor ].strColorCodeId;
									var strSize1Id = quickLook.arrayAllSizeDimension1[ quickLook.selectedSizeDimension1 ].strId;
									var strSize2Id = "";
								}
								if( quickLook.objV.objStyleSizeInfo.intSizeDimensionsCount == 2 ) {
									strSize2Id = quickLook.arrayAllSizeDimension2[ quickLook.selectedSizeDimension2 ].strId;
								}
								qlProductId = quickLook.objV.arrayVariantSkus[ strColorId + "_" + strSize1Id + "_" + strSize2Id ].strSkuId;
							}
							
							btDataModel.pageURL = 'http://' + location.hostname + location.pathname.replace('category','product').replace('categorySearch','product').replace('search','product') + '?cid=' + currentCid + '&pid=' + qlProductId;
							btDataModel.pageURL = encodeURIComponent( btDataModel.pageURL );

							// Product Name - u28
							if( quickLook.objP.strProductStyleName ) {
								btDataModel.productName = '';
								btDataModel.productVendorName = '';
								btDataModel.productName = encodeURIComponent( quickLook.objP.strProductStyleName );
							
								// Check whether item has a vendor (ie. Piperlime), if so prepend vendor name
								if( btDataModel.productName != '' && quickLook.objP.strVendorName && quickLook.objP.strVendorName != '' ) {
									btDataModel.productName = encodeURIComponent( quickLook.objP.strVendorName ) + '%20' + btDataModel.productName;					
									btDataModel.productVendorName = encodeURIComponent( quickLook.objP.strVendorName );
								}
							}
							
							// Product Brand - u29 - brand code sent
							if( quickLook.objP.brandCode ) {
								btDataModel.productBrandCode = '';
								btDataModel.productBrandCode = quickLook.objP.brandCode;
							}
							
							// Variant/color based
							if( quickLook.hasOwnProperty('objV') && quickLook.hasOwnProperty('activeColor') ) {
								btDataModel.productPrice = '';
								var currentProductColor = quickLook.activeColor;
								var currentProductColorObj = quickLook.objV.arrayVariantStyleColors[ currentProductColor ];
								var newVariantProductId = currentProductColorObj.strColorCodeId;
								
								// Product Price - u30 - find selected variant/color to determine best
								if( currentProductColorObj.price ) {
									btDataModel.productPrice = currentProductColorObj.price.replace('CA$','').replace(' $ CA','').replace(',','.');
									//console.log('price set');
								}
					
								// Product Original Price - u35
								if( currentProductColorObj.strRegularPrice ) {
									btDataModel.productOriginalPrice = currentProductColorObj.strRegularPrice.replace('CA$','').replace(' $ CA','').replace(',','.');
								}
								
								// Product Image URL - u31
								if( currentProductColorObj.hasOwnProperty('arrayVariantStyleColorImages') ) {
									btDataModel.productImage = '';
									if( currentProductColorObj.arrayVariantStyleColorImages['Main'] ) {
										btDataModel.productImage = encodeURIComponent('http://' + location.hostname + currentProductColorObj.arrayVariantStyleColorImages['Main'].strImagePath );
										//console.log('image set from Main');
									}
									else if( currentProductColorObj.arrayVariantStyleColorImages['MainThumb'] ) {
										btDataModel.productImage = encodeURIComponent('http://' + location.hostname + currentProductColorObj.arrayVariantStyleColorImages['MainThumb'].strImagePath );
									}
								}					
												
								// Product Sizes In Stock - u32 - pulling from page
								// Product Sizes Out of Stock - u33
								var allSkus = quickLook.objV.arrayVariantSkus;
								var allSize1s = quickLook.arrayAllSizeDimension1;
								var allSize2s = quickLook.arrayAllSizeDimension2;
								var currentSkuId = '';
								var currentSkuSize1 = '';
								var currentSkuSize2 = '';
								var currentSkuSizeDescription = '';
								var sizeDesc = '';
								var arrSkuSizesAll = [];
								var arrSkuSizesInStock = [];
								var arrSkuSizesOutOfStock = [];
								
								if( allSize1s.length > 0 && allSize2s.length > 0 ) {
									for( var i=0; i < allSize1s.length; i++ ) {
										for( var j=0; j < allSize2s.length; j++ ) {
											sizeDesc = '';
											sizeDesc += allSize1s[i].strName + ':' + allSize2s[j].strName;
											arrSkuSizesAll.push( sizeDesc );
										}
									}
								}
								else if( allSize1s.length > 0 ) {
									for( var i=0; i < allSize1s.length; i++ ) {
										sizeDesc = '';
										sizeDesc += allSize1s[i].strName;
										arrSkuSizesAll.push( sizeDesc );
									}
								}
								
								//console.log( 'all sizes ' + arrSkuSizesAll );
								
								jQuery.each(allSkus, function(key,valueObj){
									// If the value is an object that represents an in-stock color/size SKU of the initially loaded color
									//var currentPid = quickLook.objQuickLookTarget.strDefaultStyleColor;
									if( jQuery.type( valueObj ) == 'object' ) {
										// Restrict to initially loaded color
										if( valueObj.strSkuId.indexOf( newVariantProductId ) > -1 ) {
											currentSkuSizeDescription = '';
											currentSkuId = valueObj.strSkuId;
											currentSkuSize1 = valueObj.strSizeDim1Id;
											currentSkuSize2 = valueObj.strSizeDim2Id;
											
											if( allSize1s.length > 0 ) {
												for( var i=0; i < allSize1s.length; i++ ) {
													if( allSize1s[i].strId == currentSkuSize1 ) {
														currentSkuSizeDescription += allSize1s[i].strName;
													}			
												}
											}
											
											if( allSize2s.length > 0 ) {
												for( var j=0; j < allSize2s.length; j++ ) {
													if( allSize2s[j].strId == currentSkuSize2 ) {
														currentSkuSizeDescription += ':' + allSize2s[j].strName;
													}			
												}
											}
									
											//console.log( 'sku = ' + currentSkuId + '; size1 = ' + currentSkuSize1 + '; size2 = ' + currentSkuSize2 + '; sizeDesc = ' + currentSkuSizeDescription );
											arrSkuSizesInStock.push( currentSkuSizeDescription );
										}
									}
								});
								
								//console.log( 'sizes in stock ' + arrSkuSizesInStock );
								
								arrSkuSizesOutOfStock = jQuery.grep( arrSkuSizesAll, function( elt ) {
									return jQuery.inArray( elt, arrSkuSizesInStock ) == -1;
								});
								
								//console.log( 'sizes out of stock ' + arrSkuSizesOutOfStock );
								
								btDataModel.productSizesInStock = '';
								if( arrSkuSizesInStock.length > 0 ) {
									// Replace ' &#189' with 'half'
									for( var i=0; i < arrSkuSizesInStock.length; i++ ) {
										arrSkuSizesInStock[i] = arrSkuSizesInStock[i].replace(' &#189','half');
									}
									btDataModel.productSizesInStock = arrSkuSizesInStock.join();
									btDataModel.productSizesInStock = btDataModel.productSizesInStock.toLowerCase();
									//console.log('in stock sizes set');
								}
								btDataModel.productSizesOutOfStock = '';
								if( arrSkuSizesOutOfStock.length > 0 ) {
									// Replace ' &#189' with 'half'
									for( var j=0; j < arrSkuSizesOutOfStock.length; j++ ) {
										arrSkuSizesOutOfStock[j] = arrSkuSizesOutOfStock[j].replace(' &#189','half');
									}
									btDataModel.productSizesOutOfStock = arrSkuSizesOutOfStock.join();
									btDataModel.productSizesOutOfStock = btDataModel.productSizesOutOfStock.toLowerCase();
									//console.log('out of stock sizes set');
								}
								
								// Current selected variant on product page load - u49
								// 1: Regular, 2: Tall, 3: Petite, 8: Plus
								var currentVariantId = '1'; 
								if( quickLook.strVariantId ) {
									currentVariantId = quickLook.strVariantId.toString();
								}
								btDataModel.currentVariantId = currentVariantId;
							}
						}
					}
					
					//console.log('data dump');
					//console.log( btDataModel );
					
					// Set the iframe URL and fire
					btFrameUrl = '//s.thebrighttag.com/tag?' + 
						'site=' + btDataModel.brighttag_site_id + '&' + 
						'mode=iframe&' + 
						'qty=' + btDataModel.totalQty + '&' + 
						'tran=' + btDataModel.enteringBrandCode + '&' + 
						'u=' + btDataModel.currencyType + '&' + 
						'u1=' + btDataModel.productSkus + '&' + 
						'u2=' + btDataModel.pageType + '&' + 
						'u3=' + btDataModel.pageId + '&' + 
						'u4=' + btDataModel.apCode + '&' + 
						'u5=' + btDataModel.lastInTID + '&' + 
						'u6=' + btDataModel.itemPrices + '&' + 
						'u7=' + btDataModel.itemBrands + '&' + 
						'u9=' + btDataModel.pageName + '&' + 
						'u10=' + btDataModel.pageURL + '&' + 
						'u11=' + btDataModel.isNewCustomer + '&' + 
						'u14=' + btDataModel.isRecognizedVisitor + '&' + 
						'u19=' + btDataModel.prodQty + '&' + 
						'u20=' + btDataModel.unknownShopperID + '&' + 
						'u21=' + btDataModel.customerID + '&' + 
						'u25=' + btDataModel.preferredLocale + '&' + 
						brightTagPixelPartner.controller.getPixmanElement('u26', btDataModel.dotomiToken, '&') +
						'u27=' + btDataModel.diID + '&';
						
					if( location.pathname == '/browse/product.do' || eventName == 'QuickLook' || eventName == 'AddToQLBag' || eventName == 'LoadVariantProduct' ) {
						btFrameUrl += 'u28=' + btDataModel.productName + '&' + 
						'u29=' + btDataModel.productBrandCode + '&' + 
						'u30=' + btDataModel.productPrice + '&' + 
						'u31=' + btDataModel.productImage + '&' + 
						'u32=' + btDataModel.productSizesInStock + '&' + 
						'u33=' + btDataModel.productSizesOutOfStock + '&' + 
						'u34=' + btDataModel.productVendorName + '&' + 
						'u35=' + btDataModel.productOriginalPrice + '&';
					}
					if( ( eventName == 'AddToBag' || eventName == 'AddToQLBag' ) && btDataModel.addToBagSellPrice ) {
						btFrameUrl += 'u39=' + btDataModel.addToBagSellPrice + '&';
					}
					
					// Adding mobile vs desktop metric
					btFrameUrl += 'u44=' + btDataModel.mobileVsDesktop;
					
					model.btFrameUrl = btFrameUrl;

					controller.updateBrightTagFrame();
				}
			},
			fireNewBrightTag: function( eventName, data ) {
				
				var wcdBTRef = wcdBrightTagService;
				var model = wcdBTRef.model;
				var btDataModel = model.btDataModel;
				var controller = wcdBTRef.controller;
				var btFrameUrl = '';
				// Fire BrightTag for supported events only
				if( jQuery.inArray( eventName, model.supportedEvents ) > -1 && btDataModel != '' ) {
					if( ! model.btFrameExists ) {
						controller.createBrightTagFrame();
					}
					
					btDataModel.pageName = brightTagPixelPartner.model.pageName;
					if( btDataModel.pageName && btDataModel.pageName.indexOf( eventName ) == -1 ) {
						btDataModel.pageName += '%3A' + eventName;
					}
					
					// Update Add to Bag events to pass price of product added to bag
					if( eventName == 'AddToBag') {
						var m = data.inlineBagModelData;
						btDataModel.addToBagSellPrice = '';
						btDataModel.addToBagProductSku = '';
						btDataModel.addToBagOutfitSkus = '';

						// Product SKU added-to-bag - u51
						var skuId = m.inlineBagItems[0].sku;
						btDataModel.addToBagProductSku = skuId;

						// Product add-to-bag price - u39
						// gets the total price added to bag including multiple quantities
						var addToBagPrice = m.inlineBagItems[0].unlocalizedCurrentPrice;
						btDataModel.addToBagSellPrice = addToBagPrice;
					}
					
					// Update Add to Bag event to pass full product ID in page URL
					// Update URL if there's no CID in it
					if( gidLib.getQuerystringParam('cid') == '' && btDataModel.pageURL.indexOf('cid') == -1 && gap.pageProductData.categoryId ) {
						btDataModel.pageURL += '%26cid%3D' + gap.pageProductData.categoryId;
					}
					
					// Parse URL and replace product ID with selected
					var currentProductId = btDataModel.pageURL;
					currentProductId = currentProductId.substr( currentProductId.indexOf('pid%3D') + 6 );
					if( currentProductId.indexOf('%26') > -1 ) {
						currentProductId = currentProductId.substr( 0, currentProductId.indexOf('%26') );
					}
					var arrAddedProductURL = btDataModel.pageURL.split( currentProductId );
					var addedProductURL = '';
					if( arrAddedProductURL.length > 0 ) {
						addedProductURL = arrAddedProductURL[0] + skuId;
						if( arrAddedProductURL.length > 1 ) { addedProductURL += arrAddedProductURL[1]; }
					}
					
					btDataModel.pageURL = addedProductURL;
						
					// Need to Add Variant Id?
					// btDataModel.currentVariantId = currentVariantId;
					
					//console.log('data dump');
					//console.log( btDataModel );
					
					// Set the iframe URL and fire
					btFrameUrl = '//s.thebrighttag.com/tag?' + 
						'site=' + btDataModel.brighttag_site_id + '&' + 
						'mode=iframe&' + 
						'qty=' + btDataModel.totalQty + '&' + 
						'tran=' + btDataModel.enteringBrandCode + '&' + 
						'u=' + btDataModel.currencyType + '&' + 
						'u1=' + btDataModel.productSkus + '&' + 
						'u2=' + btDataModel.pageType + '&' + 
						'u3=' + btDataModel.pageId + '&' + 
						'u4=' + btDataModel.apCode + '&' + 
						'u5=' + btDataModel.lastInTID + '&' + 
						'u6=' + btDataModel.itemPrices + '&' + 
						'u7=' + btDataModel.itemBrands + '&' + 
						'u9=' + btDataModel.pageName + '&' + 
						'u10=' + btDataModel.pageURL + '&' + 
						'u11=' + btDataModel.isNewCustomer + '&' + 
						'u14=' + btDataModel.isRecognizedVisitor + '&' + 
						'u19=' + btDataModel.prodQty + '&' + 
						'u20=' + btDataModel.unknownShopperID + '&' + 
						'u21=' + btDataModel.customerID + '&' + 
						'u25=' + btDataModel.preferredLocale + '&' + 
						brightTagPixelPartner.controller.getPixmanElement('u26', btDataModel.dotomiToken, '&') +
						'u27=' + btDataModel.diID + '&';
						
					if( location.pathname == '/browse/product.do' ) {
						btFrameUrl += 'u28=' + btDataModel.productName + '&' + 
						'u29=' + btDataModel.productBrandCode + '&' + 
						'u30=' + btDataModel.productPrice + '&' + 
						'u31=' + btDataModel.productImage + '&' + 
						'u32=' + btDataModel.productSizesInStock + '&' + 
						'u33=' + btDataModel.productSizesOutOfStock + '&' + 
						'u34=' + btDataModel.productVendorName + '&' + 
						'u35=' + btDataModel.productOriginalPrice + '&';
					}
					if( ( eventName == 'AddToBag' ) && btDataModel.addToBagSellPrice ) {
						btFrameUrl += 'u39=' + btDataModel.addToBagSellPrice + '&';
					}
					
					// Mobile vs desktop 
					btFrameUrl += 'u44=' + btDataModel.mobileVsDesktop + '&';


					// Add-to-bag price
					if( ( eventName == 'AddToBag' ) && btDataModel.addToBagProductSku ) {
						btFrameUrl += 'u51=' + btDataModel.addToBagProductSku + '&';
					}
					
					model.btFrameUrl = btFrameUrl;

					controller.updateBrightTagFrame();
				}
			}
		}
	}
	
	jQuery(document).on('brightTagPixelPartner:dataModelLoaded', function() {
		wcdBrightTagService.init();
	});
	
	// Quicklook wrap
	if( ( location.pathname == '/browse/category.do' || location.pathname == '/browse/categorySearch.do' || location.pathname == '/browse/search.do' || location.pathname == '/browse/product.do' ) && window["quickLook"] != null ) {
		
		jQuery(document).on('quicklook:load', function() {
		//Event.observe( document, 'quicklook:load', function() {
		//quickLook.launchQuickLook = quickLook.launchQuickLook.wrap( function( originalMethod ) {
			//console.log('quicklook loaded');
			//originalMethod();
			wcdBrightTagService.controller.fireBrightTag('QuickLook');
		});
		
		quickLook.addToBag = quickLook.addToBag.wrap( function( originalMethod ) {
			if( quickLook.strSelectedQty ) {
				wcdBrightTagService.model.qtySelected = quickLook.strSelectedQty;
			}
			originalMethod();
			wcdBrightTagService.controller.fireBrightTag('AddToQLBag');
		});
	}
	
	// Find-it-now wrap
	if( location.pathname == '/browse/product.do' && window["merchLocationsManager"] != null ) {
		if( merchLocationsManager.view && merchLocationsManager.view.storeLocationsListOverlay && merchLocationsManager.view.storeLocationsListOverlay.open ) {
			merchLocationsManager.view.storeLocationsListOverlay.open = merchLocationsManager.view.storeLocationsListOverlay.open.wrap( function( originalMethod ) {
				originalMethod();
				wcdBrightTagService.controller.fireBrightTag('FindItNow');
			});
		}
	}
	
	// Reserve-in-store wrap
	if( location.pathname == '/browse/product.do' && window["reserveInStoreManager"] != null ) {
		if( reserveInStoreManager.api && reserveInStoreManager.api.open ) {
			reserveInStoreManager.api.open = reserveInStoreManager.api.open.wrap( function( originalMethod, parentContainer, triggeredBy, productImgUrl ) {
				originalMethod( parentContainer, triggeredBy, productImgUrl );
				wcdBrightTagService.controller.fireBrightTag('ReserveInStore');
			});
		}
	}
	
	// Add-to-bag wrap
	if( location.pathname == '/browse/product.do' && window["productPage"] != null ) {
		productPage.addToBag = productPage.addToBag.wrap( function( originalMethod ) {
			originalMethod();
			wcdBrightTagService.controller.fireBrightTag('AddToBag');
		});
	}

	// Add-to-bag wrap - NEW PRODUCT PAGE
	if (location.pathname == '/browse/product.do' && gap.pageProductData != null) {
		ko.postbox.subscribe('add-to-bag-success', function(data) {
			wcdBrightTagService.controller.fireNewBrightTag('AddToBag', data);
		});
	}
	
	// Load Variant wrap
	if( location.pathname == '/browse/product.do' && window["productPage"] != null ) {
		productPage.loadVariantProduct = productPage.loadVariantProduct.wrap( function( originalMethod, strProductId, strVariantId ) {
			originalMethod( strProductId, strVariantId );
			wcdBrightTagService.model.btLoadVariantCalls++;
			if( wcdBrightTagService.model.btLoadVariantCalls > 1 ) {
				wcdBrightTagService.controller.fireBrightTag('LoadVariantProduct');
			}
		});
	}
}

</script>
<script type="text/javascript">

//////////////////////////////////////////////////////////////////
// IE StyleTag to get around 31 tags consolidation script 1.0 //
// Jeff Held, Director - Web Content Development        //
//////////////////////////////////////////////////////////////////

var IEStyleTagConsolidator = function() {
  var myClientBrowserType = navigator.userAgent;
  if (myClientBrowserType.indexOf("MSIE") > 0) {
  var browserVersionString = myClientBrowserType.split("MSIE ")[1];
  var browserVersionNumber = browserVersionString.split(".")[0];
  browserVersionNumber = parseInt(browserVersionNumber);

  // do this only for IE 9 and below...
    if (browserVersionNumber < 10){
      //var styleArr = $$('body')[0].select("style");
      var styleArr = jQuery('style');

      var newStyleString = "";

      for (i=0; i< styleArr.length; i++) {
        var workingHTML = styleArr[i].innerHTML;
        newStyleString += workingHTML;
        styleArr[i].remove();
      }
      var mynewtag = "<style type='text/css'>" + newStyleString + "</style>";
      document.write(mynewtag);
    }
  }
}

IEStyleTagConsolidator();

</script>
<script type="text/javascript">

var triggermail_metricsLibrary = pixelManagementService.model.metricsLibrary;
  if (triggermail_metricsLibrary) {
	var triggermail_email_address = triggermail_metricsLibrary.common.userEmailEncrypt;;
} else {
	var triggermail_email_address = '';
}
var triggermail=triggermail||[];triggermail.load=function(a){var b=document.createElement("script");b.type="text/javascript";b.async=!0;b.src=("https:"===document.location.protocol?"https://":"http://")+"triggeredmail.appspot.com/triggermail.js/"+a+".js";a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)};triggermail.load("gapinc_ca");window.triggermail=triggermail;
	
</script>
<script type="text/javascript">
/* BLUECORE.JS FILE INSERTION FOR 3/30/16 */
if (location.pathname == "/checkout/orderConfirm.do") {
  var insertBluecorePurchasePixel = function() {
    var metricsLibrary = pixelManagementService.model.metricsLibrary;
    if (metricsLibrary) {
    	var bcIdCookie = gidLib.getCookie("customerId");
      if (bcIdCookie !== 0) {
        var bcId = bcIdCookie.replace(/[|]/g, '');
      } else {
        var bcId = "";
      }
      var bcTotal = metricsLibrary.order.orderTotal;
      var bcOrderId = metricsLibrary.order.orderId;
      var bcProducts = [];
      // Set order metrics
			// Quantity fix
			var orderProductList = ( metricsLibrary.order.productList ) ? metricsLibrary.order.productList : [];
			if (typeof(orderProductList != "undefined") && Object.isArray(orderProductList) && orderProductList.length != 0 && orderProductList[0].productBusinessId != "") {
				
				jQuery.each( orderProductList, function( idx, prod ) {
					bcProducts.push(prod.productBusinessId);
				});
			}
      var bluecorePixel = "<img id=\"bluecore_purchase_pixel\" height=\"1\" width=\"1\" style=\"border-style:none;\" alt=\"\" src=\"https://www.bluecore.com/api/track/purchase_pixel?token=gapinc_ca&ci=ci_" + bcId + "&total=" + bcTotal + "&order_id=" + bcOrderId + "&product_ids=" + bcProducts + "\" />";
    	jQuery('body').append(bluecorePixel);
    } 
  }
  jQuery(document).ready(function(){
  	insertBluecorePurchasePixel();
  });
}
</script>


</div>
<!-- END Content Item File: /content/0010/409/691/cn10409691.html -->

<!-- END - WCD Sitewide Container 20 -->

</div>





</body></html>