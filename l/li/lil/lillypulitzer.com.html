<!--The following is the downloaded HTML source of the lillypulitzer.com privacy policy that was archived on 2015-06-07.
 Please check the original snapshot on the Wayback Machine (https://web.archive.org/web/20150607233021id_/http%3A//www.lillypulitzer.com/custserv/custserv.jsp%3FpageName%3DPrivacy) for the most accurate reproduction.-->

<!DOCTYPE html><html xmlns:og="http://opengraphprotocol.org/schema/" xmlns:fb="http://www.facebook.com/2008/fbml" style="" class=" js flexbox canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths js-ready"><head>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- Begin Monetate tag v6. Place at start of document head. DO NOT ALTER. -->
		<script src="https://dnn506yrbagrg.cloudfront.net/pages/scripts/0026/7880.js?439022" async="" type="text/javascript"></script><script type="text/javascript" async="" src="https://tr-1.agilone.com/tr-as.js"></script><script async="" src="//www.google-analytics.com/analytics.js"></script><script type="text/javascript" async="" src="https://sb.monetate.net/js/1/a-671d4a03/p/lillypulitzer.com/439023/g"></script><script type="text/javascript">
            var monetateT = new Date().getTime();
			var topNavMaxElementsPerColumn = 9;
			var topNavMaxElementsShopPrints = 9;
            (function() {
                var p = document.location.protocol;
                if (p == "http:" || p == "https:") {
                    var m = document.createElement('script'); m.type = 'text/javascript'; m.async = true; m.src = (p == "https:" ? "https://s" : "http://") + "b.monetate.net/js/1/a-671d4a03/p/lillypulitzer.com/" + Math.floor((monetateT + 1972739) / 3600000) + "/g";
                    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(m, s);
                }
            })();
			var isGAUniversal = true;
			var isGAEnabled = true</script>
		<!-- End Monetate tag. -->
		
		<title>Privacy and Security - Lilly Pulitzer</title>
    
        <link rel="SHORTCUT ICON" href="http://www.lillypulitzer.com/assets/images/text/english/favicon.ico" type="image/x-icon">

        <script src="/js/plugins/min/jquery-1.8.2.min.js" language="JavaScript" type="text/javascript"></script><script type="text/javascript">
			<!--
			$.curCSS = $.css;
			//-->
		</script>

        <!--[if lt IE 7.]>
	        <style>
				.widget-ie6png,.ie6png { behavior: url(/css/iepngfix.htc); }
			</style>
		<![endif]-->

		<!--[if lt IE 8]>
			<style>
				.buttonTertiary { border:#F8C5DB solid 1px !important; }
			</style>
		<![endif]-->
		
		<script src="/js/ocpsdk/base.js" language="JavaScript" type="text/javascript"></script><script language="javascript" type="text/javascript" src="http://sugartown.scene7.com/s7viewers/html5/js/BasicZoomViewer.js"></script>

		<script src="/js/ocpsdk/jquery/ext/jquery.widget.jsp" language="JavaScript" type="text/javascript"></script><style type="text/css">p.elementData { display: none; }</style><style type="text/css">p.widgetState { display: none; } #jsExceptions { text-align: left; margin-left: 10px; margin-right: 10px; } div.jsExceptionMsg { border: 2px solid red; margin-bottom: 10px; padding: 5px; }</style><script src="/js/jquery-cart.js" language="JavaScript" type="text/javascript"></script><script src="/js/modernizr-2.6.2.min.js" language="JavaScript" type="text/javascript"></script><script src="/js/common.js" language="JavaScript" type="text/javascript"></script><script src="/js/ajaxPackager.js" language="JavaScript" type="text/javascript"></script><script src="/js/persistent_cart.jsp" language="JavaScript" type="text/javascript"></script><script src="/js/jquery.zooma.js" language="JavaScript" type="text/javascript"></script><script src="/js/jquery.jmpopups-0.5.1.js" language="JavaScript" type="text/javascript"></script><script src="/js/product_ensemble.jsp" language="JavaScript" type="text/javascript"></script><script type="text/javascript" src="//static.criteo.net/js/ld/ld.js" async="true"></script>
		<link rel="stylesheet" type="text/css" href="/css/ocpsdk/motif_styles.jsp?gkey=renderedMotifcustserv1&amp;motifName=lillypulitzerMotif&amp;source=filesystem&amp;hash=7467436148350348234">
<link href="/css/base.jsp" rel="stylesheet" type="text/css"><link href="/css/includes/overrides.jsp" rel="stylesheet" type="text/css"><link href="/css/persistent-cart-styles.jsp" rel="stylesheet" type="text/css"><link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
		 <link href="/css/common-styles-print.jsp" rel="stylesheet" type="text/css" media="print"><link href="/css/client-styles.jsp" rel="stylesheet" type="text/css"><meta name="keywords" content="Privacy and Security">
		<meta name="description" content="Privacy and Security">
		<meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=yes">
        
<script type="text/javascript">


if (typeof PagingWidget == "undefined") {

	/**
	 * @class Renders paging controls allowing direct access to any page within a result set as well as
	 *        'next' and 'previous' controls.  The pages will all be listed in sequence preceeded and followed
	 * 		by 'next' and 'previous' links.  The links can be overridden as text or images using Motifs styles for
	 *       the 'next' and 'previous' css classes and the resource attributes 'paging.previous' and 'paging.next'
	 * @author Michael Maley(mmaley@fry.com)
	 */
	var PagingWidget = BaseWidget.extend({

		create: function(selector, settings) {
			var jQ = this.base(selector, settings);
			if (jQ.widgetState().enabled != undefined && !jQ.widgetState().enabled) {
				this.hide(selector);
			};
			if (jQ.widgetState().triggerPageChanged) {
				this.calculateValues(jQ, 0, settings.totalItems);
				this.assignEvents(selector);
			}
			return jQ;
		},

	/**
	 * Hides the Paging controls (using jQuery's 'hide' method)
	 *
	 * @param selector {String} A jQuery selector for the widget root
	 */
		hide: function(selector) {
			$(selector).hide();
		},

	/**
	 * Shows the Paging controls (using jQuery's 'show' method)
	 *
	 * @param selector {String} A jQuery selector for the widget root
	 */
		show: function(selector) {
			$(selector).show();
		},

	/**
	 * Returns the class name of the widget
	 * @type String
	 */
		getWidgetClassName: function() {
			return "PagingWidget";
		},

	/**
	 * Sets the 'current-page' css class on the page number provided and recalculates the 'next' and 'previous'
	 * links.
	 * @param selector {String} A jQuery selector for the widget root
	 * @param event {Event} The event object
	 * @param pageNumber {Integer} The page number you want to set as the current page
	 */
		setPage: function(selector, event, pageNumber) {
			updatePagingLinks(selector, pageNumber, $(selector).widgetState("totalPages"));
		},


	/**
	 * Sets the number of elements to include per page in the paging control.
	 *
	 * @param selector {String} A jQuery selector for the widget root
	 * @param event {Event} The event object
	 * @param pageSize {Number} The number of items per page for this paging control.
	 */
		setPageSize: function(selector, event, pageSize) {
			$(selector).widgetState("pageSize", pageSize);
		},

	/**
	 * Specify the index of the an item in the collection to use to determine the current-page.  Recalculates
	 * the entire paging control to activate the page that contains the specified index.
	 *
	 * @param selector {String} A jQuery selector for the widget root
	 * @param event {Event} The event object
	 * @param index {Number} The index of the item to use to determine the page to mark as the 'current-page'
	 * @param pageSize {Number} The number of items to render per page
	 * @param totalItems {Number} The total number of items being paged over
	 */
		setIndex: function(selector, event, index, pageSize, totalItems) {
			var s = $(selector).widgetState();
			if (pageSize) s.pageSize = pageSize;
			if (totalItems) s.totalItems = totalItems;
			if (!s.defaultTotalItems) s.defaultTotalItems = totalItems;
			this.calculateValues(selector, index, s.totalItems);
			this.updatePageNumbers(selector);
			this.assignEvents(selector);
			this.selectPage(selector, s.currentPage);
		},

	/**
	 * Internal helper method to assign click events when the controls is rendered/re-rendered.  Only necessary
	 * when the next and previous controls have been re-added to the DOM after a change in the total number of
	 * items/pages in the paged set.
	 *
	 * @param selector {String} A jQuery selector for the widget root
	 * @private
	 */
	 
		assignEvents: function(selector) {
			var jQ = $(selector);
			var self = this;
			var s = jQ.widgetState();

		
			$(".previous", jQ).click(function(event) {
				self.onPageChanged(selector, s.previousIndex);
			});

		
			jQ.find(".page-number").click(function(event) {
				$(".current-page", jQ).removeClass("current-page");
				$(this).addClass("current-page");
				var pIdx = parseInt($(this).text()) - 1;
				var startIndex = pIdx * s.pageSize;
				self.onPageChanged(selector, startIndex);
			});

		
			$(".next", jQ).click(function(event) {
				self.onPageChanged(selector, s.nextIndex);
			});

			$(".viewall", jQ).click(function(event) {
				s.pageSize = s.totalItems;
				s.totalPages = 1;
				s.currentPage = 1;
				s.mode = "all";
				self.updatePageNumbers(selector);
				self.onPageChanged(selector, 0);
				self.assignEvents(selector);
				$(this).css("display", "none");
				$(".viewbypage", jQ).css("display", "block");
				EventTracker.track("AllItems");
			});

			$(".viewbypage", jQ).click(function(event) {
				s.pageSize = s.defaultPageSize;
				s.mode = "page";
				self.calculateValues(selector, 0, s.totalItems);
				self.updatePageNumbers(selector);
				self.onPageChanged(selector, 0);
				self.assignEvents(selector);
				$(this).css("display", "none");
				$(".viewall", jQ).css("display", "block");
				EventTracker.track("ByPage");
			});
		},


	/**
	 * Recalculates the number of pages, the current page, the next and previous indexes, and then updates the
	 * html
	 *
	 */
		onPageChanged: function(selector, pageStartIndex) {
			var jQ = $(selector);
			var s = jQ.widgetState();
			var self = this;
			/**/
			s.nextIndex = Number(pageStartIndex) + s.pageSize;
			s.previousIndex = Number(pageStartIndex) - s.pageSize;
			s.currentIndex = Number(pageStartIndex);
			var currentPage = Math.floor((pageStartIndex + s.pageSize) / s.pageSize);
			self.calculateValues(selector, s.currentIndex, s.totalItems);
			self.selectPage(selector, currentPage);

			EventTracker.track("ToPage", "Page: " + currentPage);

			/**/
			if (s.triggerPageChanged) {
				if (!s.restoringState) {
					PersistentStorage.savePersistent({"browse": {"currentindex": s.currentIndex, "totalitems": s.totalItems, "pagesize" : s.pageSize, "mode" : s.mode}});
				} else {
					s.restoringState = false;
				}
				jQ.widgetTrigger("pagechanged", [pageStartIndex, s.pageSize, s.totalItems]);
			}
		},


	/**
	 *	Function to redraw the paging numbers and labels when the list of entities has changed and
	 *	thrown the 'entities loaded' event.  Should always load from the start of the list (index 0)
	 */

		drawPagingWidget: function(selector, event, totalCount, activeCount) {
			var jQ = $(selector);
			var self = this;
			var s = jQ.widgetState();
			/**/
			this.show(selector);
			if (totalCount != s.totalItems) {
				s.currentIndex = 0;
				if (!s.defaultTotalItems) s.defaultTotalItems = totalCount;
				s.totalItems = totalCount;
				self.calculateValues(selector, s.currentIndex, totalCount);
				self.updatePageNumbers(selector);
				self.selectPage(jQ, s.currentPage);
				self.assignEvents(jQ);
			}
		},

	/**
	 * Calculate the following values for the paging widget based on the widget's page size:
	 * Total Number of Pages, Current Page, Next and Previous indexes
	 *
	 * @param selector {String} A jQuery selector for the widget root
	 * @param currentIndex {Integer} The current index into the paged set
	 * @param totalCount {Integer} The total number of items included in the paged set
	 */
		calculateValues: function(selector, currentIndex, totalCount) {
			var s = $(selector).widgetState();
			s.totalItems = totalCount;
			s.totalPages = Math.floor((totalCount + s.pageSize - 1) / s.pageSize);
			s.currentIndex = currentIndex;
			s.currentPage = Math.floor((currentIndex + s.pageSize) / s.pageSize);
			if (currentIndex > s.pageSize) {
				s.previousIndex = Number(currentIndex) - s.pageSize;
			}
			if (currentIndex < (totalCount - s.pageSize)) {
				s.nextIndex = currentIndex + s.pageSize;
			}
		},


	/**
	 * Updates the HTML styles to show/hide next and previous links as appropriate and
	 * applies the 'current-page' style to the specified current page.
	 *
	 * @param selector {String} A jQuery selector for the widget root
	 *@param currentPage {Integer} The page number to select/highlight
	 *@param totalPages {Integer} The total number of pages
	 *
	 */

		selectPage: function(selector, currentPage) {
			var jQ = $(selector);
			var s = jQ.widgetState();
			if (currentPage > s.totalPages) {
				currentPage = s.totalPages;
			}
			if (currentPage == s.totalPages) {
				jQ.find(".next").css("display", "none");
			} else {
				jQ.find(".next").css("display", "block");
			}

			jQ.find(".current-page").removeClass("current-page");
			$(jQ.find(".page-number").get(currentPage - 1)).addClass("current-page");
			if (currentPage <= 1) {
				jQ.find(".previous").css("display", "none");
			} else {
				jQ.find(".previous").css("display", "block");
			}

         var endIndex = s.currentIndex + s.pageSize > s.totalItems ? s.totalItems : s.currentIndex + s.pageSize;
			if (s.currentIndex + 1 == endIndex) {
				jQ.find(".viewall .xofy").html((s.currentIndex + 1) + ' of ' + s.totalItems);
			} else {
				jQ.find(".viewall .xofy").html((s.currentIndex + 1) + ' - ' + (endIndex) + ' of ' + s.totalItems);
			}
		},

	/**
	 * Updates the html/div representation of the pages that are available for the settings defined for
	 * this widget.  This includes the next and previous labels and links.  Any logic for number ranges
	 * and/or collapsing should occur here.
	 * @param selector {String} A jQuery selector for the widget root
	 * @private
	 */
		updatePageNumbers: function(selector) {
			var jQ = $(selector);
			var self = this;
			var s = jQ.widgetState();

         var pgs = jQ.html("");
			if (s.viewModeBeforePages) {
				this.generateViewModeDiv(selector);
			}
			
			pgs.append('<div class="page-numbers"></div>').children(".page-numbers");
			pgs.append('<div class="previous"><span class="text">' + s.paging_previous + '</span></div>');
			if (s.totalPages > 1 || s.showSinglePage) {
				for (i = 1; i <= s.totalPages; i++) {
					var startIndex = (i - 1) * s.pageSize;
					if (i == s.currentPage) {
						pgs.append('<div class="page-number current-page">' + i + '</div>');
					} else {
						pgs.append('<div class="page-number">' + i + '</div>');
					}
				}
			}
			pgs.append('<div class="next"><span class="text">' + s.paging_next + '</span></div>');
			if (s.currentPage <= 1) {
				jQ.find(".previous").css("display", "none");
			}
			if (s.currentPage >= s.totalPages) {
				jQ.find(".next").css("display", "none");
			}

			if (!s.viewModeBeforePages) {
				this.generateViewModeDiv(selector);
			}
		},

		generateViewModeDiv: function(selector) {
			var jQ = $(selector);
			var s = jQ.widgetState();
			
			var vm = jQ.append('<div class="viewmode"></div>').children(".viewmode");
			var endIndex = s.currentIndex + s.pageSize > s.totalItems ? s.totalItems : s.currentIndex + s.pageSize;
			var xofy = null;
			if (s.currentIndex + 1 == endIndex) {
				xofy = s.showXofYLabel ? '<span class="xofy">' + (s.currentIndex + 1) + ' of ' + s.totalItems + '</span>' : '';
			}else {
				xofy = s.showXofYLabel ? '<span class="xofy">' + (s.currentIndex + 1) + ' - ' + endIndex  + ' of ' + s.totalItems + '</span>' : '';
			}
			if (s.totalPages > 1) {
				vm.append('<div class="viewall">' + xofy + '<span class="text">' + s.paging_view_all + '</span></div>');
			} else {
				vm.append('<div class="viewall" style="display:none">' + xofy + '<span class="text">' + s.paging_view_all + '</span></div>');
			}
			$(".itemcount", vm).html(s.totalItems);
			if (s.totalItems == s.pageSize) {
				vm.append('<div class="viewbypage"><span class="text">' + s.paging_view_by_page + '</span></div>');
			} else {
				vm.append('<div class="viewbypage" style="display:none"><span class="text">' + s.paging_view_by_page + '</span></div>');
			}
		},



	/**
	 * Restores the display and state of the widget based on the state object provided.
	 *
	 * @param state {Object} A widget state object containing the 'paging' with the required information to restore the PagingWidget
	 * @param selector {String}  A jQuery selector for the widget root
	 */
		restoreState: function(state, selector) {
			var browse = state["browse"];
			var jQ = $(selector);
			var s = jQ.widgetState();
			if (s.triggerPageChanged) {
				if (browse && browse.currentindex) {
					if (browse.currentindex != s.currentIndex) {
						s.restoringState = true;
						s.totalItems = browse.totalitems;
						s.pageSize = browse.pagesize;
						s.mode = browse.mode;
						s.currentIndex = browse.currentindex;
						s.currentPage = Math.floor((s.currentIndex + s.pageSize) / s.pageSize);
						this.calculateValues(selector, s.currentIndex, s.totalItems);
						this.updatePageNumbers(selector);
						this.selectPage(jQ, s.currentPage);
						this.assignEvents(selector);
					}
				} else {
				
					s.restoringState = true;
					s.totalItems = s.defaultTotalItems;
					s.pageSize = s.defaultPageSize;
					s.currentPage = 1;
					s.mode = "page";
					this.calculateValues(selector, 0, s.totalItems);
					this.updatePageNumbers(selector);
					this.selectPage(jQ, s.currentPage);
					this.assignEvents(selector);
					$(".viewall", jQ).css("display", "block");
					$(".viewbypage", jQ).css("display", "none");

				}
			}
		}

	});
}
;
                                                
	if (typeof CollapsingPagingWidget == "undefined") {
	/**
	 * @class An extension of the PagingWidget control that renders a listing of pages within a collapsing structure
	          that allows the paging control to consume a fixed amount of space.  The page listing consists of 5
	          sections, 3 are clickable, and 2 are ellipsiss representing a collapsed range of numbers.  In general,
	          the paging control renders the following areas:

                A            B                C
                     D                   E
					1 2 3 ... 7 8 9 10 11 12 13 ... 18 19 20

				 where the sections marked A and C are the beginning and end of the paging list.  B represents the 'active'
				 portion of the user's paging activity, with the middle number (10 in the above example) being the currently
				 selected page.  D and E represent the page numbers that have been collapsed to save screen space.
				 Each ellipsis represents at least one page.  The B section of the paging control 'slides' to the left and
				 right as the user clicks Next and Previous or clicks on a page number.  'Next' would show the next page
				 in sequence (in this example, 14) and consume '7' from the center list of pages.  'Previous' would
				 show the next lowest page number below the current active set (in this example, 6) and consume the
				 number 13 in the ellipsis.

				 As users initialize the paging control or navigate towards the beginning or end of the page list, the
				 ellipsiss are removed since the active and anchor sections overlap.  The two boundry examples for this
				 example would be:

				 1 2 3 4 5 6 7 ... 18 19 20
				 1 2 3 ... 14 15 16 17 18 19 20

				 The number page pages shows (in the above example, 7 pages) is dictated by the size of the 'active buffer',
				 which is provided to the widget as activeBuffer.  The active page will be surrounded by +/- activeBuffer
				 pages.  In the above example, the active buffer is 3 which causes at least 7 (3 + active page + 3) pages
				 to always be shown.  The number of pages shown in the anchors on the left and right side of the
				 paging list are dicted by the value specified in the inactiveBuffer parameter of the widget.  This is the
				 number of pages that will always be shown on the left and right sides of the control.

				 When the active portion of the paging list is 'next to' an anchor, you can get a long display of numbers.
				 This is the 'worst case scenario' for the size of the paging control.  In this example, when the user
				 selects page 7 or page 15, 10 page numbers 10 will be shown in sequence:

				   A         B         E     C
				 1 2 3 4 5 6 7 8 9 10 ... 18 19 20
				   A    D           B            C
				 1 2 3 ... 12 13 14 15 16 17 18 19 20

				 This behavior leads the largest size possible that the paging control can consume.  This size can be
				 determined by the following equation:

				 inactiveBuffer + 2 x activeBuffer + 1 active page + 1 ellipsis + inactiveBuffer = total active pages shown

				 So, in the above example, we'd have

				 3 + 2 x 3 + 1 + 1 + 3 = 14

				  


	 Renders paging controls allowing direct access to any page within a result set as well as
	 *        'next' and 'previous' controls.  The pages will all be listed in sequence preceeded and followed
	 * 		by 'next' and 'previous' links.  The links can be overridden as text or images using Motifs styles for
	 *       the 'next' and 'previous' css classes and the resource attributes 'paging.previous' and 'paging.next'
	 * @author Michael Maley(mmaley@fry.com)
	 * @author $Author: jsyed $
	 * @version $Revision: 1.1 $
	 */
		var CollapsingPagingWidget = PagingWidget.extend({

			create: function(selector, settings) {
				var jQ = this.base(selector, settings);
				var s = jQ.widgetState();
				if (jQ.widgetState().triggerPageChanged) {
					this.calculateValues(jQ, settings.currentIndex, settings.totalItems);
					this.updatePageNumbers(selector);
					this.assignEvents(jQ);
				}
				return jQ;
			},
		
			

			getWidgetClassName: function() {
				return "CollapsingPagingWidget";
			},

		/**
		 * Updates the html/div representation of the pages that are available for the settings defined for
		 * this widget.  This includes the next and previous labels and links.  Any logic for number ranges
		 * and/or collapsing should occur here.
		 * @param selector {String} A jQuery selector for the widget root
		 * @private
		 */
			updatePageNumbers: function(selector) {
				var jQ = $(selector);
				var self = this;
				var s = jQ.widgetState();

				var inactiveBuffer = s.inactiveBuffer;
				var activeBuffer = s.activeBuffer;
				var minPages = (2 * activeBuffer) + 1 + (2 * inactiveBuffer);

				if (s.totalPages <= minPages) {
					// Use default paging behavior
					this.base(selector);


				} else {
					var startEllipsis = false;
					var endEllipsis = false;
					if ((s.currentPage + activeBuffer) < (s.totalPages - (inactiveBuffer))) {
						endEllipsis = true;
					}
					if ((s.currentPage - (activeBuffer + 1)) > inactiveBuffer) {
						startEllipsis = true;
					}
					jQ.html("");
					if (s.viewModeBeforePages) {
						this.generateViewModeDiv(selector);
					}

					var pgs = jQ.append('<div class="page-numbers">').children(".page-numbers");
					if (s.currentPage > 1) {
						pgs.append('<div class="previous"><span class="text">' + s.paging_previous + '</span></div>');
					}
					

					for (var i = 1; i <= s.totalPages; i++) {
						
						if ((i <= inactiveBuffer) || (i > inactiveBuffer && (s.currentPage <= inactiveBuffer+1) && (i <= (activeBuffer * 2 + 1)))) {
							self.printPage(pgs, i);
						
						} else if ((i > (s.totalPages - inactiveBuffer)) || (i <= (s.totalPages - inactiveBuffer) && (s.currentPage >= s.totalPages - inactiveBuffer) && (i > (s.totalPages - (activeBuffer * 2 + 1))))) {
						   self.printPage(pgs, i);
						
						} else if (i > inactiveBuffer && i < (s.currentPage - activeBuffer)) {
							if (startEllipsis) {
								
								pgs.append('<div class="page-number ellipsis start">&hellip;</div>');
								startEllipsis = false;
							}

						
						} else if (i >= (s.currentPage - activeBuffer) && i <= (s.currentPage + activeBuffer)) {
                  	self.printPage(pgs, i);
						
						} else if (i > (s.currentPage + activeBuffer) && (i <= (s.totalPages - inactiveBuffer))) {
							if (endEllipsis) {
								// print ellipsis
								pgs.append('<div class="page-number ellipsis end">&hellip;</div>');
								endEllipsis = false;
							}
						} else {
							// console.error("Failed to match " + i );
						}
					}
				if (s.currentPage < s.totalPages) {
					pgs.append('<div class="next"><span class="text">' + s.paging_next + '</span></div>');
				}

				if (!s.viewModeBeforePages) {
					this.generateViewModeDiv(selector);
				}


			}

		},

		onPageChanged: function(selector, pageStartIndex) {
			var jQ = $(selector);
			var s = jQ.widgetState();
			/**/
			s.nextIndex = pageStartIndex + s.pageSize;
			s.previousIndex = pageStartIndex - s.pageSize;
			s.currentIndex = pageStartIndex;
			var currentPage = Math.floor((pageStartIndex + s.pageSize) / s.pageSize);
			s.currentPage = currentPage;
			this.calculateValues(selector, s.currentIndex, s.totalItems);
			this.updatePageNumbers(selector);
			// this.selectPage(selector, currentPage);
			this.assignEvents($(selector));
			EventTracker.track("ToPage", "Page: " + currentPage);

			/**/
			if (!s.restoringState) {
				PersistentStorage.savePersistent({"browse": {"currentindex": s.currentIndex, "totalitems": s.totalItems, "pagesize" : s.pageSize, "mode" : s.mode}});
			} else {
				s.restoringState = false;
			}
			jQ.widgetTrigger("pagechanged", [pageStartIndex, s.pageSize, s.totalItems]);
		},


		printPage: function(jQ, p) {
			if (p == jQ.widgetState().currentPage) {
				jQ.append('<div class="page-number current-page">' + p + '</div>');
			} else {
				jQ.append('<div class="page-number">' + p + '</div>');
			}
		}
	});
}
;

		$(document).ready(function() {
			QuickLookWidget.init();
		});

		if (typeof QuickLookWidget == "undefined") {
			var QuickLookWidget = Base.extend({

				constructor: null,

				init: function() {
					this.assignEvents();
				},

				assignEvents: function(scope) {
					var self = this;
				  
					$(".Quicklook", scope).hover(
							  function() {
								  $(this).addClass("mouseover");
								 // $(".quicklook-button", this).show();
							  },
							  function() {
								  $(this).removeClass("mouseover");
								  //$(".quicklook-button", this).hide();
							  }
							  );
					/* $(".quicklook-button", scope).hover(
							  function() {
								  $(this).addClass("mouseover");
							  },
							  function() {
								  $(this).removeClass("mouseover").removeClass("clicked");
							  }
							  );
					$(".quicklook-button", scope).mousedown(
							  function() {
								  $(this).addClass("clicked");
								  });

					$(".quicklook-button", scope).click(
							  function() {
								  var pos = $(this).parent(".Quicklook").offset();
								  var x = pos.left + ($(this).parent(".Quicklook").width() / 2);
								  var y = pos.top + ($(this).parent(".Quicklook").height() / 2);
								  self.onQuickLookSelected($(this).widget(), x, y);
							  }); */
				},

				getWidgetClassName: function() {
					return "QuickLookWidget";
				},

				onQuickLookSelected: function(selector, x, y) {
					var jQ = $(selector);
					var data = jQ.elementData();
					jQ.widgetTrigger("quicklookselected", [data, x, y]);
				}

			});
		}
	
		if (typeof BreadcrumbWidget == "undefined") {
			var BreadcrumbWidget = Base.extend({
				constructor: null,

				create: function(selector, settings) {
					$(selector).widgetState(settings).widgetClass(BreadcrumbWidget);
					
					PersistentStorage.register(BreadcrumbWidget, selector);
				},

				addBreadcrumb: function(selector, name, index) {
					var jQ = $(selector);
					var ti = $(".crumb", jQ).length;
					if (index <= (ti - 1)) {
						var j = index - 1;
						// replace
						$(".crumb:gt(" + j + ")", jQ).add($(".delim:gt(" + (j - 1) + ")", jQ)).remove();
						jQ.append('<div class="delim"><!-- --></div>').append('<div class="crumb last">' + name + '</div');
					} else {
						// append - Should handle the 'organic' growth model...
						$(".last", jQ).removeClass("last");
						jQ.append('<div class="delim"><!-- --></div>').append('<div class="crumb last">' + name + '</div');
					}
					var li = $(".crumb", jQ).index($(".crumb.last")[0]);
					var state = PersistentStorage.loadPersistent();
					$(".crumb.last", jQ).click(function(event) {
						PersistentStorage.executeState(state);
						var i = $(".crumb", jQ).index(this);
						$(".crumb:gt(" + i + ")", jQ).add($(".delim:gt(" + (i - 1) + ")", jQ)).remove();
					});
				},

				removeBreadcrumbs: function(selector, index) {
					var jQ = $(selector);
				},

			/**
			 * Public method which external widgets can invoke (normally via an event bind)
			 * which will refresh the state of this widget to show the sub categories for
			 * the given parent category.
			 *
			 * @param selector {String} The selector name of the element in the DOM
			 * @param event {Event} The event object
			 * @param parentCategoryId {Number} The parent category Id
			 */
				loadBreadcrumbs: function(selector, event, categoryId) {
					var jQ = $(selector);
					var s = jQ.widgetState();
					var self = this;

					jQ.widgetLoad("com.fry.ocpsdk.widget.catalog.navigation.BreadcrumbWidget",
					{
						categoryId: categoryId
					},
							  function() {
							  }
							  );
				},
				
				restoreState: function(state, selector) {
					var catId = state["categoryId"];
					var subcatId = state["subcategoryId"];
					if (subcatId) {
						this.loadBreadcrumbs(selector, null, subcatId);
					} else if (catId) {
						this.loadBreadcrumbs(selector, null, catId);
					}
				},

				getWidgetClassName: function() {
					return "BreadcrumbWidget";
				}
			});
		}
	
	function sort(theObj) {
		
		var sortUrl = window.location.search;
		sortUrl = removeParamValue(sortUrl,"sortByColumnName");
		sortUrl = removeParamValue(sortUrl,"toolId");
		
		if(getUrlVar("currentIndex") != null) {
			sortUrl = removeParamValue(sortUrl,"currentIndex");
			sortUrl += "&currentIndex=0";	
		}

		if(getUrlVar("sortByColumnName") != null) {
			sortUrl = removeParamValue(sortUrl,"sortByColumnName");
			sortUrl += "&sortByColumnName="+theObj.options[theObj.selectedIndex].value;	
		}
		else{
			if (sortUrl.indexOf('?')>-1)
				sortUrl += "&sortByColumnName=" + theObj.options[theObj.selectedIndex].value;
			else
				sortUrl += "?sortByColumnName=" + theObj.options[theObj.selectedIndex].value;
		
		}
		
		
		if(sortUrl.indexOf("?") == -1)
			sortUrl = "?" + sortUrl;
		
		var tool = $("#toolId");
		if (tool.length > 0){
			if (sortUrl.indexOf('?') == -1)
				sortUrl += "?toolId=" + tool[0].value;
			else
				sortUrl += "&toolId=" + tool[0].value;	
		}
		window.location.search = sortUrl;				
	}

	function removeParamValue(url, param) {
		var params = url.split('&');
		var newUrl = '';
		for(var i=0;i<params.length;i++)
			if(params[i].indexOf(param) == -1 && params[i] != '') {
				if(params[i].indexOf('?') >=0)
					newUrl += params[i];
				else
					newUrl += '&' + params[i];
			}
		return newUrl;
	}

	$(document).ready(function() {
			$("#sortItemOptions option[value='']").attr("selected", "true");
			var selectedOption = "&nbsp;&#58;&nbsp;" + $("#sortItemOptions option:selected").text();
			var selectedSortOption =  $("#sortItemOptions option:selected").text();
			$("#sortOptionDisplay").html(selectedOption);
		}
	);

	function refineCategory(categoryId,categoryName) {
		
		var refineByCategoryUrl = window.location.search;
		refineByCategoryUrl = removeParamValue(refineByCategoryUrl,"refineByCategoryId");
		refineByCategoryUrl = removeParamValue(refineByCategoryUrl, "toolId");
		refineByCategoryUrl = removeParamValue(refineByCategoryUrl, "more");
		
		if(getUrlVar("currentIndex") != null) {
			refineByCategoryUrl = removeParamValue(refineByCategoryUrl,"currentIndex");
			refineByCategoryUrl += "&currentIndex=0";	
		}
		refineByCategoryUrl += "&refineByCategoryId=" + categoryId;
		if(refineByCategoryUrl.indexOf("?") == -1)
			refineByCategoryUrl = "?" + refineByCategoryUrl;
		
		if (refineByCategoryUrl.indexOf('?')==-1)
			refineByCategoryUrl += "?toolId=refine";
		else
			refineByCategoryUrl += "&toolId=refine";
		
		s.prop13="Category:"+categoryName;
		
		s.linkTrackVars='events,products,pageName,server,channel,prop3,prop4,prop13';
		s.tl(this,'o','Serach Result');
		
		window.location.search = refineByCategoryUrl;				
	}

	function removeParamValue(url, param) {
		var params = url.split('&');
		var newUrl = '';
		for(var i=0;i<params.length;i++)
			if(params[i].indexOf(param) == -1 && params[i] != '') {
				if(params[i].indexOf('?') >=0)
					newUrl += params[i];
				else
					newUrl += '&' + params[i];
			}
		return newUrl;
	}
	
	function viewMore() {
		var refineByCategoryUrl = window.location.search;
		var paramSep = (refineByCategoryUrl.indexOf("?") > 0) ? "&" : "?";
		refineByCategoryUrl += paramSep + "more=y";
		window.location.search = refineByCategoryUrl;
	}
	
	function clearCategory() {
		var refineByCategoryUrl = window.location.search;
		refineByCategoryUrl = removeParamValue(refineByCategoryUrl,"refineByCategoryId");
		refineByCategoryUrl = removeParamValue(refineByCategoryUrl,"toolId");
		window.location.search = refineByCategoryUrl;
	}

/*!
 * jQuery UI 1.8.8
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(c,j){function k(a){return!c(a).parents().andSelf().filter(function(){return c.curCSS(this,"visibility")==="hidden"||c.expr.filters.hidden(this)}).length}c.ui=c.ui||{};if(!c.ui.version){c.extend(c.ui,{version:"1.8.8",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,
NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});c.fn.extend({_focus:c.fn.focus,focus:function(a,b){return typeof a==="number"?this.each(function(){var d=this;setTimeout(function(){c(d).focus();b&&b.call(d)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;a=c.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(c.curCSS(this,
"position",1))&&/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?c(document):a},zIndex:function(a){if(a!==j)return this.css("zIndex",a);if(this.length){a=c(this[0]);for(var b;a.length&&a[0]!==document;){b=a.css("position");
if(b==="absolute"||b==="relative"||b==="fixed"){b=parseInt(a.css("zIndex"),10);if(!isNaN(b)&&b!==0)return b}a=a.parent()}}return 0},disableSelection:function(){return this.bind((c.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});c.each(["Width","Height"],function(a,b){function d(f,g,l,m){c.each(e,function(){g-=parseFloat(c.curCSS(f,"padding"+this,true))||0;if(l)g-=parseFloat(c.curCSS(f,
"border"+this+"Width",true))||0;if(m)g-=parseFloat(c.curCSS(f,"margin"+this,true))||0});return g}var e=b==="Width"?["Left","Right"]:["Top","Bottom"],h=b.toLowerCase(),i={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};c.fn["inner"+b]=function(f){if(f===j)return i["inner"+b].call(this);return this.each(function(){c(this).css(h,d(this,f)+"px")})};c.fn["outer"+b]=function(f,g){if(typeof f!=="number")return i["outer"+b].call(this,f);return this.each(function(){c(this).css(h,
d(this,f,true,g)+"px")})}});c.extend(c.expr[":"],{data:function(a,b,d){return!!c.data(a,d[3])},focusable:function(a){var b=a.nodeName.toLowerCase(),d=c.attr(a,"tabindex");if("area"===b){b=a.parentNode;d=b.name;if(!a.href||!d||b.nodeName.toLowerCase()!=="map")return false;a=c("img[usemap=#"+d+"]")[0];return!!a&&k(a)}return(/input|select|textarea|button|object/.test(b)?!a.disabled:"a"==b?a.href||!isNaN(d):!isNaN(d))&&k(a)},tabbable:function(a){var b=c.attr(a,"tabindex");return(isNaN(b)||b>=0)&&c(a).is(":focusable")}});
c(function(){var a=document.body,b=a.appendChild(b=document.createElement("div"));c.extend(b.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});c.support.minHeight=b.offsetHeight===100;c.support.selectstart="onselectstart"in b;a.removeChild(b).style.display="none"});c.extend(c.ui,{plugin:{add:function(a,b,d){a=c.ui[a].prototype;for(var e in d){a.plugins[e]=a.plugins[e]||[];a.plugins[e].push([b,d[e]])}},call:function(a,b,d){if((b=a.plugins[b])&&a.element[0].parentNode)for(var e=0;e<b.length;e++)a.options[b[e][0]]&&
b[e][1].apply(a.element,d)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(a,b){if(c(a).css("overflow")==="hidden")return false;b=b&&b==="left"?"scrollLeft":"scrollTop";var d=false;if(a[b]>0)return true;a[b]=1;d=a[b]>0;a[b]=0;return d},isOverAxis:function(a,b,d){return a>b&&a<b+d},isOver:function(a,b,d,e,h,i){return c.ui.isOverAxis(a,d,h)&&c.ui.isOverAxis(b,e,i)}})}})(jQuery);
;/*!
 * jQuery UI Widget 1.8.9
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(b,j){if(b.cleanData){var k=b.cleanData;b.cleanData=function(a){for(var c=0,d;(d=a[c])!=null;c++)b(d).triggerHandler("remove");k(a)}}else{var l=b.fn.remove;b.fn.remove=function(a,c){return this.each(function(){if(!c)if(!a||b.filter(a,[this]).length)b("*",this).add([this]).each(function(){b(this).triggerHandler("remove")});return l.call(b(this),a,c)})}}b.widget=function(a,c,d){var e=a.split(".")[0],f;a=a.split(".")[1];f=e+"-"+a;if(!d){d=c;c=b.Widget}b.expr[":"][f]=function(h){return!!b.data(h,
a)};b[e]=b[e]||{};b[e][a]=function(h,g){arguments.length&&this._createWidget(h,g)};c=new c;c.options=b.extend(true,{},c.options);b[e][a].prototype=b.extend(true,c,{namespace:e,widgetName:a,widgetEventPrefix:b[e][a].prototype.widgetEventPrefix||a,widgetBaseClass:f},d);b.widget.bridge(a,b[e][a])};b.widget.bridge=function(a,c){b.fn[a]=function(d){var e=typeof d==="string",f=Array.prototype.slice.call(arguments,1),h=this;d=!e&&f.length?b.extend.apply(null,[true,d].concat(f)):d;if(e&&d.charAt(0)==="_")return h;
e?this.each(function(){var g=b.data(this,a),i=g&&b.isFunction(g[d])?g[d].apply(g,f):g;if(i!==g&&i!==j){h=i;return false}}):this.each(function(){var g=b.data(this,a);g?g.option(d||{})._init():b.data(this,a,new c(d,this))});return h}};b.Widget=function(a,c){arguments.length&&this._createWidget(a,c)};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(a,c){b.data(c,this.widgetName,this);this.element=b(c);this.options=b.extend(true,{},this.options,
this._getCreateOptions(),a);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},
widget:function(){return this.element},option:function(a,c){var d=a;if(arguments.length===0)return b.extend({},this.options);if(typeof a==="string"){if(c===j)return this.options[a];d={};d[a]=c}this._setOptions(d);return this},_setOptions:function(a){var c=this;b.each(a,function(d,e){c._setOption(d,e)});return this},_setOption:function(a,c){this.options[a]=c;if(a==="disabled")this.widget()[c?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",c);return this},
enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(a,c,d){var e=this.options[a];c=b.Event(c);c.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();d=d||{};if(c.originalEvent){a=b.event.props.length;for(var f;a;){f=b.event.props[--a];c[f]=c.originalEvent[f]}}this.element.trigger(c,d);return!(b.isFunction(e)&&e.call(this.element[0],c,d)===false||c.isDefaultPrevented())}}})(jQuery);
;/*!
 * jQuery UI Mouse 1.8.9
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(c){c.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(b){if(true===c.data(b.target,a.widgetName+".preventClickEvent")){c.removeData(b.target,a.widgetName+".preventClickEvent");b.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(a){a.originalEvent=
a.originalEvent||{};if(!a.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(a);this._mouseDownEvent=a;var b=this,e=a.which==1,f=typeof this.options.cancel=="string"?c(a.target).parents().add(a.target).filter(this.options.cancel).length:false;if(!e||f||!this._mouseCapture(a))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){b.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){this._mouseStarted=
this._mouseStart(a)!==false;if(!this._mouseStarted){a.preventDefault();return true}}this._mouseMoveDelegate=function(d){return b._mouseMove(d)};this._mouseUpDelegate=function(d){return b._mouseUp(d)};c(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);a.preventDefault();return a.originalEvent.mouseHandled=true}},_mouseMove:function(a){if(c.browser.msie&&!(document.documentMode>=9)&&!a.button)return this._mouseUp(a);if(this._mouseStarted){this._mouseDrag(a);
return a.preventDefault()}if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==false)?this._mouseDrag(a):this._mouseUp(a);return!this._mouseStarted},_mouseUp:function(a){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;a.target==this._mouseDownEvent.target&&c.data(a.target,this.widgetName+".preventClickEvent",
true);this._mouseStop(a)}return false},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
;/*
 * jQuery UI Draggable 1.8.8
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Draggables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function(d){d.widget("ui.draggable",d.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper==
"original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this}},_mouseCapture:function(a){var b=
this.options;if(this.helper||b.disabled||d(a.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(a);if(!this.handle)return false;return true},_mouseStart:function(a){var b=this.options;this.helper=this._createHelper(a);this._cacheHelperProportions();if(d.ui.ddmanager)d.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-
this.margins.top,left:this.offset.left-this.margins.left};d.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt);b.containment&&this._setContainment();if(this._trigger("start",a)===false){this._clear();return false}this._cacheHelperProportions();
d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(a,true);return true},_mouseDrag:function(a,b){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");if(!b){b=this._uiHash();if(this._trigger("drag",a,b)===false){this._mouseUp({});return false}this.position=b.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||
this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";d.ui.ddmanager&&d.ui.ddmanager.drag(this,a);return false},_mouseStop:function(a){var b=false;if(d.ui.ddmanager&&!this.options.dropBehaviour)b=d.ui.ddmanager.drop(this,a);if(this.dropped){b=this.dropped;this.dropped=false}if(!this.element[0]||!this.element[0].parentNode)return false;if(this.options.revert=="invalid"&&!b||this.options.revert=="valid"&&b||this.options.revert===true||d.isFunction(this.options.revert)&&this.options.revert.call(this.element,
b)){var c=this;d(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger("stop",a)!==false&&c._clear()})}else this._trigger("stop",a)!==false&&this._clear();return false},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(a){var b=!this.options.handle||!d(this.options.handle,this.element).length?true:false;d(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==
a.target)b=true});return b},_createHelper:function(a){var b=this.options;a=d.isFunction(b.helper)?d(b.helper.apply(this.element[0],[a])):b.helper=="clone"?this.element.clone():this.element;a.parents("body").length||a.appendTo(b.appendTo=="parent"?this.element[0].parentNode:b.appendTo);a[0]!=this.element[0]&&!/(fixed|absolute)/.test(a.css("position"))&&a.css("position","absolute");return a},_adjustOffsetFromHelper:function(a){if(typeof a=="string")a=a.split(" ");if(d.isArray(a))a={left:+a[0],top:+a[1]||
0};if("left"in a)this.offset.click.left=a.left+this.margins.left;if("right"in a)this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;if("top"in a)this.offset.click.top=a.top+this.margins.top;if("bottom"in a)this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],
this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&d.browser.msie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-
(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;if(a.containment==
"parent")a.containment=this.helper[0].parentNode;if(a.containment=="document"||a.containment=="window")this.containment=[(a.containment=="document"?0:d(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,(a.containment=="document"?0:d(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,(a.containment=="document"?0:d(window).scrollLeft())+d(a.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a.containment=="document"?
0:d(window).scrollTop())+(d(a.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)&&a.containment.constructor!=Array){var b=d(a.containment)[0];if(b){a=d(a.containment).offset();var c=d(b).css("overflow")!="hidden";this.containment=[a.left+(parseInt(d(b).css("borderLeftWidth"),10)||0)+(parseInt(d(b).css("paddingLeft"),10)||0)-this.margins.left,a.top+(parseInt(d(b).css("borderTopWidth"),
10)||0)+(parseInt(d(b).css("paddingTop"),10)||0)-this.margins.top,a.left+(c?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(d(b).css("borderLeftWidth"),10)||0)-(parseInt(d(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,a.top+(c?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(d(b).css("borderTopWidth"),10)||0)-(parseInt(d(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}}else if(a.containment.constructor==
Array)this.containment=a.containment},_convertPositionTo:function(a,b){if(!b)b=this.position;a=a=="absolute"?1:-1;var c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(c[0].tagName);return{top:b.top+this.offset.relative.top*a+this.offset.parent.top*a-(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():
f?0:c.scrollTop())*a),left:b.left+this.offset.relative.left*a+this.offset.parent.left*a-(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:c.scrollLeft())*a)}},_generatePosition:function(a){var b=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(c[0].tagName),e=a.pageX,g=a.pageY;
if(this.originalPosition){if(this.containment){if(a.pageX-this.offset.click.left<this.containment[0])e=this.containment[0]+this.offset.click.left;if(a.pageY-this.offset.click.top<this.containment[1])g=this.containment[1]+this.offset.click.top;if(a.pageX-this.offset.click.left>this.containment[2])e=this.containment[2]+this.offset.click.left;if(a.pageY-this.offset.click.top>this.containment[3])g=this.containment[3]+this.offset.click.top}if(b.grid){g=this.originalPageY+Math.round((g-this.originalPageY)/
b.grid[1])*b.grid[1];g=this.containment?!(g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3])?g:!(g-this.offset.click.top<this.containment[1])?g-b.grid[1]:g+b.grid[1]:g;e=this.originalPageX+Math.round((e-this.originalPageX)/b.grid[0])*b.grid[0];e=this.containment?!(e-this.offset.click.left<this.containment[0]||e-this.offset.click.left>this.containment[2])?e:!(e-this.offset.click.left<this.containment[0])?e-b.grid[0]:e+b.grid[0]:e}}return{top:g-this.offset.click.top-
this.offset.relative.top-this.offset.parent.top+(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:c.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:c.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=
this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(a,b,c){c=c||this._uiHash();d.ui.plugin.call(this,a,[b,c]);if(a=="drag")this.positionAbs=this._convertPositionTo("absolute");return d.Widget.prototype._trigger.call(this,a,b,c)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});d.extend(d.ui.draggable,{version:"1.8.8"});
d.ui.plugin.add("draggable","connectToSortable",{start:function(a,b){var c=d(this).data("draggable"),f=c.options,e=d.extend({},b,{item:c.element});c.sortables=[];d(f.connectToSortable).each(function(){var g=d.data(this,"sortable");if(g&&!g.options.disabled){c.sortables.push({instance:g,shouldRevert:g.options.revert});g._refreshItems();g._trigger("activate",a,e)}})},stop:function(a,b){var c=d(this).data("draggable"),f=d.extend({},b,{item:c.element});d.each(c.sortables,function(){if(this.instance.isOver){this.instance.isOver=
0;c.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(a);this.instance.options.helper=this.instance.options._helper;c.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",a,f)}})},drag:function(a,b){var c=d(this).data("draggable"),f=this;d.each(c.sortables,function(){this.instance.positionAbs=
c.positionAbs;this.instance.helperProportions=c.helperProportions;this.instance.offset.click=c.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=d(f).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return b.helper[0]};a.target=this.instance.currentItem[0];this.instance._mouseCapture(a,
true);this.instance._mouseStart(a,true,true);this.instance.offset.click.top=c.offset.click.top;this.instance.offset.click.left=c.offset.click.left;this.instance.offset.parent.left-=c.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=c.offset.parent.top-this.instance.offset.parent.top;c._trigger("toSortable",a);c.dropped=this.instance.element;c.currentItem=c.element;this.instance.fromOutside=c}this.instance.currentItem&&this.instance._mouseDrag(a)}else if(this.instance.isOver){this.instance.isOver=
0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",a,this.instance._uiHash(this.instance));this.instance._mouseStop(a,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();c._trigger("fromSortable",a);c.dropped=false}})}});d.ui.plugin.add("draggable","cursor",{start:function(){var a=d("body"),b=d(this).data("draggable").options;if(a.css("cursor"))b._cursor=
a.css("cursor");a.css("cursor",b.cursor)},stop:function(){var a=d(this).data("draggable").options;a._cursor&&d("body").css("cursor",a._cursor)}});d.ui.plugin.add("draggable","iframeFix",{start:function(){var a=d(this).data("draggable").options;d(a.iframeFix===true?"iframe":a.iframeFix).each(function(){d('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(d(this).offset()).appendTo("body")})},
stop:function(){d("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});d.ui.plugin.add("draggable","opacity",{start:function(a,b){a=d(b.helper);b=d(this).data("draggable").options;if(a.css("opacity"))b._opacity=a.css("opacity");a.css("opacity",b.opacity)},stop:function(a,b){a=d(this).data("draggable").options;a._opacity&&d(b.helper).css("opacity",a._opacity)}});d.ui.plugin.add("draggable","scroll",{start:function(){var a=d(this).data("draggable");if(a.scrollParent[0]!=
document&&a.scrollParent[0].tagName!="HTML")a.overflowOffset=a.scrollParent.offset()},drag:function(a){var b=d(this).data("draggable"),c=b.options,f=false;if(b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML"){if(!c.axis||c.axis!="x")if(b.overflowOffset.top+b.scrollParent[0].offsetHeight-a.pageY<c.scrollSensitivity)b.scrollParent[0].scrollTop=f=b.scrollParent[0].scrollTop+c.scrollSpeed;else if(a.pageY-b.overflowOffset.top<c.scrollSensitivity)b.scrollParent[0].scrollTop=f=b.scrollParent[0].scrollTop-
c.scrollSpeed;if(!c.axis||c.axis!="y")if(b.overflowOffset.left+b.scrollParent[0].offsetWidth-a.pageX<c.scrollSensitivity)b.scrollParent[0].scrollLeft=f=b.scrollParent[0].scrollLeft+c.scrollSpeed;else if(a.pageX-b.overflowOffset.left<c.scrollSensitivity)b.scrollParent[0].scrollLeft=f=b.scrollParent[0].scrollLeft-c.scrollSpeed}else{if(!c.axis||c.axis!="x")if(a.pageY-d(document).scrollTop()<c.scrollSensitivity)f=d(document).scrollTop(d(document).scrollTop()-c.scrollSpeed);else if(d(window).height()-
(a.pageY-d(document).scrollTop())<c.scrollSensitivity)f=d(document).scrollTop(d(document).scrollTop()+c.scrollSpeed);if(!c.axis||c.axis!="y")if(a.pageX-d(document).scrollLeft()<c.scrollSensitivity)f=d(document).scrollLeft(d(document).scrollLeft()-c.scrollSpeed);else if(d(window).width()-(a.pageX-d(document).scrollLeft())<c.scrollSensitivity)f=d(document).scrollLeft(d(document).scrollLeft()+c.scrollSpeed)}f!==false&&d.ui.ddmanager&&!c.dropBehaviour&&d.ui.ddmanager.prepareOffsets(b,a)}});d.ui.plugin.add("draggable",
"snap",{start:function(){var a=d(this).data("draggable"),b=a.options;a.snapElements=[];d(b.snap.constructor!=String?b.snap.items||":data(draggable)":b.snap).each(function(){var c=d(this),f=c.offset();this!=a.element[0]&&a.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:f.top,left:f.left})})},drag:function(a,b){for(var c=d(this).data("draggable"),f=c.options,e=f.snapTolerance,g=b.offset.left,n=g+c.helperProportions.width,m=b.offset.top,o=m+c.helperProportions.height,h=
c.snapElements.length-1;h>=0;h--){var i=c.snapElements[h].left,k=i+c.snapElements[h].width,j=c.snapElements[h].top,l=j+c.snapElements[h].height;if(i-e<g&&g<k+e&&j-e<m&&m<l+e||i-e<g&&g<k+e&&j-e<o&&o<l+e||i-e<n&&n<k+e&&j-e<m&&m<l+e||i-e<n&&n<k+e&&j-e<o&&o<l+e){if(f.snapMode!="inner"){var p=Math.abs(j-o)<=e,q=Math.abs(l-m)<=e,r=Math.abs(i-n)<=e,s=Math.abs(k-g)<=e;if(p)b.position.top=c._convertPositionTo("relative",{top:j-c.helperProportions.height,left:0}).top-c.margins.top;if(q)b.position.top=c._convertPositionTo("relative",
{top:l,left:0}).top-c.margins.top;if(r)b.position.left=c._convertPositionTo("relative",{top:0,left:i-c.helperProportions.width}).left-c.margins.left;if(s)b.position.left=c._convertPositionTo("relative",{top:0,left:k}).left-c.margins.left}var t=p||q||r||s;if(f.snapMode!="outer"){p=Math.abs(j-m)<=e;q=Math.abs(l-o)<=e;r=Math.abs(i-g)<=e;s=Math.abs(k-n)<=e;if(p)b.position.top=c._convertPositionTo("relative",{top:j,left:0}).top-c.margins.top;if(q)b.position.top=c._convertPositionTo("relative",{top:l-c.helperProportions.height,
left:0}).top-c.margins.top;if(r)b.position.left=c._convertPositionTo("relative",{top:0,left:i}).left-c.margins.left;if(s)b.position.left=c._convertPositionTo("relative",{top:0,left:k-c.helperProportions.width}).left-c.margins.left}if(!c.snapElements[h].snapping&&(p||q||r||s||t))c.options.snap.snap&&c.options.snap.snap.call(c.element,a,d.extend(c._uiHash(),{snapItem:c.snapElements[h].item}));c.snapElements[h].snapping=p||q||r||s||t}else{c.snapElements[h].snapping&&c.options.snap.release&&c.options.snap.release.call(c.element,
a,d.extend(c._uiHash(),{snapItem:c.snapElements[h].item}));c.snapElements[h].snapping=false}}}});d.ui.plugin.add("draggable","stack",{start:function(){var a=d(this).data("draggable").options;a=d.makeArray(d(a.stack)).sort(function(c,f){return(parseInt(d(c).css("zIndex"),10)||0)-(parseInt(d(f).css("zIndex"),10)||0)});if(a.length){var b=parseInt(a[0].style.zIndex)||0;d(a).each(function(c){this.style.zIndex=b+c});this[0].style.zIndex=b+a.length}}});d.ui.plugin.add("draggable","zIndex",{start:function(a,
b){a=d(b.helper);b=d(this).data("draggable").options;if(a.css("zIndex"))b._zIndex=a.css("zIndex");a.css("zIndex",b.zIndex)},stop:function(a,b){a=d(this).data("draggable").options;a._zIndex&&d(b.helper).css("zIndex",a._zIndex)}})})(jQuery);
;;jQuery.effects||(function($,undefined){$.effects={};$.each(['backgroundColor','borderBottomColor','borderLeftColor','borderRightColor','borderTopColor','borderColor','color','outlineColor'],function(i,attr){$.fx.step[attr]=function(fx){if(!fx.colorInit){fx.start=getColor(fx.elem,attr);fx.end=getRGB(fx.end);fx.colorInit=true;}
fx.elem.style[attr]='rgb('+
Math.max(Math.min(parseInt((fx.pos*(fx.end[0]-fx.start[0]))+fx.start[0],10),255),0)+','+
Math.max(Math.min(parseInt((fx.pos*(fx.end[1]-fx.start[1]))+fx.start[1],10),255),0)+','+
Math.max(Math.min(parseInt((fx.pos*(fx.end[2]-fx.start[2]))+fx.start[2],10),255),0)+')';};});function getRGB(color){var result;if(color&&color.constructor==Array&&color.length==3)
return color;if(result=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(color))
return[parseInt(result[1],10),parseInt(result[2],10),parseInt(result[3],10)];if(result=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(color))
return[parseFloat(result[1])*2.55,parseFloat(result[2])*2.55,parseFloat(result[3])*2.55];if(result=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(color))
return[parseInt(result[1],16),parseInt(result[2],16),parseInt(result[3],16)];if(result=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(color))
return[parseInt(result[1]+result[1],16),parseInt(result[2]+result[2],16),parseInt(result[3]+result[3],16)];if(result=/rgba\(0, 0, 0, 0\)/.exec(color))
return colors['transparent'];return colors[$.trim(color).toLowerCase()];}
function getColor(elem,attr){var color;do{color=$.curCSS(elem,attr);if(color!=''&&color!='transparent'||$.nodeName(elem,"body"))
break;attr="backgroundColor";}while(elem=elem.parentNode);return getRGB(color);};var colors={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};var classAnimationActions=['add','remove','toggle'],shorthandStyles={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function getElementStyles(){var style=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,newStyle={},key,camelCase;if(style&&style.length&&style[0]&&style[style[0]]){var len=style.length;while(len--){key=style[len];if(typeof style[key]=='string'){camelCase=key.replace(/\-(\w)/g,function(all,letter){return letter.toUpperCase();});newStyle[camelCase]=style[key];}}}else{for(key in style){if(typeof style[key]==='string'){newStyle[key]=style[key];}}}
return newStyle;}
function filterStyles(styles){var name,value;for(name in styles){value=styles[name];if(value==null||$.isFunction(value)||name in shorthandStyles||(/scrollbar/).test(name)||(!(/color/i).test(name)&&isNaN(parseFloat(value)))){delete styles[name];}}
return styles;}
function styleDifference(oldStyle,newStyle){var diff={_:0},name;for(name in newStyle){if(oldStyle[name]!=newStyle[name]){diff[name]=newStyle[name];}}
return diff;}
$.effects.animateClass=function(value,duration,easing,callback){if($.isFunction(easing)){callback=easing;easing=null;}
return this.queue('fx',function(){var that=$(this),originalStyleAttr=that.attr('style')||' ',originalStyle=filterStyles(getElementStyles.call(this)),newStyle,className=that.attr('className');$.each(classAnimationActions,function(i,action){if(value[action]){that[action+'Class'](value[action]);}});newStyle=filterStyles(getElementStyles.call(this));that.attr('className',className);that.animate(styleDifference(originalStyle,newStyle),duration,easing,function(){$.each(classAnimationActions,function(i,action){if(value[action]){that[action+'Class'](value[action]);}});if(typeof that.attr('style')=='object'){that.attr('style').cssText='';that.attr('style').cssText=originalStyleAttr;}else{that.attr('style',originalStyleAttr);}
if(callback){callback.apply(this,arguments);}});var queue=$.queue(this),anim=queue.splice(queue.length-1,1)[0];queue.splice(1,0,anim);$.dequeue(this);});};$.fn.extend({_addClass:$.fn.addClass,addClass:function(classNames,speed,easing,callback){return speed?$.effects.animateClass.apply(this,[{add:classNames},speed,easing,callback]):this._addClass(classNames);},_removeClass:$.fn.removeClass,removeClass:function(classNames,speed,easing,callback){return speed?$.effects.animateClass.apply(this,[{remove:classNames},speed,easing,callback]):this._removeClass(classNames);},_toggleClass:$.fn.toggleClass,toggleClass:function(classNames,force,speed,easing,callback){if(typeof force=="boolean"||force===undefined){if(!speed){return this._toggleClass(classNames,force);}else{return $.effects.animateClass.apply(this,[(force?{add:classNames}:{remove:classNames}),speed,easing,callback]);}}else{return $.effects.animateClass.apply(this,[{toggle:classNames},force,speed,easing]);}},switchClass:function(remove,add,speed,easing,callback){return $.effects.animateClass.apply(this,[{add:add,remove:remove},speed,easing,callback]);}});$.extend($.effects,{version:"1.8.8",save:function(element,set){for(var i=0;i<set.length;i++){if(set[i]!==null)element.data("ec.storage."+set[i],element[0].style[set[i]]);}},restore:function(element,set){for(var i=0;i<set.length;i++){if(set[i]!==null)element.css(set[i],element.data("ec.storage."+set[i]));}},setMode:function(el,mode){if(mode=='toggle')mode=el.is(':hidden')?'show':'hide';return mode;},getBaseline:function(origin,original){var y,x;switch(origin[0]){case'top':y=0;break;case'middle':y=0.5;break;case'bottom':y=1;break;default:y=origin[0]/original.height;};switch(origin[1]){case'left':x=0;break;case'center':x=0.5;break;case'right':x=1;break;default:x=origin[1]/original.width;};return{x:x,y:y};},createWrapper:function(element){if(element.parent().is('.ui-effects-wrapper')){return element.parent();}
var props={width:element.outerWidth(true),height:element.outerHeight(true),'float':element.css('float')},wrapper=$('<div></div>').addClass('ui-effects-wrapper').css({fontSize:'100%',background:'transparent',border:'none',margin:0,padding:0});element.wrap(wrapper);wrapper=element.parent();if(element.css('position')=='static'){wrapper.css({position:'relative'});element.css({position:'relative'});}else{$.extend(props,{position:element.css('position'),zIndex:element.css('z-index')});$.each(['top','left','bottom','right'],function(i,pos){props[pos]=element.css(pos);if(isNaN(parseInt(props[pos],10))){props[pos]='auto';}});element.css({position:'relative',top:0,left:0,right:'auto',bottom:'auto'});}
return wrapper.css(props).show();},removeWrapper:function(element){if(element.parent().is('.ui-effects-wrapper'))
return element.parent().replaceWith(element);return element;},setTransition:function(element,list,factor,value){value=value||{};$.each(list,function(i,x){unit=element.cssUnit(x);if(unit[0]>0)value[x]=unit[0]*factor+unit[1];});return value;}});function _normalizeArguments(effect,options,speed,callback){if(typeof effect=='object'){callback=options;speed=null;options=effect;effect=options.effect;}
if($.isFunction(options)){callback=options;speed=null;options={};}
if(typeof options=='number'||$.fx.speeds[options]){callback=speed;speed=options;options={};}
if($.isFunction(speed)){callback=speed;speed=null;}
options=options||{};speed=speed||options.duration;speed=$.fx.off?0:typeof speed=='number'?speed:speed in $.fx.speeds?$.fx.speeds[speed]:$.fx.speeds._default;callback=callback||options.complete;return[effect,options,speed,callback];}
function standardSpeed(speed){if(!speed||typeof speed==="number"||$.fx.speeds[speed]){return true;}
if(typeof speed==="string"&&!$.effects[speed]){return true;}
return false;}
$.fn.extend({effect:function(effect,options,speed,callback){var args=_normalizeArguments.apply(this,arguments),args2={options:args[1],duration:args[2],callback:args[3]},mode=args2.options.mode,effectMethod=$.effects[effect];if($.fx.off||!effectMethod){if(mode){return this[mode](args2.duration,args2.callback);}else{return this.each(function(){if(args2.callback){args2.callback.call(this);}});}}
return effectMethod.call(this,args2);},_show:$.fn.show,show:function(speed){if(standardSpeed(speed)){return this._show.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args[1].mode='show';return this.effect.apply(this,args);}},_hide:$.fn.hide,hide:function(speed){if(standardSpeed(speed)){return this._hide.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args[1].mode='hide';return this.effect.apply(this,args);}},__toggle:$.fn.toggle,toggle:function(speed){if(standardSpeed(speed)||typeof speed==="boolean"||$.isFunction(speed)){return this.__toggle.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args[1].mode='toggle';return this.effect.apply(this,args);}},cssUnit:function(key){var style=this.css(key),val=[];$.each(['em','px','%','pt'],function(i,unit){if(style.indexOf(unit)>0)
val=[parseFloat(style),unit];});return val;}});$.easing.jswing=$.easing.swing;$.extend($.easing,{def:'easeOutQuad',swing:function(x,t,b,c,d){return $.easing[$.easing.def](x,t,b,c,d);},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b;},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b;},easeInOutQuad:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t+b;return-c/2*((--t)*(t-2)-1)+b;},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b;},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b;},easeInOutCubic:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b;},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b;},easeOutQuart:function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b;},easeInOutQuart:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t+b;return-c/2*((t-=2)*t*t*t-2)+b;},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b;},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b;},easeInOutQuint:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t*t+b;return c/2*((t-=2)*t*t*t*t+2)+b;},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b;},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b;},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b;},easeInExpo:function(x,t,b,c,d){return(t==0)?b:c*Math.pow(2,10*(t/d-1))+b;},easeOutExpo:function(x,t,b,c,d){return(t==d)?b+c:c*(-Math.pow(2,-10*t/d)+1)+b;},easeInOutExpo:function(x,t,b,c,d){if(t==0)return b;if(t==d)return b+c;if((t/=d/2)<1)return c/2*Math.pow(2,10*(t-1))+b;return c/2*(-Math.pow(2,-10*--t)+2)+b;},easeInCirc:function(x,t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b;},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b;},easeInOutCirc:function(x,t,b,c,d){if((t/=d/2)<1)return-c/2*(Math.sqrt(1-t*t)-1)+b;return c/2*(Math.sqrt(1-(t-=2)*t)+1)+b;},easeInElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;},easeOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b;},easeInOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;if(!p)p=d*(.3*1.5);if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);if(t<1)return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b;},easeInBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*(t/=d)*t*((s+1)*t-s)+b;},easeOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b;},easeInOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;if((t/=d/2)<1)return c/2*(t*t*(((s*=(1.525))+1)*t-s))+b;return c/2*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)+b;},easeInBounce:function(x,t,b,c,d){return c-$.easing.easeOutBounce(x,d-t,0,c,d)+b;},easeOutBounce:function(x,t,b,c,d){if((t/=d)<(1/2.75)){return c*(7.5625*t*t)+b;}else if(t<(2/2.75)){return c*(7.5625*(t-=(1.5/2.75))*t+.75)+b;}else if(t<(2.5/2.75)){return c*(7.5625*(t-=(2.25/2.75))*t+.9375)+b;}else{return c*(7.5625*(t-=(2.625/2.75))*t+.984375)+b;}},easeInOutBounce:function(x,t,b,c,d){if(t<d/2)return $.easing.easeInBounce(x,t*2,0,c,d)*.5+b;return $.easing.easeOutBounce(x,t*2-d,0,c,d)*.5+c*.5+b;}});})(jQuery);(function($,undefined){$.effects.blind=function(o){return this.queue(function(){var el=$(this),props=['position','top','bottom','left','right'];var mode=$.effects.setMode(el,o.options.mode||'hide');var direction=o.options.direction||'vertical';$.effects.save(el,props);el.show();var wrapper=$.effects.createWrapper(el).css({overflow:'hidden'});var ref=(direction=='vertical')?'height':'width';var distance=(direction=='vertical')?wrapper.height():wrapper.width();if(mode=='show')wrapper.css(ref,0);var animation={};animation[ref]=mode=='show'?distance:0;wrapper.animate(animation,o.duration,o.options.easing,function(){if(mode=='hide')el.hide();$.effects.restore(el,props);$.effects.removeWrapper(el);if(o.callback)o.callback.apply(el[0],arguments);el.dequeue();});});};})(jQuery);(function($,undefined){$.effects.bounce=function(o){return this.queue(function(){var el=$(this),props=['position','top','bottom','left','right'];var mode=$.effects.setMode(el,o.options.mode||'effect');var direction=o.options.direction||'up';var distance=o.options.distance||20;var times=o.options.times||5;var speed=o.duration||250;if(/show|hide/.test(mode))props.push('opacity');$.effects.save(el,props);el.show();$.effects.createWrapper(el);var ref=(direction=='up'||direction=='down')?'top':'left';var motion=(direction=='up'||direction=='left')?'pos':'neg';var distance=o.options.distance||(ref=='top'?el.outerHeight({margin:true})/3:el.outerWidth({margin:true})/3);if(mode=='show')el.css('opacity',0).css(ref,motion=='pos'?-distance:distance);if(mode=='hide')distance=distance/(times*2);if(mode!='hide')times--;if(mode=='show'){var animation={opacity:1};animation[ref]=(motion=='pos'?'+=':'-=')+distance;el.animate(animation,speed/2,o.options.easing);distance=distance/2;times--;};for(var i=0;i<times;i++){var animation1={},animation2={};animation1[ref]=(motion=='pos'?'-=':'+=')+distance;animation2[ref]=(motion=='pos'?'+=':'-=')+distance;el.animate(animation1,speed/2,o.options.easing).animate(animation2,speed/2,o.options.easing);distance=(mode=='hide')?distance*2:distance/2;};if(mode=='hide'){var animation={opacity:0};animation[ref]=(motion=='pos'?'-=':'+=')+distance;el.animate(animation,speed/2,o.options.easing,function(){el.hide();$.effects.restore(el,props);$.effects.removeWrapper(el);if(o.callback)o.callback.apply(this,arguments);});}else{var animation1={},animation2={};animation1[ref]=(motion=='pos'?'-=':'+=')+distance;animation2[ref]=(motion=='pos'?'+=':'-=')+distance;el.animate(animation1,speed/2,o.options.easing).animate(animation2,speed/2,o.options.easing,function(){$.effects.restore(el,props);$.effects.removeWrapper(el);if(o.callback)o.callback.apply(this,arguments);});};el.queue('fx',function(){el.dequeue();});el.dequeue();});};})(jQuery);(function($,undefined){$.effects.clip=function(o){return this.queue(function(){var el=$(this),props=['position','top','bottom','left','right','height','width'];var mode=$.effects.setMode(el,o.options.mode||'hide');var direction=o.options.direction||'vertical';$.effects.save(el,props);el.show();var wrapper=$.effects.createWrapper(el).css({overflow:'hidden'});var animate=el[0].tagName=='IMG'?wrapper:el;var ref={size:(direction=='vertical')?'height':'width',position:(direction=='vertical')?'top':'left'};var distance=(direction=='vertical')?animate.height():animate.width();if(mode=='show'){animate.css(ref.size,0);animate.css(ref.position,distance/2);}
var animation={};animation[ref.size]=mode=='show'?distance:0;animation[ref.position]=mode=='show'?0:distance/2;animate.animate(animation,{queue:false,duration:o.duration,easing:o.options.easing,complete:function(){if(mode=='hide')el.hide();$.effects.restore(el,props);$.effects.removeWrapper(el);if(o.callback)o.callback.apply(el[0],arguments);el.dequeue();}});});};})(jQuery);(function($,undefined){$.effects.drop=function(o){return this.queue(function(){var el=$(this),props=['position','top','bottom','left','right','opacity'];var mode=$.effects.setMode(el,o.options.mode||'hide');var direction=o.options.direction||'left';$.effects.save(el,props);el.show();$.effects.createWrapper(el);var ref=(direction=='up'||direction=='down')?'top':'left';var motion=(direction=='up'||direction=='left')?'pos':'neg';var distance=o.options.distance||(ref=='top'?el.outerHeight({margin:true})/2:el.outerWidth({margin:true})/2);if(mode=='show')el.css('opacity',0).css(ref,motion=='pos'?-distance:distance);var animation={opacity:mode=='show'?1:0};animation[ref]=(mode=='show'?(motion=='pos'?'+=':'-='):(motion=='pos'?'-=':'+='))+distance;el.animate(animation,{queue:false,duration:o.duration,easing:o.options.easing,complete:function(){if(mode=='hide')el.hide();$.effects.restore(el,props);$.effects.removeWrapper(el);if(o.callback)o.callback.apply(this,arguments);el.dequeue();}});});};})(jQuery);(function($,undefined){$.effects.explode=function(o){return this.queue(function(){var rows=o.options.pieces?Math.round(Math.sqrt(o.options.pieces)):3;var cells=o.options.pieces?Math.round(Math.sqrt(o.options.pieces)):3;o.options.mode=o.options.mode=='toggle'?($(this).is(':visible')?'hide':'show'):o.options.mode;var el=$(this).show().css('visibility','hidden');var offset=el.offset();offset.top-=parseInt(el.css("marginTop"),10)||0;offset.left-=parseInt(el.css("marginLeft"),10)||0;var width=el.outerWidth(true);var height=el.outerHeight(true);for(var i=0;i<rows;i++){for(var j=0;j<cells;j++){el.clone().appendTo('body').wrap('<div></div>').css({position:'absolute',visibility:'visible',left:-j*(width/cells),top:-i*(height/rows)}).parent().addClass('ui-effects-explode').css({position:'absolute',overflow:'hidden',width:width/cells,height:height/rows,left:offset.left+j*(width/cells)+(o.options.mode=='show'?(j-Math.floor(cells/2))*(width/cells):0),top:offset.top+i*(height/rows)+(o.options.mode=='show'?(i-Math.floor(rows/2))*(height/rows):0),opacity:o.options.mode=='show'?0:1}).animate({left:offset.left+j*(width/cells)+(o.options.mode=='show'?0:(j-Math.floor(cells/2))*(width/cells)),top:offset.top+i*(height/rows)+(o.options.mode=='show'?0:(i-Math.floor(rows/2))*(height/rows)),opacity:o.options.mode=='show'?1:0},o.duration||500);}}
setTimeout(function(){o.options.mode=='show'?el.css({visibility:'visible'}):el.css({visibility:'visible'}).hide();if(o.callback)o.callback.apply(el[0]);el.dequeue();$('div.ui-effects-explode').remove();},o.duration||500);});};})(jQuery);(function($,undefined){$.effects.fade=function(o){return this.queue(function(){var elem=$(this),mode=$.effects.setMode(elem,o.options.mode||'hide');elem.animate({opacity:mode},{queue:false,duration:o.duration,easing:o.options.easing,complete:function(){(o.callback&&o.callback.apply(this,arguments));elem.dequeue();}});});};})(jQuery);(function($,undefined){$.effects.fold=function(o){return this.queue(function(){var el=$(this),props=['position','top','bottom','left','right'];var mode=$.effects.setMode(el,o.options.mode||'hide');var size=o.options.size||15;var horizFirst=!(!o.options.horizFirst);var duration=o.duration?o.duration/2:$.fx.speeds._default/2;$.effects.save(el,props);el.show();var wrapper=$.effects.createWrapper(el).css({overflow:'hidden'});var widthFirst=((mode=='show')!=horizFirst);var ref=widthFirst?['width','height']:['height','width'];var distance=widthFirst?[wrapper.width(),wrapper.height()]:[wrapper.height(),wrapper.width()];var percent=/([0-9]+)%/.exec(size);if(percent)size=parseInt(percent[1],10)/100*distance[mode=='hide'?0:1];if(mode=='show')wrapper.css(horizFirst?{height:0,width:size}:{height:size,width:0});var animation1={},animation2={};animation1[ref[0]]=mode=='show'?distance[0]:size;animation2[ref[1]]=mode=='show'?distance[1]:0;wrapper.animate(animation1,duration,o.options.easing).animate(animation2,duration,o.options.easing,function(){if(mode=='hide')el.hide();$.effects.restore(el,props);$.effects.removeWrapper(el);if(o.callback)o.callback.apply(el[0],arguments);el.dequeue();});});};})(jQuery);(function($,undefined){$.effects.highlight=function(o){return this.queue(function(){var elem=$(this),props=['backgroundImage','backgroundColor','opacity'],mode=$.effects.setMode(elem,o.options.mode||'show'),animation={backgroundColor:elem.css('backgroundColor')};if(mode=='hide'){animation.opacity=0;}
$.effects.save(elem,props);elem.show().css({backgroundImage:'none',backgroundColor:o.options.color||'#ffff99'}).animate(animation,{queue:false,duration:o.duration,easing:o.options.easing,complete:function(){(mode=='hide'&&elem.hide());$.effects.restore(elem,props);(mode=='show'&&!$.support.opacity&&this.style.removeAttribute('filter'));(o.callback&&o.callback.apply(this,arguments));elem.dequeue();}});});};})(jQuery);(function($,undefined){$.effects.pulsate=function(o){return this.queue(function(){var elem=$(this),mode=$.effects.setMode(elem,o.options.mode||'show');times=((o.options.times||5)*2)-1;duration=o.duration?o.duration/2:$.fx.speeds._default/2,isVisible=elem.is(':visible'),animateTo=0;if(!isVisible){elem.css('opacity',0).show();animateTo=1;}
if((mode=='hide'&&isVisible)||(mode=='show'&&!isVisible)){times--;}
for(var i=0;i<times;i++){elem.animate({opacity:animateTo},duration,o.options.easing);animateTo=(animateTo+1)%2;}
elem.animate({opacity:animateTo},duration,o.options.easing,function(){if(animateTo==0){elem.hide();}
(o.callback&&o.callback.apply(this,arguments));});elem.queue('fx',function(){elem.dequeue();}).dequeue();});};})(jQuery);(function($,undefined){$.effects.puff=function(o){return this.queue(function(){var elem=$(this),mode=$.effects.setMode(elem,o.options.mode||'hide'),percent=parseInt(o.options.percent,10)||150,factor=percent/100,original={height:elem.height(),width:elem.width()};$.extend(o.options,{fade:true,mode:mode,percent:mode=='hide'?percent:100,from:mode=='hide'?original:{height:original.height*factor,width:original.width*factor}});elem.effect('scale',o.options,o.duration,o.callback);elem.dequeue();});};$.effects.scale=function(o){return this.queue(function(){var el=$(this);var options=$.extend(true,{},o.options);var mode=$.effects.setMode(el,o.options.mode||'effect');var percent=parseInt(o.options.percent,10)||(parseInt(o.options.percent,10)==0?0:(mode=='hide'?0:100));var direction=o.options.direction||'both';var origin=o.options.origin;if(mode!='effect'){options.origin=origin||['middle','center'];options.restore=true;}
var original={height:el.height(),width:el.width()};el.from=o.options.from||(mode=='show'?{height:0,width:0}:original);var factor={y:direction!='horizontal'?(percent/100):1,x:direction!='vertical'?(percent/100):1};el.to={height:original.height*factor.y,width:original.width*factor.x};if(o.options.fade){if(mode=='show'){el.from.opacity=0;el.to.opacity=1;};if(mode=='hide'){el.from.opacity=1;el.to.opacity=0;};};options.from=el.from;options.to=el.to;options.mode=mode;el.effect('size',options,o.duration,o.callback);el.dequeue();});};$.effects.size=function(o){return this.queue(function(){var el=$(this),props=['position','top','bottom','left','right','width','height','overflow','opacity'];var props1=['position','top','bottom','left','right','overflow','opacity'];var props2=['width','height','overflow'];var cProps=['fontSize'];var vProps=['borderTopWidth','borderBottomWidth','paddingTop','paddingBottom'];var hProps=['borderLeftWidth','borderRightWidth','paddingLeft','paddingRight'];var mode=$.effects.setMode(el,o.options.mode||'effect');var restore=o.options.restore||false;var scale=o.options.scale||'both';var origin=o.options.origin;var original={height:el.height(),width:el.width()};el.from=o.options.from||original;el.to=o.options.to||original;if(origin){var baseline=$.effects.getBaseline(origin,original);el.from.top=(original.height-el.from.height)*baseline.y;el.from.left=(original.width-el.from.width)*baseline.x;el.to.top=(original.height-el.to.height)*baseline.y;el.to.left=(original.width-el.to.width)*baseline.x;};var factor={from:{y:el.from.height/original.height,x:el.from.width/original.width},to:{y:el.to.height/original.height,x:el.to.width/original.width}};if(scale=='box'||scale=='both'){if(factor.from.y!=factor.to.y){props=props.concat(vProps);el.from=$.effects.setTransition(el,vProps,factor.from.y,el.from);el.to=$.effects.setTransition(el,vProps,factor.to.y,el.to);};if(factor.from.x!=factor.to.x){props=props.concat(hProps);el.from=$.effects.setTransition(el,hProps,factor.from.x,el.from);el.to=$.effects.setTransition(el,hProps,factor.to.x,el.to);};};if(scale=='content'||scale=='both'){if(factor.from.y!=factor.to.y){props=props.concat(cProps);el.from=$.effects.setTransition(el,cProps,factor.from.y,el.from);el.to=$.effects.setTransition(el,cProps,factor.to.y,el.to);};};$.effects.save(el,restore?props:props1);el.show();$.effects.createWrapper(el);el.css('overflow','hidden').css(el.from);if(scale=='content'||scale=='both'){vProps=vProps.concat(['marginTop','marginBottom']).concat(cProps);hProps=hProps.concat(['marginLeft','marginRight']);props2=props.concat(vProps).concat(hProps);el.find("*[width]").each(function(){child=$(this);if(restore)$.effects.save(child,props2);var c_original={height:child.height(),width:child.width()};child.from={height:c_original.height*factor.from.y,width:c_original.width*factor.from.x};child.to={height:c_original.height*factor.to.y,width:c_original.width*factor.to.x};if(factor.from.y!=factor.to.y){child.from=$.effects.setTransition(child,vProps,factor.from.y,child.from);child.to=$.effects.setTransition(child,vProps,factor.to.y,child.to);};if(factor.from.x!=factor.to.x){child.from=$.effects.setTransition(child,hProps,factor.from.x,child.from);child.to=$.effects.setTransition(child,hProps,factor.to.x,child.to);};child.css(child.from);child.animate(child.to,o.duration,o.options.easing,function(){if(restore)$.effects.restore(child,props2);});});};el.animate(el.to,{queue:false,duration:o.duration,easing:o.options.easing,complete:function(){if(el.to.opacity===0){el.css('opacity',el.from.opacity);}
if(mode=='hide')el.hide();$.effects.restore(el,restore?props:props1);$.effects.removeWrapper(el);if(o.callback)o.callback.apply(this,arguments);el.dequeue();}});});};})(jQuery);(function($,undefined){$.effects.shake=function(o){return this.queue(function(){var el=$(this),props=['position','top','bottom','left','right'];var mode=$.effects.setMode(el,o.options.mode||'effect');var direction=o.options.direction||'left';var distance=o.options.distance||20;var times=o.options.times||3;var speed=o.duration||o.options.duration||140;$.effects.save(el,props);el.show();$.effects.createWrapper(el);var ref=(direction=='up'||direction=='down')?'top':'left';var motion=(direction=='up'||direction=='left')?'pos':'neg';var animation={},animation1={},animation2={};animation[ref]=(motion=='pos'?'-=':'+=')+distance;animation1[ref]=(motion=='pos'?'+=':'-=')+distance*2;animation2[ref]=(motion=='pos'?'-=':'+=')+distance*2;el.animate(animation,speed,o.options.easing);for(var i=1;i<times;i++){el.animate(animation1,speed,o.options.easing).animate(animation2,speed,o.options.easing);};el.animate(animation1,speed,o.options.easing).animate(animation,speed/2,o.options.easing,function(){$.effects.restore(el,props);$.effects.removeWrapper(el);if(o.callback)o.callback.apply(this,arguments);});el.queue('fx',function(){el.dequeue();});el.dequeue();});};})(jQuery);(function($,undefined){$.effects.slide=function(o){return this.queue(function(){var el=$(this),props=['position','top','bottom','left','right'];var mode=$.effects.setMode(el,o.options.mode||'show');var direction=o.options.direction||'left';$.effects.save(el,props);el.show();$.effects.createWrapper(el).css({overflow:'hidden'});var ref=(direction=='up'||direction=='down')?'top':'left';var motion=(direction=='up'||direction=='left')?'pos':'neg';var distance=o.options.distance||(ref=='top'?el.outerHeight({margin:true}):el.outerWidth({margin:true}));if(mode=='show')el.css(ref,motion=='pos'?(isNaN(distance)?"-"+distance:-distance):distance);var animation={};animation[ref]=(mode=='show'?(motion=='pos'?'+=':'-='):(motion=='pos'?'-=':'+='))+distance;el.animate(animation,{queue:false,duration:o.duration,easing:o.options.easing,complete:function(){if(mode=='hide')el.hide();$.effects.restore(el,props);$.effects.removeWrapper(el);if(o.callback)o.callback.apply(this,arguments);el.dequeue();}});});};})(jQuery);(function($,undefined){$.effects.transfer=function(o){return this.queue(function(){var elem=$(this),target=$(o.options.to),endPosition=target.offset(),animation={top:endPosition.top,left:endPosition.left,height:target.innerHeight(),width:target.innerWidth()},startPosition=elem.offset(),transfer=$('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(o.options.className).css({top:startPosition.top,left:startPosition.left,height:elem.innerHeight(),width:elem.innerWidth(),position:'absolute'}).animate(animation,o.duration,o.options.easing,function(){transfer.remove();(o.callback&&o.callback.apply(elem[0],arguments));elem.dequeue();});});};})(jQuery);;                                                                  
		if (typeof OverlayWidget == "undefined") {
			var OverlayWidget = Base.extend({
				constructor: null,

				create: function(selector, settings) {
					$(selector).widgetState(settings).widgetClass(OverlayWidget);
				},

				
				getWidgetClassName: function() {
					return "OverlayWidget";
				},

				lazyload: function(selector, event) {
					var jQ = $(selector);
					var s = jQ.widgetState();
					this.createBackground(selector);
					this.createOverlay(selector);
					this.assignEvents(selector);
				},

				assignEvents: function(selector) {
					var jQ = $(selector);
					var s = jQ.widgetState();
					var self = this;
					var bg = $(s.bg);
					var ov = $(s.ov);
					
					$(".close", ov).hover(
						  function() {
							  $(this).addClass("close-mouseover");
						  },
						  function() {
							  $(this).removeClass("close-mouseover");
							  $(".quicklook-button", this).hide();
						  }
					  );
					$(".close", ov).click(function(e) {
						self.hide(selector);
					});
					if (s.closeOnBackgroundClick) {
						bg.click( function(e) {
							if(e.target == bg.get(0)) {
								self.hide(selector);
							}							
						});
					}

				},

				createBackground: function(selector) {
				
					var jQ=$(selector);
					var s = jQ.widgetState();
					var x = s.cssSelector;
					if (s.captureClicks) $("body").append('<div class="OverlayScreen ' + $(selector).widgetId() + '-screen"><!-- --></div>');
					
					if (x) {
						if (x.charAt(0) == "#") {
							$("body").append('<div id="' + x.substring(1,x.length) + '"><div class="OverlayBackground ' + $(selector).widgetId() + '-bg"><!-- --></div></div>');
						} else {
							$("body").append('<div class="' + s.cssSelector + '"><div class="OverlayBackground ' + $(selector).widgetId() + '-bg"><!-- --></div></div>');
						}
					} else {
						$("body").append('<div class="' + $(selector).widgetId() + '-bg"><!-- --></div>');
					}
					s.bg = "." + $(selector).widgetId() + "-bg";
					s.screen = ".OverlayScreen";
					if (s.captureClicks) {
						$(s.screen).css("opacity", "0.0").add(s.bg).css("width", document.body.clientWidth).css("height", $(document).height());
					} else {
						$(s.bg).css("width", 0).css("height", 0);
					}
				},

				createOverlay: function(selector) {
					var jQ = $(selector);
					var s = jQ.widgetState();
					$(s.bg).append('<div id="panelEditItem" class="Overlay layer_wrapper_outer"><div id="layer_close_button" class="close"><a href="#" class="closePopupLayer"><img src="/assets/images/buttons/english/btn_closeLayer.png" alt="close" title="close" border="0" /></a></div><div class="layer_wrapper_inner"><div id="jsAjaxRoot" class="overlay-body layer_content_wrapper"><div class="overlay-loading"></div></div></div></div>');
					
					s.ov = s.bg + " .Overlay";
					s.ovbody = s.bg + " .Overlay .overlay-body";
					s.ovloading = s.bg + " .overlay-loading";
					var ov = $(s.ov);
					ov.css("position", "absolute");
					
					var options = {};
					// Safari has an issue with select dropdown boxes inside of draggable areas, so we need to explicitly
					// disable dragging on the body of the overlay in Safari only 
					if($.browser.safari) {
						$.extend(options, { cancel:'.overlay-body'});
					}
					if (s.dragByBody) {
						ov.draggable(options);
					}
					if (s.dragByHandle) {
						$.extend(options, { handle:'.handle'});
						ov.draggable(options);
					}
				},

				getBody: function(selector, source) {
	      		var s = $(selector).widgetState();
					var b = $(s.ovbody);
					if (source.sourceURL) {
						
						b.widgetAjax(selector, "path:" + source.sourceURL, null, null, null, function() {
							$(s.ovloading).hide();
							var ov =$(s.ov);
							//$("iframe", ov).attr("height",ov.height() + "px");
						});
					} else if (source.sourceSelector) {
						b.html("").append($(source.sourceSelector).html());
					}
				},

				hideAll: function() {
					$(".Overlay-stub").each(function(){
						OverlayWidget.hide(this);
					});	
				},
				
				hide: function(selector) {
					var jQ = $(selector);
					var s = jQ.widgetState();
					if (jQ[0].inProgress) return;
					if (!s.ov) return;
					var ov = $(s.ov);
					if (s.effectOnHide) {
						$(s.ov)
							  .hide(s.effectOnHide, {}, s.effectOnHideSpeed, function() {$(s.bg).hide();$(s.screen).hide();});
						$(s.ovbody).empty();
					} else {
							$(s.ov).hide();
							$(s.ovbody).empty();
							$(s.bg).hide();
							$(s.screen).hide();
					}
				},

				setShowEffect: function(selector, effect, options, speed) {
					var s = $(selector).widgetState();
					s.effectOnShow = effect;
					s.effectOnShowOptions = options;
					s.effectOnShowSpeed = speed;
				},

				setHideEffect: function(selector, effect, options, speed) {
					var s = $(selector).widgetState();
					s.effectOnHide = effect;
					s.effectOnHideOptions = options;
					s.effectOnHideSpeed = speed;
				},

				show: function(selector, event, source, x, y) {
					var jQ = $(selector);
					var s = jQ.widgetState();
					if (jQ[0].inProgress) return;
					jQ[0].inProgress = true;
					if (!s.created) {
						this.lazyload(selector, event);
						s.created = true;
					}

					$(s.bg).show();
					$(s.screen).show();
					//$("iframe", ov).show();
					var ov = $(s.ov);
					var ovl = $(s.ovloading);
					ov.show();
					ovl.show();
					this.getBody(selector, source);

					if (!x) {
						
						x = document.body.parentNode.clientWidth / 2;
						}
					if (!y) {
						y = document.body.parentNode.clientHeight /2;
					}

					var ovx = x - (ov.width() / 2);
					var ovy = y - (ov.height() / 2);


					if (!s.allowOffScreenOverlay) {
					
						var st = $(window).scrollTop();
						var sl = $(window).scrollLeft();
						if (ovx < sl) {
							ovx = s.onScreenPadding + sl;
						} else if (ovx + ov.width() > $(window).width()) {
							ovx = $(window).width() - ov.width() - s.onScreenPadding + sl;
						}

						if (ovy < st) {
							ovy = s.onScreenPadding + st;
						} else if (ovy + ov.height() > ($(window).height() + st)) {
							ovy = $(window).height() - ov.height() - s.onScreenPadding + st;
						}
					}
					ov.css("top", ovy + "px").css("left", ovx + "px");
					if (s.effectOnShow) {
						ov.show(s.effectOnShow, {}, s.effectOnShowSpeed, function() {
							jQ[0].inProgress = false;
							if (source.sourceSelector) {
								ovl.hide();
							}
						});
					} else {
						ov.show();
						jQ[0].inProgress = false;
						ovl.hide();
					}
				}
			});
		}
	
			$(function () {
/*
			 $("#widget-but-ucart").click(function(){
				 window.location = '/checkout/basket.jsp';
			 });
*/

			 $("#searchFormWrapper .search-button").click(function(){
				submitSearchForm(document.searchForm);
			 });
		  });
	   
            $(function(){
                if (!$('body').hasClass('mobile')) {
                    var ucartTimer;
                    $("#widget-but-ucart").on({
                        mouseenter: function(){
                        ucartTimer = setTimeout(function() { showBasket('show',''); }, 500);
                    },
                        mouseleave: function(ev) {
                        if( typeof ucartTimer != undefined ) { clearTimeout(ucartTimer); }
                    }
                    });
                }
            });

		  // When the Universal Cart layer opens
		  // it will close if the user clicks on anything in the main browser window
		  $(document).click(function(event) {
			 var posX = event.clientX;
			 var posY = event.clientY;
			 var miniCart = $('#widget-ucart');
			 var miniCartPos = miniCart.offset();
			 if(isShowingBasket())
			 {
				// If user click to background, close the mini cart
				if(!(posX >= miniCartPos.left && posX <= (miniCartPos.left + miniCart.width())
				   && posY >= miniCartPos.top && posY <= (miniCartPos.top + miniCart.height()))) {
				   hideBasket();
				}
			 }
		  });
		  
</script>
<meta name="p:domain_verify" content="97acea6995fd3bfc4ed2f9ea87862412">
	  
	    <meta property="fb:admins" content="677291545">

        <!-- Mobile Chrome/Android 5.0+ tab theme coloring -->
        <meta name="theme-color" content="#EB2B81">
	</head>
	

	
	<body id="Privacy and Security" class="custserv desktop">
	
	<!-- BEGIN OMNITURE  -->
		<script language="JavaScript" type="text/javascript">
         var s_account ='lillypulitzerprod';           
         var linkInternalFilters='javascript:,lilly-pulitzer.com';
		</script>
    <!-- END OMNITURE -->
 <!-- OMNITURE JS Reference -->
	<script src="/js/s_code.js" language="JavaScript" type="text/javascript"></script><!-- OMNITURE JS Reference -->
	
	<script type="text/javascript">
			
				//Google Universal analytics.
				(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
					(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
						m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
				})(window,document,'script','//www.google-analytics.com/analytics.js','_gaUTrk');

				_gaUTrk('create', 'UA-6230676-1', 'auto' );  // Replace with your property ID.
				_gaUTrk('require', 'ecommerce');
				_gaUTrk('set', 'dimension2', (function() { for ( var quick_prop in jQuery.browser ){ return quick_prop; } }()) );
				_gaUTrk('set', 'dimension3', 'Desktop' );
				_gaUTrk('set', 'dimension4', 'false' );
				_gaUTrk('send', 'pageview', '/custserv/custserv.jsp');
				</script>

        <script type="text/javascript">
  isTealiumEnabled = true;
  
      var utag_data = {"website_mode":"Desktop","page_type":"custserv"};
      function tealiumGo(a,b,c,d){
        a='//tags.tiqcdn.com/utag/lillypulitzer/main/prod/utag.js';
        b=document;c='script';d=b.createElement(c);d.src=a;d.type='text/java'+c;d.async=true;
        a=b.getElementsByTagName(c)[0];a.parentNode.insertBefore(d,a);
      };

      </script>
<div id="fb-root"><script async="" src="https://connect.facebook.net/en_US/all.js"></script></div>
<script>
    window.fbAsyncInit = function () {
        FB.init({appId: '226164220345', status: true, cookie: true,
            xfbml: true});
        FB.Event.subscribe('edge.create', function () {
            _gaUTrk('send', 'social', 'PDP Events', 'Liked Product', location.href);
        });
        // FB share
        FB.Event.subscribe('message.send', function () {
            _gaUTrk('send', 'social', 'PDP Events', 'Shared on Facebook', location.href);
        });
    };
    (function () {
        var e = document.createElement('script');
        e.async = true;
        e.src = document.location.protocol +
                '//connect.facebook.net/en_US/all.js';
        document.getElementById('fb-root').appendChild(e);
    }());
</script><div id="shellBody">
            <div id="shellBodyInner">
                <div id="siteTopWrap">
                    <div id="searchFormMCWrap">
        <div class="cmsWrapper" id="SearchMessage" data-content-name="Search Message"><style>
#promoBannerArea {
display: block;
font-size: 16px;
color: #fff;
letter-spacing: 1px;
text-decoration: none;
position: relative;
margin: 0 auto;
width: 100%;
}
#promoBannerArea span {
font-family: Gotham-Light;
}
body.desktop #searchFormMCWrap {
  background: url(/assets/images/cms/general_banners_small/StyleExperts_banner.jpg) no-repeat;
  background-size: 100% auto;
}
body.tablet #searchFormMCWrap {
  background: url(/assets/images/cms/general_banners_small/StyleExperts_banner.jpg) no-repeat;
margin: 0 auto;
}
body.mobile #searchFormMCWrap {
  font-size: 11px;
  line-height: 15px;
  background: url(/assets/images/cms/general_banners_small/StyleExperts_banner_mobile.jpg) no-repeat;
  width: 100%;
  max-width: 600px;
  margin: 0 auto;
}
body.mobile #promoBannerArea {
    padding-top: 6px;
  width: 320px;
  margin: 0 auto;
  display: block;
  color: #fff;
  text-decoration: none;
  font-size: 11px;
  line-height: 15px;
   letter-spacing: .3px;
}
#detailsCircle {
  display: block;
  position: absolute;
  top: 7px;
  right: 177px;
  background: url(/assets/images/cms/general_banners_small/4.20_detailsCircle.png) no-repeat;
  width: 22px;
  height: 22px;
}
#mobileDetailCircle {
  display: block;
  width: 16px;
  height: 16px;
  position: absolute;
  background: url(/assets/images/cms/general_banners_small/3.30_mobileDetailsCircle.png) no-repeat;
  top: 19px;
  right: 39px;
}

</style>
<div id="promoContentArea"></div>
<script>
$(document).ready(function(){

if ($("body").hasClass("mobile")) {
$("#promoContentArea").append('<a id="promoBannerArea" href="/content.jsp?pageName=styleexperts">OUR STYLE EXPERTS SHOWED US THEIR FAVORITE<br>SUMMER PICKS | <u>CHECK IT OUT >></u></a>');
			
			var
		homepage = $( '#home' ).length
		,pdp = $( '#product' ).length
		,custServ = $( 'body' ).hasClass( 'custserv' )
		,account = $( 'body' ).hasClass( 'account' )
		,reqCatalog = $('#requestCatalog').length
		,basket = $( '#basket' ).length
                ,checkout = $( '#onePageCheckout' ).length
		,orderStatus = $( '#orderStatus' ).length
		,signIn = $('#userLogin').length
		,signOut = $('#userLogout').length
		,mainContentWrap = $( '#mainContentWrap' )
		,mobileHomePage = $( '#mobileHomepage' )
		,hasStyleAttr = function( el ) {
			( mainContentWrap.attr( 'style' ) ) ? mainContentWrap.removeAttr( 'style' ) : !1;
		 };

		var
			 heightOfPromo = $( '#SearchMessage' ).height()
			,variableInitialHeight = 0;

		if ( !homepage && !pdp && !account && !custServ && !basket && !checkout) {
			variableInitialHeight = 61;
			hasStyleAttr( mainContentWrap );
			$( mainContentWrap ).attr( 'style', 'margin-top : ' + ( heightOfPromo + variableInitialHeight ) + 'px !important' );
		}  else if ( pdp ) {
			hasStyleAttr( mainContentWrap );
			variableInitialHeight = 0;
			$( mainContentWrap ).attr( 'style', 'margin-top : ' + ( variableInitialHeight ) + 'px !important' );
		} else if ( homepage ) {
			hasStyleAttr( mobileHomepage );
			variableInitialHeight = 61;
			$( mobileHomepage ).attr( 'style', 'margin-top : ' + ( heightOfPromo + variableInitialHeight ) + 'px !important' );
		} else if ( custServ ) {
			hasStyleAttr( mainContentWrap );
			variableInitialHeight = 60;
			$( mainContentWrap ).attr( 'style', 'margin-top : ' + ( heightOfPromo + variableInitialHeight ) + 'px !important' );
		} else if ( account && !orderStatus && !signIn && !signOut && !reqCatalog) {
			hasStyleAttr( mainContentWrap );
			variableInitialHeight = 1;
			$( mainContentWrap ).attr( 'style', 'margin-top : ' + ( heightOfPromo + variableInitialHeight ) + 'px !important' );
		} else if ( account && orderStatus ) {
			hasStyleAttr( mainContentWrap );
			variableInitialHeight = 60;
			$( mainContentWrap ).attr( 'style', 'margin-top : ' + ( heightOfPromo + variableInitialHeight ) + 'px !important' );
		} else if ( account && reqCatalog ) {
			hasStyleAttr( mainContentWrap );
			variableInitialHeight = 77;
			$( mainContentWrap ).attr( 'style', 'margin-top : ' + ( heightOfPromo + variableInitialHeight ) + 'px !important' );
		} else if ( account && signIn ) {
			hasStyleAttr( mainContentWrap );
			variableInitialHeight = 60;
			$( mainContentWrap ).attr( 'style', 'margin-top : ' + ( heightOfPromo + variableInitialHeight ) + 'px !important' );
		} else if ( basket ) {
			hasStyleAttr( mainContentWrap );
			variableInitialHeight = 4;
			$( mainContentWrap ).attr( 'style', 'margin-top : ' + ( heightOfPromo + variableInitialHeight ) + 'px !important' );
		} else if ( checkout ) {
			hasStyleAttr( mainContentWrap );
			variableInitialHeight = 4;
			$( mainContentWrap ).attr( 'style', 'margin-top : ' + ( heightOfPromo + variableInitialHeight ) + 'px !important' );
		}
		else if ( account && signOut ) {
			hasStyleAttr( mainContentWrap );
			variableInitialHeight = 77;
			$( mainContentWrap ).attr( 'style', 'margin-top : ' + ( heightOfPromo + variableInitialHeight ) + 'px !important' );
		};



}
else {
$("#promoContentArea").append('<a id="promoBannerArea" href="/content.jsp?pageName=styleexperts">OUR STYLE EXPERTS SHOWED US THEIR SUMMER PICKS | <u>CHECK IT OUT >></u></a>');
}
});
</script></div></div>
<header id="siteTop">
		<div id="socialLinks">
			<div class="contentArea fl">
				</div>
		</div><!-- /socialLinks -->

        <span id="ucartWrapper">
            <a class="cartbutton button" id="widget-but-ucart" href="http://www.lillypulitzer.com/checkout/basket.jsp"><span class="icon-tote" id="navCartBtn"></span>
                <span class="cart-info-text absoluteCenter">
                       <span id="widget-ucart-item-count">
                           <span id="headerItemCount">
        </span>
</span>
                   </span>
                </a></span><!-- /ucartWrapper -->

        <div id="searchFormWrapper">
            <form action="/catalog/search.cmd" method="get" name="searchForm" onsubmit="return doSearchValidation(this);"><input type="hidden" name="form_state" value="searchForm"><input type="search" class="keywordText" id="keyword" placeholder="I'm looking for..." name="keyword" onfocus="doSearchFocus(this)" onblur="doSearchBlur(this)" size="12" maxlength="25" autocomplete="off" autocorrect="off">
            </form></div>

         <span id="searchBtnWrapper">
                <a class="button" id="navSearchLink" href="javascript:;">
                    <span class="icon-search" id="navSearchBtn"></span>
                </a>
            </span>
        <div id="utility_links_container" class="utility_links">
        </div>
<a href="/" id="logoLink" title="Lilly Pulitzer Home Page">
            <span id="logo" class="icon-lillypulitzer horizontalCenter">Lilly Pulitzer</span>
        </a>


        <a class="nav-btn verticalCenter displayMobile" id="nav-open-btn" href="#header-nav" title="Navigation">
            <span class="icon-menu">menu</span>
            <!--<object data="/assets/images/buttons/english/mobile_hamburger_15.svg" type="image/svg+xml"></object>-->
            <!--<img src="http://www.lillypulitzer.com/assets/images/buttons/english/mobile_hamburger_15_optim.png" alt="" srcset="http://www.lillypulitzer.com/assets/images/buttons/english/mobile_hamburger_15_2x_optim.png 2x"/>-->
        </a>
	</header><!-- header#siteTop -->

    <div id="headerOverlay" class="Overlay-stub widget-root">
</div>
<script type="text/javascript">
	   var searchInstructions = "I'm looking for...";
	   var searchErrorText = "Please enter a search term and try your search again.";
	</script>

	<script>
        $(document).ready(function(){
            if (responsiveUtil.isTablet()) {
                global_nav.modifyTabletUserFirstName();
            }
        });
    </script><script type="text/javascript">
        <!--
        $(function() {
            
        });
        //-->
    </script>
    <nav id="header-nav">
        <div class="block">
            <ul class="level1">
                <li>
                            <a class="level1" id="nav-1" href="http://www.lillypulitzer.com/section/new-arrivals/1.uts">New Arrivals</a><ul id="subMenu_1" class="level2">
                                        <li class="tabletLink">
                                            <a href="javascript:void(0);" class="closeMenuLink">close</a>
                                        </li>
                                        <li class="sectionName display-mobile display-tablet">
                                            <a href="http://www.lillypulitzer.com/section/new-arrivals/1.uts">New Arrivals</a></li>
                                        <li>
                                                <a id="nav-3" href="http://www.lillypulitzer.com/category/new-arrivals/for-women/pc/1/3.uts">for Women</a></li>
                                        <li>
                                                <a id="nav-4" href="http://www.lillypulitzer.com/category/new-arrivals/for-kids/pc/1/4.uts">for Kids</a></li>
                                        <li>
                                                <a id="nav-416" href="http://www.lillypulitzer.com/category/new-arrivals/prints-under-100/pc/1/416.uts">Prints Under $100</a></li>
                                        <li>
                                                <a id="nav-335" href="http://www.lillypulitzer.com/category/new-arrivals/wear-now-july-fourth-style/pc/1/335.uts">Wear Now: July Fourth Style</a></li>
                                        <li class="content">
                                            <div class="contentArea">
                                                <div class="cmsWrapper" id="NewArrivals" data-content-name="New Arrivals"></div></div><img onload="$(this).parent().remove();" src="/assets/images/spacer.gif"></li>
<!-- Only change this area -->

<li><a href="/content.jsp?pageName=luxletic">Luxletic™</a></li>
<li><a href="/content.jsp?pageName=summer15essentials">Summer Essentials</a></li>
<li><a href="/content.jsp?pageName=destinationshift">Destination Shift</a></li>
<li><a href="/content.jsp?pageName=lpcatalog">Catalog</a></li>

<!-- /Only change this area -->
<li><img onload="$(this).parent().remove();" src="/assets/images/spacer.gif"><div><div></div></div>
                                        </li>
                                    </ul>
                                </li>
                    <li>
                            <a class="level1" id="nav-9" href="http://www.lillypulitzer.com/section/shop-prints/9.uts">Shop Prints</a><ul id="subMenu_9" class="level2">
                                        <li class="tabletLink">
                                            <a href="javascript:void(0);" class="closeMenuLink">close</a>
                                        </li>
                                        <li class="sectionName display-mobile display-tablet">
                                            <a href="http://www.lillypulitzer.com/section/shop-prints/9.uts">Shop Prints</a></li>
                                        <li>
                                                <a id="nav-496" href="http://www.lillypulitzer.com/category/shop-prints/red-right-return/pc/9/496.uts">Red Right Return</a></li>
                                        <li>
                                                <a id="nav-495" href="http://www.lillypulitzer.com/category/shop-prints/samba/pc/9/495.uts">Samba</a></li>
                                        <li>
                                                <a id="nav-497" href="http://www.lillypulitzer.com/category/shop-prints/shell-me-about-it/pc/9/497.uts">Shell Me About It</a></li>
                                        <li>
                                                <a id="nav-498" href="http://www.lillypulitzer.com/category/shop-prints/yacht-sea/pc/9/498.uts">Yacht Sea</a></li>
                                        <li>
                                                <a id="nav-492" href="http://www.lillypulitzer.com/category/shop-prints/conch-republic/pc/9/492.uts">Conch Republic</a></li>
                                        <li>
                                                <a id="nav-264" href="http://www.lillypulitzer.com/category/shop-prints/tusk-in-sun/pc/9/264.uts">Tusk In Sun</a></li>
                                        <li>
                                                <a id="nav-493" href="http://www.lillypulitzer.com/category/shop-prints/blue-heaven/pc/9/493.uts">Blue Heaven</a></li>
                                        <li>
                                                <a id="nav-494" href="http://www.lillypulitzer.com/category/shop-prints/salute/pc/9/494.uts">Salute</a></li>
                                        <li>
                                                <a id="nav-488" href="http://www.lillypulitzer.com/category/shop-prints/scuba-to-cuba/pc/9/488.uts">Scuba To Cuba</a></li>
                                        <li>
                                                <a id="nav-489" href="http://www.lillypulitzer.com/category/shop-prints/feeling-tanked/pc/9/489.uts">Feeling Tanked</a></li>
                                        <li>
                                                <a id="nav-490" href="http://www.lillypulitzer.com/category/shop-prints/besame-mucho/pc/9/490.uts">Besame Mucho</a></li>
                                        <li>
                                                <a id="nav-485" href="http://www.lillypulitzer.com/category/shop-prints/all-nighter/pc/9/485.uts">All Nighter</a></li>
                                        <li>
                                                <a id="nav-486" href="http://www.lillypulitzer.com/category/shop-prints/big-flirt/pc/9/486.uts">Big Flirt</a></li>
                                        <li>
                                                <a id="nav-487" href="http://www.lillypulitzer.com/category/shop-prints/hot-wings/pc/9/487.uts">Hot Wings</a></li>
                                        <li>
                                                <a id="nav-481" href="http://www.lillypulitzer.com/category/shop-prints/pink-colony/pc/9/481.uts">Pink Colony</a></li>
                                        <li>
                                                <a id="nav-480" href="http://www.lillypulitzer.com/category/shop-prints/first-impression/pc/9/480.uts">First Impression</a></li>
                                        <li class="content">
                                            <div class="contentArea">
                                                </div>
                                        </li>
                                    </ul>
                                </li>
                    <li>
                            <a class="level1" id="nav-38" href="http://www.lillypulitzer.com/section/dresses/38.uts">Dresses</a><ul id="subMenu_38" class="level2">
                                        <li class="tabletLink">
                                            <a href="javascript:void(0);" class="closeMenuLink">close</a>
                                        </li>
                                        <li class="sectionName display-mobile display-tablet">
                                            <a href="http://www.lillypulitzer.com/section/dresses/38.uts">Dresses</a></li>
                                        <li>
                                                <a id="nav-312" href="http://www.lillypulitzer.com/category/dresses/the-shift-dress/pc/38/312.uts">The Shift Dress</a></li>
                                        <li>
                                                <a id="nav-39" href="http://www.lillypulitzer.com/category/dresses/daytime/pc/38/39.uts">Daytime</a></li>
                                        <li>
                                                <a id="nav-40" href="http://www.lillypulitzer.com/category/dresses/party/pc/38/40.uts">Party</a></li>
                                        <li>
                                                <a id="nav-377" href="http://www.lillypulitzer.com/category/dresses/maxi-dresses/pc/38/377.uts">Maxi Dresses</a></li>
                                        <li>
                                                <a id="nav-167" href="http://www.lillypulitzer.com/category/dresses/the-lilly-white-dress/pc/38/167.uts">The Lilly White Dress</a></li>
                                        <li class="content">
                                            <div class="contentArea">
                                                <div class="cmsWrapper" id="Dresses" data-content-name="Dresses"><!-- --></div></div>
                                        </li>
                                    </ul>
                                </li>
                    <li>
                            <a class="level1" id="nav-243" href="http://www.lillypulitzer.com/section/tops-bottoms/243.uts">Tops &amp; Bottoms</a><ul id="subMenu_243" class="level2">
                                        <li class="tabletLink">
                                            <a href="javascript:void(0);" class="closeMenuLink">close</a>
                                        </li>
                                        <li class="sectionName display-mobile display-tablet">
                                            <a href="http://www.lillypulitzer.com/section/tops-bottoms/243.uts">Tops &amp; Bottoms</a></li>
                                        <li>
                                                <a id="nav-45" href="http://www.lillypulitzer.com/category/tops-bottoms/tops-tunics/pc/243/45.uts">Tops &amp; Tunics</a></li>
                                        <li>
                                                <a id="nav-49" href="http://www.lillypulitzer.com/category/tops-bottoms/shorts-rompers/pc/243/49.uts">Shorts &amp; Rompers</a></li>
                                        <li>
                                                <a id="nav-50" href="http://www.lillypulitzer.com/category/tops-bottoms/skirts-skorts/pc/243/50.uts">Skirts &amp; Skorts</a></li>
                                        <li>
                                                <a id="nav-318" href="http://www.lillypulitzer.com/category/tops-bottoms/elsa-top-collection/pc/243/318.uts">Elsa Top Collection</a></li>
                                        <li>
                                                <a id="nav-51" href="http://www.lillypulitzer.com/category/tops-bottoms/swimwear/pc/243/51.uts">Swimwear</a></li>
                                        <li>
                                                <a id="nav-245" href="http://www.lillypulitzer.com/category/tops-bottoms/sweaters-cardigans/pc/243/245.uts">Sweaters &amp; Cardigans</a></li>
                                        <li>
                                                <a id="nav-48" href="http://www.lillypulitzer.com/category/tops-bottoms/pants/pc/243/48.uts">Pants</a></li>
                                        <li>
                                                <a id="nav-491" href="http://www.lillypulitzer.com/category/tops-bottoms/luxletic-/pc/243/491.uts">Luxletic™</a></li>
                                        <li class="content">
                                            <div class="contentArea">
                                                <div class="cmsWrapper" id="Tops&amp;Bottoms" data-content-name="Tops &amp; Bottoms"><!-- --></div></div>
                                        </li>
                                    </ul>
                                </li>
                    <li>
                            <a class="level1" id="nav-61" href="http://www.lillypulitzer.com/section/accessories-shoes/61.uts">Accessories &amp; Shoes</a><ul id="subMenu_61" class="level2">
                                        <li class="tabletLink">
                                            <a href="javascript:void(0);" class="closeMenuLink">close</a>
                                        </li>
                                        <li class="sectionName display-mobile display-tablet">
                                            <a href="http://www.lillypulitzer.com/section/accessories-shoes/61.uts">Accessories &amp; Shoes</a></li>
                                        <li>
                                                <a id="nav-248" href="http://www.lillypulitzer.com/category/accessories-shoes/technology/pc/61/248.uts">Technology</a></li>
                                        <li>
                                                <a id="nav-62" href="http://www.lillypulitzer.com/category/accessories-shoes/shoes/pc/61/62.uts">Shoes</a></li>
                                        <li>
                                                <a id="nav-67" href="http://www.lillypulitzer.com/category/accessories-shoes/bags/pc/61/67.uts">Bags</a></li>
                                        <li>
                                                <a id="nav-247" href="http://www.lillypulitzer.com/category/accessories-shoes/scarves/pc/61/247.uts">Scarves</a></li>
                                        <li>
                                                <a id="nav-66" href="http://www.lillypulitzer.com/category/accessories-shoes/jewelry-belts-sunglasses/pc/61/66.uts">Jewelry, Belts &amp; Sunglasses</a></li>
                                        <li>
                                                <a id="nav-460" href="http://www.lillypulitzer.com/category/accessories-shoes/hanky-panky-collection/pc/61/460.uts">Hanky Panky Collection</a></li>
                                        <li>
                                                <a id="nav-397" href="http://www.lillypulitzer.com/category/accessories-shoes/finds-under-50/pc/61/397.uts">Finds Under $50</a></li>
                                        <li class="content">
                                            <div class="contentArea">
                                                </div>
                                        </li>
                                    </ul>
                                </li>
                    <li>
                            <a class="level1" id="nav-57" href="http://www.lillypulitzer.com/section/girls/57.uts">Girls</a><ul id="subMenu_57" class="level2">
                                        <li class="tabletLink">
                                            <a href="javascript:void(0);" class="closeMenuLink">close</a>
                                        </li>
                                        <li class="sectionName display-mobile display-tablet">
                                            <a href="http://www.lillypulitzer.com/section/girls/57.uts">Girls</a></li>
                                        <li>
                                                <a id="nav-130" href="http://www.lillypulitzer.com/category/girls/girls-dresses/pc/57/130.uts">Girls' Dresses</a></li>
                                        <li>
                                                <a id="nav-131" href="http://www.lillypulitzer.com/category/girls/girls-tops-bottoms-swimwear/pc/57/131.uts">Girls' Tops, Bottoms &amp; Swimwear</a></li>
                                        <li>
                                                <a id="nav-461" href="http://www.lillypulitzer.com/category/girls/matching-mom/pc/57/461.uts">Matching Mom</a></li>
                                        <li class="content">
                                            <div class="contentArea">
                                                </div>
                                        </li>
                                    </ul>
                                </li>
                    <li>
                            <a class="level1" id="nav-429" href="http://www.lillypulitzer.com/section/agendas/429.uts">Agendas</a><ul id="subMenu_429" class="level2">
                                        <li class="tabletLink">
                                            <a href="javascript:void(0);" class="closeMenuLink">close</a>
                                        </li>
                                        <li class="sectionName display-mobile display-tablet">
                                            <a href="http://www.lillypulitzer.com/section/agendas/429.uts">Agendas</a></li>
                                        <li>
                                                <a id="nav-430" href="http://www.lillypulitzer.com/category/agendas/large-agenda/pc/429/430.uts">Large Agenda</a></li>
                                        <li>
                                                <a id="nav-433" href="http://www.lillypulitzer.com/category/agendas/jumbo-agenda/pc/429/433.uts">Jumbo Agenda</a></li>
                                        <li>
                                                <a id="nav-431" href="http://www.lillypulitzer.com/category/agendas/medium-agenda/pc/429/431.uts">Medium Agenda</a></li>
                                        <li>
                                                <a id="nav-432" href="http://www.lillypulitzer.com/category/agendas/small-agenda/pc/429/432.uts">Small Agenda</a></li>
                                        <li class="content">
                                            <div class="contentArea">
                                                </div>
                                        </li>
                                    </ul>
                                </li>
                    </ul>
            <div id="navBottomBorder"></div>

        </div>
        </nav>
</div><!-- /#siteTopWrap -->
                <div id="mainContentWrap" class="clr ">
                    <div id="centerContentWrap" class="container">
                        <div id="bodyWrap" class="">
                            <div id="breadcrumbWrapperOuter">
			<div id="breadcrumbWrapper">
				<div class="Breadcrumb">
					<div class="crumb">
						<a href="/custserv/custserv.jsp">At Your Service</a></div>
					<div class="delim">&nbsp;/&nbsp;</div>
					<div class="crumb last">
						Privacy &amp; Security</div>
				</div><!-- /Breadcrumb -->
			</div><!-- /breadcrumbWrapper -->
			<div class="clr"></div>
		</div><!-- /breadcrumbWrapperOuter -->
	<div id="pageContentWrap">
	<div class="contentArea">
		<div class="cmsWrapper" id="PrivacyandSecurity" data-content-name="Privacy and Security"><style type="text/css">
    #breadcrumbWrapperOuter {
       display: none; 
}
    #pageContentWrap .contentArea {
      line-height: 16px !important;
    }
    #pageContentWrap .contentArea p {
      padding: 5px 0px 5px 0px;
    }
    #pageContentWrap .contentArea h1 {
      margin-bottom: 15px;
    }
    #pageContentWrap .contentArea ul {
      margin: 10px 0;
    }
    #pageContentWrap .contentArea ul li {
      display: list-item !important;
      list-style-type: disc !important; 
      margin: 0 0 5px 25px;
    }
    #pageContentWrap .contentArea h2, h3 {
      margin-top: 25px;
    }
    #mainContentWrap.maxWidth {
      padding: 1em;
    }
    .contentArea .effectiveDate {
      font-style: italic;
      margin: 2em 0;
    }
    </style>
  
    <h1>Lilly Pulitzer Privacy &amp; Security Policy</h1>
    
    <p>We have created this ecommerce privacy policy to demonstrate our firm commitment to your privacy and the protection of your email and personal 
    information. This privacy policy (this "Policy") applies to your use of the www.LillyPulitzer.com website (the "Website"), which is owned and operated 
    by Sugartown Worldwide LLC ("Sugartown Worldwide", "Lilly Pulitzer", "us", "our" or "we"). Your privacy and security are important to us. Please read 
    this Policy carefully to understand how we will use and protect the personal information you provide us. We will not share your personal information 
    with anyone except as described in this  Policy. This Policy describes the personal information we collect about you, why we collect it, how we use 
    it and under what circumstances we share it with third parties. This Policy also describes the decisions you can make about how you provide your 
    personal information to us. If this Policy changes in the future, we will post an updated version on our website. You can tell if this Policy has 
    changed by checking the revision date that appears at the bottom. You may change how you provide your personal information to us at any time.</p>
    
    <h2>Our Privacy Policy: Contents</h2> 
    <ul>
      <li><a href="#collecting">Information We Collect</a></li>
      <li><a href="#using">Using Information We Collect</a></li>
      <li><a href="#sharing">Sharing Information We Collect</a></li>
      <li><a href="#marketing">Your Decisions on Receiving Marketing Communications</a></li>
      <li><a href="#cookies">Our Use of Cookies</a></li>
      <li><a href="#security">Security</a></li>
      <li><a href="#children">Children's Privacy</a></li>
      <li><a href="#links">Links to Other Sites</a></li>
      <li><a href="#california">California Privacy Rights / Questions or Comments</a></li>
    </ul>
    
    <h3><a name="collecting"></a>Information We Collect</h3> 
    <p>We may collect personal information from you, such as your name, email address, postal address, phone number, gender, birthday, and product 
    preferences when engaging in any of the activities listed below:</p>
    <ul>
      <li>Place an order from our website</li>
      <li>Make a purchase at one of our Lilly Pulitzer Retail Stores</li>
      <li>Return an item or make an exchange from a previous purchase</li>
      <li>Inquire about our services</li>
      <li>Receive a gift package</li>
      <li>Create an account (profile) at LillyPulitzer.com</li> 
      <li>Subscribe to receive our emails</li> 
      <li>Enter a contest or sweepstakes</li> 
      <li>Are referred to us through a marketing promotion</li> 
      <li>Participate in a marketing survey, promotion, or event</li>
      <li>Navigate to and through our website (see <a href="#cookies">Our Use of Cookies</a> below for further information)</li> 
      <li>Participate in Lilly Pulitzer social media including ratings &amp; reviews and stories</li>
    </ul>
    
    <p>For visitors who provide photographs, stories, testimonials or other feedback about our products or our Website, or provide us any other 
    information via correspondence or otherwise ("Content") directly via an email hyperlink on the Website, we collect your first and last name, 
    email address and any Content included in the email. By submitting Content, you agree that Lilly Pulitzer may use your Personal Information 
    and such Content as permitted under this  Policy, including reproducing the Content on the Website and in Lilly Pulitzer's marketing and 
    advertising materials. We maintain a record of your product interests and the purchases you make. We may combine all of this information with 
    information about you that we acquire from our joint marketing partners, from unrelated third parties, and from our other brands.</p>
    
    <h3><a name="using"></a>Using Information We Collect</h3>
    <p>To provide you with the best possible customer experience, we may use your personal information in the following ways:</p>
    <ul>
      <li>To process and fulfill your order, including to send you emails to confirm your order status and shipment</li> 
      <li>To communicate with you and to send you information by email, postal mail, telephone, text message, or other means about our products, 
      services, contests, and promotions, unless you have directed us not to contact you with promotional communications</li> 
      <li>To administer and fulfill our contests and other promotions</li>
      <li>To help us learn more about your shopping preferences</li> 
      <li>To help us address problems with and improve our site design, products and services</li> 
      <li>To enhance your shopping experience</li> 
      <li>To analyze trends and statistics</li> 
      <li>To protect the security or integrity of our websites and our business</li> 
      <li>To contact you</li> 
      <li>To improve our merchandise selection and customer service</li> 
    </ul>
    
    <p>You have the option not to receive marketing information or calls. For instructions on opting out, please see the section entitled, 
    <a href="#marketing">"Your Decisions on Receiving Marketing Communications"</a>, below.</p> 
    
    <h3><a name="sharing"></a>Sharing Information We Collect</h3> 
    <p>We may share your personal information in the following ways:</p> 
    <ul>
      <li>We may share your information with our service providers who manage our customer information and perform services on our behalf, such as 
      fulfilling promotions, sending communications to our customers, conducting surveys, etc. We do not authorize any of these service providers 
      to make any other use or disclosure of your information.</li> 
      <li>We may share your information when we partner with another company in a joint marketing program to offer or provide products, services, 
      contests, or promotions to our customers.  We also work with third party companies that use tracking technologies (including cookies and tags) 
      on our website in order to provide tailored advertisements on our behalf and on behalf of other advertisers across the internet. 
      These companies may collect information about your activity on our sites and your interaction with our advertising and other communications 
      and use this information to determine which ads you see on third-party websites and applications. For more information about this practice 
      and to understand your options, please visit <a href="http://www.aboutads.info" target="_blank">http://www.aboutads.info</a>. Except for sharing this information with a joint marketing partner, 
      we do not sell or lease your information to any third party to use for marketing their products.</li> 
      <li>We may share information about you, if necessary, in our good faith judgment, to comply with laws or regulations or in response to a 
      valid subpoena, order, or government request, or to protect the rights of Lilly Pulitzer or others.</li> 
      <li>If you purchase Lilly Pulitzer products through our website or by placing a catalog order by phone or mail, we may share your name, 
      postal address, and shopping history with like-minded organizations whose privacy policies meet the Direct Marketing Association's 
      privacy standards, for their direct mail marketing purposes.</li> 
    </ul>
    
    <h3><a name="marketing"></a>Your Decisions on Receiving Marketing Communications</h3> 
    <p>You can review your personal information at any time. To access your personal information online, simply click Your Account at the top of 
    any web page, sign in when prompted. You can update your personal information, by calling Guest Services at 1.888.725.4559. We want to 
    communicate with you only if you want to hear from us. Lilly Pulitzer provides a choice in communication for customers so you can 
    receive information from us at your discretion. We communicate with our customers by promotional email, mailings (postal) and telephone. 
    If you would like to be removed from our promotional email, mailings (postal) or telephone lists, please contact us by calling Guest 
    Services at 1.888.725.4559 or by sending an email toservice@lillypulitzer.com. You may also write to us at:</p>
    Lilly Pulitzer Guest Services<br>
    800 3rd Avenue<br>
    King of Prussia, PA 19406<br> 
    
    <p>Please specify from which list(s) ? "Do Not Email", "Do Not Mail", or "Do Not Call" ? you would like to be removed from. Please 
    note that requests by email or phone may take up to ten business days to process and request by mail (postal) may take up to six to eight weeks 
    to process.</p>
    
    <p>Alternatively, if you do not want to receive promotional emails (i.e. not order-related) that notify you of new product arrivals, 
    exclusive offers, upcoming events, store openings and the like, simply click the unsubscribe link provided at the bottom of any 
    Lilly Pulitzer email. Please note, however, that this is for email only.</p>
    
    <h3><a name="cookies"></a>Our Use of Cookies</h3> 
    <p>We regularly use browser tracking cookies. A cookie is a small text file that is placed on your hard disk by a website. Cookies are 
    uniquely assigned to you, and can only be read by a website or web server in the domain that issued the cookie to you. Cookies cannot 
    be used to run programs or deliver viruses to your computer.</p>
    
    <p>We use cookies but do not store personal information in your cookie. We use cookies in order to improve your shopping experience. 
    For example, we use cookies to:</p>
    <ul>
      <li>Recognize you when you return to our website</li> 
      <li>Keep track of your order as you shop on our website and remember what items are in your My Tote</li> 
      <li>Process your order on our website and enable you to use Express Checkout, if you have created an account at LillyPulitzer.com</li> 
      <li>Study how our Guest's navigate through our website and which products they request in site searches</li> 
      <li>Customize the message and delivery of online banner ads based on your online behavior.</li> 
    </ul>
    
    <p>Through our use of cookies, we may also track and maintain the identity of the website you visited immediately prior to visiting our website. 
    We do not otherwise track any information about your use of other websites.</p>
    
    <p>Cookies are also used to review how visitors to our website navigate our site or interact with our email advertising. Third-party 
    companies assist in the collection and analysis of this data. Your name, street address or credit card number is not accessed by or shared 
    with other companies.</p>
    
    <p>You have the ability to accept or decline cookies. You can refuse cookies by turning them off in your browser. If you decide to block 
    cookies, our website might not function correctly. For example, if you do not allow cookies at all, you might not be able to view some of our 
    website or use certain features like adding products to your shopping cart, which may impact your shopping experience with us. If you refuse 
    cookies and wish to place an order from our website, please call Guest Services at 1.888.725.4559.</p>
    
    <p>We work with a variety of advertising companies to place our ads on websites across the Internet. These advertising companies collect 
    anonymous information about your visits to our web site, other advertising websites or interaction with our email through the use of cookies. 
    This technology allows them to develop Lilly Pulitzer advertising and marketing about goods and offers that may be of interest to you.</p>
    
    <h3><a name="security"></a>Security</h3> 
    <p>We do our best to provide you with a safe shopping experience. We have in place certain physical, electronic, contractual, and managerial 
    safeguards to protect the security and privacy of your personal information.</p>
    
    <p>When you enter your personal information on our websites, we use Secure Sockets Layer (SSL) technology to protect your information as it 
    is transmitted to us. To make sure you are accessing our secure server before you submit personal financial information, look at the lower 
    left-hand corner of your browser. If you see an unbroken key or a closed lock (depending upon your browser), then SSL is active. To double-check 
    for security, look at the URL or Location line of your browser. If you have accessed a secure server, the first characters of the address in 
    that line should change from "http" to "https."</p>
    
    <p>If for any reason you cannot access the secure server, or if you're not quite comfortable shopping online at any of our websites, please 
    feel free to place your order with us through Guest Services at 1.888.725.4559.</p>
    
    <p>Identity thieves sometimes send fraudulent email messages to trick customers into divulging personal or financial information 
    (a practice known as "phishing"). "Phishing" is a scam designed to steal your personal information. If you receive an email that looks 
    like it is from us asking you for your personal information, do not respond. We will never request your password, user name, credit card 
    information or other personal information through email. If you have received or entered personal information in response to a suspicious 
    email, pop-up or phony website claiming to be affiliated with Lilly Pulitzer, please call us at 1.888.725.4559 immediately.</p> 
    
    <h3><a name="children"></a>Children's Privacy</h3>
    <p>Protecting children's privacy is important to us. Our website is a general audience site. We do not collect or maintain information from 
    those we actually know are under 13, and no part of our website is targeted to attract anyone under 13. We also do not send email 
    correspondence to anyone who tells us that they are under the age of 13 without their parent's consent.  Children under the age of 
    13 should always ask their parents or guardians for permission before providing any personal information to anyone online. We urge 
    parents and guardians to participate in their children's online activities and use parental control or other web filtering technology to 
    supervise children's access to the web.</p>
    
    <h3><a name="links"></a>Links to Other Sites</h3> 
    <p>Occasionally we provide links on our website to other sites we think you will enjoy. These sites operate independently of us and have 
    established their own privacy and security policies. For the best online experience, we strongly encourage you to review these policies 
    at any site you visit. We are not responsible for the content or practices of any linked websites which are provided solely for the 
    convenience and information of our visitors.</p> 
    
    <h3><a name="california"></a>California Privacy Rights / Questions or Comments</h3> 
    <p>California Civil Code Section 1798.83 permits residents of California the right to request from a business, with whom the California 
    resident has an established business relationship, certain information with respect to the types of personal information the business shares 
    with third parties for the direct marketing purposes by such third party and the identities of the third parties with whom the business has 
    shared such information during the immediately preceding calendar year. To make such a request, or for any other questions or comments 
    please feel free to contact us at the following address:</p>
    Lilly Pulitzer Guest Services<br>
    800 3rd Avenue<br>
    King of Prussia, PA 19406<br>
    1.888.725.4559<br>
    <a href="mailto:service@LillyPulitzer.com">service@LillyPulitzer.com</a><br>
    
    <p class="effectiveDate">Effective Date: February 20, 2013</p></div></div>
	<div class="clr"></div>	
</div></div><div id="scroll_blocker" style="display: none; opacity: 0; background-color: rgba(0, 0, 0, 0.2); position: fixed; right: 0; top: 0; height: 100vh; width: 100vw; z-index: 18;"></div><!-- /bodyWrap -->
                        <div class="clr"><!-- --></div>
                    </div><!-- /centerContentWrap -->
                </div><!--  /"contentWrap" -->
                <div id="footer">
                    <div id="footerInner">
	<div class="commonFooter">
		<div class="contentArea">
			<div class="cmsWrapper" id="Footer-MainBody" data-content-name="Footer - Main Body"><!-- start footer content 5.8.2015 -->
<style>

#mobileFooterContainer{display:none}body.mobile #mobileFooterContainer{display:block;width:100%}body.mobile #mobileMenus{display:block;width:100%;background:#020D45;padding-bottom:35px;padding-top:15px}body.mobile #mobileFooterContainer .menuTitle{font-size:20px;line-height:20px;color:#EB2B81;font-family:Gotham-Medium;padding-top:20px}body.mobile #mobileFooterContainer .menuLink{display:block;font-size:20px;line-height:20px;color:#fff;font-family:Gotham-Medium;text-align:left;padding-left:12px;letter-spacing:.3px;text-decoration:none}body.mobile #mobileFooterContainer hr{width:96%;margin:0 auto;margin-top:12px;margin-bottom:12px}body.mobile #mobileFooterContainer .bottomFooterLink{display:block;font-size:16px;line-height:16px;color:#fff;font-family:Gotham-Book;font-weight:bold;padding-top:16px}body.mobile #mobileFooterContainer .extraPadding{padding-top:30px}body.mobile .commonFooter{border-top:none}body.mobile #footerWrapper{display:none}body.mobile #siteMapRow{display:none}.commonFooter{width:100%;border-top:1px solid #dedede;padding-bottom:0}.footerLinksList li{padding:.3em 0}#footer_fbook{display:block;background:url(/assets/images/cms/general_banners_small/footer_fbook.jpg) no-repeat;background:url(/assets/images/cms/general_banners_small/footer_fbookIE.jpg) no-repeat \9;width:25px;height:24px;background-size:25px 24px;text-indent:-99999px}#footer_pinterest{display:block;background:url(/assets/images/cms/general_banners_small/footer_pinterest.jpg) no-repeat;background:url(/assets/images/cms/general_banners_small/footer_pinterestIE.jpg) no-repeat \9;width:25px;height:24px;background-size:25px 24px;text-indent:-99999px}#footer_twitter{display:block;background:url(/assets/images/cms/general_banners_small/footer_twitter.jpg) no-repeat;background:url(/assets/images/cms/general_banners_small/footer_twitterIE.jpg) no-repeat \9;width:25px;height:24px;background-size:25px 24px;text-indent:-99999px}#footer_instagram{display:block;background:url(/assets/images/cms/general_banners_small/footer_instagram.jpg) no-repeat;background:url(/assets/images/cms/general_banners_small/footer_instagramIE.jpg) no-repeat \9;width:25px;height:24px;background-size:25px 24px;text-indent:-99999px}#footer_youtube{display:block;background:url(/assets/images/cms/general_banners_small/footer_youtube.jpg) no-repeat;background:url(/assets/images/cms/general_banners_small/footer_youtubeIE.jpg) no-repeat \9;width:25px;height:24px;background-size:25px 24px;text-indent:-99999px}#footerWrapper{width:1024px;margin:0 auto;overflow:hidden;text-align:left}#footerLeftCol{display:block;width:345px;height:300px;float:left}#footerCenterCol{display:block;width:333px;height:380px;float:left}.footerLinksList{margin:0 auto;text-align:center;width:167px;height:33px}.footerLinksList .footer_socialList{display:inline-block;padding-left:10px;float:left}.footerLinksList .footer_socialList:first-child{padding-left:0}#footerRightCol{display:block;float:left;width:345px;height:300px}#footerWrapper .colTitle{text-align:center;font-size:12px;font-family:Gotham-Book, Montserrat, Arial;color:#7c7c7c;letter-spacing:1px;margin:0 auto;margin-top:30px}.colTitle li a{font-size:12px;color:#333333;font-family:Gotham-Book, Montserrat, Arial;line-height:22px}.colTitle hr{width:108px;margin:0 auto;color:#dedede;background:#dedede;margin-top:8px;margin-bottom:10px}input#findStoreField{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-background-clip:padding;-moz-background-clip:padding;background-clip:padding-box;-webkit-border-radius:0;-moz-border-radius:0;-ms-border-radius:0;-o-border-radius:0;border-radius:0;-webkit-appearance:none;background-color:#fff;outline:0;margin:0;padding:0;text-align:left;font-size:1em;height:1em;vertical-align:middle;height:30px !important;width:223px !important;border:1px solid #dedede;color:#eb2b81;float:left !important;padding-left:6px;font-family:Gotham-Book, Montserrat, Arial;font-style:italic;letter-spacing:.7px}#footerStoreForm{position:relative;text-align:center;width:255px;margin:12px auto;height:30px}#footerStoreForm fieldset{padding:0 !important;margin:0 2px;height:30px}a#findStoreBtn{display:inline-block;position:absolute;right:0;top:0;height:30px;line-height:30px;padding:0;margin:0;width:30px;font-family:Gotham-Medium, Montserrat, Arial;font-size:10px;color:#fff;letter-spacing:0}a#findStoreBtn:hover{background:#020d45;text-decoration:none}#shareEmail{display:block;width:249px;height:106px;background:#eb2b81;position:relative;margin:0 auto;margin-top:30px;border:3px solid #f595c0}#shareEmail span.labelFieldWrapper{display:inline-block;position:relative;vertical-align:top;white-space:nowrap;font-family:Gotham-Book, Arial, sans serif;width:218px;height:29px}#shareEmail .colTitle hr{width:108px;margin:0 auto;color:#fff;background:#fff;margin-top:8px;margin-bottom:10px}#footerWrapper #shareEmail .colTitle{color:#fff;margin-top:12px}#monetateSendersEmailAddressFooter::-webkit-input-placeholder{color:#eb2b81;text-align:center;font-style:italic}#monetateSendersEmailAddressFooter:-moz-placeholder{color:#eb2b81;text-align:center;font-style:italic}#monetateSendersEmailAddressFooter::-moz-placeholder{color:#eb2b81;text-align:center;font-style:italic}#monetateSendersEmailAddressFooter:-ms-input-placeholder{color:#eb2b81;text-align:center;font-style:italic}#footerLogo{display:block;background:url(/assets/images/cms/general_banners_small/footer_lillylogo.jpg) no-repeat;background:url(/assets/images/cms/general_banners_small/footer_lillylogoIE.jpg) no-repeat \9;background-size:177px 55px;width:177px;height:55px;position:relative;margin:0px auto;margin-top:26px}#siteMapRow{display:block;width:100%;height:42px;background:#f6f6f6}.bottomLinkStyle{font-family:Gotham-Book, Montserrat, Arial;font-size:12px;letter-spacing:1px;color:#333;text-decoration:none;padding:1.5em 1em 0 1em}.bottomFooterLinks{display:inline-block}.bottomLinkStyle:hover{color:#333;text-decoration:underline}.bottomFooterLinks #phoneNumber{font-size:12px;letter-spacing:1px;font-family:Gotham-Book, Montserrat, Arial;padding:.6em 1em 1em 1em;color:#7c7c7c}#serviceEmail{color:#eb2b81;text-decoration:underline;font-family:Gotham-Medium, Montserrat, Arial}#bottomFooterList{width:auto;margin:0 auto;padding-top:12px}@media only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: portrait){#footerWrapper{width:768px}#footerLeftCol{width:253px}#footerCenterCol{width:245px}#footerRightCol{width:269px}#findStoreField{width:195px !important}#footerStoreForm{width:245px}#shareEmail{width:239px}}

/* Styles for mobile monetate email signup box */
body.mobile #shareEmail{border:none;height:auto;margin-top:0;width:54vw!important}body.mobile #monetateSendersEmailAddressFooter{background-color:#fff!important;border:0!important;height:42px!important;line-height:42px!important;padding:0 0 0 10px!important;-webkit-box-shadow:inset 0 2px 4px 0 rgba(0,0,0,.34);-moz-box-shadow:inset 0 2px 4px 0 rgba(0,0,0,.34);box-shadow:inset 0 2px 4px 0 rgba(0,0,0,.34);width:51vw!important}body.mobile #monetateFooterEmailMobileSuscriptionForm{background-color:transparent!important;height:42px!important}body.mobile #monetate-footer-email-signup,body.mobile #monetateFooterEmailMobileSuscriptionForm fieldset,body.mobile .labelFieldWrapper,body.mobile div.type_emailAddress.dontVerify.formFieldContainer.overLabeled{height:42px!important}body.mobile #footerWrapper .colTitle{font-size:3.8vw!important}
</style>

<!-- MOBILE FOOTER -->
    <div id="mobileFooterContainer">
        <div id="mobileMenus">
            <p class="menuTitle">SHOPPING</p>
            <hr>
            <a href="/checkout/order_status.jsp" class="menuLink">ORDER STATUS</a>
            <hr>
            <a href="/content.jsp?pageName=GiftCards" class="menuLink">GIFT CARDS</a>
            <hr>

            <p class="menuTitle">CUSTOMER SERVICE</p>
            <hr>
            <a href="/custserv/custserv.jsp" class="menuLink">CUSTOMER FAQ</a>
            <hr>
            <a href="/custserv/custserv.jsp?pageName=Returns" class="menuLink">RETURN POLICY</a>
            <hr>
            <a href="/custserv/custserv.jsp?pageName=Shipping" class="menuLink">SHIPPING INFO</a>
            <hr>

            <p class="menuTitle">MORE LILLY</p>
            <hr>
            <a href="/content.jsp?pageName=heritage" class="menuLink">OUR STORY</a>
            <hr>
            <a href="/custserv/custserv.jsp?pageName=DreamJobs" class="menuLink">DREAM JOBS</a>
            <hr>
            <a href="/content.jsp?pageName=lpcatalog" class="menuLink">CATALOG</a>
            <hr>

            <a href="/custserv/custserv.jsp?pageName=Privacy" class="bottomFooterLink extraPadding">PRIVACY &amp; SECURITY</a>
            <a href="/custserv/sitemap.jsp" class="bottomFooterLink">SITEMAP</a>

        </div>
    </div>
    
    <!-- ------ END MOBILE FOOTER ------ -->


    <div id="footerWrapper">

        <div id="footerLeftCol">
            <ul class="colTitle">SHOPPING
                <hr>
                <li><a href="/checkout/order_status.jsp">Order status</a></li>
                <li><a href="/wishlist/wishlist_search.jsp">Wishlist</a></li>
                <li><a href="/catalog/search.cmd?request_type=jfy">Just for you</a></li>
                <li><a href="/content.jsp?pageName=GiftCards">Gift cards</a></li>
            </ul>
            <ul class="colTitle">MORE LILLY
                <hr>
                <li><a href="/content.jsp?pageName=heritage">Our Story</a></li>
                <li><a href="/custserv/custserv.jsp?pageName=DreamJobs">Dream Jobs</a></li>
                <li><a href="/content.jsp?pageName=lpcatalog">Catalog</a></li>
            </ul>

            <div id="footerLogo"></div>
        </div>

        <div id="footerCenterCol">
            <ul class="colTitle">CUSTOMER SERVICE
                <hr>
                <li><a href="/custserv/contactus.jsp">Contact Us</a></li>
                <li><a href="/custserv/custserv.jsp">Customer FAQ</a></li>
                <li><a href="/custserv/custserv.jsp?pageName=Returns">Return Policy</a></li>
                <li><a href="/custserv/custserv.jsp?pageName=Shipping">Shipping Info</a></li>
            </ul>
            <ul class="colTitle">FOLLOW US
                <hr>
                <li>
                    <ul class="footerLinksList"> 
                        <li class="footer_socialList"><a id="footer_fbook" class="footerColumnLinks" href="https://www.facebook.com/lillypulitzer" target="_blank">Facebook</a></li>
                        <li class="footer_socialList"><a id="footer_pinterest" class="footerColumnLinks" href="http://www.pinterest.com/lillypulitzer" target="_blank">Pinterest</a></li>
                        <li class="footer_socialList"><a id="footer_twitter" class="footerColumnLinks" href="https://twitter.com/lillypulitzer" target="_blank">Twitter</a></li>
                        <li class="footer_socialList"><a id="footer_instagram" class="footerColumnLinks" href="http://instagram.com/lillypulitzer/" target="_blank">Instagram</a></li>
                        <li class="footer_socialList"><a id="footer_youtube" class="footerColumnLinks" href="http://www.youtube.com/user/LillyPulitzerPB" target="_blank">Youtube</a></li>
                    </ul>
                 </li>
            </ul>
        </div>

        <div id="footerRightCol">
            <div class="colTitle">FIND A STORE
                <hr>
                <form method="post" action="/custserv/locate_store.cmd" id="footerStoreForm">
                    <fieldset>
                        <input type="text" onfocus="this.value='';" value="City &amp; State, or Zip Code" autocomplete="off" maxlength="100" name="cityStateZip" id="findStoreField">
                        <a onclick="$(this).parents('#footerStoreForm').submit()" id="findStoreBtn" class="formButton">GO</a>
                    </fieldset>
                </form>
            </div>

            <div id="shareEmail">
                <div class="colTitle">STAY IN TOUCH
                    <hr>
                </div>
            <div id="monetate-footer-email-signup" style="margin: 0 auto; position: relative; top: 0px; left: 0px; height: 28px; width: 223px;"><form class="ajaxFormSubmit" id="monetateFooterEmailMobileSuscriptionForm" style="background-color: #fbd5e6; position: relative; left: 0px; top: 2px; text-align: left; margin: 0 auto; padding: 0; height: 29px; width: 223px; overflow:hidden;" action="/catalog/emailMobileSubscription_popup.cmd" method="post" name="emailMobileSuscriptionFormFooter"><fieldset style="margin: 0; padding: 0; line-height: 1; height: 29px;"><div class="type_emailAddress dontVerify formFieldContainer overLabeled" style="margin: 0; padding: 0;"><span class="labelFieldWrapper"><label for="sendersEmail"></label><input id="monetateSendersEmailAddressFooter" name="sendersEmail" type="email" maxlength="65" autocorrect="off" autocapitalize="off" autocomplete="off" placeholder="My email address" style="background-color: #fbd5e6; color: #eb2b81; line-height: 29px; height: 27px; width: 266px; margin: 0; padding: 0 0 0 4px; font-size: 13px; border: 1px solid #fbd5e6;"></span></div><input style="visibility: hidden;" class="emailFormat" id="monetateABhtmlFormeState" name="form_state" type="hidden" value="emailMobileSuscriptionFormFooter"><input style="visibility: hidden;" class="emailFormat" id="monetateABhtmlFormat" name="emailFormat" type="radio" value="html" checked="true"><label style="visibility: hidden;" for="htmlFormat">HTML (with images)</label><input type="hidden" name="mobilePhoneNumber" value="" styleid="monetateABmobilePhoneNumber"></fieldset></form></div></div>
        </div>       
    
    </div><!-- /footerWrapper -->


<div id="siteMapRow">
    <ul id="bottomFooterList">
        <li class="bottomFooterLinks"><a href="/custserv/custserv.jsp?pageName=Privacy" class="bottomLinkStyle">Privacy + Security</a></li>
        <li class="bottomFooterLinks"><a href="/custserv/sitemap.jsp" class="bottomLinkStyle">Sitemap</a></li>
        <li class="bottomFooterLinks"><a href="mailto:service@lillypulitzer.com" class="bottomLinkStyle" id="serviceEmail">service@lillypulitzer.com</a></li>
        <li class="bottomFooterLinks"><a href="tel:1-888-725-4559" id="phoneNumber">1.888.725.4559</a></li>
    </ul>
</div>

<!--  end footer content -->


<!--  place minified scripts here-->
<script type="text/javascript">
$(document).ready(function(){$("#shellBody");$("body").hasClass("catalog")&&$(".openAjaxEditItem").live("click",function(b){b.preventDefault();b.stopPropagation();s=s_gi(s_account);s.tl(!0,"o","Category Page "+$(this).attr("href"));window.isGAEnabled&&(window.isGAUniversal?_gaUTrk("send","event","Category Page - Quick Shop","Click",$(this).attr("href")):_gaq.push(["_trackEvent","Category Page - Quick Shop","Click",$(this).attr("href")]))});(function(){var b=document.getElementById("shareEmail"),a=
function(){var a=$("#monetateFooterEmailMobileSuscriptionForm");$($("body")[0]);var b=$("#monetateSendersEmailAddressFooter").val();/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+(?:[A-Z]{2}|com|org|net|edu|gov|mil|biz|info|mobi|name|aero|asia|jobs|museum)\b/.test(b)&&$.ajax({data:a.serialize(),url:a.attr("action"),type:null!=a.attr("method")?a.attr("method"):"GET",success:function(a){$("#monetate-footer-email-signup").toggle({opacity:0}).css("display",
"none");$("#monetate-header-email-signup").toggle({opacity:0}).css("display","none");$("#shareEmail").append('<div id="emailConfirmationBannerFooter" style="position: relative; z-index: 99; color: #fff; line-height: 24px; font-size: 12px; font-style: italic; font-family: Gotham-Book, Montserrat, Arial; text-align: center; -ms-filter: alpha(opacity=0); -moz-opacity: 0.0; -khtml-opacity: 0.0; opacity: 0.0;">We\'ll talk to you soon!</div>');$("#emailConfirmationBannerFooter").animate({opacity:1},400,
"linear",function(){$(this);window.setTimeout(function(){},2500)})}})};$(b).append('<div id="monetate-footer-email-signup" style="margin: 0 auto; position: relative; top: 0px; left: 0px; height: 28px; width: 223px;"><form class="ajaxFormSubmit" id="monetateFooterEmailMobileSuscriptionForm" style="background-color: #fbd5e6; position: relative; left: 0px; top: 2px; text-align: left; margin: 0 auto; padding: 0; height: 29px; width: 223px; overflow:hidden;" action="/catalog/emailMobileSubscription_popup.cmd" method="post" name="emailMobileSuscriptionFormFooter"><fieldset style="margin: 0; padding: 0; line-height: 1; height: 29px;"><div class="type_emailAddress dontVerify formFieldContainer overLabeled" style="margin: 0; padding: 0;"><span class="labelFieldWrapper"><label for="sendersEmail"></label><input id="monetateSendersEmailAddressFooter" name="sendersEmail" type="email" maxlength="65" autocorrect="off" autocapitalize="off" autocomplete="off" placeholder="My email address" style="background-color: #fbd5e6; color: #eb2b81; line-height: 29px; height: 27px; width: 266px; margin: 0; padding: 0 0 0 4px; font-size: 13px; border: 1px solid #fbd5e6;" /></span></div><input style="visibility: hidden;" class="emailFormat" id="monetateABhtmlFormeState" name="form_state" type="hidden" value="emailMobileSuscriptionFormFooter" /><input style="visibility: hidden;" class="emailFormat" id="monetateABhtmlFormat" name="emailFormat" type="radio" value="html" checked="true" /><label style="visibility: hidden;" for="htmlFormat">HTML (with images)</label><input type="hidden" name="mobilePhoneNumber" value="" styleid="monetateABmobilePhoneNumber" /></fieldset></form></div>');
$("#monetateSendersEmailAddressFooter").keypress(function(b){13===b.keyCode&&(b.preventDefault(),a(b),window.isGAEnabled&&(window.isGAUniversal?_gaUTrk("send","event","Email Acquisition","Enter Key","Footer Box"):_gaq.push(["_trackEvent","Email Acquisition","Enter Key","Footer Box"])))})})();_iScroll_lilly={running:!1,pathName:window.location.pathname,topPagination:$(".page-number","#topThumbnailPagination"),bottomPagination:$(".page-number","#bottomThumbnailPagination"),paginationObject:null,paginationLinks:[],
clrElement:function(){if($("#largeBrowseScrollContent .clr")[0])return $("#largeBrowseScrollContent .clr")[0].cloneNode(!0)}||PIC.ext.call(PIC.create.el("DIV"),{"class":"clr"},!0),currentPage:0,initialPageUrl:null,landingPaginationNumber:1,currentStep:0,nextStep:1,maxSteps:0,sequence:[],vMarkers:[],arrowInView:!1,initialWindowWidth:$(window).width(),centerContentDiv:document.getElementById("centerContentWrap"),historySteps:0,inCallState:!1,indexOfPoly:function(){Array.prototype.indexOf||(Array.prototype.indexOf=
function(b,a){if(void 0===this||null===this)throw new TypeError('"this" is null or undefined - looking for Array');var c=this.length>>>0;a=~~a||0;Infinity===Math.abs(a)&&(a=0);~a||(a+=c,~a||(a=0));for(;a<c;a++)if(this[a]===b)return a;return-1})},scopeFunctionToObject:function(b,a){if(a["void"])delete a["void"],this.call(b,a);else return delete a["void"],this.call(b,a)},injectLoadingScenery:function(){$("#topPagination").append('<div id="_iScroll_lilly_loading"></div>')},injectScrollMessaging:function(b){$("#topPagination").append('<div id="_iScroll_lilly">scroll to view more products</div>')},
injectScrollArrow:function(){console.log(this.centerContentDiv.getBoundingClientRect().right);var b=null!==this.centerContentDiv?"left:"+(this.centerContentDiv.getBoundingClientRect().right+5):"right: 0";$("body").append('<img id="iScrollLillyArrow" src="//sb.monetate.net/img/1/267/256008.png" style="cursor: pointer; display: none; position: fixed; top: 50vh; '+b+'px; z-index: 30; width: 50px;">')},hidePagination:function(b,a){PIC.get.elID("topThumbnailPagination").style.display="none";PIC.get.elID("bottomThumbnailPagination").style.display=
"none"},buildVMarkers:function(){for(var b=1;b<=_iScroll_lilly.maxSteps;b++)_iScroll_lilly.vMarkers.push('<div id="step'+b+'" style="float : left;"></div>')},historyReplace:function(){"undefined"!=typeof history.replaceState&&window.history.replaceState(null,null,this)},analytics:function(b){s.tl(!0,"o","Category - Page #"+(this.currentStep+1)+" Asynchronously Loaded");window.isGAEnabled&&(window.isGAUniversal?_gaUTrk("send","event","Category - Page #"+(this.currentStep+1)+" Asynchronously Loaded",
"Scrolled","Infinite Scroll "+this.currentStep+1):_gaq.push(["_trackEvent","Category - Page #"+(this.currentStep+1)+" Asynchronously Loaded","Scrolled","Infinite Scroll",this.currentStep+1,b.bounce]))},$ajax:function(b){var a=this,c=a.pathName+"?"+a.sequence[a.currentStep],d=new XMLHttpRequest;$("#largeBrowseScrollContent .clr").remove();d.onreadystatechange=function(){if(4===d.readyState&&200===d.status){var c=PIC.create.el("div").innerHTML=d.responseText,c=$(c).find("#largeBrowseScrollContent .catalogEntityThumbnail");
$(largeBrowseScrollContent).append(a.vMarkers[a.currentStep]);$(largeBrowseScrollContent).append(c);a.listeners.shared.fry();a.currentStep++;a.inCallState=!1;a.scopeFunctionToObject.call(b,a,{bounce:!1,"void":!0})}};d.open("get",c,!0);d.send()},arrayRemove:function(b){var a=this.slice((b.to||b.from)+1||this.length);this.length=0>b.from?this.length+b.from:b.from;this.push.apply(this,a)},pruneArraySequence:function(){this.length>>>0>_iScroll_lilly.currentPage&&(_iScroll_lilly.initialPageUrl=this[_iScroll_lilly.currentPage],
_iScroll_lilly.scopeFunctionToObject.call(_iScroll_lilly.arrayRemove,this,{"void":!0,from:_iScroll_lilly.currentPage,to:null}))},sequenceBuilder:function(b){_iScroll_lilly.sequence.push(b)},urlBuilder:function(b){for(var a=this.length,c=0,d=null,f=0,e=0;e<=_iScroll_lilly.maxSteps;e++){d="";c=0;0===e?(d+="currentIndex=0&pageSize="+b.pageSize+"&firstPageSize="+b.firstPageSize+(c+1===a?"":"&"),f=~~b.firstPageSize):(d+="currentIndex="+f+"&pageSize="+b.pageSize+"&firstPageSize="+b.firstPageSize+(c+1===
a?"":"&"),f+=~~b.pageSize);for(;c<a;c++)~"currentIndex pageSize firstPageSize".indexOf(this[c][0])||(d+=this[c][0]+"="+this[c][1]+(c+1===a?"":"&"));_iScroll_lilly.sequenceBuilder(d)}},urlParser:function(){for(var b=String.prototype.substring.call(_iScroll_lilly.paginationLinks[0],_iScroll_lilly.paginationLinks[0].indexOf("?")+1).split("&"),a=[],c=13,d=16,f=0,e=0,g=b.length;e<g;e++)a.push(b[e].split("="));e=0;for(g=a.length;e<g&&!(1<f);e++)"firstPageSize"===a[e][0]?(c=a[e][1],f++):"pageSize"===a[e][0]&&
(d=a[e][1],f++);_iScroll_lilly.scopeFunctionToObject.call(_iScroll_lilly.urlBuilder,a,{"void":!0,firstPageSize:c,pageSize:d})},paginationUrls:function(){var b=this.length,a=0;for($(this).each(function(a){$(this).hasClass("current-page")&&(_iScroll_lilly.currentPage=a)});a<b;a++)if($(this[a]).find("a").length){_iScroll_lilly.paginationLinks.push($(this[a]).find("a").attr("href"));break}},scrollArrow:function(b){b&&!this.arrowInView?($("#iScrollLillyArrow").toggle("display"),this.arrowInView=!0):!b&&
this.arrowInView&&($("#iScrollLillyArrow").toggle("display"),this.arrowInView=!1)},listeners:{shared:{scroll:function(){var b=null,a=_iScroll_lilly;$(window).scroll(function(c){800>$("#thumbnailPageContent").height()-$(document).scrollTop()&&a.currentStep<a.maxSteps&&!a.inCallState?(a.inCallState=!0,a.$ajax(a.analytics)):a.currentStep&&(window.clearTimeout(b),b=window.setTimeout(function(){for(var b=a.currentStep+1;b--;)if($(document).scrollTop()<$("#step1").position().top){a.historyReplace.call(a.pathName+
"?"+a.initialPageUrl);_iScroll_lilly.scrollArrow(!1);break}else if($(document).scrollTop()>=$("#step"+b).position().top||$(window).scrollTop()+$(window).height()>=$(document).height()-220){a.historyReplace.call(a.pathName+"?"+a.sequence[b-1]);_iScroll_lilly.scrollArrow(!0);break}},100))})},fry:function(){attachCatRolloverEvents()},arrow:function(){$("#iScrollLillyArrow").click(function(b){$("html,body").animate({easing:"linear",scrollTop:0},600)})},windowResize:function(){$(window).on("resize",function(b){$("#iScrollLillyArrow").css("left",
_iScroll_lilly.centerContentDiv.getBoundingClientRect().right+5)})}}},init:function(){if(!this.running&&null===document.getElementById("home")&&null===document.getElementById("product")){this.running=!0;this.indexOfPoly();var b=$($(this.topPagination)[0]).find("a").text()||$($(this.topPagination)[0]).text(),a=$(this.topPagination).eq(this.topPagination.length-1).find("a").text()||$(this.topPagination).eq(this.topPagination.length-1).text();if(this.maxSteps=1<=a-b?a-b:0)for(events in this.analytics({bounce:!0}),
this.hidePagination(this.injectScrollMessaging,this.injectLoadingScenery),this.buildVMarkers(),this.scopeFunctionToObject.call(this.paginationUrls,this.topPagination,{"void":!0}),this.urlParser(),this.scopeFunctionToObject.call(this.pruneArraySequence,this.sequence,{"void":!0}),this.injectScrollArrow(),this.listeners.shared)this.listeners.shared[events]()}}};setTimeout(function(){var b=document.createElement("script"),a=document.getElementsByTagName("script")[0];b.src=document.location.protocol+"//dnn506yrbagrg.cloudfront.net/pages/scripts/0026/7880.js?"+
Math.floor((new Date).getTime()/36E5);b.async=!0;b.type="text/javascript";a.parentNode.insertBefore(b,a)},1)}());



</script>

<!-- Fix for BR Autosuggest top padding with holiday banners -->
<!--
<script type="text/javascript">$("#keyword").focus(function(){if(!$("body").hasClass("mobile")){var e=$("#keyword"),t=e.offset().top;$(".brm-autosuggest-menu").css("top",parseInt(e.css("height"))+t)}})</script>
-->

<!-- Fix for BR autosuggest timeout -->
<!--
<script type="text/javascript">$(document).ready(function(){setTimeout(function(){$("#keyword").off("blur");if($("body").hasClass("mobile")){$("#keyword").blur(function(){setTimeout(function(){$("html").off("click.brns");$(".brm-autosuggest-menu").hide()},1e3)})}},500)})</script>
-->

<!-- Google Search box -->
<script type="application/ld+json">
{
                "@context": "http://schema.org",
                "@type": "WebSite", "url": "http://www.lillypulitzer.com/",
                "potentialAction": {
                                "@type": "SearchAction",
                                "target": "http://www.lillypulitzer.com/catalog/search.cmd?form_state=searchForm&keyword={search_term_string}",
                                "query-input": "required name=search_term_string"
                }
}
</script>

<!-- BR Template fix test -->
<script type="text/javascript>
!function(){var a=Handlebars.template,l=Handlebars.templates=Handlebars.templates||{};l.br_prodtemplate=a(function(a,l,t,s,e){function h(a,l){var s,e,h,i=" ";return="" i+="\n<div class=&quot;brProdContainer&quot; id=&quot;" ,(e="t.pid)?s=e.call(a,{hash:{},data:l}):(e=a&amp;&amp;a.pid,s=typeof" e="==d?e.call(a,{hash:{},data:l}):e),i+=o(s)+'&quot;">\n<a href="',(e=t.url)?s=e.call(a,{hash:{},data:l}):(e=a&&a.url,s=typeof e===d?e.call(a,{hash:{},data:l}):e),i+=o(s)+'" class="brImgLink"><img class="brProdImg" src="',(e=t.thumb_image)?s=e.call(a,{hash:{},data:l}):(e=a&&a.thumb_image,s=typeof e===d?e.call(a,{hash:{},data:l}):e),i+=o(s)+'" alt="',(e=t.title)?s=e.call(a,{hash:{},data:l}):(e=a&&a.title,s=typeof e===d?e.call(a,{hash:{},data:l}):e),i+=o(s)+" (",(e=t.price)?s=e.call(a,{hash:{},data:l}):(e=a&&a.price,s=typeof e===d?e.call(a,{hash:{},data:l}):e),i+=o(s)+')"></a><br>\n<a href="',(e=t.qsurl)?s=e.call(a,{hash:{},data:l}):(e=a&&a.qsurl,s=typeof e===d?e.call(a,{hash:{},data:l}):e),i+=o(s)+'" class="brBtnLink openAjaxEditItem brQsLink">QUICKSHOP</a>\n<a href="',(e=t.url)?s=e.call(a,{hash:{},data:l}):(e=a&&a.url,s=typeof e===d?e.call(a,{hash:{},data:l}):e),i+=o(s)+'"><span class="brProdTitle">',(e=t.title)?s=e.call(a,{hash:{},data:l}):(e=a&&a.title,s=typeof e===d?e.call(a,{hash:{},data:l}):e),i+=o(s)+'</span></a>\n<span class="brProdPrice">',(e=t.price)?s=e.call(a,{hash:{},data:l}):(e=a&&a.price,s=typeof e===d?e.call(a,{hash:{},data:l}):e),i+=o(s)+"</span>\n",s=t["if"].call(a,a&&a.swatch_url,{hash:{},inverse:p.noop,fn:p.program(2,r,l),data:l}),(s||0===s)&&(i+=s),i+='\n<logic:if expression=\'<%=BRUtil.isMoreLikeThisEnabled()%>\'>\n<a class="brMltLink" href="/catalog/search.cmd?request_type=mlt&amp;pid=',(e=t.pid)?s=e.call(a,{hash:{},data:l}):(e=a&&a.pid,s=typeof e===d?e.call(a,{hash:{},data:l}):e),i+=o(s)+"&amp;defaultImageFile="+o((e=t.getMltImg||a&&a.getMltImg,h={hash:{},data:l},e?e.call(a,a&&a.thumb_image,h):m.call(a,"getMltImg",a&&a.thumb_image,h)))+"&amp;productURL=",(e=t.url)?s=e.call(a,{hash:{},data:l}):(e=a&&a.url,s=typeof e===d?e.call(a,{hash:{},data:l}):e),i+=o(s)+'">more like this</a>\n</logic:if>\n</div>\n'}function r(a,l){var s,e,h,r="";return r+='\n<div class="brSwatchContainer">\n',e=t["each-limit"]||a&&a["each-limit"],h={hash:{},inverse:p.noop,fn:p.program(3,i,l),data:l},s=e?e.call(a,a&&a.swatch_url,5,h):m.call(a,"each-limit",a&&a.swatch_url,5,h),(s||0===s)&&(r+=s),r+="\n</div>\n"}function i(a,l){var s,e,h="";return h+='\n<div class="brSwatchWrapper ',(e=t.sid)?s=e.call(a,{hash:{},data:l}):(e=a&&a.sid,s=typeof e===d?e.call(a,{hash:{},data:l}):e),h+=o(s)+'">\n<img class="brSwatch " title="',(e=t.sname)?s=e.call(a,{hash:{},data:l}):(e=a&&a.sname,s=typeof e===d?e.call(a,{hash:{},data:l}):e),h+=o(s)+'" src="//sugartown.scene7.com/is/image/sugartown/',(e=t.surl)?s=e.call(a,{hash:{},data:l}):(e=a&&a.surl,s=typeof e===d?e.call(a,{hash:{},data:l}):e),h+=o(s)+'?wid=20&amp;hei=20"\n srcset="//sugartown.scene7.com/is/image/sugartown/',(e=t.surl)?s=e.call(a,{hash:{},data:l}):(e=a&&a.surl,s=typeof e===d?e.call(a,{hash:{},data:l}):e),h+=o(s)+"?wid=40&amp;hei=40 2x, //sugartown.scene7.com/is/image/sugartown/",(e=t.surl)?s=e.call(a,{hash:{},data:l}):(e=a&&a.surl,s=typeof e===d?e.call(a,{hash:{},data:l}):e),h+=o(s)+'?wid=60&amp;hei=60 3x">\n</div>\n'}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,a.helpers),e=e||{};var c,n="",d="function",o=this.escapeExpression,p=this,m=t.helperMissing;return n+='<div id="brProducts">\n',c=t.each.call(l,l,{hash:{},inverse:p.noop,fn:p.program(1,h,e),data:e}),(c||0===c)&&(n+=c),n+="\n</div>"})}();
</script></div><div class="clr"></div>
		</div>
		<div class="clr"></div>
	</div>
</div>
</div><!-- /footer -->

            </div><!-- /#shellBodyInner -->
		</div><!-- /#shellBody -->
        <!-- Google Analytics -->
<script type="text/javascript">
//var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
//document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<!-- General Tracking tag -->

<!-- General Tag for use on all pages -->
	<script type="text/javascript">
		</script>
<script type="text/javascript">
        var _a1as = _a1as || [];
        _a1as.push( ["init","72552"] );
        
		_a1as.push(["track"]);
	</script>
<div id="thirdPartyScripts">
			 <!-- BEGIN GOOGLE AD WORD CONVERSION SCRIPT TAGGING -->
				 <script type="text/javascript">
					 var google_conversion_id = 1033862833;
					 var google_conversion_language = "en";
					 var google_conversion_format = "3";
					 var google_conversion_color = "666666";
					 var google_conversion_label = "3HKSCN_gtQEQsf397AM";
					 var google_conversion_value = 0;
				 </script>
				 <script type="text/javascript" src="http://www.googleadservices.com/pagead/conversion.js">
				 </script>
				 <noscript>
					 <div style="display:inline;">
						 <img height="1" width="1" style="border-style:none;" alt="" src="http://www.googleadservices.com/pagead/conversion/1033862833/?label=3HKSCN_gtQEQsf397AM&amp;guid=ON&amp;script=0"/>
					 </div>
				 </noscript>
				 <!-- END GOOGLE AD WORD CONVERSION SCRIPT TAGGING -->
			 <!-- Google Code for New Universal Remarketing Tag -->
			<script type="text/javascript">
					/* <![CDATA[ */
					var google_tag_params = {
						
	        					hasaccount: 'n',
							
						ecomm_pagetype: 'siteview'
					};
					var google_conversion_id = 1033862833;
					var google_conversion_label = "Fy0cCKmZuQQQsf397AM";
					var google_custom_params = window.google_tag_params;
					var google_remarketing_only = true;
    				/* ]]> */
				</script>
				<script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js"></script>
				<noscript>
					<div style="display:inline;">
						<img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/1033862833/?value=0&amp;label=Fy0cCKmZuQQQsf397AM&amp;guid=ON&amp;script=0"/>
					</div>
				</noscript>
			<script type="text/javascript">
						</script>
				<script type="text/javascript">
					(function() {
					      var a1s = document.createElement('script'); a1s.type = 'text/javascript'; a1s.async = true;
					      a1s.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'tr-1.agilone.com/tr-as.js';
					      var a1ss = document.getElementsByTagName('script')[0]; a1ss.parentNode.insertBefore(a1s, a1ss);
					})();
		        </script>
			<script type="text/javascript" src="//assets.pinterest.com/js/pinit.js"></script>

             <script type="text/javascript" src="http://lil-cdn.truefitcorp.com/fitrec/lil/js/fitrec.js"></script>
                    </div><!--/#thirdPartyScript -->


    <script src="/js/plugins/src/responsive.nav.flyout.js" type="text/javascript"></script><script src="/js/plugins/plugins.js" type="text/javascript"></script><script src="/js/bloomreach/BR.js" type="text/javascript"></script><script type="text/javascript">
            $(function() {
                Handlebars.registerHelper('getMltImg', function(str) {
                    var file = (str.substring(str.lastIndexOf('/')+1));
                    return file.substring(0, file.length - 4); // get rid of extension
                });
				Handlebars.registerHelper('each-limit', function(ary, max, options) {
					if(!ary || ary.length == 0)
					return options.inverse(this);

					var result = [ ];
					for(var i = 0; i < max && i < ary.length; ++i){
						result.push(options.fn(ary[i]));
					}
					return result.join('');
				});
            });

            // NOTE - Remove any escaped characters from JSP tags inside the compiled template
			(function(){var n=Handlebars.template;(Handlebars.templates=Handlebars.templates||{}).br_prodtemplate=n(function(h,l,f,n,m){function q(b,e){var d,a,c,g;d='\n<div class="brSwatchContainer">\n';if((a=(c=f["each-limit"]||b&&b["each-limit"],g={hash:{},inverse:k.noop,fn:k.program(3,r,e),data:e},c?c.call(b,b&&b.swatch_url,b&&b.swatch_limit,g):p.call(b,"each-limit",b&&b.swatch_url,b&&b.swatch_limit,g)))||0===a)d+=a;d+="\n";if((a=f["if"].call(b,b&&b.swatch_overflow,{hash:{},inverse:k.noop,fn:k.program(5,s,e),data:e}))||0===a)d+=a;return d+"\n</div>\n"}function r(b,e){var d,a;d='\n<div class="brSwatchWrapper ';(a=f.sid)?a=a.call(b,{hash:{},data:e}):(a=b&&b.sid,a="function"===typeof a?a.call(b,{hash:{},data:e}):a);d+=g(a)+'">\n<img class="brSwatch " title="';(a=f.sname)?a=a.call(b,{hash:{},data:e}):(a=b&&b.sname,a="function"===typeof a?a.call(b,{hash:{},data:e}):a);d+=g(a)+'" src="//sugartown.scene7.com/is/image/sugartown/';(a=f.surl)?a=a.call(b,{hash:{},data:e}):(a=b&&b.surl,a="function"===typeof a?a.call(b,{hash:{},data:e}):a);d+=g(a)+'?wid=20&amp;hei=20"\n srcset="//sugartown.scene7.com/is/image/sugartown/';(a=f.surl)?a=a.call(b,{hash:{},data:e}):(a=b&&b.surl,a="function"===typeof a?a.call(b,{hash:{},data:e}):a);d+=g(a)+"?wid=40&amp;hei=40 2x, //sugartown.scene7.com/is/image/sugartown/";(a=f.surl)?a=a.call(b,{hash:{},data:e}):(a=b&&b.surl,a="function"===typeof a?a.call(b,{hash:{},data:e}):a);return d+=g(a)+'?wid=60&amp;hei=60 3x">\n</div>\n'}function s(b,e){var d,a;d='\n<a class="viewMoreSwatches" href="';(a=f.url)?a=a.call(b,{hash:{},data:e}):(a=b&&b.url,a="function"===typeof a?a.call(b,{hash:{},data:e}):a);return d+=g(a)+'">\n<img title="More Available" src="http://ecommerce_50.lillypulitzer.com:8080/assets/images/buttons/english/btn_thumbnailMoreColors.gif" alt="More Available" srcset="">\n</a>\n'}this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,h.helpers);m=m||{};var g=this.escapeExpression,k=this,p=f.helperMissing;h='<div id="brProducts">\n';if((l=f.each.call(l,l,{hash:{},inverse:k.noop,fn:k.program(1,function(b,e){var d,a,c,h;d='\n<div class="brProdContainer" id="';(c=f.pid)?a=c.call(b,{hash:{},data:e}):(c=b&&b.pid,a="function"===typeof c?c.call(b,{hash:{},data:e}):c);d+=g(a)+'">\n<a href="';(c=f.url)?a=c.call(b,{hash:{},data:e}):(c=b&&b.url,a="function"===typeof c?c.call(b,{hash:{},data:e}):c);d+=g(a)+'" class="brImgLink"><img class="brProdImg" src="';(c=f.thumb_image)?a=c.call(b,{hash:{},data:e}):(c=b&&b.thumb_image,a="function"===typeof c?c.call(b,{hash:{},data:e}):c);d+=g(a)+'" alt="';(c=f.title)?a=c.call(b,{hash:{},data:e}):(c=b&&b.title,a="function"===typeof c?c.call(b,{hash:{},data:e}):c);d+=g(a)+" (";(c=f.price)?a=c.call(b,{hash:{},data:e}):(c=b&&b.price,a="function"===typeof c?c.call(b,{hash:{},data:e}):c);d+=g(a)+')"></a><br>\n<a href="';(c=f.qsurl)?a=c.call(b,{hash:{},data:e}):(c=b&&b.qsurl,a="function"===typeof c?c.call(b,{hash:{},data:e}):c);d+=g(a)+'" class="brBtnLink openAjaxEditItem brQsLink">QUICKSHOP</a>\n<a href="';(c=f.url)?a=c.call(b,{hash:{},data:e}):(c=b&&b.url,a="function"===typeof c?c.call(b,{hash:{},data:e}):c);d+=g(a)+'"><span class="brProdTitle">';(c=f.title)?a=c.call(b,{hash:{},data:e}):(c=b&&b.title,a="function"===typeof c?c.call(b,{hash:{},data:e}):c);if(a||0===a)d+=a;d+='</span></a>\n<span class="brProdPrice">$';(c=f.price)?a=c.call(b,{hash:{},data:e}):(c=b&&b.price,a="function"===typeof c?c.call(b,{hash:{},data:e}):c);d+=g(a)+"</span>\n";if((a=f["if"].call(b,b&&b.swatch_url,{hash:{},inverse:k.noop,fn:k.program(2,q,e),data:e}))||0===a)d+=a;d+='\n\n<a class="brMltLink" href="/catalog/search.cmd?request_type=mlt&amp;pid=';(c=f.pid)?a=c.call(b,{hash:{},data:e}):(c=b&&b.pid,a="function"===typeof c?c.call(b,{hash:{},data:e}):c);d+=g(a)+"&amp;defaultImageFile="+g((c=f.getMltImg||b&&b.getMltImg,h={hash:{},data:e},c?c.call(b,b&&b.thumb_image,h):p.call(b,"getMltImg",b&&b.thumb_image,h)))+"&amp;productURL=";(c=f.url)?a=c.call(b,{hash:{},data:e}):(c=b&&b.url,a="function"===typeof c?c.call(b,{hash:{},data:e}):c);return d+=g(a)+'">more like this</a>\n\n</div>\n'},m),data:m}))||0===l)h+=l;return h+"\n</div>"})})();
		</script><script type="text/javascript">

			/**
			 * Array Remove - By John Resig (MIT Licensed)
			 * @to: Index to remove from array.
			 * @from: If supplied, remove all elements from @to to @from
			 */
			Array.prototype.remove = function(from, to) {
			var rest = this.slice((to || from) + 1 || this.length);
			this.length = from < 0 ? this.length + from : from;
			return this.push.apply(this, rest);
			}

			String.prototype.capitalize = function() {
				return this.replace(/\w\S*/g, function(txt) {
					return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();
				});
			}

			var
				isMobile = $('body').hasClass('mobile'),
				isTablet = $('body').hasClass('tablet'),
				_lilly_brCheckFieldAndSubmit = function( brResponse ) {
				 	var
				 		keyword = document.getElementById( 'keyword' );

				 	if ( !brResponse.response.docs.length && ( keyword.value !== 'I\'m looking for...' && keyword.value.length ) ) {
				 		document.searchForm.submit();
				 	};
				 }

			//Size map used to map numeric sizes to alpha sizes
				,_lilly_brWomenSizeMappings = {
					'000' : 'xxs',
					'00' : 'xxs,xxs/xs',
					'0' : 'xs,xxs/xs,xs/s',
					'1' : 'xs,xxs/xs,xs/s',
					'2' : 'xs,s,xs/s',
					'3' : 'xs,s,xs/s',
					'4' : 's,xs/s,s/m',
					'5' : 's,xs/s,s/m',
					'6' : 's,m,s/m',
					'7' : 's,m,s/m',
					'8' : 'm,s/m,m/l',
					'9' : 'm,s/m,m/l',
					'10' : 'm,l,m/l',
					'11' : 'm,l,m/l',
					'12' : 'l,m/l,l/xl',
					'13' : 'l,m/l,l/xl',
					'14' : 'l,xl,l/xl',
					'15' : 'l,xl,l/xl',
					'16' : 'xl,l/xl'
				}

				,_lilly_brGirlSizeMappings = {
					'2' : 'xs',
					'3' : 'xs',
					'4' : 's',
					'5' : 's',
					'6' : 'm',
					'7' : 'm',
					'8' : 'l',
					'10' : 'l',
					'12' : 'xl',
					'14' : 'xl',
					'16' : 'xl'
				}

			//Object to initialize the price slider and its listeners
				,_lilly_brSlider = {
					priceRefinementActive : false,
					neededValues : '',
					min: '',
					max: '',
					rewriteAmount : function() {    //Rewrite displayed values
						_lilly_brSlider.neededValues = $( '#brUISlider' ).val();
						$( '#brFirstUISliderNumber' ).text( '$' + _lilly_brSlider.neededValues[0]);
						$( '#brSecondUISliderNumber' ).text( '$' + _lilly_brSlider.neededValues[1]);
					},
					listeners : function(arrayCopy, brContent) {
						$( '#brUISlider' ).on( {
							slide : function() {
								_lilly_brSlider.rewriteAmount();
							},
							change : function( e ) {
					if(!isMobile && !isTablet){
									_lilly_refreshResults(arrayCopy, brContent);
								}
								//Show/hide clear buttons if slider has changed or returned to original position
								if($("#brUISlider").val()[0] > _lilly_brSlider.min || $("#brUISlider").val()[1] < _lilly_brSlider.max){
									$(".sliderClear").show();
									$(".brClearAllLink").show();
								}
								else if($(".BRselected").length <= 0){
									$(".sliderClear").hide()
									$(".brClearAllLink").hide();
								}
								else{
									$(".sliderClear").hide();
								}
							}
						});
					},
					init : function(priceRange) {

						if ( typeof priceRange != 'undefined' && $( '#brUISlider' ).length ) {
							$( '#brUISlider' ).noUiSlider( {
								start : [priceRange.min, priceRange.max],
								margin : ((priceRange.max - priceRange.min)/20) ,
								serialization: {
									format : {
										decimals : 0,
										mark : '.',
										encoder : function( val ) {
											return val;
										}
									}
								},
								range : {
									min : ( priceRange.min),
									max : ( priceRange.max)
								}
							});
							_lilly_brSlider.min = priceRange.min;
							_lilly_brSlider.max = priceRange.max;
							_lilly_brSlider.rewriteAmount();

						}
					}
				}

			//Returns an object with sorted arrays of unique sizes
				,_lilly_get_sizes = function(responseObj){
					var sizes= {},

					size_sortFn = function(a,b){
						var map = {
							'xxs' : 17,
							'xxs/xs' : 18,
							'xs' : 19,
							'xs/s' : 20,
							's' : 21,
							's/m' : 22,
							'm' : 23,
							'm/l' : 24,
							'l' : 25,
							'l/xl': 26,
							'xl' : 27
						};
						//Special case for 0, 00, and 000
						if(a == 0 && b == 0){
							if(a.length < b.length){return 1;}
							if(a.length > b.length){return -1;}
							return 0;
						}
						a = isNaN(a) ? map[a] || parseFloat(a.split('-')[0].trim()) : parseFloat(a);
						b = isNaN(b) ? map[b] || parseFloat(b.split('-')[0].trim()) : parseFloat(b);
						if(a < b){return -1;}
						if(b < a){return 1;}
						return 0;
					},
					type_sortFn = function(a,b){
						var map = {
							'womens sizes' : 1,
							'girls sizes' : 2,
							'infant sizes' : 3,
							'shoe sizes' : 4,
							'accessories sizes' : 5
						};
						a = map[a] || 10;
						b = map[b] || 10;
						if(a < b){return -1;}
						if(b < a){return 1;}
						return 0;
					};

						//Create object of size arrays for each size type
					responseObj.forEach(function(element){
						element.sizes.forEach(function(size){
							var sKey = size.split('_'), key = sKey[1];
							size = sKey[0];
							if(sizes[key] === undefined){
								sizes[key] = [];
								sizes[key].push(size);
							}
							else if(sizes[key].indexOf(size) < 0){
								sizes[key].push(size);
							}
						});
					});
					var sortArray = [];
					var sortObj = {};
					//Sort sizes within each type
					for(var type in sizes){
						if(sizes.hasOwnProperty(type)){
							sizes[type].sort(size_sortFn);
							sortArray.push(type);
						}
					}
					sortArray.sort(type_sortFn);
					for (var i=0; i< sortArray.length; i++) {
						sortObj[sortArray[i]] = sizes[sortArray[i]];
					}
					return sortObj;
				}

				//Find the min and max value of all returned products
				,_lilly_minMaxPrice = function(productArray){
					var minMax = {};
					productArray.forEach(function(el){
						minMax.max = el.price > minMax.max || minMax.max === undefined ? el.price : minMax.max;
						minMax.min = el.price < minMax.min || minMax.min === undefined ? el.price : minMax.min;
					});
					return minMax;
				}

				//Sort the current list of products by the selected sorting method (price, time, rating)
				,_lilly_sortResults = function(productArray){
					sortSelect = $('#brSortItemOptions option:selected'),
					sortType = sortSelect[0].value;

					function sortFn(type) {  //Dynamic sort function
						var order = 1;
						if(type[0] === "-") {
							order = -1;
							type = type.substr(1);
						}
						return function (a,b) {
							var result = (a[type] < b[type]) ? -1 : (a[type] > b[type]) ? 1 : 0;
							return result * order;
						}
					}
					if(sortType != "noSort"){
						productArray.sort(sortFn(sortType));
					}
					return productArray;
				}

				//Apply size/price filters to the current list of products
				,_lilly_filterResults = function(productArray){
					var min, max, filterselect;
					if(isMobile || isTablet){
						filterSelect = $('.applied');

						values = $(".brSliderRange:not(.hide)");
						if(values.length === 0){
							min = _lilly_brSlider.min;
							max = _lilly_brSlider.max;
						}
						else{
							min = $("#brUISlider").val()[0];
							max = $("#brUISlider").val()[1];
						}
					}
					else{
						filterSelect = $('.BRselected');
						min = ~~_lilly_brSlider.neededValues[0];
						max = ~~_lilly_brSlider.neededValues[1];
						if(min === 0 && max == 0){
							min = productArray[0].price;
							max = min;
						}
					}
					var keepFlag;
					//Decide what to keep in the product view
					for(var j=0; j < productArray.length; j++){
						keepFlag = 0;
						if(productArray[j].price >= min && productArray[j].price <= max && filterSelect.length < 1){ //No size filters + item fits within price
							keepFlag = 1;
						}
						else if(productArray[j].price >= min && productArray[j].price <= max && filterSelect.length > 0){
							for(var i =0; i < filterSelect.length; i++){
								var ftext = $(filterSelect[i]).data("size");
								if(productArray[j].sizes.indexOf(ftext) >= 0){ //Product contains selected size
									keepFlag = 1;
									break;
								}
							}
						}
						//If element doesn't meet filter requirements, delete it and adjust index
						if(!keepFlag){
							productArray.remove(j);
							j--;
						}
					}
					return productArray;
				}


				 //Apply filters and sorting to the results
				,_lilly_sortFilter = function(productArray){
					var arrayCopySF = $.extend(true, [], productArray);

					arrayCopySF = _lilly_sortResults(arrayCopySF);
					arrayCopySF = _lilly_filterResults(arrayCopySF);

					return arrayCopySF;
				}

                // Function to append BR results to the body
                ,_lilly_appendResults = function(brContent) {
                    // Show the BR search results
                    var anchorElement = $('#header-nav');
                    if ($('#keyword').height() > 0) {
                        anchorElement = $('#keyword');
                    }

                    var entranceTween;
                    if (!isMobile && !isTablet) {
                        var offset = $(anchorElement).offset().top + 15;
                        $(brContent).css({
                            opacity: 0,
                            transform: 'scale(1.5,1.5)',
                            display: 'block',
                            top: parseInt($(anchorElement).height()) + offset
                        });
                        entranceTween = TweenLite.to(brContent, 0.6, {
                            opacity: '1',
                            transform: 'scale(1,1)',
                            ease: Power2.easeOut,
                            force3D: true,
                            paused: true
                        });
                    } else {
                        $(brContent).css({transform: 'translate(-50%, -110%)', display: 'block'});
                        setTimeout(function() {
                            $('#brProducts').css({
                                transform: 'translate(100vw, 0)'
                            });

                            // Hide mobile tutorial if there aren't enough products to scroll
                            if ($('#brProducts').width() < $('#brProductsWrapper').width()) {
                                $('#brMobileScrollTip').hide();
                            }
                        }, 10);
                        entranceTween = TweenLite.to(brContent, 0.6, {
                            y: 0,
                            ease: Power2.easeOut,
                            force3D: true,
                            paused: true,
                            onComplete: function() {
                                $('#brContentContainer').css('transform', '');
                                TweenLite.to($('#brProducts')[0], 1, {
                                    x: '0vw',
                                    ease: Back.easeOut,
                                    force3D: true,
                                    onComplete: function() {
                                        // Remove the css left on the element
                                        $('#brProducts').css('transform', '');
                                    }
                                });
                            }
                        });
                    }

                    if ($('#mainContentWrap').length > 0) {
                        $('#mainContentWrap').prepend(brContent);
                    }

                    else {
                        $('#bodyWrap').prepend(brContent);
                    }

                    entranceTween.play();
                }

				// Refresh the products currently in view. Called whenever the filters/sorting changes
				,_lilly_refreshResults = function(arrayCopy, brContent) {
					var results =  _lilly_sortFilter(arrayCopy);
					var compiled;
					if(results.length <= 0){
						compiled =  document.createElement('div');
						$(compiled).attr("id","brProducts");
						var errorText = document.createElement('div');
						$(errorText).attr("class","brErrorText").addClass("absoluteCenter")
						.text("Oops! We couldn't find anything that matches what you are looking for.")
						.appendTo(compiled);
					}
					else{
						compiled =  Handlebars.templates.br_prodtemplate(results);
					}
                    // Backup brProducts style
                    var brProductsStyles = $(brProducts).attr('style');
					$(brProducts).remove();
					$('#brProductsWrapper').append(compiled);
                    // Restore brProducts style
                    $(brProducts).attr('style', brProductsStyles);
					arrayCopy.forEach(function(e){
						if(e.colors.length > 1){
							var swatch = $('#'+e.pid+' .'+e.active_swatch);
							swatch.addClass('brSwatchSelected');
						}
					});
					_lilly_brSwatchListener(arrayCopy);
                    // Save the modified arrayCopy out to session storage
                    _lilly_storeArrayCopy(arrayCopy);
				}

				/* Get response from BR and build view */
				,_lilly_brResponseObject = function( paramsToAppend ) {
					var
						 getCookie = ( function( name ) {
							var
								 value = "; " + document.cookie
								,parts = value.split( "; " + name + "=" );

							if ( parts.length == 2 ) {
								return parts.pop().split( ";" ).shift();
							};
						 }( '_br_uid_2' ) )
						,requestId = ( function() {
							return ( '' + Math.random() ).substring( 2, 14 );
						 }() )
						,req = $.ajax( {
							 type: 'GET'
							,dataType: "json"
							,crossDomain: true
							,url : '//brm-core-0.brsrvr.com/api/v1/core/?account_id=5187&auth_key=cqb1lqj7fcep1s2&domain_key=lillypulitzer_com'
								+ '&request_id=' + requestId
								+ '&_br_uid_2=uid' + getCookie
								+ '&url=' + encodeURIComponent(window.location.href)
								+ '&ref_url=http%3A%2F%2Fwww.lillypuliter.com%2FPrivacy and Security'
								+ '&rows=999&start=0&fl=pid%2Ctitle%2Cbrand%2Cprice%2Csale_price'
								+ '%2Cpromotions%2Cthumb_image%2Csku_thumb_images%2Csku_color_group%2Curl%2Cprice_range%2Csale_price_range%2Csizes%2Creviews%2Claunch_date%2Cprint_text%2Ccolors'
								+ '&' + paramsToAppend + '&callback=?'
							}
					);

					req.done( function( data ) {
                        if (data.keywordRedirect) {
                            window.location.assign("http://" + data.keywordRedirect["redirected url"]);
                        } else {
                            var arrayCopy = $.extend(true, [], data.response.docs); // clone the products array
                            _lilly_renderView(arrayCopy);
                            _lilly_storeArrayCopy(arrayCopy);
                            _lilly_brCheckFieldAndSubmit( data );
                        }
					} );
				 }

                // Saves a copy of arrayCopy to session storage
                ,_lilly_storeArrayCopy = function(arrayCopy) {
                    // Store arrayCopy and priceLimits for state persistence
                    var windowHash = window.location.hash;
                    if (windowHash && windowHash.indexOf('brm-search') > -1 && typeof(Storage) !== "undefined") {
                         sessionStorage.setItem(windowHash + "_arrayCopy", JSON.stringify(arrayCopy));
                        //sessionStorage.setItem(windowHash + "_priceLimits", JSON.stringify(priceLimits));
                    }
                }

                // Render the view based on an array of products
                ,_lilly_renderView = function(arrayCopy) {
                    // Get just the product name for each product and check for sale prices
                    arrayCopy.forEach(function(e){
                        e.price = (e.price === e.sale_price) ? e.price : e.sale_price;
						e.qsurl = "/includes/checkout/add_item.jsp?prodID="+e.pid; //create link for quickshops
                        
                    });
                    var compiled = Handlebars.templates.br_prodtemplate(arrayCopy);

                    // Remove previous BR search results if they exist
                    $('#brContentContainer').remove();

                    // Create a container element to hold the products
                    var brContent = document.createElement("div");
                    brContent.setAttribute("id", "brContentContainer");
                    if (isMobile || isTablet) {
                        brContent.setAttribute('class', 'horizontalCenter');
                    }
                    // Scroll to top of page and adjust margin-top for promo banner/header
                    $("html, body").animate({ scrollTop: 0 }, 600).promise().done(function() {
                        //$(brContent).css('margin-top', $('body.mobile #siteTopWrap').height());
                    });
                    $(brContent).hide();

                    // Blackout layer (for flyout filter menu)
                    var brBlackoutLayer = document.createElement('div');
                    $(brBlackoutLayer).attr('id', 'brContentBlackout').appendTo(brContent);

                    // Build "Close" link
                    var brCloseLink = document.createElement('div');
                    $(brCloseLink).attr("class", "brCloseLink").appendTo(brContent);
                    $('<a/>', {
                        href: 'javascript:;'
                    }).prepend('<span class="icon-close">close</span>').appendTo(brCloseLink);

                    // Build the filter flyout link
                    var brFilterLink = document.createElement('div');
                    $(brFilterLink).attr('id', 'brFilterFlyoutLink').addClass('display-desktop').appendTo(brContent);
                    $('<a/>', {
                        text: 'Filter >',
                        href: 'javascript:;'
                    }).appendTo(brFilterLink);

                    //Build the Sort Menu
                    var brDropDown  = document.createElement('select');
                    $(brDropDown).attr("id", "brSortItemOptions", "name", "brSortItemOptions")
                    .append(
                        '<option value="noSort" selected="selected">Sort by: Relevance</option>'+
                        '<option value="-reviews">Top Rated</option>'+
                        '<option value="-price">Price - High to Low</option>'+
                        '<option value="price">Price - Low to High</option>'+
                        '<option value="-launch_date">Newest</option>'
                    ).change(function(){
                        _lilly_refreshResults(arrayCopy, brContent);
                    }).appendTo(brContent);


                    //Build the price filters and size slider
                    var
                    priceLimits = _lilly_minMaxPrice(arrayCopy),
                    cssPlusString = (isMobile || isTablet) ? '<span class="cssIcon_plus-minus fr"></span>' : '',
                    tallyString = (isMobile || isTablet) ? '<span class="brFilterTally hide">0</span>' : '',
                    rangeString = (isMobile || isTablet) ? '<span class="brSliderRange hide">0</span>' : '',
                    slider =    '<dl id="brPrice" class="customRefinementClass">'+
                                    '<dt>Price'+cssPlusString+rangeString+'</dt>'+
                                    '<dd class="slideup">'+
                                        '<div id="brUISlider" class="slider"></div>'+
                                        '<div id="brUISliderNumbers">'+
                                            '<div id="brFirstUISliderNumber"></div>'+
                                            '<div id="brSecondUISliderNumber"></div>'+
                                        '</div>'+
                                        '<button class="brMobileApply">Apply</button>'+
                                        '<div class="brWrapperForClear">'+
                                            '<span class="brClearLinkWrapper">'+
                                                '<a href="javascript:;" class="brClearLink sliderClear hide">clear</a>'+
                                            '</span>'+
                                        '</div>'+
                                    '</dd>'+
                                '</dl>',

                    brSizeArray = _lilly_get_sizes(arrayCopy), //get all available sizes

                    linkObject = {},
                    appendString = "",
                    linkClass,
                    wasNumber = false,
                    postString = '<button class="brMobileApply">Apply</button><div class="brWrapperForClear"><span class="brClearLinkWrapper"><a href="javascript:;" class="brClearLink hide">clear</a></span></div></dd></dl>',
                    breakString = '<br style="clear : both;">',
                    clearAllString = '<div id="brClearAllPlaceholder" class="slideup"><a href="javascript:;" class="brClearAllLink hide">Clear All Filters</a></div>';

							for(var type in brSizeArray){
								if(brSizeArray.hasOwnProperty(type)){
									brSizeArray[type].forEach(function(size){
										linkClass = type === "infant sizes" ? "brSizeLink brSizeLinkLarge" :  "brSizeLink";  //Adjust link type for infant sizes
										if(linkObject[type] === undefined){		//If sizing type hasn't been built for the view yet.
											var preString = '<dl id="'+type+'"><dt>'+type+cssPlusString+tallyString+'</dt><dd class="slideup">';
											linkObject[type] = preString + '<span><a href="javascript:;" data-size="'+size+'_'+type+'" class="'+linkClass+'">'+size+'</a></span>';
										}
										else{
											if(isNaN(size[0]) && wasNumber){  //Insert break between women's numerical and women's alphabetic sizes
												linkObject[type] += breakString + '<span><a href="javascript:;" data-size="'+size+'_'+type+'" class="'+linkClass+'">'+size+'</a></span>';
											}
											else{
												linkObject[type] += '<span><a href="javascript:;" data-size="'+size+'_'+type+'" class="'+linkClass+'">'+size+'</a></span>';
											}
										}
										wasNumber = ( !isNaN(size[0]) && (type === "womens sizes" || type === "girls sizes")); //Used to determine break in women's sizes
									});
									linkObject[type] += postString;
									appendString += linkObject[type];
								}
							}

							var filterContent =  document.createElement('div');

                    var filterContent =  document.createElement('div');

                    //Append the breadcrumb collapsible div to the mobile view
                    if (isMobile || isTablet) {
                        var brCrumbString = '<div id="brCrumbWrapper">'+
                                                '<div id="brToolLink" class="breadcrumbToolLink">'+
                                                    '<div class="brCrumbToolTitle inactive"><span>Filter</span><span class="cssIcon_arrow-wide"></span></div>'+
                                            '</div></div>'+
                        clearAllString;
                        $(brContent).append(brCrumbString);
                    }

                    $(filterContent).attr('id','brFilterWrapper').addClass('groupWrapper slideup')
                        .append(slider+appendString)
                        .appendTo(brContent);

                    //Append clear all button after the filters on mobile
                    if (!isMobile && !isTablet) {
                        $(filterContent).append(clearAllString);
                    }

                    // Append close/done button to the end of the filter flyout
                    $(filterContent).append('<div id="brFilterCloseWrapper"><a id="brFilterClose" class="display-desktop" href="javascript:;">Done</a></div>');

                    // Template
                    var brProductsWrapper = $('<div id="brProductsWrapper"></div>');
                    brProductsWrapper.append(compiled);
                    $(brContent).append(brProductsWrapper);

                    // Show scrolling tips on mobile
                    if (isMobile || isTablet) {
                        var mobileTutCookie = 'br_mobileTutorialSearches';
                        var numUses = parseInt($.cookie(mobileTutCookie));
                        numUses = (isNaN(numUses)) ? 0 : numUses;
                        $.cookie(mobileTutCookie, ++numUses, { expires: 14, path: '/' });

                        if (numUses <= 1) {
                            var mobileScrollTip = $('<div id="brMobileScrollTip">Swipe left to see more &gt;</div>');
                            $(brContent).append(mobileScrollTip);

                            var loopTutTween = function() {
                                TweenLite.to(mobileScrollTip, 1, {color: '#EB2B81', onComplete: function() {
                                    TweenLite.to($('#brMobileScrollTip')[0], 1, {color: '#7c7c7c', onComplete: loopTutTween});
                                }});
                            };
                            setTimeout(loopTutTween, 2000);
                        }
                    }

                    // Append the container to #mainContentWrap or #bodyWrap (homepage) - whichever exists
                    _lilly_appendResults(brContent);

                    //Only initialize price slider if there is a range in returned prices
					_lilly_brSlider.init(priceLimits);
					if (priceLimits.min === priceLimits.max) {
						$('#brPrice').hide();
					}


                    //Wire listeners for the slider and for the other filter buttons
                    _lilly_brSlider.listeners(arrayCopy, brContent);
                    _lilly_brListeners(arrayCopy, brContent, priceLimits);
                    _lilly_refreshResults(arrayCopy, brContent);
                }

				//Wires listeners for the various filter functions
				,_lilly_brListeners = function(arrayCopy, brContent, priceLimits){
					var $slider = $("#brUISlider");
					if(isMobile || isTablet){
						$("#brToolLink").click(function(){
							$(this).toggleClass("open");
							$("#brFilterWrapper").slideToggle();
							$("#brClearAllPlaceholder").slideToggle();
						});
						$("#brFilterWrapper dl dt").click(function(){
							$(this).closest("dl").toggleClass("open");
							$(this).next().slideToggle();
						});
						$(".brMobileApply").click(function(){
							var _this = $(this);
								dlParent = _this.parents("dl")[0];
							if($(dlParent).is("#brPrice")){
								var range = $slider.val();
								$('.brSliderRange').text('$'+range[0]+' - $'+range[1]).removeClass('hide');
							}
							else{
								var selected = $(dlParent).find(".BRselected"),
									_thisTally = $(dlParent).find(".brFilterTally");
								_thisTally.text(selected.length);
								selected.addClass("applied");
								_thisTally.text() != 0 ? _thisTally.removeClass('hide') : _thisTally.addClass('hide');
							}
							_lilly_refreshResults(arrayCopy, brContent, dlParent);
						});
					}

					//Listener for size filters
					$('a.brSizeLink').click(function(){
						var _this = $(this);
						_this.toggleClass("BRselected");

						//Logic to map one numeric to multiple alpha sizes
						var selText = _this.data("size").split('_');
						if( !isNaN(selText[0]) && (selText[1] === "womens sizes" || selText[1] === "girls sizes")){
							var eqSizes =  selText[1] === "womens sizes" ? _lilly_brWomenSizeMappings[selText[0]] : _lilly_brGirlSizeMappings[selText[0]];
							if(eqSizes != undefined){
								eqSizes = eqSizes.split(',');
								for(var i = 0; i <  eqSizes.length; i++){
									var el =  selText[1] === "womens sizes" ? $('[data-size="'+eqSizes[i]+'_womens sizes"]') : $('[data-size="'+eqSizes[i]+'_girls sizes"]');
									if(el.length != 0){
										if(_this.hasClass("BRselected")){
											el.addClass("BRselected")
											el.data("count", el.data("count")+1 || 1); /*Increment count every time size is selected*/
										}
										else{
											el.data("count", el.data("count")-1);
								if(el.data("count") <= 0 || el.data("count") === undefined){ //Decrement count when size is deselected
												el.removeClass("BRselected");
												el.data("count",0);
											}
										}
									}
								}
							}
						}

						var dlParent = _this.parents("dl")[0],
							selected = $(dlParent).find(".BRselected"),
							_thisClear = $(dlParent).find(".brClearLink");

						//Show/hide clear button for this size type
						selected.length > 0 ? $(_thisClear).show() : $(_thisClear).hide();

						//Show/hide clear all button based on what is selected
						$('.BRselected').length > 0 || $slider.val()[0] > priceLimits.min || $slider.val()[1] < priceLimits.max?
							$('.brClearAllLink').show(): $('.brClearAllLink').hide();

						//Only refresh reults immediately if this is not mobile (mobile needs to wait for the apply button)
						if(!isMobile || !isTablet){
							_lilly_refreshResults(arrayCopy, brContent);
						}
					});

					//Listener for clear buttons
					$('a.brClearLink').click(function(){
						var _this = $(this);

						//If this is the clear link for the slider, revert the slider to initial position
						if(_this.hasClass("sliderClear")){
							$("#brUISlider").val([priceLimits.min, priceLimits.max]);
							_lilly_brSlider.rewriteAmount();
							$(".brSliderRange").addClass('hide');
						}
						else{
							var children = $(_this.parents("dl")[0]).find(".BRselected");
							$(children).removeClass("BRselected").removeData("count").removeClass("applied");;
							$(_this.parents("dl")[0]).find(".brFilterTally").addClass('hide');
						}

						_this.hide();

						$('.BRselected').length > 0 || $slider.val()[0] > priceLimits.min || $slider.val()[1] < priceLimits.max?
						$('.brClearAllLink').show(): $('.brClearAllLink').hide();

						_lilly_refreshResults(arrayCopy, brContent);
					});


					//Listener for the clear all button
					$('a.brClearAllLink').click(function(){
						$(".BRselected").removeClass("BRselected applied").removeData("count"); //Reset all selected sizes
						$("#brUISlider").val([priceLimits.min, priceLimits.max]); //Revert slider to initial state
						_lilly_brSlider.rewriteAmount();
						$(".brClearLink, .brClearAllLink").hide(); //Remove all clear links & main clear link
						$(".brFilterTally, .brSliderRange").addClass('hide');
						_lilly_refreshResults(arrayCopy, brContent);
					});

                    // Listener to hide mobile scrolling tutorial near the end of the product list
                    if ((isMobile || isTablet) && $('#brMobileScrollTip').length) {
                        $('#brProductsWrapper').on("scroll", function() {
                            if ($('#brProductsWrapper').scrollLeft() > ($('#brProducts').width() - $(window).width())) {
                                $('#brMobileScrollTip').slideUp();
                            }
                        });
                    }

					_lilly_brSwatchListener(arrayCopy);

				}
				,_lilly_brSwatchListener = function(arrayCopy){
					$('.brSwatch').click(function(e){
						var pid = $(e.target).parent().parent().parent().attr("id");
						$("#"+pid).find('.brSwatchSelected').removeClass('brSwatchSelected');//Remove current selection
						var imgName = e.target.attributes.title.value.toLowerCase().replace(/ /g,""); //Url for the new image
						var swatchName = e.target.attributes.title.value.capitalize().replace(/ /g,"+"); //Url  for the PDP link
						var img = $(e.target).parent().parent().siblings(".brImgLink").find('.brProdImg')[0]; //Currently active image
						$(e.target).parent().addClass('brSwatchSelected'); //Select new swatch
						var imgurl = img.src;
						var pattern = /_[a-z]+\./;
						imgurl = imgurl.replace(pattern,'_'+imgName+'.');
						$(img).attr("src",imgurl);
						arrayCopy.forEach(function(e) {
							if(e.pid === pid){
								e.thumb_image = imgurl.replace(/(http[s]*:)/,"");
								e.active_swatch = imgName;
								var swatchRegEx =  /(swatchName=[a-zA-Z+]*)/g;
								if(swatchRegEx.test(e.url)){
									e.url = e.url.replace(swatchRegEx, "swatchName="+swatchName);
								}
								else{
									var appendVar = e.url.search(/\?/) < 0 ? "?" : "&"; //Do other options exist in the URL
									e.url = e.url.concat(appendVar+"swatchName="+swatchName);
								}
								e.qsurl = swatchRegEx.test(e.qsurl)? e.qsurl.replace(swatchRegEx, "swatchName="+swatchName) : e.qsurl = e.qsurl.concat("&swatchName="+swatchName);

								$("#"+e.pid+" .brImgLink").attr("href", e.url);
								$("#"+e.pid+" .brProdTitle").parent().attr("href", e.url);
								$("#"+e.pid+" .brQsLink").attr("href", e.qsurl);

                                var file = (imgurl.substring(imgurl.lastIndexOf('/')+1));
                                file =  file.substring(0, file.length - 4); // get rid of extension
                                $("#"+e.pid+" .brMltLink").attr("href", "/catalog/search.cmd?request_type=mlt&pid=" + e.pid + "&defaultImageFile=" + file + "&productURL=" + e.url);
							}
						});
                        // Save out a copy of arrayCopy to session storage
                        _lilly_storeArrayCopy(arrayCopy);
					});
				}
				,_lilly_brSuggestCallback = function( searchUrl, searchData ) {
					$("#keyword").val(searchData.parameters.query);
					_lilly_brResponseObject( searchUrl.substring( searchUrl.indexOf( '?' ) + 1 ) );

                    // Change hash of page in history
                    history.replaceState("", document.title, searchUrl);
				 }
				,_br_mob_suggest_defaultConfig = {
					accountId: 5187,
					authKey: 'cqb1lqj7fcep1s2',
					domainKey: 'lillypulitzer_com',
					environment: 'prod',
                    maxSuggestResults: 10,
					onFocusCallback: function(){return;},
					searchCallback: _lilly_brSuggestCallback
				 };
			$( document ).ready( function() {
				$('#keyword').brm_suggest(_br_mob_suggest_defaultConfig);
                // Load cached search results if the user is navigating back/forward
                //$(window).load(function() {
                    var windowHash = window.location.hash;
                    if (windowHash && windowHash.indexOf('brm-search') > -1 && typeof(Storage) !== "undefined") {
                        if (sessionStorage.getItem(windowHash + "_arrayCopy") && sessionStorage.getItem(windowHash + "_arrayCopy") !== "undefined") {
                            var arrayCopy = JSON.parse(sessionStorage.getItem(windowHash + "_arrayCopy"));
                            var appliedFilters = JSON.parse(sessionStorage.getItem(windowHash + "_filters"));

                            // Append resultset to the DOM
                            _lilly_renderView(arrayCopy);

							//re-set filters
							var szfltr, clr;
							if(appliedFilters){
								for (var i = 0; i < appliedFilters.sizes.length; ++i) {
									szfltr = $('#brFilterWrapper a[data-size="' + appliedFilters.sizes[i].elem + '"]');
									szfltr.attr('class', appliedFilters.sizes[i].classes);
									clr = szfltr.parent().siblings(".brWrapperForClear").children().children();
									if(clr.hasClass("hide")){
										clr.removeClass("hide").css("display","inline");
										if($('.brClearAllLink').hasClass("hide")){
											$('.brClearAllLink').removeClass("hide");
										}
									}
									if (appliedFilters.sizes[i].count) {
										$('#brFilterWrapper a[data-size="' + appliedFilters.sizes[i].elem + '"]').data('count', appliedFilters.sizes[i].count);
									}
								}

								if (isMobile || isTablet) {
									$(".brMobileApply").each(function(i, e) {
										$(e).trigger('click');
									});
								}

								// re-set values for slider
								$('#brUISlider').val(appliedFilters.priceRange);
								_lilly_brSlider.rewriteAmount();
								if(appliedFilters.priceRange[0] != _lilly_brSlider.min || appliedFilters.priceRange[1] != _lilly_brSlider.max){
									$('.sliderClear').removeClass("hide").css("display","inline");
									if($('.brClearAllLink').hasClass("hide")){
										$('.brClearAllLink').removeClass("hide");
									}
								}

								// re-set sort type
								$('select#brSortItemOptions').val(appliedFilters.sortType);
							}

                            // filter/sort the results
                            _lilly_refreshResults(arrayCopy, $('#brContentContainer')[0]);
                        } else {
                            _lilly_brResponseObject( windowHash.substring( windowHash.indexOf( '?' ) + 1 ) );
                        }
                    }
                //});

				$('#keyword').focus(function() {
					$('#keyword').keypress();
					//Fix poisitioning of autosuggest on desktop/tablet
					if(!isMobile){
						var
							elemRect = $("#keyword"),
							offset = elemRect.offset().top;
						$('.brm-autosuggest-menu').css('top', parseInt(elemRect.css('height')) + offset);
					}
					if($('#keyword').val() !== 'I\'m looking for...' && $('#keyword').val().length) {
						$('.brm-autosuggest-menu').show();
					}

					//  event listener to hide autosuggest on click outside #keyword and .brm-autosuggest-container
					// (not entirely necessary, but makes the site seem more responsive)
					$('html').on('click.brns', function(event) {
						if(!$(event.target).parents().andSelf().is('.brm-autosuggest-container') && !$(event.target).parents().andSelf().is('#keyword')) {
							$('.brm-autosuggest-menu').hide();
						}
					});
				});

                // HTML-level event listener for BloomReach
                $('html').on('click.brns', function(event) {
                    var clickTarget = $(event.target).parents().andSelf();

                    //  event listener to hide autosuggest on click outside #keyword and .brm-autosuggest-container
                    // (not entirely necessary, but makes the site seem more responsive)
                    if(!clickTarget.is('.brm-autosuggest-container') && !clickTarget.is('#keyword')) {
                        $('.brm-autosuggest-menu').hide();
                    }

                    // Hide content container when click occurs outside
                    if (($('#brContentContainer').length && !clickTarget.is('#brContentContainer') && !clickTarget.is('#colorbox')) && !clickTarget.is('.brm-autosuggest-menu') || clickTarget.is('.brCloseLink')) {
                        if (!isMobile && !isTablet) {
                            TweenLite.to($('#brContentContainer')[0], 0.6, {
                                opacity: '0',
                                transform: 'scale(0.5,0.5)',
                                ease: Power2.easeOut,
                                force3D: true,
                                onComplete: function() {
                                    $('#brContentContainer').hide();
                                }
                            });
                        } else {
                            TweenLite.to($('#brContentContainer')[0], 0.6, {
                                y: '-110%',
                                ease: Power2.easeIn,
                                force3D: true,
                                onComplete: function() {
                                    $('#brContentContainer').hide();
                                }
                            });
                        }

                        history.replaceState("", document.title, window.location.pathname + window.location.search);
                    }

                    // Filter flyout link event listener
                    if (clickTarget.is('#brFilterFlyoutLink')) {
                        TweenLite.set($('#brProducts'), {transformPerspective: 250});
                        $('#brContentContainer, body').scrollTop(0);
                        TweenLite.to($('#brFilterWrapper')[0], 0.6, {left: 0, ease: Power2.easeInOut, force3D: true});
                        var uagent = navigator.userAgent.toLowerCase();
                        if(!(/safari/.test(uagent) && !/chrome/.test(uagent))) { // If not safari
                            TweenLite.to($('#brProducts')[0], 0.6, {rotationY: 2, ease: Power2.easeInOut, force3D: true});
                        }
                        $('#brContentBlackout').show();
                        TweenLite.to($('#brContentBlackout')[0], 0.6, {opacity: 1});
                        $('#brContentContainer').css('overflow', 'hidden');
                    }

                    else if (clickTarget.is('#brFilterClose, #brContentBlackout')) {
                        TweenLite.to($('#brFilterWrapper')[0], 0.6, {left: '-85%', ease: Power2.easeInOut, force3D: true});
                        TweenLite.to($('#brProducts')[0], 0.6, {rotationY: '', ease: Power2.easeInOut, force3D: true});
                        TweenLite.to($('#brContentBlackout')[0], 0.6, {opacity: 0, onComplete: function() {$('#brContentBlackout').hide();}});
                        $('#brContentContainer').css('overflow', '');
                    };
                });

				/*if(isMobile){
					$('#keyword').blur(function() {
						setTimeout(function() {
							// Hide it again, just in case something other than a click interrupted focus
							// (This alone would be enough (no event listener), but the timeout could make the site feel unresponsive)
							$('.brm-autosuggest-menu').hide();
						}, 1000);
					});
				}*/

                $(window).unload(function() {
                    var windowHash = window.location.hash;
                    if (windowHash && windowHash.indexOf('brm-search') > -1 && typeof(Storage) !== "undefined") {
                        // Save classes for selected filters
                        var selectedFilters = $('.BRselected, #brFilterWrapper .applied');
                        this.selectedFiltersData = new Object();
                        this.selectedFiltersData.priceRange = $('#brUISlider').val();
                        this.selectedFiltersData.sortType = $('#brSortItemOptions option:selected')[0].value;
                        this.selectedFiltersData.sizes = [];
                        var that = this;

                        selectedFilters.each(function(i, e) {
                            that.selectedFiltersData.sizes[i] = new Object();
                            that.selectedFiltersData.sizes[i].elem = $(e).data('size');
                            that.selectedFiltersData.sizes[i].classes = $(e).attr('class');
                            that.selectedFiltersData.sizes[i].count = $(e).data('count');
                        });
                        sessionStorage.setItem(windowHash + "_filters", JSON.stringify(this.selectedFiltersData));
                    }
                });
			} );
		</script><script>
        // Set the device type in a cookie. This is used for front-end logic and for Akamai page caching.
        $(document).ready(function () {
            createCookie("DEVICE_TYPE", "Desktop");
        });
		
		ajaxPackagerUtil.init("/includes/ajaxPackage/ajaxPackager.jsp?ajaxPkgTCAreas=HeaderJS&eventValues=PRIVACY_SECURITY_PAGE&eventTypeName=PAGE_VIEWED&affiliateURL=" + encodeURIComponent(document.referrer));
		</script>
	 	
    
</body></html>