<!--The following is the downloaded HTML source of the maternityweek.com privacy policy that was archived on 2019-12-15.
 Please check the original snapshot on the Wayback Machine (https://web.archive.org/web/20191215065334id_/http%3A//maternityweek.com/privacy-policy) for the most accurate reproduction.-->

<!DOCTYPE html><html lang="en-US"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title data-react-helmet="true">Privacy policy | Maternityweek.com</title>            <link rel="stylesheet" type="text/css" href="https://maternityweek.com/assets/apps/master/maternityweek/generated-app.css?v=201910172100">    <link rel="profile" href="https://gmpg.org/xfn/11">
    <link rel="pingback" href="https://maternityweek.com/xmlrpc.php">
    <link rel="dns-prefetch" href="//s.w.org">
<link rel="https://api.w.org/" href="https://maternityweek.com/wp-json/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://maternityweek.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://maternityweek.com/wp-includes/wlwmanifest.xml"> 
<meta name="generator" content="WordPress 5.2.4">
<link rel="shortlink" href="https://maternityweek.com/?p=70149">
<link rel="alternate" type="application/json+oembed" href="https://maternityweek.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fmaternityweek.com%2Fprivacy-policy%2F">
<link rel="alternate" type="text/xml+oembed" href="https://maternityweek.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fmaternityweek.com%2Fprivacy-policy%2F&amp;format=xml">
<link rel="canonical" href="https://maternityweek.com/privacy-policy">
<meta property="og:title" content="Privacy policy">
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:description" content="We are committed to safeguarding the privacy of visitors to the &nbsp;website (the “Site”); this policy sets out how we will treat your personal information. If you are younger than 18, please ensure that your parent or guardian has read this privacy policy and is happy for you to accept it. Your registration for the…">
<meta property="og:url" content="https://maternityweek.com/privacy-policy">
<meta property="og:site_name" content="https://maternityweek.com">
<meta property="article:published_time" content="2016-02-03T22:14:07+00:00">
<meta property="article:modified_time" content="2019-09-09T13:33:59+00:00">
<meta property="og:updated_time" content="2019-09-09T13:33:59+00:00">
<meta property="twitter:card" content="summary">
<meta property="twitter:description" content="We are committed to safeguarding the privacy of visitors to the &nbsp;website (the “Site”); this policy sets out how we will treat your personal information. If you are younger than 18, please ensure that your parent or guardian has read this privacy policy and is happy for you to accept it. Your registration for the…">
<meta property="twitter:title" content="Privacy policy">
<link rel="alternate" type="application/rss+xml" title="maternityweek.com » Feed" href="https://maternityweek.com/feed/">
    <link rel="preconnect" href="https://events.avantisvideo.com">
<link rel="preconnect" href="https://jadserve.postrelease.com">
<link rel="preconnect" href="https://s3.amazonaws.com">
<link rel="preconnect" href="https://lockerdome.com">
<link rel="preconnect" href="https://tracker.liveyield.com">
<link rel="preconnect" href="https://log.outbrainimg.com">
<link rel="preconnect" href="https://hbopenbid.pubmatic.com">
<link rel="preconnect" href="https://googleads4.g.doubleclick.net">
<link rel="preconnect" href="https://tps20227.doubleverify.com">
<link rel="preconnect" href="https://tps.doubleverify.com">
<link rel="preconnect" href="https://btlr.sharethrough.com">
<link rel="preconnect" href="https://cdn.digitru.st">
<link rel="preconnect" href="https://tlx.3lift.com">
<link rel="preconnect" href="https://ib.adnxs.com">
<link rel="preconnect" href="https://js.spotx.tv">
<link rel="preconnect" href="https://fastlane.rubiconproject.com">
<link rel="preconnect" href="https://cdn.avantisvideo.com">
<link rel="preconnect" href="https://c.amazon-adsystem.com">
<link rel="preconnect" href="https://connect.facebook.net">
<link rel="preconnect" href="https://www.googletagservices.com">
<link rel="preconnect" href="https://s.ntv.io">
<link rel="preconnect" href="https://widgets.outbrain.com">
<link rel="preconnect" href="https://pixel.onaudience.com">
<link rel="preconnect" href="https://egraffiti-d.openx.net">
<link rel="preconnect" href="https://ad.doubleclick.net">
<link rel="preconnect" href="https://edba.brealtime.com">
<link rel="preconnect" href="https://player.avplayer.com">
<link rel="preconnect" href="https://tpc.googlesyndication.com">
<link rel="preconnect" href="https://cdn.doubleverify.com">
<link rel="preconnect" href="https://adservice.google.com">
<link rel="preconnect" href="https://tcheck.outbrainimg.com">
<link rel="preconnect" href="https://cdn3.doubleverify.com">
<link rel="preconnect" href="https://cdn.ampproject.org">
<link rel="preconnect" href="https://certify.alexametrics.com">
<link rel="preconnect" href="https://certify-js.alexametrics.com">
<link rel="preconnect" href="https://www.google-analytics.com">    <script async="" src="https://www.google-analytics.com/analytics.js"></script><script src="https://run.crtx.info/track.min.js" data-domain="maternityweek.com" id="ADRIZER_JS"></script>
    <script>
        window.__build = {tag: 'master', rev: 'f7863eac965b6afcff1b2166cb6713dfc6f1a21d', created: '2019-12-12T15:04:19+00:00'};
        window.context = {"type":"page","id":70149,"created_at":"2016-02-03T22:14:07+00:00","modified_at":"2019-09-09T13:33:59+00:00","author":{"name":"Contributing Writer","avatar":"https:\/\/secure.gravatar.com\/avatar\/e8d2a846d5a118c0b8731e8d3d48a9ba?s=96&d=mm&r=g"},"excerpt":"We are committed to safeguarding the privacy of visitors to the \u00a0website (the \u201cSite\u201d); this policy sets out how we will treat your personal information. If you are younger than 18, please ensure that your parent or guardian has read this privacy policy and is happy for you to accept it. Your registration for the [&hellip;]","title":"Privacy policy","permalink":"\/\/maternityweek.com\/privacy-policy\/","content":"<p>We are committed to safeguarding the privacy of visitors to the Maternity Week\u00a0website (the \u201cSite\u201d); this policy sets out how we will treat your personal information.<\/p>\n<p>If you are younger than 18, please ensure that your parent or guardian has read this privacy policy and is happy for you to accept it. Your registration for the Site is conditional on your parent or guardian\u2019s consent to this privacy policy.<\/p>\n<p><strong>1. What information do we collect?<\/strong><\/p>\n<p>We may collect, store and use the following kinds of personal information:<\/p>\n<p>(a) information about your computer and about your visits to and use of the Site (including your IP address, geographical location, browser type and version, operating system, referral source, length of visit, page views, Site navigation) in order to give you better recommendations;<\/p>\n<p>(b) information that you may provide to us for the purpose of registering with us;<\/p>\n<p>(c) information that you provide to us for the purpose of subscribing to the Site services and email notifications;<\/p>\n<p>(d) information contained in any email messages sent using our message service;<\/p>\n<p>(e) any other information that you choose to send to us.<\/p>\n<p><strong>2. Cookies<\/strong><\/p>\n<p>A cookie consists of information sent by a web server to a web browser, and stored by the browser. The information is then sent back to the server each time the browser requests a page from the server. This enables the web server to identify and track the web browser.<\/p>\n<p>We may use both \u201csession\u201d cookies and \u201cpersistent\u201d cookies on the Site for the purpose of creating better recommendations. We will use the session cookies to keep track of you whilst you navigate the Site. We will use the persistent cookies to enable the Site to recognise you when you visit.<\/p>\n<p>Session cookies will be deleted from your computer when you close your browser. Persistent cookies may remain stored on your computer until deleted, or until they reach a specified expiry date. We use these persistent cookies to better serve you with the kinds of content that we feel may be of interest to you.<\/p>\n<p>We use Google Analytics to analyse the use of the Site. Google Analytics generates statistical and other information about the Site use by means of cookies, which are stored on users&#8217; computers. The information generated relating to the Site is used to create reports about the use of the Site. Google will store this information. Google&#8217;s privacy policy is available at: <a title=\"http:\/\/www.google.com\/privacypolicy.html\" href=\"http:\/\/www.google.com\/privacypolicy.html\" target=\"_blank\" rel=\"noopener noreferrer\">http:\/\/www.google.com\/privacypolicy.html<\/a>.<\/p>\n<p>We use third-party advertising companies to serve ads and collect information when users visit our site. These companies may use information (not including your name, address, email address or telephone number) about your visits to this and other websites in order to provide advertisements on our site, other websites and other forms of media about goods and services of interest to you. If you would like more information about this practice and to know your choices about not having this information used by these companies, check out <a href=\"http:\/\/www.networkadvertising.org\/managing\/opt_out.asp\" target=\"_blank\" rel=\"noopener noreferrer\">http:\/\/www.networkadvertising.org\/managing\/opt_out.asp<\/a>.<\/p>\n<p>Most browsers allow you to reject all cookies, whilst some browsers allow you to reject just third party cookies. For example, in Internet Explorer you can refuse all cookies by clicking \u201cTools\u201d, \u201cInternet Options\u201d, \u201cPrivacy\u201d, and selecting \u201cBlock all cookies\u201d using the sliding selector. Blocking all cookies will, however, have a negative impact upon the usability of many websites, including this one.<\/p>\n<p><strong>3. Using your personal information<\/strong><\/p>\n<p>Personal information submitted to us via the Site will be used for the purposes specified in this privacy policy or in relevant parts of the Site.<\/p>\n<p>We may use your personal information to:<\/p>\n<p>(a) administer the Site;<\/p>\n<p>(b) improve your browsing experience by personalizing the Site;<\/p>\n<p>(c) enable your use of the services available on the Site;<\/p>\n<p>(d) send you general (non-marketing) commercial communications;<\/p>\n<p>(e) send you email notifications which you have specifically requested;<\/p>\n<p>(f) provide third parties with statistical information about our users \u2013 but this information will not be used to identify any individual user;<\/p>\n<p>(g) deal with enquiries and complaints made by or about you relating to the Site.<\/p>\n<p>Where you submit personal information for publication on the Site, we will publish and otherwise use that information in accordance with the license you grant to us.<\/p>\n<p>We will not without your express consent provide your personal information to any third parties for the purpose of direct marketing.<\/p>\n<p><strong>4. Disclosures<\/strong><\/p>\n<p>We may disclose information about you to any of our employees, officers, agents, suppliers or subcontractors insofar as reasonably necessary for the purposes as set out in this privacy policy.<\/p>\n<p>In addition, we may disclose your personal information:<\/p>\n<p>(a) to the extent that we are required to do so by law;<\/p>\n<p>(b) in connection with any legal proceedings or prospective legal proceedings;<\/p>\n<p>(c) in order to establish, exercise or defend our legal rights (including providing information to others for the purposes of fraud prevention and reducing credit risk); and<\/p>\n<p>(d) to any person who we reasonably believe may apply to a court or other competent authority for disclosure of that personal information where, in our reasonable opinion, such court or authority would be reasonably likely to order disclosure of that personal information.<\/p>\n<p>Except as provided in this privacy policy, we will not provide your information to third parties.<\/p>\n<p><strong>5. International data transfers<\/strong><\/p>\n<p>Information that we collect may be stored and processed in and transferred between any of the countries in which we operate in order to enable us to use the information in accordance with this privacy policy.<\/p>\n<p>Information which you provide may be transferred to countries which do not have data protection laws equivalent to those in force in the European Economic Area.<\/p>\n<p>In addition, personal information that you submit for publication on the Site will be published on the internet and may be available, via the internet, around the world. We cannot prevent the use or misuse of such information by others.<\/p>\n<p>You expressly agree to such transfers of personal information.<\/p>\n<p><strong>6. Security of your personal information<\/strong><\/p>\n<p>We will take reasonable technical and organisational precautions to prevent the loss, misuse or alteration of your personal information.<\/p>\n<p>We will store all the personal information you provide on our secure (password- and firewall- protected) servers. All electronic transactions you make to or receive from us will be encrypted.<\/p>\n<p>Of course, data transmission over the internet is inherently insecure, and we cannot guarantee the security of data sent over the internet.<\/p>\n<p>You are responsible for keeping your password and user details confidential. We will not ask you for your password (except when you log in to the Site).<\/p>\n<p><strong>7. Policy amendments<\/strong><\/p>\n<p>We may update this privacy policy from time-to-time by posting a new version on the Site. You should check this page occasionally to ensure you are happy with any changes.<\/p>\n<p>We may also notify you of changes to our privacy policy by email.<\/p>\n<p><strong>8. Your rights<\/strong><\/p>\n<p>You may instruct us to provide you with any personal information we hold about you. Provision of such information will be subject to:<\/p>\n<p>(a) the payment of a fee (currently fixed at \u00a310.00); and<\/p>\n<p>(b) the supply of appropriate evidence of your identity (for this purpose, we will usually accept a photocopy of your passport certified by a solicitor or bank plus an original copy of a utility bill showing your current address).<\/p>\n<p>We may withhold such personal information to the extent permitted by law.<\/p>\n<p>You may instruct us not to process your personal information for marketing purposes by email at any time. In practice, you will usually either expressly agree in advance to our use of your personal information for marketing purposes, or we will provide you with an opportunity to opt-out of the use of your personal information for marketing purposes.<\/p>\n<p><strong>9. Third party websites<\/strong><\/p>\n<p>The Site contains links to other websites. We are not responsible for the privacy policies or practices of third party websites.<\/p>\n<p><strong>10. Updating information<\/strong><\/p>\n<p>Please let us know if the personal information which we hold about you needs to be corrected or updated.<\/p>\n<p><strong>11. Contact<\/strong><\/p>\n<p>If you have any questions about this privacy policy or our treatment of your personal information, please write to us by email to <a href=\"mailto:contact@%5Bdomain%5D\">contact@maternityweek.com<\/a>\u00a0or by post to 72-75 Red Lion Street, London, WC1R 4NA.<\/p>\n"};
        window.testContexts = [];

        (function(){var f=window.Element.prototype,h=f.matches||f.matchesSelector||f.webkitMatchesSelector||f.mozMatchesSelector||f.msMatchesSelector||f.oMatchesSelector;function m(a,b){if(a&&1==a.nodeType&&b){if("string"==typeof b||1==b.nodeType)return a==b||n(a,b);if("length"in b)for(var c=0,d;d=b[c];c++)if(a==d||n(a,d))return!0}return!1}function n(a,b){if("string"!=typeof b)return!1;if(h)return h.call(a,b);b=a.parentNode.querySelectorAll(b);for(var c=0,d;d=b[c];c++)if(d==a)return!0;return!1}
function p(a){for(var b=[];a&&a.parentNode&&1==a.parentNode.nodeType;)a=a.parentNode,b.push(a);return b}
function q(a,b,c){function d(a){var d;if(e.composed&&"function"==typeof a.composedPath)for(var g=a.composedPath(),k=0,l;l=g[k];k++)1==l.nodeType&&m(l,b)&&(d=l);else a:{if((d=a.target)&&1==d.nodeType&&b)for(d=[d].concat(p(d)),g=0;k=d[g];g++)if(m(k,b)){d=k;break a}d=void 0}d&&c.call(d,a,d)}var g=document,e={composed:!0,g:!0},e=void 0===e?{}:e;g.addEventListener(a,d,e.g);return{i:function(){g.removeEventListener(a,d,e.g)}}}
function r(a){var b={};if(!a||1!=a.nodeType)return b;a=a.attributes;if(!a.length)return{};for(var c=0,d;d=a[c];c++)b[d.name]=d.value;return b}var t=/:(80|443)$/,u=document.createElement("a"),v={};
function w(a){a=a&&"."!=a?a:location.href;if(v[a])return v[a];u.href=a;if("."==a.charAt(0)||"/"==a.charAt(0))return w(u.href);var b="80"==u.port||"443"==u.port?"":u.port,b="0"==b?"":b,c=u.host.replace(t,"");return v[a]={hash:u.hash,host:c,hostname:u.hostname,href:u.href,origin:u.origin?u.origin:u.protocol+"//"+c,pathname:"/"==u.pathname.charAt(0)?u.pathname:"/"+u.pathname,port:b,protocol:u.protocol,search:u.search}}
function x(a,b,c,d,g){if("function"==typeof d){var e=c.get("buildHitTask");return{buildHitTask:function(c){c.set(a,null,!0);c.set(b,null,!0);d(c,g);e(c)}}}return y({},a,b)}function z(a,b){var c=r(a),d={};Object.keys(c).forEach(function(a){if(!a.indexOf(b)&&a!=b+"on"){var e=c[a];"true"==e&&(e=!0);"false"==e&&(e=!1);a=A(a.slice(b.length));d[a]=e}});return d}function B(a){function b(){c||(c=!0,a())}var c=!1;setTimeout(b,2E3);return b}
var y=Object.assign||function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];for(var g=0;d=c[g];g++)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(a[e]=d[e]);return a};function A(a){return a.replace(/[\-\_]+(\w?)/g,function(a,c){return c.toUpperCase()})}var C={j:1,l:2,m:3,s:4,u:5,h:6,v:7,w:8,A:9,o:10},D=Object.keys(C).length;function E(a){var b=C.h;a.set("\x26_av","2.0.1");var c=a.get("\x26_au"),c=parseInt(c||"0",16).toString(2);if(c.length<D)for(var d=D-c.length;d;)c="0"+c,d--;b=D-b;c=c.substr(0,b)+1+c.substr(b+1);a.set("\x26_au",parseInt(c||"0",2).toString(16))}
function F(a,b){var c=this;E(a);window.addEventListener&&(this.a=y({events:["click"],linkSelector:"a, area",shouldTrackOutboundLink:this.shouldTrackOutboundLink,fieldsObj:{},attributePrefix:"ga-"},b),this.f=a,this.c=this.c.bind(this),this.b={},this.a.events.forEach(function(a){c.b[a]=q(a,c.a.linkSelector,c.c)}))} F.prototype.c=function(a,b){if(this.a.shouldTrackOutboundLink(b,w)){var c=b.getAttribute("href")||b.getAttribute("xlink:href"),d=w(c),g={transport:"beacon",eventCategory:"Outbound Link",eventAction:a.type,eventLabel:d.href};navigator.sendBeacon||"click"!=a.type||"_blank"==b.target||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey||1<a.which||window.addEventListener("click",function(a){a.defaultPrevented||(a.preventDefault(),g.hitCallback=B(function(){location.href=c}))});a=y({},this.a.fieldsObj,z(b,this.a.attributePrefix));
this.f.send("event",x(g,a,this.f,this.a.hitFilter,b))}};F.prototype.shouldTrackOutboundLink=function(a,b){a=a.getAttribute("href")||a.getAttribute("xlink:href");b=b(a);return b.hostname!=location.hostname&&"http"==b.protocol.slice(0,4)};F.prototype.remove=function(){var a=this;Object.keys(this.b).forEach(function(b){a.b[b].i()})};
(function(a,b){var c=window.GoogleAnalyticsObject||"ga";window[c]=window[c]||function(a){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];(window[c].q=window[c].q||[]).push(b)};window.gaDevIds=window.gaDevIds||[];0>window.gaDevIds.indexOf("i5iSjo")&&window.gaDevIds.push("i5iSjo");window[c]("provide",a,b);window.gaplugins=window.gaplugins||{};window.gaplugins[a.charAt(0).toUpperCase()+a.slice(1)]=b})("outboundLinkTracker",F);})();

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

window.ga('create', 'UA-43750835-10', 'auto');
window.ga('set', 'anonymizeIp', true);


(function(history) {
  var pushState = history.pushState;
  history.pushState = function(state) {
    if (typeof history.googleOnChange == 'function') {
      history.googleOnChange({state: state});
    }

    return pushState.apply(history, arguments);
  };

  var replaceState = history.replaceState;
  history.replaceState = function(state) {
    if (typeof history.googleOnChange == 'function') {
      history.googleOnChange({state: state});
    }

    return replaceState.apply(history, arguments);
  };
})(window.history);

window.history.googleOnChange = function(e) {
  window.ga('set', 'location', location.href);
  window.ga('send', 'pageview');
};

window.history.googleOnChange();
        /*
 * Copyright (c) 2011, Yahoo! Inc.  All rights reserved.
 * Copyright (c) 2011-2012, Log-Normal, Inc.  All rights reserved.
 * Copyright (c) 2012-2017, SOASTA, Inc. All rights reserved.
 * Copyright (c) 2017, Akamai Technologies, Inc. All rights reserved.
 * Copyrights licensed under the BSD License. See the accompanying LICENSE.txt file for terms.
 */
/* JavaScript MD5 1.0.1 Copyright 2011, Sebastian Tschan. Licensed under the MIT license. */
/* Boomerang Version: 1.0.0 f7863eac965b6afcff1b2166cb6713dfc6f1a21d */

BOOMR_start=(new Date).getTime();function BOOMR_check_doc_domain(e){if(window){if(!e){if(window.parent===window||!document.getElementById("boomr-if-as"))return;if(window.BOOMR&&BOOMR.boomerang_frame&&BOOMR.window)try{BOOMR.boomerang_frame.document.domain!==BOOMR.window.document.domain&&(BOOMR.boomerang_frame.document.domain=BOOMR.window.document.domain)}catch(t){BOOMR.isCrossOriginError(t)||BOOMR.addError(t,"BOOMR_check_doc_domain.domainFix")}e=document.domain}if(e&&-1!==e.indexOf(".")&&window.parent){try{window.parent.document;return}catch(t){try{document.domain=e}catch(n){return}}try{window.parent.document;return}catch(t){e=e.replace(/^[\w\-]+\./,"")}BOOMR_check_doc_domain(e)}}}BOOMR_check_doc_domain();!function(c){var l,t,u,o,s,e,a,n=c;c.parent!==c&&document.getElementById("boomr-if-as")&&"script"===document.getElementById("boomr-if-as").nodeName.toLowerCase()&&(c=c.parent);u=c.document;c.BOOMR||(c.BOOMR={});BOOMR=c.BOOMR;if(!BOOMR.version){BOOMR.version="1.0.0";BOOMR.window=c;BOOMR.boomerang_frame=n;BOOMR.plugins||(BOOMR.plugins={});!function(){try{new c.CustomEvent("CustomEvent")!==undefined&&(o=function(e,t){return new c.CustomEvent(e,t)})}catch(e){}try{!o&&u.createEvent&&u.createEvent("CustomEvent")&&(o=function(e,t){var n=u.createEvent("CustomEvent");t=t||{cancelable:!1,bubbles:!1};n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail);return n})}catch(e){}!o&&u.createEventObject&&(o=function(e,t){var n=u.createEventObject();n.type=n.propertyName=e;n.detail=t.detail;return n});o||(o=function(){return undefined})}();s=function(e,t,n){var r=o(e,{detail:t});r&&(n?BOOMR.setImmediate(i):i());function i(){try{u.dispatchEvent?u.dispatchEvent(r):u.fireEvent&&u.fireEvent("onpropertychange",r)}catch(e){}}};if("undefined"!=typeof u.hidden){e="visibilityState";a="visibilitychange"}else if("undefined"!=typeof u.mozHidden){e="mozVisibilityState";a="mozvisibilitychange"}else if("undefined"!=typeof u.msHidden){e="msVisibilityState";a="msvisibilitychange"}else if("undefined"!=typeof u.webkitHidden){e="webkitVisibilityState";a="webkitvisibilitychange"}l={beacon_url:"",beacon_url_force_https:!0,beacon_urls_allowed:[],beacon_type:"AUTO",beacon_auth_key:"Authorization",beacon_auth_token:undefined,beacon_with_credentials:!1,beacon_disable_sendbeacon:!1,site_domain:c.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",autorun:!0,hasSentPageLoadBeacon:!1,r:undefined,events:{page_ready:[],page_unload:[],before_unload:[],dom_loaded:[],visibility_changed:[],prerender_to_visible:[],before_beacon:[],beacon:[],page_load_beacon:[],xhr_load:[],click:[],form_submit:[],config:[],xhr_init:[],spa_init:[],spa_navigation:[],spa_cancel:[],xhr_send:[],xhr_error:[],error:[],netinfo:[],rage_click:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",beacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},translate_events:{onbeacon:"beacon",onconfig:"config",onerror:"error",onxhrerror:"xhr_error"},unloadEventsCount:0,unloadEventCalled:0,listenerCallbacks:{},vars:{},singleBeaconVars:{},varPriority:{"-1":{},1:{}},errors:{},disabled_plugins:{},localStorageSupported:!1,LOCAL_STORAGE_PREFIX:"_boomr_",nativeOverwrites:[],xb_handler:function(n){return function(e){var t;e||(e=c.event);e.target?t=e.target:e.srcElement&&(t=e.srcElement);3===t.nodeType&&(t=t.parentNode);t&&t.nodeName&&"OBJECT"===t.nodeName.toUpperCase()&&"application/x-shockwave-flash"===t.type||l.fireEvent(n,t)}},clearEvents:function(){var e;for(e in this.events)this.events.hasOwnProperty(e)&&(this.events[e]=[])},clearListeners:function(){var e;for(e in l.listenerCallbacks)if(l.listenerCallbacks.hasOwnProperty(e))for(;l.listenerCallbacks[e].length;)BOOMR.utils.removeListener(l.listenerCallbacks[e][0].el,e,l.listenerCallbacks[e][0].fn);l.listenerCallbacks={}},fireEvent:function(e,t){var n,r,i,o;e=e.toLowerCase();this.translate_events[e]&&(e=this.translate_events[e]);if(this.events.hasOwnProperty(e)){this.public_events.hasOwnProperty(e)&&s(this.public_events[e],t);i=this.events[e];"before_beacon"!==e&&"beacon"!==e&&BOOMR.real_sendBeacon();o=i.length;for(n=0;n<o;n++)try{(r=i[n]).fn.call(r.scope,t,r.cb_data)}catch(a){BOOMR.addError(a,"fireEvent."+e+"<"+n+">")}for(n=0;n<o;n++)if(i[n].once){i.splice(n,1);o--;n--}}},spaNavigation:function(){l.onloadfired=!0},beaconUrlAllowed:function(e){if(!l.beacon_urls_allowed||0===l.beacon_urls_allowed.length)return!0;for(var t=0;t<l.beacon_urls_allowed.length;t++){if(new RegExp(l.beacon_urls_allowed[t]).exec(e))return!0}return!1},checkLocalStorageSupport:function(){var e=l.LOCAL_STORAGE_PREFIX+"clss";l.localStorageSupported=!1;try{if(!c.JSON||!c.localStorage)return;c.localStorage.setItem(e,e);l.localStorageSupported=c.localStorage.getItem(e)===e;c.localStorage.removeItem(e)}catch(t){l.localStorageSupported=!1}},onFrameUnloaded:function(){var e,t;BOOMR.isUnloaded=!0;for(e=0;e<l.nativeOverwrites.length;e++)(t=l.nativeOverwrites[e]).obj[t.functionName]=t.origFn;l.nativeOverwrites=[]}};t={t_start:BOOMR_start,t_end:undefined,url:"",config_url:null,loadedLate:!1,beaconsSent:0,isUnloaded:!1,beaconInQueue:!1,constants:{BEACON_TYPE_SPAS:["spa","spa_hard"],MAX_GET_LENGTH:2e3},session:{domain:l.site_domain,ID:undefined,start:undefined,length:0,enabled:!0},utils:{hasPostMessageSupport:function(){return!(!c.postMessage||"function"!=typeof c.postMessage&&"object"!=typeof c.postMessage)},objectToString:function(e,t,n){var r,i=[];if(!e||"object"!=typeof e)return e;t===undefined&&(t="\n\t");n||(n=0);if(BOOMR.utils.isArray(e)){for(r=0;r<e.length;r++)0<n&&null!==e[r]&&"object"==typeof e[r]?i.push(this.objectToString(e[r],t+("\n\t"===t?"\t":""),n-1)):"&"===t?i.push(encodeURIComponent(e[r])):i.push(e[r]);t=","}else for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(0<n&&null!==e[r]&&"object"==typeof e[r]?i.push(encodeURIComponent(r)+"="+this.objectToString(e[r],t+("\n\t"===t?"\t":""),n-1)):"&"===t?i.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r])):i.push(r+"="+e[r]));return i.join(t)},getCookie:function(e){if(!e)return null;e=" "+e+"=";var t,n;if(0<=(t=(n=" "+u.cookie+";").indexOf(e))){t+=e.length;return n=n.substring(t,n.indexOf(";",t)).replace(/^"/,"").replace(/"$/,"")}},setCookie:function(e,t,n){var r,i,o,a,s;if(!e||!BOOMR.session.domain||void 0===t){BOOMR.addVar("nocookie",1);return!1}if((i=e+'="'+(r=this.objectToString(t,"&"))+'"').length<500){a=[i,"path=/","domain="+BOOMR.session.domain];if("number"==typeof n){(s=new Date).setTime(s.getTime()+1e3*n);s=s.toGMTString();a.push("expires="+s)}u.cookie=a.join("; ");if(r===(o=this.getCookie(e))||void 0===o&&"number"==typeof n&&n<=0)return!0;BOOMR.warn("Saved cookie value doesn't match what we tried to set:\n"+r+"\n"+o)}else BOOMR.warn("Cookie too long: "+i.length+" "+i);BOOMR.addVar("nocookie",1);return!1},getSubCookies:function(e){var t,n,r,i,o=!1,a={};if(!e)return null;if("string"!=typeof e)return null;for(n=0,r=(t=e.split("&")).length;n<r;n++)if((i=t[n].split("="))[0]){i.push("");a[decodeURIComponent(i[0])]=decodeURIComponent(i[1]);o=!0}return o?a:null},removeCookie:function(e){return this.setCookie(e,{},-86400)},getLocalStorage:function(e){var t,n;if(!e||!l.localStorageSupported)return null;try{if(null===(t=c.localStorage.getItem(l.LOCAL_STORAGE_PREFIX+e)))return undefined;n=c.JSON.parse(t)}catch(r){BOOMR.warn(r);return null}if(!n||"object"!=typeof n.items){this.removeLocalStorage(e);return null}if("number"==typeof n.expires&&BOOMR.now()>=n.expires){this.removeLocalStorage(e);return undefined}return n.items},setLocalStorage:function(e,t,n){var r,i,o;if(!e||!l.localStorageSupported||"object"!=typeof t)return!1;r={items:t};"number"==typeof n&&(r.expires=BOOMR.now()+1e3*n);if((i=c.JSON.stringify(r)).length<5e4){try{c.localStorage.setItem(l.LOCAL_STORAGE_PREFIX+e,i);if(i===(o=c.localStorage.getItem(l.LOCAL_STORAGE_PREFIX+e)))return!0}catch(a){}BOOMR.warn("Saved storage value doesn't match what we tried to set:\n"+i+"\n"+o)}else BOOMR.warn("Storage items too large: "+i.length+" "+i);return!1},removeLocalStorage:function(e){if(!e||!l.localStorageSupported)return!1;try{c.localStorage.removeItem(l.LOCAL_STORAGE_PREFIX+e);return!0}catch(t){}return!1},cleanupURL:function(e,t){if(!e||BOOMR.utils.isArray(e))return"";l.strip_query_string&&(e=e.replace(/\?.*/,"?qs-redacted"));if(void 0!==t&&e&&e.length>t){var n=e.indexOf("?");e=-1!==n&&n<t?e.substr(0,n)+"?...":e.substr(0,t-3)+"..."}return e},hashQueryString:function(e,t){if(!e)return e;if(!e.match){BOOMR.addError("TypeError: Not a string","hashQueryString",typeof e);return""}e.match(/^\/\//)&&(e=location.protocol+e);if(!e.match(/^(https?|file):/)){BOOMR.error("Passed in URL is invalid: "+e);return""}t&&(e=e.replace(/#.*/,""));return BOOMR.utils.MD5?e.replace(/\?([^#]*)/,function(e,t){return"?"+(10<t.length?BOOMR.utils.MD5(t):t)}):e},pluginConfig:function(e,t,n,r){var i,o=0;if(!t||!t[n])return!1;for(i=0;i<r.length;i++)if(t[n][r[i]]!==undefined){e[r[i]]=t[n][r[i]];o++}return 0<o},arrayFilter:function(e,t){var n=[];if(!(this.isArray(e)||e&&"number"==typeof e.length)||"function"!=typeof t)return n;if("function"==typeof e.filter)n=e.filter(t);else for(var r,i=-1,o=e.length;++i<o;)t(r=e[i],i,e)&&(n[n.length]=r);return n},arrayFind:function(e,t){if(!(this.isArray(e)||e&&"number"==typeof e.length)||"function"!=typeof t)return undefined;if("function"==typeof e.find)return e.find(t);for(var n,r=-1,i=e.length;++r<i;)if(t(n=e[r],r,e))return n;return undefined},isMutationObserverSupported:function(){return!(c&&c.navigator&&c.navigator.userAgent&&c.navigator.userAgent.match(/Trident.*rv[ :]*11\./))&&c&&c.MutationObserver&&"function"==typeof c.MutationObserver},addObserver:function(e,t,n,r,i,o){var a,s,u={observer:null,timer:null};if(!this.isMutationObserverSupported()||!r||!e)return null;function d(e){var t=!1;if(u.timer){clearTimeout(u.timer);u.timer=null}r&&((t=r.call(o,e,i))||(r=null));if(!t&&u.observer){u.observer.disconnect();u.observer=null}"number"==typeof t&&0<t&&(u.timer=setTimeout(d,t))}a=c.MutationObserver;c.Zone&&"function"==typeof c.Zone.__symbol__&&(s=c.Zone.__symbol__("MutationObserver"))&&"string"==typeof s&&c.hasOwnProperty(s)&&"function"==typeof c[s]&&(a=c[s]);u.observer=new a(d);n&&(u.timer=setTimeout(d,u.timeout));u.observer.observe(e,t);return u},addListener:function(e,t,n,r){var i=!1;if(e.addEventListener){r&&BOOMR.browser.supportsPassive()&&(i={capture:!1,passive:!0});e.addEventListener(t,n,i)}else e.attachEvent&&e.attachEvent("on"+t,n);l.listenerCallbacks[t]=l.listenerCallbacks[t]||[];l.listenerCallbacks[t].push({el:e,fn:n})},removeListener:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n);if(l.listenerCallbacks.hasOwnProperty(t))for(var r=0;r<l.listenerCallbacks[t].length;r++)if(n===l.listenerCallbacks[t][r].fn&&e===l.listenerCallbacks[t][r].el){l.listenerCallbacks[t].splice(r,1);return}},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},inArray:function(e,t){var n;if(void 0===e||void 0===t||!t.length)return!1;for(n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},getQueryParamValue:function(e,t){var n,r,i,o;if(!e)return null;"string"==typeof t?(n=BOOMR.window.document.createElement("a")).href=t:n="object"==typeof t&&"string"==typeof t.search?t:BOOMR.window.location;r=n.search.slice(1).split(/&/);for(i=0;i<r.length;i++)if(r[i]&&(o=r[i].split("=")).length&&o[0]===e)return 1<o.length?decodeURIComponent(o.splice(1).join("=").replace(/\+/g," ")):"";return null},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},generateId:function(e){return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".substr(0,e||40).replace(/x/g,function(e){return"0"===(e=(Math.random()||.01).toString(36))?"0":e.substr(2,1)})},serializeForUrl:function(e){return BOOMR.utils.Compression&&BOOMR.utils.Compression.jsUrl?BOOMR.utils.Compression.jsUrl(e):window.JSON?JSON.stringify(e):""},getMyURL:function(){var e,t=document.currentScript||document.getElementById("boomr-if-as")||document.getElementById("boomr-scr-as");if(t)return t.src;var n,r=document.getElementsByTagName("script");for(n=r.length;n--;)if("interactive"===r[n].readyState)return r[n].src;try{throw new Error}catch(i){if("stack"in i&&(e=this.arrayFilter(i.stack.split(/\n/),function(e){return e.match(/https?:\/\//)}))&&e.length)return e[0].replace(/.*(https?:\/\/.+?)(:\d+)+\D*$/m,"$1")}return""},scroll:function(){var e=c.pageXOffset!==undefined,t="CSS1Compat"===(c.document.compatMode||""),n={x:0,y:0};if(e)if("function"==typeof c.pageXOffset){n.x=c.pageXOffset();n.y=c.pageYOffset()}else{n.x=c.pageXOffset;n.y=c.pageYOffset}else if(t){n.x=c.document.documentElement.scrollLeft;n.y=c.document.documentElement.scrollTop}else{n.x=c.document.body.scrollLeft;n.y=c.document.body.scrollTop}"number"==typeof n.sx&&(n.sx=Math.round(n.sx));"number"==typeof n.sy&&(n.sy=Math.round(n.sy));return n},windowHeight:function(){return c.innerHeight||c.document.documentElement.clientHeight||c.document.body.clientHeight},windowWidth:function(){return c.innerWidth||c.document.documentElement.clientWidth||c.document.body.clientWidth},isNative:function(e){return!!e&&e.toString&&!e.hasOwnProperty("toString")&&/\[native code\]/.test(String(e))},overwriteNative:function(e,t,n){if(e&&n){BOOMR.boomerang_frame!==BOOMR.window&&l.nativeOverwrites.push({obj:e,functionName:t,origFn:e[t]});e[t]=n}},isInteger:function(e){return(Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e})(e)}},browser:{results:{},supportsPassive:function(){if("undefined"==typeof BOOMR.browser.results.supportsPassive){BOOMR.browser.results.supportsPassive=!1;if(!Object.defineProperty)return!1;try{var e=Object.defineProperty({},"passive",{get:function(){BOOMR.browser.results.supportsPassive=!0}});window.addEventListener("test",null,e)}catch(t){}}return BOOMR.browser.results.supportsPassive}},init:function(e){var t,n,r=["autorun","beacon_auth_key","beacon_auth_token","beacon_with_credentials","beacon_disable_sendbeacon","beacon_url","beacon_url_force_https","beacon_type","site_domain","strip_query_string","user_ip"];BOOMR_check_doc_domain();e||(e={});e.log!==undefined&&(this.log=e.log);this.log||(this.log=function(){});this.pageId||(this.pageId=BOOMR.utils.generateId(8));if(e.primary&&l.handlers_attached)return this;"string"==typeof e.site_domain&&(this.session.domain=e.site_domain);BOOMR.session.enabled&&"undefined"==typeof BOOMR.session.ID&&(BOOMR.session.ID=BOOMR.utils.generateUUID());"undefined"!=typeof e.autorun&&(l.autorun=e.autorun);for(n in this.plugins)if(this.plugins.hasOwnProperty(n)){if(e[n]&&e[n].hasOwnProperty("enabled")&&!1===e[n].enabled){l.disabled_plugins[n]=1;"function"==typeof this.plugins[n].disable&&this.plugins[n].disable();continue}if(l.disabled_plugins[n]){if(!e[n]||!e[n].hasOwnProperty("enabled")||!0!==e[n].enabled)continue;"function"==typeof this.plugins[n].enable&&this.plugins[n].enable();delete l.disabled_plugins[n]}if("function"==typeof this.plugins[n].init)try{this.plugins[n].init(e)}catch(i){BOOMR.addError(i,n+".init")}}for(t=0;t<r.length;t++)e[r[t]]!==undefined&&(l[r[t]]=e[r[t]]);if(!l.handlers_attached&&!e.wait||l.handlers_attached&&l.waiting_for_config){if(!l.onloadfired&&(l.autorun===undefined||!1!==l.autorun)){BOOMR.hasBrowserOnloadFired()&&(BOOMR.loadedLate=!0);BOOMR.attach_page_ready(BOOMR.page_ready_autorun)}l.waiting_for_config=!1}if(l.handlers_attached)return this;e.wait&&(l.waiting_for_config=!0);BOOMR.attach_page_ready(function(){BOOMR.t_onload||(BOOMR.t_onload=BOOMR.now())});BOOMR.utils.addListener(c,"DOMContentLoaded",function(){l.fireEvent("dom_loaded")});BOOMR.fireEvent("config",e);BOOMR.subscribe("config",function(e){e.beacon_url&&(l.beacon_url=e.beacon_url)});BOOMR.subscribe("spa_navigation",l.spaNavigation,null,l);!function(){var e,t;if(a!==undefined){BOOMR.utils.addListener(u,a,function(){l.fireEvent("visibility_changed")});l.lastVisibilityState=BOOMR.visibilityState();BOOMR.subscribe("visibility_changed",function(){var e=BOOMR.visibilityState();BOOMR.lastVisibilityEvent[e]=BOOMR.now();if("prerender"===l.lastVisibilityState&&"prerender"!==e){BOOMR.addVar("vis.pre","1");l.fireEvent("prerender_to_visible")}l.lastVisibilityState=e})}BOOMR.utils.addListener(u,"mouseup",l.xb_handler("click"));e=u.getElementsByTagName("form");for(t=0;t<e.length;t++)BOOMR.utils.addListener(e[t],"submit",l.xb_handler("form_submit"));c.onpagehide||null===c.onpagehide||BOOMR.utils.addListener(c,"unload",function(){BOOMR.window=c=null});BOOMR.boomerang_frame!==BOOMR.window&&BOOMR.utils.addListener(BOOMR.boomerang_frame,"unload",l.onFrameUnloaded)}();l.handlers_attached=!0;return this},attach_page_ready:function(e){BOOMR.hasBrowserOnloadFired()?this.setImmediate(e,null,null,BOOMR):c.onpagehide||null===c.onpagehide?BOOMR.utils.addListener(c,"pageshow",e):BOOMR.utils.addListener(c,"load",e)},page_ready_autorun:function(e){l.autorun&&BOOMR.page_ready(e,!0)},page_ready:function(e,t){var n;if(!t&&"number"==typeof e){n=e;e=null}e||(e=c.event);e||(e={name:"load"});if(t){if("number"==typeof c.BOOMR_page_ready){e.timing=e.timing||{};e.timing.loadEventEnd=c.BOOMR_page_ready;BOOMR.addVar("pr",1,!0)}}else{e.timing=e.timing||{};n?e.timing.loadEventEnd=n:"number"==typeof c.BOOMR_page_ready?e.timing.loadEventEnd=c.BOOMR_page_ready:e.timing.loadEventEnd=BOOMR.now();BOOMR.addVar("pr",1,!0)}if(l.onloadfired)return this;l.fireEvent("page_ready",e);l.onloadfired=!0;return this},hasBrowserOnloadFired:function(){var e=BOOMR.getPerformance();return u.readyState&&"complete"===u.readyState||e&&e.timing&&0<e.timing.loadEventStart||0<c.BOOMR_onload},onloadFired:function(){return l.onloadfired},setImmediate:function(e,t,n,r){var i;i=function(){e.call(r||null,t,n||{},void 0);i=null};c.requestIdleCallback?c.requestIdleCallback(i,{timeout:1e3}):c.setImmediate?c.setImmediate(i):setTimeout(i,10)},now:Date.now||function(){return(new Date).getTime()},getPerformance:function(){try{if(BOOMR.window)return"performance"in BOOMR.window&&BOOMR.window.performance?BOOMR.window.performance:BOOMR.window.msPerformance||BOOMR.window.webkitPerformance||BOOMR.window.mozPerformance}catch(e){}},hrNow:function(){var e,t,n=BOOMR.getPerformance();if(n&&n.now)e=n.now();else{t=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart&&BOOMR.plugins.RT.navigationStart()||BOOMR.t_lstart||BOOMR.t_start;e=BOOMR.now()-t}return e},visibilityState:e===undefined?function(){return"visible"}:function(){return u[e]},lastVisibilityEvent:{},registerEvent:function(e){if(l.events.hasOwnProperty(e))return this;l.events[e]=[];return this},disable:function(){l.clearEvents();l.clearListeners()},fireEvent:function(e,t){return l.fireEvent(e,t)},subscribe:function(t,n,r,i,e){var o,a,s;t=t.toLowerCase();l.translate_events[t]&&(t=l.translate_events[t]);l.events.hasOwnProperty(t)||(l.events[t]=[]);s=l.events[t];for(o=0;o<s.length;o++)if((a=s[o])&&a.fn===n&&a.cb_data===r&&a.scope===i)return this;s.push({fn:n,cb_data:r||{},scope:i||null,once:e||!1});"page_ready"===t&&l.onloadfired&&l.autorun&&this.setImmediate(n,null,r,i);if("page_unload"===t||"before_unload"===t){l.unloadEventsCount++;!function(){var e;s.length;e=function(e){n&&n.call(i,e||c.event,r);++l.unloadEventCalled===l.unloadEventsCount&&BOOMR.real_sendBeacon()};"page_unload"===t&&(c.onpagehide||null===c.onpagehide?BOOMR.utils.addListener(c,"pagehide",e):BOOMR.utils.addListener(c,"unload",e));BOOMR.utils.addListener(c,"beforeunload",e)}()}return this},addError:function(e,t,n){var r,i=BOOMR.plugins.Errors;BOOMR.error("Boomerang caught error: "+e+", src: "+t+", extra: "+n);if(i&&i.is_supported())if("string"==typeof e)i.send({message:e,extra:n,functionName:t,noStack:!0},i.VIA_APP,i.SOURCE_BOOMERANG);else{"string"==typeof t&&(e.functionName=t);void 0!==n&&(e.extra=n);i.send(e,i.VIA_APP,i.SOURCE_BOOMERANG)}else{if("string"!=typeof e){(r=String(e)).match(/^\[object/)&&(r=e.name+": "+(e.description||e.message).replace(/\r\n$/,""));e=r}t!==undefined&&(e="["+t+":"+BOOMR.now()+"] "+e);n&&(e+=":: "+n);l.errors[e]?l.errors[e]++:l.errors[e]=1}},isCrossOriginError:function(e){return"SecurityError"===e.name||"TypeError"===e.name&&"Permission denied"===e.message||"Error"===e.name&&e.message&&e.message.match(/^(Permission|Access is) denied/)||-2146828218===e.number},addVar:function(e,t,n){if("string"==typeof e)l.vars[e]=t;else if("object"==typeof e){var r,i=e;for(r in i)i.hasOwnProperty(r)&&(l.vars[r]=i[r])}n&&(l.singleBeaconVars[e]=1);return this},appendVar:function(e,t){var n=BOOMR.getVar(e)||"";n&&(n+=",");BOOMR.addVar(e,n+t);return this},removeVar:function(e){var t,n;if(!arguments.length)return this;n=1===arguments.length&&BOOMR.utils.isArray(e)?e:arguments;for(t=0;t<n.length;t++)l.vars.hasOwnProperty(n[t])&&delete l.vars[n[t]];return this},hasVar:function(e){return l.vars.hasOwnProperty(e)},getVar:function(e){return l.vars[e]},setVarPriority:function(e,t){if("number"!=typeof t||1!==Math.abs(t))return this;l.varPriority[t][e]=1;return this},setReferrer:function(e){l.r=e},requestStart:function(t){var n=BOOMR.now();BOOMR.plugins.RT.startTimer("xhr_"+t,n);return{loaded:function(e){BOOMR.responseEnd(t,n,e)}}},readyToSend:function(){var e;for(e in this.plugins)if(this.plugins.hasOwnProperty(e)){if(l.disabled_plugins[e])continue;if("function"==typeof this.plugins[e].readyToSend&&!1===this.plugins[e].readyToSend())return!1}return!0},responseEnd:function(e,t,n,r){t="number"==typeof t?t:BOOMR.now();r="number"==typeof r?r:BOOMR.now();if(BOOMR.readyToSend())if(BOOMR.hasSentPageLoadBeacon()||BOOMR.utils.inArray(e.initiator,BOOMR.constants.BEACON_TYPE_SPAS))if(l.beaconInQueue)BOOMR.subscribe("beacon",function(){BOOMR.responseEnd(e,t,n,r)},null,BOOMR,!0);else{l.beaconInQueue=!0;if("object"==typeof e){if(!e.url)return;l.fireEvent("xhr_load",e)}else{BOOMR.real_sendBeacon();BOOMR.addVar("xhr.pg",e);BOOMR.plugins.RT.startTimer("xhr_"+e,t);l.fireEvent("xhr_load",{name:"xhr_"+e,data:n,timing:{loadEventEnd:r}})}}else BOOMR.subscribe("page_load_beacon",function(){BOOMR.responseEnd(e,t,n,r)},null,BOOMR,!0);else setTimeout(function(){BOOMR.responseEnd(e,t,n,r)},1e3)},uninstrumentXHR:function(){},instrumentXHR:function(){},uninstrumentFetch:function(){},instrumentFetch:function(){},sendBeacon:function(e){e&&(l.beacon_url_override=e);if(!l.beaconQueued){l.beaconQueued=!0;BOOMR.setImmediate(BOOMR.real_sendBeacon,null,null,BOOMR)}return!0},sendBeaconWhenReady:function(e,t,n){if(l.beaconInQueue)BOOMR.subscribe("beacon",function(){BOOMR.sendBeaconWhenReady(e,t,n)},null,BOOMR,!0);else{l.beaconInQueue=!0;for(var r in e)e.hasOwnProperty(r)&&BOOMR.addVar(r,e[r],!0);"function"==typeof t&&void 0!==n&&t.apply(n);BOOMR.sendBeacon()}},real_sendBeacon:function(){var e,t=[],n={};if(!l.beaconQueued)return!1;l.beaconQueued=!1;for(e in this.plugins)if(this.plugins.hasOwnProperty(e)){if(l.disabled_plugins[e])continue;if(!this.plugins[e].is_complete(l.vars))return!1}if(!(window&&window.Image&&window.navigator&&BOOMR.window))return!1;var r=BOOMR.utils.inArray(l.vars["http.initiator"],BOOMR.constants.BEACON_TYPE_SPAS),i="undefined"==typeof l.vars["http.initiator"]||r;l.vars.pgu||(l.vars.pgu=r?u.URL:u.URL.replace(/#.*/,""));l.vars.pgu=BOOMR.utils.cleanupURL(l.vars.pgu);l.vars.u&&!r||(l.vars.u=l.vars.pgu);l.vars.pgu===l.vars.u&&delete l.vars.pgu;l.r?l.vars.r=BOOMR.utils.cleanupURL(l.r):delete l.vars.r;l.vars.v=BOOMR.version;BOOMR.snippetVersion&&(l.vars.sv=BOOMR.snippetVersion);l.vars.sm=BOOMR.snippetMethod||"i";if(BOOMR.session.enabled){l.vars["rt.si"]=BOOMR.session.ID+"-"+Math.round(BOOMR.session.start/1e3).toString(36);l.vars["rt.ss"]=BOOMR.session.start;l.vars["rt.sl"]=BOOMR.session.length}if(BOOMR.visibilityState()){l.vars["vis.st"]=BOOMR.visibilityState();BOOMR.lastVisibilityEvent.visible&&(l.vars["vis.lv"]=BOOMR.now()-BOOMR.lastVisibilityEvent.visible);BOOMR.lastVisibilityEvent.hidden&&(l.vars["vis.lh"]=BOOMR.now()-BOOMR.lastVisibilityEvent.hidden)}l.vars["ua.plt"]=navigator.platform;l.vars["ua.vnd"]=navigator.vendor;this.pageId&&(l.vars.pid=this.pageId);l.vars.n=++this.beaconsSent;if(c!==window){"if";l.vars["if"]=""}for(e in l.errors)l.errors.hasOwnProperty(e)&&t.push(e+(1<l.errors[e]?" (*"+l.errors[e]+")":""));0<t.length&&(l.vars.errors=t.join("\n"));l.errors={};l.fireEvent("before_beacon",l.vars);for(e in l.vars)l.vars.hasOwnProperty(e)&&(n[e]=l.vars[e]);BOOMR.removeVar(["qt","pgu"]);for(var o in l.singleBeaconVars)l.singleBeaconVars.hasOwnProperty(o)&&BOOMR.removeVar(o);l.singleBeaconVars={};if(!l.hasSentPageLoadBeacon&&i){l.hasSentPageLoadBeacon=!0;BOOMR.setImmediate(function(){l.fireEvent("page_load_beacon",n)})}if(BOOMR.session.rate_limited)return!1;l.beaconInQueue=!1;BOOMR.sendBeaconData(n);return!0},hasSentPageLoadBeacon:function(){return l.hasSentPageLoadBeacon},sendBeaconData:function(e){var t,n,r,i,o,a=[],s=!0;l.beacon_url=l.beacon_url_override||l.beacon_url;if(!l.beacon_url)return!1;if(!l.beaconUrlAllowed(l.beacon_url))return!1;if(0===e.length)return!1;l.fireEvent("beacon",e);a=this.getVarsOfPriority(e,-1);t=this.getVarsOfPriority(e,1);n=a.concat(this.getVarsOfPriority(e,0),t).join("&");l.beacon_url_force_https&&l.beacon_url.match(/^\/\//)&&(l.beacon_url="https:"+l.beacon_url);r=l.beacon_url+(-1<l.beacon_url.indexOf("?")?"&":"?")+n;if("GET"===l.beacon_type){s=!0;r.length>BOOMR.constants.MAX_GET_LENGTH&&(window.console&&(console.warn||console.log)||function(){})("Boomerang: Warning: Beacon may not be sent via GET due to payload size > 2000 bytes")}else("POST"===l.beacon_type||r.length>BOOMR.constants.MAX_GET_LENGTH)&&(s=!1);if(c&&c.navigator&&"function"==typeof c.navigator.sendBeacon&&BOOMR.utils.isNative(c.navigator.sendBeacon)&&"function"==typeof c.Blob&&"GET"!==l.beacon_type&&"undefined"==typeof l.beacon_auth_token&&!l.beacon_disable_sendbeacon){var u=new c.Blob([n+"&sb=1"],{type:"application/x-www-form-urlencoded"});if(c.navigator.sendBeacon(l.beacon_url,u))return!0}BOOMR.orig_XMLHttpRequest||c&&c.XMLHttpRequest||(s=!0);if(s){try{i=new Image}catch(d){return!1}i.src=r}else{o=new(BOOMR.window.orig_XMLHttpRequest||BOOMR.orig_XMLHttpRequest||BOOMR.window.XMLHttpRequest);try{this.sendXhrPostBeacon(o,n)}catch(d){o=new BOOMR.boomerang_frame.XMLHttpRequest;this.sendXhrPostBeacon(o,n)}}return!0},hasSentPageLoadBeacon:function(){return l.hasSentPageLoadBeacon},sendXhrPostBeacon:function(e,t){e.open("POST",l.beacon_url);e.setRequestHeader("Content-type","application/x-www-form-urlencoded");if("undefined"!=typeof l.beacon_auth_token){"undefined"==typeof l.beacon_auth_key&&(l.beacon_auth_key="Authorization");e.setRequestHeader(l.beacon_auth_key,l.beacon_auth_token)}l.beacon_with_credentials&&(e.withCredentials=!0);e.send(t)},getVarsOfPriority:function(e,t){var n,r=[],i=0!==t?l.varPriority[t]:e;for(n in i)if(i.hasOwnProperty(n)&&e.hasOwnProperty(n)){r.push(this.getUriEncodedVar(n,"undefined"==typeof e[n]?"":e[n]));0!==t&&delete e[n]}return r},getUriEncodedVar:function(e,t){t!==undefined&&null!==t||(t="");"object"==typeof t&&(t=BOOMR.utils.serializeForUrl(t));return encodeURIComponent(e)+"="+encodeURIComponent(t)},getResourceTiming:function(e,t,n){var r,i=BOOMR.getPerformance();try{if(i&&"function"==typeof i.getEntriesByName){if(!(r=i.getEntriesByName(e))||!r.length)return;if(!("function"!=typeof n||(r=BOOMR.utils.arrayFilter(r,n))&&r.length))return;1<r.length&&"function"==typeof t&&r.sort(t);return r[r.length-1]}}catch(o){BOOMR.warn("getResourceTiming:"+o)}}};if(BOOMR.url){var r=BOOMR.window.document.createElement("a");r.href=BOOMR.url;t.url=r.href}else t.url=t.utils.getMyURL();delete BOOMR_start;if("number"==typeof BOOMR_lstart){t.t_lstart=BOOMR_lstart;delete BOOMR_lstart}else"number"==typeof BOOMR.window.BOOMR_lstart&&(t.t_lstart=BOOMR.window.BOOMR_lstart);"number"==typeof BOOMR.window.BOOMR_onload&&(t.t_onload=BOOMR.window.BOOMR_onload);!function(){var e;"object"==typeof console&&console.log!==undefined?t.log=function(e,t,n){console.log("("+BOOMR.now()+") {"+BOOMR.pageId+"}: "+n+": ["+t+"] "+e)}:t.log=function(){};e=function(n){return function(e,t){this.log(e,n,"boomerang"+(t?"."+t:""));return this}};t.debug=e("debug");t.info=e("info");t.warn=e("warn");t.error=e("error")}();try{var i=t.getPerformance();i&&"function"==typeof i.now&&/\[native code\]/.test(String(i.now))&&i.timing&&i.timing.navigationStart&&(t.now=function(){return Math.round(i.now()+i.timing.navigationStart)})}catch(d){}l.checkLocalStorageSupport();!function(){var e;for(e in t)t.hasOwnProperty(e)&&(BOOMR[e]=t[e]);BOOMR.xhr_excludes||(BOOMR.xhr_excludes={})}();s("onBoomerangLoaded",{BOOMR:BOOMR},!0)}}(window);!function(){var _;if(!BOOMR.plugins.Continuity){var y=100,b=0,M=1,w=2,B="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_",v=".",E=BOOMR.getPerformance(),T={},S=E&&E.timing&&E.timing.navigationStart?E.timing.navigationStart:BOOMR.now(),t=function(d){var c={},r={},a=[],s=0,u=0,i=0;BOOMR.fpsLog&&BOOMR.fpsLog.length&&(d=BOOMR.fpsLog[0]+S);function l(){return Math.floor((BOOMR.now()-d)/y)}function f(){var e=0;if(_.ttiWaitForFrameworkReady){if(!_.frameworkReady)return;e=_.frameworkReady}if(BOOMR.plugins.PaintTiming&&BOOMR.plugins.PaintTiming.is_supported()&&E&&E.timeOrigin){var t=BOOMR.plugins.PaintTiming.getTimingFor("first-contentful-paint");t||(t=BOOMR.plugins.PaintTiming.getTimingFor("first-paint"));t&&(e=Math.max(e,Math.round(t+E.timeOrigin)))}else if(E&&E.timing&&E.timing.msFirstPaint)e=Math.max(e,E.timing.msFirstPaint);else if(BOOMR.window&&BOOMR.window.chrome&&"function"==typeof BOOMR.window.chrome.loadTimes){var n=BOOMR.window.chrome.loadTimes();n&&n.firstPaintTime&&(e=Math.max(e,1e3*n.firstPaintTime))}E&&E.timing&&E.timing.domContentLoadedEventEnd&&(e=Math.max(e,E.timing.domContentLoadedEventEnd));_.ttiWaitForHeroImages&&(i=function u(e){var t,n,r,i,o,a,s=0;if(!BOOMR.window||!BOOMR.window.document||"function"!=typeof BOOMR.window.document.querySelectorAll)return 0;if(!E||"function"!=typeof E.getEntriesByType)return 0;t=e+", "+e+" * img, "+e+" * image";if((n=BOOMR.window.document.querySelectorAll(t))&&n.length)for(r=0;r<n.length;r++)if((o=n[r].currentSrc||n[r].src||"function"==typeof n[r].getAttribute&&n[r].getAttribute("xlink:href"))&&(a=E.getEntriesByName(o))&&a.length)for(i=0;i<a.length;i++)s=Math.max(s,a[i].responseEnd);return s?Math.floor(s+S):0}(_.ttiWaitForHeroImages))&&(e=Math.max(e,i));return e}function O(e,t){return function f(e,t,n,r,i){var o,a,s,u,d,c="",l=0;if(!n||!BOOMR.utils.Compression)return"";if(0===n.length)return"";if(t){"undefined"==typeof n[r]&&(n[r]=0);for(o=r+1;o<=i;o++)"undefined"==typeof n[o]&&(n[o]=n[o-1])}for(o=r;o<=i;o++){l="number"!=typeof n[o]||isNaN(n[o])?0:n[o];e===b?s=l<=63?B.charAt(l):v+l.toString(36)+v:e===M?s=l.toString(36):e===w&&(s=l<99?l<=9?"0"+Math.max(l,0):l:"__");if(o+3<=i&&(n[o+1]===l||0===l&&n[o+1]===undefined)&&(n[o+2]===l||0===l&&n[o+2]===undefined)&&(n[o+3]===l||0===l&&n[o+3]===undefined)){a=1;for(;o<i&&(n[o+1]===l||0===l&&n[o+1]===undefined);){a++;o++}u="*"+a.toString(36)+"*"+s}else u=s;if(0!==l||o!==i){e===M&&d&&(c+=",");d=!0;c+=u}}return d?e.toString()+c:""}(r[e].compressMode,r[e].backfillLast,c[e],0!==t?Math.floor((t-d)/y):0,l())}T.timeToInteractive=function(){if(s)return s-S};T.timeToVisuallyReady=function(){if(u)return u-S};T.timeToHeroImagesReady=function(){if(_.ttiWaitForHeroImages&&i)return i-S};T.timeToFrameworkReady=function(){if(_.ttiWaitForFrameworkReady&&_.frameworkReady)return _.frameworkReady-S};T.log=function(){return a};return{register:function o(e,t,n){c[e]||(c[e]=[]);r[e]={compressMode:t||b,backfillLast:n}},set:function p(e,t,n){void 0===n&&(n=l());c[e]&&(c[e][n]=t)},log:function m(e,t,n){void 0===t&&(t=l());a.push({type:e,time:t,val:n});a.length>_.logMaxEntries&&Array.prototype.splice.call(a,0,a.length-_.logMaxEntries)},increment:function g(e,t,n){void 0===n&&(n=l());void 0===t&&(t=1);if(c[e]){c[e][n]||(c[e][n]=0);c[e][n]+=t}},getTimeBucket:l,getStats:function h(e,t){var n,r=0,i=0,o=Infinity,a=0,s=Math.floor((t-d)/y);if(!c[e])return 0;for(var u in c[e])if(s<=(u=parseInt(u,10))&&c[e].hasOwnProperty(u)){r++;i+=n=c[e][u];o=Math.min(o,n);a=Math.max(a,n)}return{total:i,count:r,min:o,max:a}},analyze:function R(e){var t=l(),n=0,r=0;_.sendLog&&void 0!==e&&function i(){for(var e="",t=0;t<a.length;t++){var n=a[t];0!==t&&(e+="|");e+=n.type;e+=Math.round(n.time-S).toString(36);for(var r in n.val)if(n.val.hasOwnProperty(r)){e+=","+r;"number"==typeof n.val[r]?e+=n.val[r].toString(36):e+=n.val[r]}}""!==e&&_.addToBeacon("c.l",e)}();_.sendTimeline&&void 0!==e&&function o(e){var t,n;for(t in c)c.hasOwnProperty(t)&&""!==(n=O(t,e))&&_.addToBeacon("c.t."+t,n)}(e);if(!s&&(u||(u=f()))){_.addToBeacon("c.tti.vr",T.timeToVisuallyReady());_.addToBeacon("c.tti.fr",T.timeToFrameworkReady());_.addToBeacon("c.tti.hi",T.timeToHeroImagesReady());if(c.longtask||c.fps||c.busy){for(n=Math.floor((u-d)/y);n<=t;n++)if(c.longtask&&c.longtask[n])r=0;else if(c.fps&&(!c.fps[n]||c.fps[n]<2))r=0;else if(c.busy&&50<c.busy[n])r=0;else if(c.interdly&&c.interdly[n])r=0;else if(5<=++r){s=d+(n-5)*y;s=Math.max(s,u);break}0<s&&_.addToBeacon("c.tti",T.timeToInteractive())}}},stop:function e(){c={};a=[]},onBeacon:function t(){for(var e in c)c.hasOwnProperty(e)&&(c[e]=[]);a=[]}}},n=function(e,r){if(e.PerformanceObserver&&e.PerformanceLongTaskTiming){var f={unknown:0,self:1,"same-origin-ancestor":2,"same-origin-descendant":3,"same-origin":4,"cross-origin-ancestor":5,"cross-origin-descendant":6,"cross-origin-unreachable":7,"multiple-contexts":8},O={unknown:0,script:1,layout:2},p={unknown:0,iframe:1,embed:2,object:3},t=new e.PerformanceObserver(function a(e){var t,n;if(!i)return;t=e.getEntries();Array.prototype.push.apply(m,t);for(n=0;n<t.length;n++)o+=t[n].duration;r.increment("longtask",t.length)});try{t.observe({entryTypes:["longtask"]})}catch(s){return}r.register("longtask",b);var m=[],i=!0,o=0;T.longTasksTime=function(){return o};T.longTasksCount=function(){return m.length};return{getTasks:function u(){return m},clearTasks:n,analyze:function g(e){var t,n,r,i,o,a=[],s=[];if(0!==m.length){for(t=0;t<m.length;t++){r=m[t];i={s:Math.round(r.startTime).toString(36),d:Math.round(r.duration).toString(36),n:f[r.name]?f[r.name]:0};s=[];for(n=0;n<r.attribution.length;n++)if("script"!==(o=r.attribution[n]).name||"iframe"!==o.containerType||o.containerName||o.containerId||o.containerSrc){var u=o.containerName?o.containerName:undefined,d=o.containerId?o.containerId:undefined;u===d&&(u=undefined);var c=d===undefined?o.containerSrc:undefined;s.push({a:O[o.name]?O[o.name]:0,t:p[o.containerType]?p[o.containerType]:0,n:u,i:d,s:c})}0<s.length&&(i.a=s);a.push(i)}_.addToBeacon("c.lt.n",T.longTasksCount(),!0);_.addToBeacon("c.lt.tt",T.longTasksTime());_.addToBeacon("c.lt",function l(e){var t=window.UserTimingCompression||BOOMR.window.UserTimingCompression;return t?t.jsUrl(e):window.JSON?JSON.stringify(e):""}(a))}},stop:function d(){i=!1;t.disconnect();n()},onBeacon:function c(){n()}}}function n(){m=[];o=0}},r=function(e,r){r.register("busy",w);var i=Math.floor(3.125),o=BOOMR.now(),a=0,s=0,u=0,d=0,t=!1,n=!1;T.pageBusy=function(){return 0===u?0:Math.round(d/u*100)};t=setInterval(function c(){var e=BOOMR.now(),t=e-o;o=e;if(68<t){var n=Math.floor((t-32)/32);a+=n;s+=n;t-=32*n}a++;36<t&&s++},32);n=setInterval(function l(){var e=r.getTimeBucket(),t=e,n=0;if(0!==a){for(;i+1<a&&n<=100;){r.set("busy",100,--t);a-=i;s=Math.max(s-i,0);u+=i;d+=i;n++}u+=a;d+=s;r.set("busy",Math.round(s/a*100),e);s=a=0}},100);return{analyze:function f(e){_.addToBeacon("c.b",T.pageBusy())},stop:function O(){!1;if(t){clearInterval(t);t=!1}if(n){clearInterval(n);n=!1}},onBeacon:function p(){d=u=0}}},i=function(t,n){n.register("fps",b);var r,i,o=50,a=0,s=0,u=!0;if(BOOMR.fpsLog&&BOOMR.fpsLog.length){i=r=BOOMR.fpsLog[0]+S;for(var e=0;e<BOOMR.fpsLog.length;e++){var d=S+BOOMR.fpsLog[e];n.increment("fps",1,Math.floor((d-r)/y));o<=d-i&&s++;i=d}a=BOOMR.fpsLog.length;delete BOOMR.fpsLog}else r=BOOMR.now();t.requestAnimationFrame(function c(e){if(u){o<=e-i&&s++;i=e;a++;n.increment("fps");t.requestAnimationFrame(c)}});T.fps=function(){var e=T.fpsDuration();if(e)return Math.floor(a/(e/1e3))};T.fpsDuration=function(){if(r)return BOOMR.now()-r};T.fpsMinimum=function(){if(T.fpsDuration()){var e=n.getStats("fps",r).min;return e!==Infinity?e:undefined}};T.fpsLongFrames=function(){return s};T.fpsStart=function(){return r?r.toString(36):0};return{analyze:function l(e){_.addToBeacon("c.f",T.fps());_.addToBeacon("c.f.d",T.fpsDuration());_.addToBeacon("c.f.m",T.fpsMinimum());_.addToBeacon("c.f.l",T.fpsLongFrames());_.addToBeacon("c.f.s",T.fpsStart())},stop:function f(){u=!1;r=0},onBeacon:function O(){u&&(r=BOOMR.now());s=a=0}}},o=function(e,i,o){if(e&&e.document&&e.document.body&&e.document.documentElement){var a=2e3,s=20,u=0,d=0,c=0,l=0,f=0,O=0,p=0,m=0,t=!1,n=e.document.body,r=e.document.documentElement;i.register("scroll",b);i.register("scrollpct",w);var g=Math.max(n.scrollHeight,n.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight)-BOOMR.utils.windowHeight();T.scrollPct=function(){return l};T.scrollCount=function(){return f};T.scrollDistinct=function(){return p};T.scrollPixels=function(){return O};BOOMR.utils.addListener(e,"scroll",h,!0);t=setInterval(function R(){var e=Math.min(c,100);0!==e&&i.set("scrollpct",e);c=0},y);return{analyze:function M(e){_.addToBeacon("c.s",T.scrollCount());_.addToBeacon("c.s.p",T.scrollPct());_.addToBeacon("c.s.y",T.scrollPixels());_.addToBeacon("c.s.d",T.scrollDistinct())},stop:function B(){if(t){clearInterval(t);t=!1}BOOMR.utils.removeListener(e,"scroll",h)},onBeacon:function v(){p=O=f=l=0}}}function h(e){var t=BOOMR.now();f++;a<t-m&&p++;m=t;var n=BOOMR.utils.scroll().y,r=Math.abs(u-n);O+=r;i.increment("scroll",r);if(0===d||Math.abs(d-n)>s){i.log(0,t,{y:n});d=n}o.interact("scroll",t,e);c+=Math.round(r/g*100);l+=Math.round(r/g*100);u=n}},a=function(e,o,a){o.register("click",b);var s=10,u=3,d=0,c=0,l=0,f=0,O=0,p=null;function t(e){var t=BOOMR.now(),n=e.clientX,r=e.clientY;d++;var i=Math.round(Math.sqrt(Math.pow(O-r,2)+Math.pow(f-n,2)));if(p===e.target||i<=s){if(u<=++c+1){l++;BOOMR.fireEvent("rage_click",e)}}else c=0;f=n;O=r;p=e.target;o.increment("click");o.log(1,t,{x:n,y:r});a.interact("click",t,e)}T.clicksCount=function(){return d};T.clicksRage=function(){return l};BOOMR.utils.addListener(e.document,"click",t,!0);return{analyze:function n(e){_.addToBeacon("c.c",T.clicksCount());_.addToBeacon("c.c.r",T.clicksRage())},stop:function r(){BOOMR.utils.removeListener(e.document,"click",t)},onBeacon:function i(){l=c=d=0}}},s=function(e,n,r){n.register("key",b);var i=0,o=0;function t(e){var t=BOOMR.now();i++;27===e.keyCode&&o++;n.increment("key");n.log(3,t);r.interact("key",t,e)}T.keyCount=function(){return i};T.keyEscapes=function(){return o};BOOMR.utils.addListener(e.document,"keydown",t,!0);return{analyze:function a(e){_.addToBeacon("c.k",T.keyCount());_.addToBeacon("c.k.e",T.keyEscapes())},stop:function s(){BOOMR.utils.removeListener(e.document,"keydown",t)},onBeacon:function u(){o=i=0}}},u=function(e,o,t){o.register("mouse",b);o.register("mousepct",w);var a=0,s=0,n=0,r=0,u=0,d=0,c=0,i=!1,l=!1,f=Math.round(Math.sqrt(Math.pow(BOOMR.utils.windowHeight(),2)+Math.pow(BOOMR.utils.windowWidth(),2)));function O(e){BOOMR.now();var t=e.clientX,n=e.clientY,r=Math.round(Math.sqrt(Math.pow(s-n,2)+Math.pow(a-t,2))),i=Math.round(r/f*100);u+=i;d+=i;c+=r;a=t;s=n;o.increment("mouse",r)}T.mousePct=function(){return d};T.mousePixels=function(){return c};i=setInterval(function p(){var e=Math.min(u,100);0!==e&&o.set("mousepct",e);u=0},y);l=setInterval(function m(){if((n!==a||r!==s)&&10<=Math.round(Math.sqrt(Math.pow(r-s,2)+Math.pow(n-a,2)))){o.log(2,BOOMR.now(),{x:a,y:s});n=a;r=s}},250);BOOMR.utils.addListener(e.document,"mousemove",O,!0);return{analyze:function g(e){_.addToBeacon("c.m.p",T.mousePct());_.addToBeacon("c.m.n",T.mousePixels())},stop:function h(){if(i){clearInterval(i);i=!1}if(l){clearInterval(l);l=!1}BOOMR.utils.removeListener(e.document,"mousemove",O)},onBeacon:function R(){c=d=0}}},d=function(e,i,t){i.register("inter",b);i.register("interdly",b);var o=t,a=0,s=null,u=0,d=0,c=0,l=0,f=!0,O=0,p=0,m=!1,g=!1,h=!1;function n(){if(m){clearTimeout(m);m=!1}if(g){clearTimeout(g);g=!1}}function R(){BOOMR.sendBeaconWhenReady({"rt.start":"manual","http.initiator":"interaction","rt.tstart":O,"rt.end":p},function(){n();BOOMR.fireEvent("interaction")},_)}T.interactionDelayed=function(){return c};T.interactionDelayedTime=function(){return Math.round(l)};T.interactionAvgDelay=function(){if(0<u)return Math.round(d/u)};T.timeToFirstInteraction=function(){if(a)return a-S};T.firstInputDelay=function(){if(null!==s)return s};BOOMR.subscribe("spa_init",function r(){h=!0;n()},null,_);return{interact:function M(e,t,n){t=t||BOOMR.now();if(f){u++;a||(a=t);var r=0;if(n&&n.timeStamp){r=14e11<n.timeStamp?t-n.timeStamp:t-S-n.timeStamp;d+=r;null===s&&(s=Math.round(r));if(50<r){i.increment("interdly");c++;l+=r}}i.increment("inter");if(!h&&_.afterOnloadMonitoring){p=BOOMR.now();if(!O){O=p;g=setTimeout(R,3e4)}if(m){clearTimeout(m);m=!1}m=setTimeout(R,o)}}},analyze:function B(e){_.addToBeacon("c.ttfi",T.timeToFirstInteraction());_.addToBeacon("c.i.dc",T.interactionDelayed());_.addToBeacon("c.i.dt",T.interactionDelayedTime());_.addToBeacon("c.i.a",T.interactionAvgDelay());null!==s&&_.addToBeacon("c.fid",T.firstInputDelay(),!0)},stop:function v(){f=!1},onBeacon:function y(){p=O=d=u=c=l=0;h=!1;n()}}},c=function(e,n,r){n.register("vis",b);var i={visible:0,hidden:1,prerender:2,unloaded:3},o=!0;BOOMR.subscribe("visibility_changed",function(e){var t=BOOMR.now();if(o){n.increment("vis");n.log(4,t,{s:i[BOOMR.visibilityState()]});r.interact("vis",t,e)}});return{stop:function t(){o=!1}}},l=function(e,i,o){i.register("orn",b);var a=!0;function t(e){var t=BOOMR.now(),n=window.orientation;if(a){i.increment("orn");var r=window.screen&&(screen.orientation||screen.msOrientation||screen.mozOrientation||{});r&&"number"==typeof r.angle&&(n=screen.orientation.angle);"number"==typeof n&&i.log(5,t,{a:n});o.interact("orn",t,e)}}BOOMR.utils.addListener(e,"orientationchange",t,!0);return{stop:function n(){a=!1;BOOMR.utils.removeListener(e,"orientationchange",t)}}},f=function(e,n){n.register("mem",M,!0);n.register("bat",w,!0);n.register("domsz",M,!0);n.register("domln",M,!0);n.register("mut",b);var t,r=e.document,i=!0,o=!1,a=null,s=0,u=0,d=r.getElementsByTagName("*");function c(){i&&a&&n.set("bat",a.level)}o=setInterval(function l(){var e=E&&E.memory&&E.memory.usedJSHeapSize;e&&n.set("mem",e);u=d.length;n.set("domsz",r.documentElement.innerHTML.length);n.set("domln",u);if(0<s){var t=Math.min(Math.round(s/u*100),100);n.set("mut",t);s=0}},1e3);e.navigator&&"function"==typeof e.navigator.getBattery&&e.navigator.getBattery().then(function(e){(a=e).onlevelchange&&(a.onlevelchange=c)});BOOMR.utils.isMutationObserverSupported()&&(t=BOOMR.utils.addObserver(r,{childList:!0,subtree:!0},null,function f(e){e.forEach(function(e){if("childList"!==e.type)return!0;for(var t=0;t<e.addedNodes.length;t++){var n=e.addedNodes[t];s++;s+=n.getElementsByTagName?n.getElementsByTagName("*").length:0}});return!0},null,this));return{stop:function O(){i=!1;if(o){clearInterval(o);o=!1}if(t&&t.observer){t.observer.disconnect();t=null}a&&a.onlevelchange&&(a.onlevelchange=null);d=null}}};_={monitorLongTasks:!0,monitorPageBusy:!0,monitorFrameRate:!0,monitorInteractions:!0,monitorStats:!0,afterOnload:!1,afterOnloadMaxLength:6e4,afterOnloadMinWait:5e3,waitAfterOnload:!1,ttiWaitForFrameworkReady:!1,ttiWaitForHeroImages:!1,sendLog:!0,sendTimeline:!0,logMaxEntries:100,initialized:!1,complete:!1,isSpa:!1,firedPageReady:!1,afterOnloadMonitoring:!1,frameworkReady:null,timeline:null,ttiMethod:null,longTaskMonitor:null,pageBusyMonitor:null,frameRateMonitor:null,interactionMonitor:null,scrollMonitor:null,clickMonitor:null,keyMonitor:null,mouseMonitor:null,visibilityMonitor:null,orientationMonitor:null,statsMonitor:null,addedVars:[],monitors:["timeline","longTaskMonitor","pageBusyMonitor","frameRateMonitor","scrollMonitor","keyMonitor","clickMonitor","mouseMonitor","interactionMonitor","visibilityMonitor","orientationMonitor","statsMonitor"],timeOfLastBeacon:0,hasAddedDataToBeacon:!1,onBeforeBeacon:function(){_.runAllAnalyzers()},runAllAnalyzers:function(){var e,t;if(!_.hasAddedDataToBeacon){for(e=0;e<_.monitors.length;e++)(t=_[_.monitors[e]])&&"function"==typeof t.analyze&&t.analyze(_.timeOfLastBeacon);_.addToBeacon("c.lb",_.timeOfLastBeacon?_.timeOfLastBeacon.toString(36):0);_.timeOfLastBeacon=BOOMR.now();_.hasAddedDataToBeacon=!0}},onBeacon:function(){var e;if(_.addedVars&&0<_.addedVars.length){BOOMR.removeVar(_.addedVars);_.addedVars=[]}for(e=0;e<_.monitors.length;e++){var t=_[_.monitors[e]];if(t){_.afterOnload||"function"==typeof t.stop&&t.stop();"function"==typeof t.onBeacon&&t.onBeacon()}}_.hasAddedDataToBeacon=!1},onXhrLoad:function(e){e&&BOOMR.utils.inArray(e.initiator,BOOMR.constants.BEACON_TYPE_SPAS)&&(_.isSpa=!0);e&&"spa_hard"===e.initiator&&_.onPageReady()},onPageReady:function(){_.firedPageReady=!0;if(_.afterOnload&&_.monitorInteractions){_.afterOnloadMonitoring=!0;_.isSpa||"number"!=typeof _.afterOnloadMaxLength||setTimeout(function(){_.afterOnloadMonitoring=!1},_.afterOnloadMaxLength)}if(_.waitAfterOnload){var e=BOOMR.now();setTimeout(function t(){if(BOOMR.now()-e>_.waitAfterOnload){_.complete=!0;BOOMR.sendBeacon()}else{_.timeline.analyze();if(T.timeToInteractive()){_.complete=!0;BOOMR.sendBeacon()}else setTimeout(t,500)}},500)}else _.complete=!0},addToBeacon:function(e,t,n){if(0!==t&&void 0!==t||n){BOOMR.addVar(e,t);_.addedVars.push(e)}else BOOMR.removeVar(e)}};BOOMR.plugins.Continuity={init:function(e){BOOMR.utils.pluginConfig(_,e,"Continuity",["monitorLongTasks","monitorPageBusy","monitorFrameRate","monitorInteractions","monitorStats","afterOnload","afterOnloadMaxLength","afterOnloadMinWait","waitAfterOnload","ttiWaitForFrameworkReady","ttiWaitForHeroImages","sendLog","logMaxEntries","sendTimeline"]);if(_.initialized)return this;_.initialized=!0;_.timeline=new t(BOOMR.now());if(BOOMR.window){if(_.monitorLongTasks&&BOOMR.window.PerformanceObserver&&BOOMR.window.PerformanceLongTaskTiming){_.longTaskMonitor=new n(BOOMR.window,_.timeline);_.ttiMethod="lt"}if(_.monitorFrameRate&&"function"==typeof BOOMR.window.requestAnimationFrame){_.frameRateMonitor=new i(BOOMR.window,_.timeline);_.ttiMethod||(_.ttiMethod="raf")}if(_.monitorPageBusy&&(!BOOMR.window.PerformanceObserver||!BOOMR.window.PerformanceLongTaskTiming||!_.monitorLongTasks)){_.pageBusyMonitor=new r(BOOMR.window,_.timeline);_.ttiMethod||(_.ttiMethod="b")}if(_.monitorInteractions){_.interactionMonitor=new d(BOOMR.window,_.timeline,_.afterOnloadMinWait);_.scrollMonitor=new o(BOOMR.window,_.timeline,_.interactionMonitor);_.keyMonitor=new s(BOOMR.window,_.timeline,_.interactionMonitor);_.clickMonitor=new a(BOOMR.window,_.timeline,_.interactionMonitor);_.mouseMonitor=new u(BOOMR.window,_.timeline,_.interactionMonitor);_.visibilityMonitor=new c(BOOMR.window,_.timeline,_.interactionMonitor);_.orientationMonitor=new l(BOOMR.window,_.timeline,_.interactionMonitor)}_.monitorStats&&(_.statsMonitor=new f(BOOMR.window,_.timeline,_.interactionMonitor))}BOOMR.addVar("c.e",S.toString(36));BOOMR.addVar("c.tti.m",_.ttiMethod);BOOMR.subscribe("before_beacon",_.onBeforeBeacon,null,_);BOOMR.subscribe("beacon",_.onBeacon,null,_);BOOMR.subscribe("page_ready",_.onPageReady,null,_);BOOMR.subscribe("xhr_load",_.onXhrLoad,null,_);return this},is_complete:function(e){return _.complete||e&&"error"===e["http.initiator"]},frameworkReady:function(){_.frameworkReady=BOOMR.now()},metrics:T}}}();!function(){var c,s,l,p,m,f=["uninitialized","open","responseStart","domInteractive","responseEnd"];if(!BOOMR.plugins.AutoXHR&&(c=BOOMR.window)&&c.XMLHttpRequest&&(new c.XMLHttpRequest).addEventListener){d.stop=function(){d.pause();d.observer=null};d.pause=function(){if(d.observer&&d.observer.observer&&!d.isPaused){d.isPaused=!0;d.observer.observer.disconnect()}};d.resume=function(){if(d.observer&&d.observer.observer&&d.isPaused){d.isPaused=!1;d.observer.observer.observe(s,d.observer.config)}};d.start=function(){if(!d.observer){var e={childList:!0,attributes:!0,subtree:!0,attributeFilter:["src","href"]};if(d.observer=BOOMR.utils.addObserver(s,e,null,l.mutation_cb,null,l)){d.observer.config=e;BOOMR.subscribe("page_unload",d.stop,null,d)}}};d.prototype.addEvent=function(e){var t,n,r,i={type:e.initiator,resource:e,nodes_to_wait:0,total_nodes:0,resources:[],aborted:!1,complete:!1},o=this.pending_events.length,a=this;for(t=o-1;0<=t;t--)if(this.pending_events[t]&&!this.pending_events[t].complete){n=this.pending_events[t];r=t;break}if(n)if("click"===n.type){if(0===n.nodes_to_wait||!n.resource.url){this.pending_events[r]=undefined;this.watch--}}else if("xhr"===n.type){if("click"===i.type)return null;if("xhr"===i.type){l.add_event_resource(e);return null}}else if(BOOMR.utils.inArray(n.type,BOOMR.constants.BEACON_TYPE_SPAS)){if("xhr"===i.type){l.add_event_resource(e);return null}if(BOOMR.utils.inArray(i.type,BOOMR.constants.BEACON_TYPE_SPAS)){n.resource.timing.loadEventEnd=BOOMR.now();n.aborted=!0;this.sendEvent(r)}}if("click"===i.type){if(!d.observer)return null;this.setTimeout(m.xhrIdleTimeout,o)}else if("xhr"===i.type){i.nodes_to_wait++;i.total_nodes++;i.ignoreMO=!0}else if(BOOMR.utils.inArray(i.type,BOOMR.constants.BEACON_TYPE_SPAS)){d.start();if(e.wait){i.nodes_to_wait++;i.total_nodes++;e.waitComplete=function(){a.load_finished(o);e.waitComplete=undefined}}else this.setTimeout(m.spaIdleTimeout,o)}this.watch++;this.pending_events.push(i);return e.index=o};d.prototype.sendEvent=function(e){var t=this.pending_events[e],n=this,r=BOOMR.now();if(t&&!t.complete){this.clearTimeout(e);if(BOOMR.readyToSend()){t.complete=!0;this.watch--;t.resource.resources=t.resources;BOOMR.utils.inArray(t.type,BOOMR.constants.BEACON_TYPE_SPAS)&&(t.resource.url=s.URL);if("spa"===t.type&&0===t.total_nodes&&t.resource.url===n.lastSpaLocation){BOOMR.fireEvent("spa_cancel");this.pending_events[e]=undefined;return}if(BOOMR.utils.inArray(t.type,BOOMR.constants.BEACON_TYPE_SPAS)){n.lastSpaLocation=t.resource.url;t.forced||0!==t.total_nodes||(t.resource.timing.loadEventEnd=r-m.spaIdleTimeout)}this.sendResource(t.resource,e)}else setTimeout(function(){n.sendEvent(e)},500)}};d.prototype.sendResource=function(r,i){var o=this,e=o.pending_events[i],a=r.timing?r.timing.requestStart:undefined,t=function(e,t){e&&(r.timing.loadEventEnd=t||BOOMR.now());BOOMR.real_sendBeacon();r.onComplete&&r.onComplete(r);if(BOOMR.plugins.ResourceTiming&&BOOMR.plugins.ResourceTiming.is_enabled()&&r.timing&&r.timing.requestStart){var n=BOOMR.plugins.ResourceTiming.getCompressedResourceTiming(r.timing.requestStart,r.timing.loadEventEnd);BOOMR.plugins.ResourceTiming.addToBeacon(n)}if(BOOMR.utils.inArray(r.initiator,BOOMR.constants.BEACON_TYPE_SPAS)){o.calculateSpaTimings(r);if("number"==typeof i&&o.pending_events[i].aborted){BOOMR.addVar("pgu",s.URL);BOOMR.addVar("rt.quit","");BOOMR.addVar("rt.abld","");m.addedVars.push("pgu","rt.quit","rt.abld")}}BOOMR.responseEnd(r,a,r);"number"==typeof i&&(o.pending_events[i]=undefined)};"spa_hard"!==r.initiator||e&&e.aborted||BOOMR.hasBrowserOnloadFired()?t(!1):BOOMR.utils.addListener(c,"load",function(){var e=BOOMR.now();BOOMR.setImmediate(function(){t(!0,e)})})};d.prototype.calculateSpaTimings=function(e){var t=BOOMR.getPerformance();if(t&&t.timing)if("spa_hard"===e.initiator){e.timing.responseEnd=t.timing.responseStart;e.timing.fetchStart=t.timing.navigationStart}else{if(!BOOMR.plugins.ResourceTiming||!BOOMR.plugins.ResourceTiming.is_supported())return;var n=BOOMR.plugins.ResourceTiming.getFilteredResourceTiming(e.timing.requestStart,e.timing.loadEventEnd,m.spaBackEndResources).entries,r=Math.round(e.timing.loadEventEnd-e.timing.requestStart);if(!n||!n.length){e.timers={t_resp:0,t_page:r,t_done:r};return}for(var i=e.timing.loadEventEnd-t.timing.navigationStart,o=0;o<n.length;o++)if(n[o].responseStart>i){n[o].responseStart=i;n[o].responseEnd=i}else n[o].responseEnd>i&&(n[o].responseEnd=i);var a=Math.round(BOOMR.plugins.ResourceTiming.calculateResourceTimingUnion(n)),s=r-a;if(a<0||r<0||s<0){BOOMR.addError("Incorrect SPA time calculation");return}e.timers={t_resp:a,t_page:s,t_done:r}}};d.prototype.setTimeout=function(e,t){var n=this;if(e){this.clearTimeout(t);this.timer=setTimeout(function(){n.timedout(t)},e)}};d.prototype.timedout=function(e){var t;this.clearTimeout(e);if((t=this.pending_events[e])&&0===t.nodes_to_wait){if("click"===t.type&&(0===t.total_nodes||!t.resource.url)){this.watch--;this.pending_events[e]=undefined}this.sendEvent(e)}};d.prototype.clearTimeout=function(e){if(this.timer&&e===this.pending_events.length-1){clearTimeout(this.timer);this.timer=null}};d.prototype.load_cb=function(e,t){var n,r,i=BOOMR.now();if((n=e.target||e.srcElement)&&n._bmr){r=n._bmr.idx;t=void 0!==t?t:n._bmr.res||0;if(!n._bmr.end[t]){n._bmr.end[t]=i;this.load_finished(r,i)}}};d.prototype.monitorMO=function(e){var t=this.pending_events[e];t&&delete t.ignoreMO};d.prototype.load_finished=function(e,t){var n=this.pending_events[e];if(n){n.nodes_to_wait--;if(0===n.nodes_to_wait){n.resource.timing.loadEventEnd=t||BOOMR.now();e===this.pending_events.length-1?BOOMR.utils.inArray(n.type,BOOMR.constants.BEACON_TYPE_SPAS)?this.setTimeout(m.spaIdleTimeout,e):this.setTimeout(m.xhrIdleTimeout,e):this.sendEvent(e)}}};d.prototype.wait_for_node=function(t,n){var e,r,i,o,a,s,u,d,c,l=this,f=!1,O=!1;if(t&&t.nodeName&&(t.nodeName.toUpperCase().match(/^(IMG|IFRAME|IMAGE)$/)||"LINK"===t.nodeName.toUpperCase()&&t.rel&&t.rel.match(/\bstylesheet\b/i))){t._bmr&&"number"==typeof t._bmr.res&&t._bmr.end[t._bmr.res]&&(O=!0);if(!(a=t.src||"function"==typeof t.getAttribute&&t.getAttribute("xlink:href")||t.href)||a.match(/^(about:|javascript:|data:)/i))return!1;t._bmr&&t._bmr.url!==a&&(O=!0);if("IMG"===t.nodeName){if(t.naturalWidth&&!O)return!1;if("function"==typeof t.getAttribute&&""===t.getAttribute("src"))return!1}if("IFRAME"===t.nodeName&&O)return!1;if("function"==typeof t.getAttribute){u=parseInt(t.getAttribute("height"),10);d=parseInt(t.getAttribute("width"),10)}isNaN(u)&&(u=!t.style||"0"!==t.style.height&&"0px"!==t.style.height&&"1px"!==t.style.height?undefined:0);isNaN(d)&&(d=!t.style||"0"!==t.style.width&&"0px"!==t.style.width&&"1px"!==t.style.width?undefined:0);if(!isNaN(u)&&u<=1&&!isNaN(d)&&d<=1)return!1;if(t.style&&"none"===t.style.display)return!1;if(t.style&&"hidden"===t.style.visibility)return!1;if(!(e=this.pending_events[n]))return!1;s=e.resources.length;t._bmr||(t._bmr={end:{}});e.urls||(e.urls={});if(e.urls[a])return!1;if(!e.resource.url){p.href=a;if(m.excludeFilter(p))return!1;e.resource.url=p.href}t._bmr.res=s;t._bmr.idx=n;delete t._bmr.end[s];t._bmr.url=a;c=function(e){l.load_cb(e,s);t.removeEventListener("load",c);t.removeEventListener("error",c)};t.addEventListener("load",c);t.addEventListener("error",c);e.nodes_to_wait++;this.clearTimeout(n);e.total_nodes++;e.resources.push(t);e.urls[a]=1;f=!0}else t.nodeType===Node.ELEMENT_NODE&&["IMAGE","IMG"].forEach(function(e){if((r=t.getElementsByTagName(e))&&r.length)for(i=0,o=r.length;i<o;i++)f|=this.wait_for_node(r[i],n)},this);return f};d.prototype.add_event_resource=function(e){var t,n=this.pending_events.length-1;if(n<0)return-1;if(!(t=this.pending_events[n]))return-1;if(!e)return-1;t.nodes_to_wait++;t.total_nodes++;e.index=n;e.node=!0;return n};d.prototype.mutation_cb=function(e){var i,o,a;if(!this.watch)return!0;if((o=(i=this).pending_events.length-1)<0||!this.pending_events[o])return!0;if((a=this.pending_events[o]).ignoreMO)return!0;"undefined"==typeof a.interesting&&(a.interesting=!1);if(e&&e.length){a.resource.timing.domComplete=BOOMR.now();e.forEach(function(e){var t,n,r;if("attributes"===e.type)a.interesting|=i.wait_for_node(e.target,o);else if("childList"===e.type){n=e.addedNodes.length;for(t=0;t<n;t++)a.interesting|=i.wait_for_node(e.addedNodes[t],o);n=e.removedNodes.length;for(t=0;t<n;t++)"IFRAME"===(r=e.removedNodes[t]).nodeName&&r._bmr&&i.load_cb({target:r,type:"removed"})}})}if(!a.interesting&&!a.timeoutExtended){this.setTimeout(1e3,o);a.timeoutExtended=!0}return!0};d.prototype.queue_is_empty=function(){return 0===this.nodesWaitingFor()};d.prototype.nodesWaitingFor=function(e){var t;if(0===this.pending_events.length)return 0;void 0===e&&(e=this.pending_events.length-1);return(t=this.pending_events[e])?t.nodes_to_wait:0};d.prototype.completeEvent=function(e){var t,n=BOOMR.now();if(0!==this.pending_events.length){void 0===e&&(e=this.pending_events.length-1);if(t=this.pending_events[e]){t.resource.timing.loadEventEnd=n;t.forced=!0;this.sendEvent(e)}}};l=new d;m={spaBackEndResources:["xmlhttprequest","script","fetch"],alwaysSendXhr:!1,excludeFilters:[],initialized:!1,addedVars:[],captureXhrRequestResponse:!1,singlePageApp:!1,autoXhrEnabled:!1,monitorFetch:!1,fetchBodyUsedWait:200,spaIdleTimeout:1e3,xhrIdleTimeout:50,excludeFilter:function(e){var t,n;if(!e||!e.href)return!1;for(t=0;t<m.excludeFilters.length;t++)if("function"==typeof m.excludeFilters[t].cb){n=m.excludeFilters[t].ctx;m.excludeFilters[t].name;try{if(m.excludeFilters[t].cb.call(n,e))return!0}catch(r){BOOMR.addError(r,"BOOMR.plugins.AutoXHR.impl.excludeFilter()")}}return!1},clear:function(){if(m.addedVars&&0<m.addedVars.length){BOOMR.removeVar(m.addedVars);m.addedVars=[]}},loadFinished:function(t,e){var n,r,i,o,a;e=e||BOOMR.now();if(!t.timing.loadEventEnd){t.status&&BOOMR.fireEvent("xhr_error",t);t.timing.loadEventEnd=e;if((a=BOOMR.getPerformance())&&a.timing){r=a.timing.navigationStart;if(n=BOOMR.getResourceTiming(t.url,function(e,t){return e.responseEnd-t.responseEnd},function(e){return Math.ceil(r+e.startTime+2)>=t.timing.requestStart&&0!==e.responseEnd})){i=Math.floor(r+n.startTime);if((o=Math.floor(r+n.responseEnd))<=BOOMR.now()){t.timing.responseEnd=o;t.timing.loadEventEnd<o&&(t.timing.loadEventEnd=o);t.timing.requestStart=i;t.timing.fetchStart=i;0!==n.responseStart&&(t.timing.responseStart=Math.floor(r+n.responseStart));t.restiming=n}}}t.node&&function s(e,t){var n,r;if(!t||!e)return!1;if("boolean"==typeof t)return!0===t;if("function"==typeof t)try{return!0===t(e)}catch(i){return!1}if(BOOMR.utils.isArray(t))for(n=0;n<t.length;n++){if("string"==typeof(r=t[n])&&r===e)return!0;if(r instanceof RegExp&&r.test(e))return!0}return!1}(t.url,m.alwaysSendXhr)&&l.sendResource(t);if(0<=t.index){l.monitorMO(t.index);l.load_finished(t.index,t.timing.responseEnd)}}}};BOOMR.plugins.AutoXHR={is_complete:function(){return!0},init:function(e){var t,n;s=c.document;if(c&&s){p=s.createElement("A");BOOMR.utils.pluginConfig(m,e,"AutoXHR",["spaBackEndResources","alwaysSendXhr","monitorFetch","fetchBodyUsedWait","spaIdleTimeout","xhrIdleTimeout"]);BOOMR.instrumentXHR=h;BOOMR.uninstrumentXHR=R;BOOMR.instrumentFetch=O;BOOMR.uninstrumentFetch=g;if(!m.initialized){this.addExcludeFilter(u,null,"shouldExcludeXhr");m.initialized=!0}if(e&&e.AutoXHR&&e.AutoXHR.excludeFilters&&0<e.AutoXHR.excludeFilters.length)for(n=0;n<e.AutoXHR.excludeFilters.length;n++)m.excludeFilters.push(e.AutoXHR.excludeFilters[n]);m.autoXhrEnabled=e.instrument_xhr;if(BOOMR.plugins.SPA&&BOOMR.plugins.SPA.supported_frameworks){var r=BOOMR.plugins.SPA.supported_frameworks();for(t=0;t<r.length;t++){var i=r[t];if(e[i]&&e[i].enabled){m.singlePageApp=!0;break}}}if(m.alwaysSendXhr&&m.autoXhrEnabled&&BOOMR.xhr&&"function"==typeof BOOMR.xhr.stop){function o(e){if(e.length)for(t=0;t<e.length;t++)M(e[t]);else M(e)}var a=BOOMR.xhr.stop(o);a&&a.length&&BOOMR.setImmediate(o,a)}if(m.singlePageApp){m.alwaysSendXhr||(m.autoXhrEnabled=!1);if(m.autoXhrEnabled){BOOMR.instrumentXHR();BOOMR.instrumentFetch()}}else if(m.autoXhrEnabled){BOOMR.instrumentXHR();BOOMR.instrumentFetch()}else if(!1===m.autoXhrEnabled){BOOMR.uninstrumentXHR();BOOMR.uninstrumentFetch()}BOOMR.registerEvent("xhr_error");BOOMR.subscribe("beacon",m.clear,null,m)}},getMutationHandler:function(){return l},getPathname:n,enableAutoXhr:function(){if(!m.autoXhrEnabled){BOOMR.instrumentXHR();BOOMR.instrumentFetch()}m.autoXhrEnabled=!0},addExcludeFilter:function(e,t,n){m.excludeFilters.push({cb:e,ctx:t,name:n})},setXhrRequestResponseCapturing:function(e){m.captureXhrRequestResponse=e}}}function n(e){if(!e)return null;e.href=e.href;var t=e.pathname;"/"!==t.charAt(0)&&(t="/"+t);return t}function u(e){var t;if(e.href){if(e.href.match(/^(about:|javascript:|data:)/i))return!0;if("function"==typeof BOOMR.getBeaconURL&&BOOMR.getBeaconURL()&&(0===(t=e.href.indexOf(BOOMR.getBeaconURL()))||5===t||6===t))return!0}return BOOMR.xhr_excludes.hasOwnProperty(e.href)||BOOMR.xhr_excludes.hasOwnProperty(e.hostname)||BOOMR.xhr_excludes.hasOwnProperty(n(e))}function d(){this.watch=0;this.timer=null;this.pending_events=[];this.lastSpaLocation=null}function O(){if(m.monitorFetch&&"function"==typeof c.fetch&&"function"==typeof c.Request&&"function"==typeof c.Response&&"function"==typeof c.Promise&&"function"==typeof window.fetch&&!c.fetch.polyfill&&(!BOOMR.proxy_fetch||BOOMR.proxy_fetch!==c.fetch))if(BOOMR.proxy_fetch&&BOOMR.orig_fetch&&BOOMR.orig_fetch===c.fetch)c.fetch=BOOMR.proxy_fetch;else{BOOMR.orig_fetch=c.orig_fetch||c.fetch;BOOMR.proxy_fetch=function(e,t){var n,r,i,o={timing:{},initiator:"xhr"};if("object"==typeof e&&e instanceof c.Request){n=e.url;r=t&&t.method||e.method||"GET";m.captureXhrRequestResponse&&(i=t&&t.body||e.body||undefined)}else{n=e;r=t&&t.method||"GET";m.captureXhrRequestResponse&&(i=t&&t.body||undefined)}p.href=n;if(m.excludeFilter(p))return BOOMR.orig_fetch.apply(c,arguments);BOOMR.fireEvent("xhr_init","fetch");o.url=p.href;o.method=r;o.type="fetch";i&&(o.requestPayload=i);BOOMR.fireEvent("xhr_send",{resource:o});l.addEvent(o);try{o.timing.requestStart=BOOMR.now();var a=BOOMR.orig_fetch.apply(this,arguments);function s(r,i,o){function a(){var e;if(o.fetchResponse&&!o.fetchResponse.bodyUsed&&m.fetchBodyUsedWait){e=BOOMR.now();o.responseBodyNotUsed=!0;setTimeout(function(){m.loadFinished(o,e)},m.fetchBodyUsedWait)}else m.loadFinished(o)}return function(){var e,t=r._bmrNextP;try{e=i.apply(this===window?c:this,arguments);for(;t&&!t._bmrHasOnFulfilled;)t=t._bmrNextP;t||(e instanceof c.Promise?e.then=u(e,e.then,o):a());return e}catch(n){for(;t&&!t._bmrHasOnRejected;)t=t._bmrNextP;t||a();throw n}}}function u(n,r,i){return n._bmrNextP?r:function(){var e=Array.prototype.slice.call(arguments);if(0<e.length){if("function"==typeof e[0]){e[0]=s(n,e[0],i);n._bmrHasOnFulfilled=!0}if(1<e.length&&"function"==typeof e[1]){e[1]=s(n,e[1],i);n._bmrHasOnRejected=!0}}var t=r.apply(n,e);(n._bmrNextP=t).then=u(t,t.then,i);return t}}a.then=u(a,a.then,o);return a.then(function(e){var t,n=!1,r=!1;(e.status<200||400<=e.status)&&(o.status=e.status);o.fetchResponse=e;0<=o.index&&l.monitorMO(o.index);if(m.captureXhrRequestResponse&&"function"==typeof e.clone){if(t=e.headers.get("content-type")){n=-1!==t.indexOf("json");r=-1!==t.indexOf("xml")}o.response={};try{e.clone().text().then(function(e){o.response.text=e;o.response.raw=e;r&&"function"==typeof c.DOMParser&&(o.response.xml=(new c.DOMParser).parseFromString(e,"text/xml"))}).then(null,function(e){})}catch(i){}if(n)try{e.clone().json().then(function(e){o.response.json=e}).then(null,function(e){})}catch(i){}}return e},function(e){!e||"AbortError"!==e.name&&20!==e.code?o.status=-998:o.status=-999;throw e})}catch(d){o.status=-997;m.loadFinished(o);throw d}};BOOMR.utils.overwriteNative(c,"fetch",BOOMR.proxy_fetch)}}function g(){"function"==typeof c.fetch&&BOOMR.orig_fetch&&BOOMR.orig_fetch!==c.fetch&&(c.fetch=BOOMR.orig_fetch)}function h(){if(!BOOMR.proxy_XMLHttpRequest||BOOMR.proxy_XMLHttpRequest!==c.XMLHttpRequest)if(BOOMR.proxy_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest===c.XMLHttpRequest){c.XMLHttpRequest=BOOMR.proxy_XMLHttpRequest;d.start()}else{BOOMR.orig_XMLHttpRequest=c.orig_XMLHttpRequest||c.XMLHttpRequest;d.start();!function e(){BOOMR.subscribe("click",function(){if(!m.singlePageApp){var e={timing:{},initiator:"click"};if(BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest!==c.XMLHttpRequest){e.timing.requestStart=BOOMR.now();l.addEvent(e)}}})}();BOOMR.proxy_XMLHttpRequest=function(){var o,a,t,s={timing:{},initiator:"xhr"},u=!1,d=!1;o=new BOOMR.orig_XMLHttpRequest;a=o.open;t=o.send;o.open=function(e,t,n){p.href=t;if(m.excludeFilter(p)){d=!0;return a.apply(o,arguments)}d=!1;n===undefined&&(n=!0);BOOMR.fireEvent("xhr_init","xhr");function r(t,n){o.addEventListener(t,function(){if("readystatechange"===t){s.timing[f[o.readyState]]=BOOMR.now();if(4===o.readyState&&0!==o.status){(o.status<200||400<=o.status)&&(s.status=o.status);if(m.captureXhrRequestResponse){s.response={text:""===o.responseType||"text"===o.responseType?o.responseText:null,xml:""===o.responseType||"document"===o.responseType?o.responseXML:null,raw:o.response,json:o.responseJSON};if(o.response&&o.response.constructor&&o.response.constructor===BOOMR.boomerang_frame.Object&&BOOMR.boomerang_frame.Object!==c.Object)try{o.response.constructor=c.Object}catch(e){}}m.loadFinished(s)}else if(0===o.readyState&&"number"==typeof s.timing.open){s.status=-999;m.loadFinished(s)}}else{"load"===t?(o.status<200||400<=o.status)&&(s.status=o.status):s.status=n===undefined?o.status:n;m.loadFinished(s)}},!1)}if(!u){n&&r("readystatechange");r("load");r("timeout",-1001);r("error",-998);r("abort",-999)}s.url=p.href;s.method=e;s.type="xhr";delete s.status;n||(s.synchronous=!0);u=!0;try{return a.apply(o,arguments)}catch(i){s.status=-997;m.loadFinished(s);throw i}};o.send=function(e){if(d)return t.apply(o,arguments);m.captureXhrRequestResponse&&(o.resource.requestPayload=e);BOOMR.fireEvent("xhr_send",o);l.addEvent(s);s.timing.requestStart=BOOMR.now();return"undefined"==typeof s.status||-997!==s.status?t.apply(o,arguments):void 0};o.resource=s;return o};BOOMR.proxy_XMLHttpRequest.UNSENT=0;BOOMR.proxy_XMLHttpRequest.OPENED=1;BOOMR.proxy_XMLHttpRequest.HEADERS_RECEIVED=2;BOOMR.proxy_XMLHttpRequest.LOADING=3;BOOMR.proxy_XMLHttpRequest.DONE=4;BOOMR.proxy_XMLHttpRequest.prototype=BOOMR.orig_XMLHttpRequest.prototype;BOOMR.utils.overwriteNative(c,"XMLHttpRequest",BOOMR.proxy_XMLHttpRequest)}}function R(){BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest!==c.XMLHttpRequest&&(c.XMLHttpRequest=BOOMR.orig_XMLHttpRequest)}function M(e){e.initiator="xhr";BOOMR.responseEnd(e)}}();!function(){var s,n=!1,t=!1,u=!1,d=!1,c=!1,l=!0,f=!1,O=!1,p=!1,r=[],i=!1;if(!BOOMR.plugins.SPA&&BOOMR.plugins.AutoXHR){var o={spaHardMissedOnComplete:function(e){var t,n=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart();i=!1;BOOMR.addVar("spa.missed","1");BOOMR.plugins.RT&&BOOMR.plugins.RT.clearTimer("t_done");e.timing.requestStart=n;0===e.resources.length&&(t=BOOMR.getPerformance())&&t.timing&&t.timing.navigationStart&&t.timing.loadEventEnd&&(e.timing.loadEventEnd=t.timing.loadEventEnd)},onBeacon:function(){BOOMR.removeVar("spa.missed","spa.forced","spa.waiting")}};BOOMR.plugins.SPA={is_complete:function(){return!i},init:function(e){if(e&&e.instrument_xhr){c=e.instrument_xhr;u&&c&&BOOMR.plugins.AutoXHR.enableAutoXhr()}if(!t){t=!0;BOOMR.subscribe("beacon",o.onBeacon,null,o)}},register:function(e){r.push(e)},supported_frameworks:function(){return r},onLoadSpaHardMissed:function(){if(!u){d=!0;c&&BOOMR.plugins.AutoXHR.enableAutoXhr();i=!0;if(p)i=!1;else{BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),BOOMR.window.document.URL]);BOOMR.plugins.SPA.route_change(o.spaHardMissedOnComplete)}}},hook:function(e,t){"function"==typeof(t=t||{}).routeFilter&&(f=t.routeFilter);"function"==typeof t.routeChangeWaitFilter&&(O=t.routeChangeWaitFilter);t.disableHardNav&&(p=t.disableHardNav);if(n)return this;e&&BOOMR.attach_page_ready(this.onLoadSpaHardMissed);n=!0;return this},route_change:function(t,e){var n=!1,r=l&&!p?"spa_hard":"spa";if(!s||!s.wait){if("spa"===r&&f)try{if(!f.apply(null,e))return}catch(a){BOOMR.addError(a,"SPA.route_change.routeFilter")}u=!0;var i=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart(),o={timing:{requestStart:d?BOOMR.now():i},initiator:r,url:BOOMR.window.document.URL};l=!1;if(!d||"function"==typeof t){d=!0;o.onComplete=function(e){if(!n){n=!0;BOOMR.fireEvent("spa_navigation")}"function"==typeof t&&t(e)}}if("spa"===r&&O)try{if(O.apply(null,arguments)){o.wait=!0;s=o}}catch(a){BOOMR.addError(a,"SPA.route_change.routeChangeWaitFilter")}o.index=BOOMR.plugins.AutoXHR.getMutationHandler().addEvent(o);c&&BOOMR.plugins.AutoXHR.enableAutoXhr()}},last_location:function(e){lastLocationChange=e},current_spa_nav:function(){return d?"spa":"spa_hard"},wait_complete:function(){if(s){s.wait=!1;s.waitComplete&&s.waitComplete();s=null}},markNavigationComplete:function(){var e,t,n,r=BOOMR.plugins.AutoXHR.getMutationHandler();s&&s.wait&&BOOMR.plugins.SPA.wait_complete();if(r&&0<r.pending_events.length)for(e=r.pending_events.length-1;0<=e;e--)if((t=r.pending_events[e])&&BOOMR.utils.inArray(t.type,BOOMR.constants.BEACON_TYPE_SPAS)){if(t.complete)break;n=r.nodesWaitingFor(e);BOOMR.addVar("spa.forced","1");BOOMR.addVar("spa.waiting",n);r.completeEvent(e);return}},isSpaNavInProgress:function(){var e,t,n=BOOMR.plugins.AutoXHR.getMutationHandler();if(n&&0<n.pending_events.length)for(e=n.pending_events.length-1;0<=e;e--)if((t=n.pending_events[e])&&BOOMR.utils.inArray(t.type,BOOMR.constants.BEACON_TYPE_SPAS))return!t.complete;return!1}};BOOMR.plugins.SPA.waitComplete=BOOMR.plugins.SPA.wait_complete}}();!function(){var u={auto:!1,enabled:!0,hooked:!1,routeHooked:!1,hadMissedRouteChange:!1,routeChangeInProgress:!1,disableHardNav:!1,routeFilter:undefined,routeChangeWaitFilter:undefined,monitorReplaceState:!0,a:undefined,resetRouteChangeInProgress:function(){u.routeChangeInProgress&&clearTimeout(u.routeChangeInProgress);u.routeChangeInProgress=!1},setRouteChangeInProgress:function(){u.routeChangeInProgress&&clearTimeout(u.routeChangeInProgress);u.routeChangeInProgress=setTimeout(u.resetRouteChangeInProgress,50)},spaInit:function(e,t){t?BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),t]):e?BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),e]):BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),BOOMR.window.document.URL])},routeChange:function(e,t){if(u.enabled){if(u.disableHardNav&&!BOOMR.onloadFired())return;if(!u.routeChangeInProgress){u.spaInit(e,t);BOOMR.plugins.SPA.route_change()}}else{u.hadMissedRouteChange=!0;u.resetRouteChangeInProgress()}}};if(!BOOMR.plugins.History&&"undefined"!=typeof BOOMR.plugins.SPA&&"undefined"!=typeof BOOMR.plugins.AutoXHR&&BOOMR.window&&BOOMR.window.history){BOOMR.plugins.SPA.register("History");u.a=BOOMR.window.document.createElement("A");BOOMR.plugins.History={is_complete:function(){return!0},hook:function(e,t,n){(n=n||{}).disableHardNav=u.disableHardNav;if(u.hooked)return this;u.routeFilter&&(n.routeFilter=u.routeFilter);u.routeChangeWaitFilter&&(n.routeChangeWaitFilter=u.routeChangeWaitFilter);if(function s(){var r,o,t,e,n,i=BOOMR.window.history;function a(){BOOMR.window.addEventListener("popstate",function(e){u.routeChange()})}"function"==typeof i.pushState&&(i.pushState=(r=i.pushState,function(e,t,n){u.routeChange(t,n);return r.apply(this,arguments)}));u.monitorReplaceState&&"function"==typeof i.replaceState&&(i.replaceState=(o=i.replaceState,function(e,t,n){var r=BOOMR.window.document.URL,i=r;if(3<=arguments.length&&null!=n){u.a.href=n;i=u.a.href}BOOMR.plugins.SPA.isSpaNavInProgress()&&i===r||u.routeChange(t,n);return o.apply(this,arguments)}));"function"==typeof i.go&&(i.go=(t=i.go,function(e){u.routeChange();return t.apply(this,arguments)}));"function"==typeof i.back&&(i.back=(e=i.back,function(){u.routeChange();return e.apply(this,arguments)}));"function"==typeof i.forward&&(i.forward=(n=i.forward,function(){u.routeChange();return n.apply(this,arguments)}));BOOMR.window.addEventListener("hashchange",function(e){var t=(e||{}).newURL;u.routeChange(null,t)});BOOMR.hasBrowserOnloadFired()?a():BOOMR.window.addEventListener("load",function(){setTimeout(a,0)});BOOMR.subscribe("beacon",u.resetRouteChangeInProgress);BOOMR.subscribe("spa_cancel",u.resetRouteChangeInProgress);BOOMR.subscribe("spa_init",u.setRouteChangeInProgress);return!0}()){BOOMR.plugins.SPA.hook(t,n);u.hooked=!0}return this},init:function(e){BOOMR.utils.pluginConfig(u,e,"History",["auto","enabled","disableHardNav","routeFilter","routeChangeWaitFilter","monitorReplaceState"]);u.auto&&u.enabled&&this.hook(undefined,!0,{});return this},disable:function(){u.enabled=!1;return this},enable:function(){u.enabled=!0;if(u.hooked&&u.hadMissedRouteChange){u.hadMissedRouteChange=!1;BOOMR.plugins.SPA.route_change();u.setRouteChangeInProgress()}return this}}}}();!function(r){var i,s;if(!BOOMR.plugins.RT){s={onloadfired:!1,unloadfired:!1,visiblefired:!1,initialized:!1,complete:!1,autorun:!0,timers:{},cookie:"RT",cookie_exp:604800,session_exp:1800,strict_referrer:!0,navigationType:0,navigationStart:undefined,responseStart:undefined,loadTime:0,oboError:0,t_start:undefined,cached_t_start:undefined,cached_xhr_start:undefined,t_fb_approx:undefined,r:undefined,beacon_url:undefined,next_beacon_url:undefined,basic_timers:{t_done:1,t_resp:1,t_page:1},crossdomain_sending:!1,addedVars:[],updateCookie:function(e,t){var n,r,i,o;if(!this.cookie)return!1;i=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie))||{};for(o in i)i.hasOwnProperty(o)&&(isNaN(parseInt(o,10))||delete i[o]);if("object"==typeof e)for(o in e)e.hasOwnProperty(o)&&(e[o]===undefined?i.hasOwnProperty(o)&&delete i[o]:i[o]=e[o]);i.z=1;i.dm=BOOMR.session.domain;i.si=BOOMR.session.ID;i.ss=BOOMR.session.start.toString(36);i.sl=BOOMR.session.length.toString(36);1800!==s.session_exp&&(i.se=s.session_exp.toString(36));BOOMR.session.rate_limited&&(i.rl=1);i.tt=this.loadTime.toString(36);0<this.oboError?i.obo=this.oboError.toString(36):delete i.obo;r=BOOMR.now();if(t){i[t]=(r-BOOMR.session.start).toString(36);s.lastActionTime=r}this.beacon_url&&(i.bcn=this.beacon_url);if(!BOOMR.utils.setCookie(this.cookie,i,this.cookie_exp)){BOOMR.error("cannot set start cookie","rt");return!1}if(50<(n=BOOMR.now())-r){BOOMR.utils.removeCookie(this.cookie);BOOMR.error("took more than 50ms to set cookie... aborting: "+r+" -> "+n,"rt")}return!0},refreshSession:function(e){e||(e=BOOMR.plugins.RT.getCookie());if(e){e.ss?BOOMR.session.start=e.ss:BOOMR.session.start=BOOMR.t_lstart||BOOMR.t_start;e.si&&e.si.match(/-/)&&(BOOMR.session.ID=e.si);e.sl&&(BOOMR.session.length=e.sl);e.tt&&(this.loadTime=e.tt);e.obo&&(this.oboError=e.obo);e.dm&&!BOOMR.session.domain&&(BOOMR.session.domain=e.dm);e.se&&(s.session_exp=e.se);e.bcn&&(this.beacon_url=e.bcn);e.rl&&"1"===e.rl&&(BOOMR.session.rate_limited=!0)}},maybeResetSession:function(e,t){var n=0;BOOMR.session.start&&BOOMR.session.length&&(n=(BOOMR.now()-BOOMR.session.start)/BOOMR.session.length);var r=1e3*s.session_exp;if(!BOOMR.session.start||t&&BOOMR.session.start>t||e-(s.lastActionTime||BOOMR.t_start)>r||r<n){BOOMR.session.start=t||BOOMR.t_lstart||BOOMR.t_start;BOOMR.session.length=0;BOOMR.session.rate_limited=!1;s.loadTime=0;s.oboError=0;s.beacon_url=s.next_beacon_url;s.lastActionTime=e;s.updateCookie({rl:undefined,sl:BOOMR.session.length,ss:BOOMR.session.start,tt:s.loadTime,obo:undefined,bcn:s.beacon_url})}},initFromCookie:function(){var e,t,n;n=BOOMR.plugins.RT.getCookie();this.cookie||(BOOMR.session.enabled=!1);if(n){n.s=Math.max(+n.ld||0,Math.max(+n.ul||0,+n.cl||0));if(n.s&&(n.r||n.nu)){this.r=n.r;e=BOOMR.utils.MD5(i.URL);t=BOOMR.utils.MD5(i&&i.referrer||"");n.cl;n.nu;if(!this.strict_referrer||n.cl&&n.nu&&n.nu===e&&n.s<+n.cl+15||n.s===+n.ul&&this.r===t){this.t_start=n.s;+n.hd>n.s&&(this.t_fb_approx=n.hd)}else this.t_start=this.t_fb_approx=undefined}n.s&&(this.lastActionTime=n.s);this.refreshSession(n);this.updateCookie({s:undefined,ul:undefined,cl:undefined,hd:undefined,ld:undefined,rl:undefined,r:undefined,nu:undefined,sh:undefined});this.maybeResetSession(BOOMR.now())}},incrementSessionDetails:function(){BOOMR.session.length++;isNaN(s.timers.t_done.delta)?s.oboError++:s.loadTime+=s.timers.t_done.delta},getBoomerangTimings:function(){var e,t,n,r,i;function o(e,t){var n=Math.round(e||0),r=Math.round(t||0);return(n=0===n?0:n-r)||""}if(BOOMR.t_start){BOOMR.plugins.RT.startTimer("boomerang",BOOMR.t_start);BOOMR.plugins.RT.endTimer("boomerang",BOOMR.t_end);BOOMR.plugins.RT.endTimer("boomr_fb",BOOMR.t_start);if(BOOMR.t_lstart){BOOMR.plugins.RT.endTimer("boomr_ld",BOOMR.t_lstart);BOOMR.plugins.RT.setTimer("boomr_lat",BOOMR.t_start-BOOMR.t_lstart)}}try{if(window&&"performance"in window&&window.performance&&"function"==typeof window.performance.getEntriesByName){t={"rt.bmr":BOOMR.url};BOOMR.config_url&&(t["rt.cnf"]=BOOMR.config_url);for(n in t)if(t.hasOwnProperty(n)&&t[n]){if(!(e=window.performance.getEntriesByName(t[n]))||0===e.length||!e[0])continue;i=[r=o((e=e[0]).startTime,0),o(e.responseEnd,r),o(e.responseStart,r),o(e.requestStart,r),o(e.connectEnd,r),o(e.secureConnectionStart,r),o(e.connectStart,r),o(e.domainLookupEnd,r),o(e.domainLookupStart,r),o(e.redirectEnd,r),o(e.redirectStart,r)].join(",").replace(/,+$/,"");BOOMR.addVar(n,i);s.addedVars.push(n)}}}catch(a){BOOMR.addError(a,"rt.getBoomerangTimings")}},checkPreRender:function(){if("prerender"!==BOOMR.visibilityState())return!1;BOOMR.plugins.RT.startTimer("t_load",this.navigationStart);BOOMR.plugins.RT.endTimer("t_load");BOOMR.plugins.RT.startTimer("t_prerender",this.navigationStart);BOOMR.plugins.RT.startTimer("t_postrender");return!0},initFromNavTiming:function(){var e,t,n;if(!this.navigationStart){(t=BOOMR.getPerformance())&&t.navigation&&(this.navigationType=t.navigation.type);if(t&&t.timing)e=t.timing;else if(r.chrome&&r.chrome.csi&&r.chrome.csi().startE){e={navigationStart:r.chrome.csi().startE};n="csi"}else if(r.gtbExternal&&r.gtbExternal.startE()){e={navigationStart:r.gtbExternal.startE()};n="gtb"}if(e){BOOMR.addVar("rt.start",n||"navigation");this.navigationStart=e.navigationStart||e.fetchStart||undefined;this.fetchStart=e.fetchStart||undefined;this.responseStart=e.responseStart||undefined;navigator.userAgent.match(/Firefox\/[78]\./)&&(this.navigationStart=e.unloadEventStart||e.fetchStart||undefined)}else BOOMR.warn("This browser doesn't support the WebTiming API","rt")}},validateLoadTimestamp:function(e,t,n){var r;return t&&t.timing&&t.timing.loadEventEnd?t.timing.loadEventEnd:"xhr"!==n||t&&BOOMR.utils.inArray(t.initiator,BOOMR.constants.BEACON_TYPE_SPAS)?(r=BOOMR.getPerformance())&&r.timing?r.timing.loadEventEnd?r.timing.loadEventEnd:e:BOOMR.t_onload||BOOMR.t_lstart||BOOMR.t_start||e:e},setPageLoadTimers:function(e,t,n){var r,i;if("xhr"!==e){s.initFromCookie();s.initFromNavTiming();if(s.checkPreRender())return!1}if("xhr"===e)if(n.timers)for(var o in n.timers)n.timers.hasOwnProperty(o)&&BOOMR.plugins.RT.setTimer(o,n.timers[o]);else n&&n.timing&&(void 0===(i=n.timing.fetchStart)||n.timing.responseEnd>=i)&&(r=n.timing.responseEnd);else s.responseStart?s.responseStart>=s.navigationStart&&s.responseStart>=s.fetchStart&&(r=s.responseStart):s.timers.hasOwnProperty("t_page")?BOOMR.plugins.RT.endTimer("t_page"):s.t_fb_approx&&(r=s.t_fb_approx);if(r){i?BOOMR.plugins.RT.setTimer("t_resp",i,r):BOOMR.plugins.RT.endTimer("t_resp",r);"load"===e&&s.timers.t_load?BOOMR.plugins.RT.setTimer("t_page",s.timers.t_load.end-r):t<r?BOOMR.addVar("t_page.inv",1):BOOMR.plugins.RT.setTimer("t_page",t-r)}if("load"===e&&s.timers.hasOwnProperty("t_postrender")){BOOMR.plugins.RT.endTimer("t_postrender");BOOMR.plugins.RT.endTimer("t_prerender")}return!0},setSupportingTimestamps:function(e){e&&BOOMR.addVar("rt.tstart",e);"number"==typeof s.navigationStart&&s.navigationStart!==e&&BOOMR.addVar("rt.nstart",s.navigationStart);"number"==typeof s.t_start&&s.t_start!==e&&BOOMR.addVar("rt.cstart",s.t_start);BOOMR.addVar("rt.bstart",BOOMR.t_start);BOOMR.t_lstart&&BOOMR.addVar("rt.blstart",BOOMR.t_lstart);BOOMR.addVar("rt.end",s.timers.t_done.end)},determineTStart:function(e,t){var n;if("xhr"===e){t&&t.name&&s.timers[t.name]?n=s.timers[t.name].start:t&&t.timing&&t.timing.requestStart&&(n=t.timing.requestStart);void 0===n&&t&&BOOMR.utils.inArray(t.initiator,BOOMR.constants.BEACON_TYPE_SPAS)?BOOMR.addVar("rt.start","none"):BOOMR.addVar("rt.start","manual");s.cached_xhr_start=n}else{if(s.navigationStart)n=s.navigationStart;else if(s.t_start&&2!==s.navigationType){n=s.t_start;BOOMR.addVar("rt.start","cookie")}else if(s.cached_t_start)n=s.cached_t_start;else{BOOMR.addVar("rt.start","none");n=undefined}s.cached_t_start=n}return n},page_ready:function(){this.onloadfired=!0},check_visibility:function(){"visible"===BOOMR.visibilityState()&&(s.visiblefired=!0)},prerenderToVisible:function(){if(s.onloadfired&&s.autorun){BOOMR.addVar("vis.pre","1");BOOMR.plugins.RT.done(null,"visible")}},page_unload:function(e){this.unloadfired||BOOMR.plugins.RT.done(e,"unload");this.updateCookie(!s.navigationStart&&s.strict_referrer?{r:BOOMR.utils.MD5(i.URL)}:null,"beforeunload"===e.type?"ul":"hd");this.unloadfired=!0},_iterable_click:function(e,t,n,r){var i;if(n){for(;n&&n.nodeName&&n.nodeName.toUpperCase()!==t;)n=n.parentNode;if(n&&n.nodeName&&n.nodeName.toUpperCase()===t){this.refreshSession();this.maybeResetSession(BOOMR.now());i=r(n);this.updateCookie({nu:BOOMR.utils.MD5(i)},"cl");BOOMR.addVar("nu",BOOMR.utils.cleanupURL(i));s.addedVars.push("nu")}}},onclick:function(e){s._iterable_click("Click","A",e,function(e){return e.href})},markComplete:function(){this.onloadfired&&(s.complete=!0)},onsubmit:function(e){s._iterable_click("Submit","FORM",e,function(e){var t="function"==typeof e.getAttribute&&e.getAttribute("action")||i.URL||"";return t.match(/\?/)?t:t+"?"})},onconfig:function(e){e.beacon_url&&(s.beacon_url=e.beacon_url);if(e.RT){e.RT.oboError&&!isNaN(e.RT.oboError)&&e.RT.oboError>s.oboError&&(s.oboError=e.RT.oboError);if(e.RT.loadTime&&!isNaN(e.RT.loadTime)&&e.RT.loadTime>s.loadTime){s.loadTime=e.RT.loadTime;s.timers.t_done&&!isNaN(s.timers.t_done.delta)&&(s.loadTime+=s.timers.t_done.delta)}}},domloaded:function(){BOOMR.plugins.RT.endTimer("t_domloaded")},clear:function(){BOOMR.removeVar("rt.start");if(s.addedVars&&0<s.addedVars.length){BOOMR.removeVar(s.addedVars);s.addedVars=[]}},spaNavigation:function(){s.onloadfired=!0}};BOOMR.plugins.RT={init:function(e){r!==BOOMR.window&&(r=BOOMR.window);e&&e.CrossDomain&&e.CrossDomain.sending&&(s.crossdomain_sending=!0);if(r&&r.document){i=r.document;BOOMR.utils.pluginConfig(s,e,"RT",["cookie","cookie_exp","session_exp","strict_referrer"]);e&&"undefined"!=typeof e.autorun&&(s.autorun=e.autorun);if(e&&e.beacon_url){s.beacon_url&&!e.force_beacon_url||(s.beacon_url=e.beacon_url);s.next_beacon_url=e.beacon_url}void 0!==i&&(s.r=BOOMR.utils.hashQueryString(i.referrer,!0));s.initFromCookie();if(s.initialized)return this;s.complete=!1;s.timers={};s.check_visibility();BOOMR.subscribe("page_ready",s.page_ready,null,s);BOOMR.subscribe("visibility_changed",s.check_visibility,null,s);BOOMR.subscribe("prerender_to_visible",s.prerenderToVisible,null,s);BOOMR.subscribe("page_ready",this.done,"load",this);BOOMR.subscribe("xhr_load",this.done,"xhr",this);BOOMR.subscribe("dom_loaded",s.domloaded,null,s);BOOMR.subscribe("page_unload",s.page_unload,null,s);BOOMR.subscribe("click",s.onclick,null,s);BOOMR.subscribe("form_submit",s.onsubmit,null,s);BOOMR.subscribe("before_beacon",this.addTimersToBeacon,"beacon",this);BOOMR.subscribe("beacon",s.clear,null,s);BOOMR.subscribe("error",s.markComplete,null,s);BOOMR.subscribe("config",s.onconfig,null,s);BOOMR.subscribe("spa_navigation",s.spaNavigation,null,s);BOOMR.subscribe("interaction",s.markComplete,null,s);BOOMR.getBeaconURL=function(){return s.beacon_url};s.initialized=!0;return this}},startTimer:function(e,t){if(e){"t_page"===e&&this.endTimer("t_resp",t);s.timers[e]={start:"number"==typeof t?t:BOOMR.now()}}return this},endTimer:function(e,t){if(e){s.timers[e]=s.timers[e]||{};s.timers[e].end===undefined&&(s.timers[e].end="number"==typeof t?t:BOOMR.now())}return this},clearTimer:function(e){e&&delete s.timers[e];return this},setTimer:function(e,t,n){e&&(s.timers[e]=void 0!==n?{start:t,end:n,delta:n-t}:{delta:t});return this},addTimersToBeacon:function(e,t){var n,r,i=[];for(n in s.timers)if(s.timers.hasOwnProperty(n)){if("number"!=typeof(r=s.timers[n]).delta){"number"!=typeof r.start&&(r.start="xhr"===t?s.cached_xhr_start:s.cached_t_start);r.delta=r.end-r.start}if(isNaN(r.delta))continue;if(s.basic_timers.hasOwnProperty(n)){BOOMR.addVar(n,r.delta);s.addedVars.push(n)}else i.push(n+"|"+r.delta)}if(i.length){BOOMR.addVar("t_other",i.join(","));s.addedVars.push("t_other")}if("beacon"===t){s.timers={};s.complete=!1}},done:function(e,t){var n,r,i=BOOMR.now(),o=!1;s.complete=!1;r=s.validateLoadTimestamp(i,e,t);if(("load"===t||"visible"===t||"xhr"===t)&&!s.setPageLoadTimers(t,r,e))return this;("load"===t||"visible"===t||"xhr"===t&&e&&"spa_hard"===e.initiator)&&s.getBoomerangTimings();n=s.determineTStart(t,e);s.refreshSession();s.maybeResetSession(r,n);this.endTimer("t_done",r);e&&"xhr"===e.initiator&&this.setTimer("t_done",e.timing.requestStart,e.timing.loadEventEnd);BOOMR.removeVar("t_done","t_page","t_resp","t_postrender","t_prerender","t_load","t_other","rt.tstart","rt.nstart","rt.cstart","rt.bstart","rt.end","rt.subres","http.errno","http.method","http.type","xhr.sync","fetch.bnu","rt.ss","rt.sl","rt.tt","rt.lt");s.setSupportingTimestamps(n);this.addTimersToBeacon(null,t);BOOMR.setReferrer(s.r);"xhr"===t&&e&&e&&e.data&&(e=e.data);if("xhr"===t&&e){o=e.subresource;if(e.url){BOOMR.addVar("u",BOOMR.utils.cleanupURL(e.url.replace(/#.*/,"")));s.addedVars.push("u")}e.status&&(e.status<-1||400<=e.status)&&BOOMR.addVar("http.errno",e.status);e.method&&"GET"!==e.method&&BOOMR.addVar("http.method",e.method);e.type&&"xhr"!==e.type&&BOOMR.addVar("http.type",e.type[0]);e.headers&&BOOMR.addVar("http.hdr",e.headers);e.synchronous&&BOOMR.addVar("xhr.sync",1);e.initiator&&BOOMR.addVar("http.initiator",e.initiator);e.responseBodyNotUsed&&BOOMR.addVar("fetch.bnu",1);s.addedVars.push("http.errno","http.method","http.hdr","xhr.sync","http.initiator","fetch.bnu")}if(o&&"passive"!==o){BOOMR.addVar("rt.subres",1);s.addedVars.push("rt.subres")}if("load"===t||"visible"===t||"xhr"===t&&!o||"unload"===t&&!s.onloadfired&&s.autorun&&!s.crossdomain_sending){s.incrementSessionDetails();s.updateCookie(null,"ld")}BOOMR.addVar({"rt.tt":s.loadTime,"rt.obo":s.oboError});s.addedVars.push("rt.tt","rt.obo");s.updateCookie();if("unload"===t){BOOMR.addVar("rt.quit","");if(!s.onloadfired){BOOMR.addVar("rt.abld","");s.addedVars.push("rt.abld")}s.visiblefired||BOOMR.addVar("rt.ntvu","")}s.complete=!0;BOOMR.sendBeacon(s.beacon_url);return this},is_complete:function(e){return s.complete||e&&"error"===e["http.initiator"]},updateCookie:function(){s.updateCookie()},getCookie:function(){var e,t,n;if(!s.cookie)return!1;if(e=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(s.cookie))||{}){if(1&e.z){t=36;n=parseInt(e.ss||0,36)}else{t=10;n=0}e.ss=parseInt(e.ss||0,t);e.tt=parseInt(e.tt||0,t);e.obo=parseInt(e.obo||0,t);e.sl=parseInt(e.sl||0,t);e.se&&(e.se=parseInt(e.se,t)||1800);e.ld&&(e.ld=n+parseInt(e.ld,t));e.ul&&(e.ul=n+parseInt(e.ul,t));e.cl&&(e.cl=n+parseInt(e.cl,t));e.hd&&(e.hd=n+parseInt(e.hd,t))}return e},incrementSessionDetails:function(){s.incrementSessionDetails()},navigationStart:function(){s.navigationStart||s.initFromNavTiming();return s.navigationStart}}}}(window);!function(){if(!BOOMR.plugins.PaintTiming){var o={"first-paint":"fp","first-contentful-paint":"fcp"},a={initialized:!1,complete:!1,supported:null,timingCache:{},done:function(e,t){var n,r,i;if(this.complete)return this;if("load"!==t&&(!e||"spa_hard"!==e.initiator)){this.complete=!0;return this}if((n=BOOMR.getPerformance())&&"function"==typeof n.getEntriesByType){if((r=n.getEntriesByType("paint"))&&r.length){BOOMR.info("This user agent supports PaintTiming","pt");for(i=0;i<r.length;i++){a.timingCache[r[i].name]=r[i].startTime;o[r[i].name]&&BOOMR.addVar("pt."+o[r[i].name],Math.floor(r[i].startTime),!0)}this.complete=!0;BOOMR.sendBeacon()}}else this.complete=!0}};BOOMR.plugins.PaintTiming={init:function(){if(!this.is_supported()){a.complete=!0;a.initialized=!0}if(!a.complete&&"hidden"===BOOMR.visibilityState()){BOOMR.addVar("pt.hid",1,!0);a.complete=!0}if(!a.initialized){BOOMR.subscribe("page_ready",a.done,"load",a);BOOMR.subscribe("xhr_load",a.done,"xhr",a);BOOMR.subscribe("before_unload",a.done,null,a);a.initialized=!0}return this},is_complete:function(){return!0},is_enabled:function(){return a.initialized&&this.is_supported()},is_supported:function(){if(null!==a.supported)return a.supported;var e=BOOMR.getPerformance();a.supported=e&&"undefined"!=typeof window.PerformancePaintTiming&&"function"==typeof e.getEntriesByType;return a.supported},getTimingFor:function(e){var t,n;if(a.timingCache[e])return a.timingCache[e];if(this.is_supported()){var r;if((r=BOOMR.getPerformance())&&"function"==typeof r.getEntriesByType&&(t=r.getEntriesByType("paint"))&&t.length)for(n=0;n<t.length;n++)if(t[n].name===e){a.timingCache[e]=t[n].startTime;return a.timingCache[e]}}}}}}();!function(){if(!BOOMR.plugins.NavigationTiming){var l={complete:!1,fullySent:!1,sendBeacon:function(){this.complete=!0;BOOMR.sendBeacon()},xhr_done:function(e){var t;if(e&&"spa_hard"===e.initiator)l.done(e);else if(e&&"spa"===e.initiator)l.sendBeacon();else{BOOMR.window;var n,r,i={};if(e){e.data&&(e=e.data);if((t=BOOMR.getPerformance())&&e.restiming){i={nt_red_st:e.restiming.redirectStart,nt_red_end:e.restiming.redirectEnd,nt_fet_st:e.restiming.fetchStart,nt_dns_st:e.restiming.domainLookupStart,nt_dns_end:e.restiming.domainLookupEnd,nt_con_st:e.restiming.connectStart,nt_con_end:e.restiming.connectEnd,nt_req_st:e.restiming.requestStart,nt_res_st:e.restiming.responseStart,nt_res_end:e.restiming.responseEnd};e.restiming.secureConnectionStart&&(i.nt_ssl_st=e.restiming.secureConnectionStart);for(r in i)if(i.hasOwnProperty(r)&&i[r]){i[r]+=t.timing.navigationStart;i[r]=Math.floor(i[r])}}if(e.timing){n=e.timing;i.nt_req_st||(i.nt_req_st=n.requestStart);i.nt_res_st||(i.nt_res_st=n.responseStart);i.nt_res_end||(i.nt_res_end=n.responseEnd);i.nt_domint=n.domInteractive;i.nt_domcomp=n.domComplete;i.nt_load_st=n.loadEventEnd;i.nt_load_end=n.loadEventEnd}for(r in i)i.hasOwnProperty(r)&&!i[r]&&delete i[r];BOOMR.addVar(i);try{l.addedVars.push.apply(l.addedVars,Object.keys(i))}catch(o){}l.sendBeacon()}}},done:function(){var e,t,n,r,i,o,a=BOOMR.window,s={},u=0,d=!1;if(this.complete)return this;l.addedVars=[];if(e=BOOMR.getPerformance()){if("function"==typeof e.getEntriesByType)if((r=e.getEntriesByType("navigation"))&&r.length){BOOMR.info("This user agent supports NavigationTiming2","nt");r=r[0];u=e.timing?e.timing.navigationStart:0}else r=undefined;if(!r&&e.timing){BOOMR.info("This user agent supports NavigationTiming","nt");r=e.timing}if(r){!(s={nt_nav_st:e.timing?e.timing.navigationStart:0,nt_red_st:f(u,r.redirectStart),nt_red_end:f(u,r.redirectEnd),nt_fet_st:f(u,r.fetchStart),nt_dns_st:f(u,r.domainLookupStart),nt_dns_end:f(u,r.domainLookupEnd),nt_con_st:f(u,r.connectStart),nt_con_end:f(u,r.connectEnd),nt_req_st:f(u,r.requestStart),nt_res_st:f(u,r.responseStart),nt_res_end:f(u,r.responseEnd),nt_domloading:f(u,r.domLoading),nt_domint:f(u,r.domInteractive),nt_domcontloaded_st:f(u,r.domContentLoadedEventStart),nt_domcontloaded_end:f(u,r.domContentLoadedEventEnd),nt_domcomp:f(u,r.domComplete),nt_load_st:f(u,r.loadEventStart),nt_load_end:f(u,r.loadEventEnd),nt_unload_st:f(u,r.unloadEventStart),nt_unload_end:f(u,r.unloadEventEnd)}).nt_domloading&&e&&e.timing&&e.timing.domLoading&&(s.nt_domloading=e.timing.domLoading);r.secureConnectionStart&&(s.nt_ssl_st=f(u,r.secureConnectionStart));e.timing&&e.timing.msFirstPaint&&(s.nt_first_paint=e.timing.msFirstPaint);r.workerStart&&(s.nt_worker_start=f(u,r.workerStart));if(r.decodedBodySize||r.transferSize){s.nt_enc_size=r.encodedBodySize;s.nt_dec_size=r.decodedBodySize;s.nt_trn_size=r.transferSize}r.nextHopProtocol&&(s.nt_protocol=r.nextHopProtocol)}if(!s.nt_first_paint&&BOOMR.plugins.PaintTiming){d=BOOMR.plugins.PaintTiming.is_supported();(i=BOOMR.plugins.PaintTiming.getTimingFor("first-paint"))&&(s.nt_first_paint=f(u,i))}if((!s.nt_protocol||!s.nt_first_paint)&&(!r||""!==r.nextHopProtocol)&&!d&&a.chrome&&"function"==typeof a.chrome.loadTimes&&(n=a.chrome.loadTimes())){s.nt_spdy=n.wasFetchedViaSpdy?1:0;s.nt_cinf=n.connectionInfo;"number"==typeof n.firstPaintTime&&0!==n.firstPaintTime&&(s.nt_first_paint=Math.round(1e3*n.firstPaintTime))}if(e.navigation){t=e.navigation;s.nt_red_cnt=t.redirectCount;s.nt_nav_type=t.type}for(o in s)s.hasOwnProperty(o)&&s[o]===undefined&&delete s[o];BOOMR.addVar(s);if(r&&(r.requestStart&&r.navigationStart&&r.requestStart<r.navigationStart||r.responseStart&&r.navigationStart&&r.responseStart<r.navigationStart||r.responseStart&&r.fetchStart&&r.responseStart<r.fetchStart||r.navigationStart&&r.fetchStart<r.navigationStart||r.responseEnd&&r.responseEnd>BOOMR.now()+864e5)){BOOMR.addVar("nt_bad",1);l.addedVars.push("nt_bad")}try{l.addedVars.push.apply(l.addedVars,Object.keys(s))}catch(c){}0<s.nt_load_end&&(this.fullySent=!0)}l.sendBeacon()},clear:function(){if(l.addedVars&&0<l.addedVars.length){BOOMR.removeVar(l.addedVars);l.addedVars=[]}this.complete=this.fullySent},prerenderToVisible:function(){this.complete=!1;this.done()}};BOOMR.plugins.NavigationTiming={init:function(){if(!l.initialized){BOOMR.subscribe("page_ready",l.done,null,l);BOOMR.subscribe("prerender_to_visible",l.prerenderToVisible,null,l);BOOMR.subscribe("xhr_load",l.xhr_done,null,l);BOOMR.subscribe("before_unload",l.done,null,l);BOOMR.subscribe("beacon",l.clear,null,l);l.initialized=!0}return this},is_complete:function(){return!0}}}function f(e,t){return"number"!=typeof t||0===t?undefined:Math.floor((e||0)+t)}}();!function(){var t,n={type:"ct",bandwidth:"bw",metered:"mt",effectiveType:"etype",downlinkMax:"lm",downlink:"dl",rtt:"rtt",saveData:"sd"};if("function"==typeof BOOMR.addVar){"object"==typeof navigator&&(t=navigator.connection||navigator.mozConnection||navigator.webkitConnection||navigator.msConnection);if(t){t.addEventListener&&t.addEventListener("change",function(){e();BOOMR.fireEvent("netinfo",t)});e()}}function e(){var e;for(e in n)if("undefined"!=typeof t[e]){BOOMR.removeVar("mob."+n[e]);t[e]&&BOOMR.addVar("mob."+n[e],t[e])}}}();!function(){var i,u,o,a,s,d,c,l,f,O={};if(!BOOMR.plugins.Memory){f={done:function(){if(i){BOOMR.removeVar("dom.res");t(!0,function(){var e,t,n={};if(O&&"function"==typeof O.getEntriesByType&&(e=O.getEntriesByType("resource"))&&e.length){BOOMR.addVar("dom.res",e.length);t=BOOMR.window.document.createElement("a");[].forEach.call(e,function(e){t.href=e.name;n[t.hostname]=!0});BOOMR.addVar("dom.doms",Object.keys(n).length)}},"resources");o&&BOOMR.addVar({"mem.total":o.totalJSHeapSize,"mem.limit":o.jsHeapSizeLimit,"mem.used":o.usedJSHeapSize});t(c&&l,function(){BOOMR.addVar({"mem.lsln":c.length,"mem.ssln":l.length});window.JSON&&"function"==typeof JSON.stringify&&BOOMR.addVar({"mem.lssz":JSON.stringify(c).length,"mem.sssz":JSON.stringify(l).length})},"localStorage");t(a,function(){BOOMR.addVar({"scr.xy":a.width+"x"+a.height,"scr.bpp":a.colorDepth+"/"+(a.pixelDepth||"")});a.orientation&&BOOMR.addVar("scr.orn",a.orientation.angle+"/"+a.orientation.type);1<i.devicePixelRatio&&BOOMR.addVar("scr.dpx",i.devicePixelRatio);var e=BOOMR.utils.scroll();(e.x||e.y)&&BOOMR.addVar("scr.sxy",e.x+"x"+e.y)},"screen");t(s,function(){s.hardwareConcurrency&&BOOMR.addVar("cpu.cnc",s.hardwareConcurrency);s.maxTouchPoints&&BOOMR.addVar("scr.mtp",s.maxTouchPoints)},"navigator");t(d,function(){d&&"number"==typeof d.level&&BOOMR.addVar("bat.lvl",d.level)},"battery");t(!0,function(){var t;BOOMR.addVar({"dom.ln":e("*"),"dom.sz":u.documentElement.innerHTML.length,"dom.ck":u.cookie.length});t={};BOOMR.addVar(e("img",["dom.img","dom.img.ext","dom.img.uniq"],function(e){return e.src&&!e.src.toLowerCase().match(/^(?:about:|javascript:|data:|#)/)},function(e){return!(t[e.currentSrc||e.src]=t.hasOwnProperty(e.currentSrc||e.src))}));t={};BOOMR.addVar(e("script",["dom.script","dom.script.ext","dom.script.uniq"],function(e){return e.src&&!e.src.toLowerCase().match(/^(?:about:|javascript:|#)/)},function(e){return!(t[e.src]=t.hasOwnProperty(e.src))}));t={};BOOMR.addVar(e("iframe",["dom.iframe","dom.iframe.ext","dom.iframe.uniq"],function(e){return e.src&&!e.src.toLowerCase().match(/^(?:about:|javascript:|#)/)},function(e){return!(t[e.src]=t.hasOwnProperty(e.src))}));t={};BOOMR.addVar(e("link",["dom.link","dom.link.css","dom.link.css.uniq"],function(e){return e.rel&&"stylesheet"===e.rel.toLowerCase()&&e.href&&!e.href.toLowerCase().match(/^(?:about:|javascript:|#)/)},function(e){return!(t[e.href]=t.hasOwnProperty(e.href))}))},"dom")}}};BOOMR.plugins.Memory={init:function(){var e;try{i=BOOMR.window;u=i.document;O=BOOMR.getPerformance();e=i.console;a=i.screen;s=i.navigator;try{c=i.localStorage;l=i.sessionStorage}catch(n){}if(s&&s.battery)d=s.battery;else if(s&&"function"==typeof s.getBattery){var t=s.getBattery();t&&"function"==typeof t.then?t.then(function(e){d=e}):"object"==typeof t&&t.hasOwnProperty("level")&&(d=t)}}catch(r){BOOMR.addError(r,"Memory.init")}o=O&&O.memory?O.memory:e&&e.memory?e.memory:null;if(f.initialized)return this;f.initialized=!0;BOOMR.subscribe("before_beacon",f.done,null,f);return this},is_complete:function(){return!0}}}function e(e,t){var n,r,i,o,a;try{r=(n=u.getElementsByTagName(e)).length;if(t&&t.length){(i={})[t[0]]=r;for(o=2;0<r&&o<arguments.length&&o-1<t.length;o++)if("function"==typeof(a=arguments[o]))try{if((n=BOOMR.utils.arrayFilter(n,a)).length!==r){r=n.length;i[t[o-1]]=r}}catch(s){BOOMR.addError(s,"Memory.nodeList."+e+".filter["+(o-2)+"]")}}return i||r}catch(s){BOOMR.addError(s,"Memory.nodeList."+e);return 0}}function t(e,t,n){if(e)try{t()}catch(r){BOOMR.addError(r,"Memory.done."+n)}}}();!function(){"use strict";BOOMR.utils=BOOMR.utils||{};BOOMR.utils&&BOOMR.utils.md5||(BOOMR.utils.MD5=function h(e,t,n){return t?n?g(t,e):function r(e,t){return o(g(e,t))}(t,e):n?a(e):function i(e){return o(a(e))}(e)});function l(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function s(e,t,n,r,i,o){return l(function a(e,t){return e<<t|e>>>32-t}(l(l(t,e),l(r,o)),i),n)}function f(e,t,n,r,i,o,a){return s(t&n|~t&r,e,t,i,o,a)}function O(e,t,n,r,i,o,a){return s(t&r|n&~r,e,t,i,o,a)}function p(e,t,n,r,i,o,a){return s(t^n^r,e,t,i,o,a)}function m(e,t,n,r,i,o,a){return s(n^(t|~r),e,t,i,o,a)}function u(e,t){e[t>>5]|=128<<t%32;e[14+(t+64>>>9<<4)]=t;var n,r,i,o,a,s=1732584193,u=-271733879,d=-1732584194,c=271733878;for(n=0;n<e.length;n+=16){u=m(u=m(u=m(u=m(u=p(u=p(u=p(u=p(u=O(u=O(u=O(u=O(u=f(u=f(u=f(u=f(i=u,d=f(o=d,c=f(a=c,s=f(r=s,u,d,c,e[n],7,-680876936),u,d,e[n+1],12,-389564586),s,u,e[n+2],17,606105819),c,s,e[n+3],22,-1044525330),d=f(d,c=f(c,s=f(s,u,d,c,e[n+4],7,-176418897),u,d,e[n+5],12,1200080426),s,u,e[n+6],17,-1473231341),c,s,e[n+7],22,-45705983),d=f(d,c=f(c,s=f(s,u,d,c,e[n+8],7,1770035416),u,d,e[n+9],12,-1958414417),s,u,e[n+10],17,-42063),c,s,e[n+11],22,-1990404162),d=f(d,c=f(c,s=f(s,u,d,c,e[n+12],7,1804603682),u,d,e[n+13],12,-40341101),s,u,e[n+14],17,-1502002290),c,s,e[n+15],22,1236535329),d=O(d,c=O(c,s=O(s,u,d,c,e[n+1],5,-165796510),u,d,e[n+6],9,-1069501632),s,u,e[n+11],14,643717713),c,s,e[n],20,-373897302),d=O(d,c=O(c,s=O(s,u,d,c,e[n+5],5,-701558691),u,d,e[n+10],9,38016083),s,u,e[n+15],14,-660478335),c,s,e[n+4],20,-405537848),d=O(d,c=O(c,s=O(s,u,d,c,e[n+9],5,568446438),u,d,e[n+14],9,-1019803690),s,u,e[n+3],14,-187363961),c,s,e[n+8],20,1163531501),d=O(d,c=O(c,s=O(s,u,d,c,e[n+13],5,-1444681467),u,d,e[n+2],9,-51403784),s,u,e[n+7],14,1735328473),c,s,e[n+12],20,-1926607734),d=p(d,c=p(c,s=p(s,u,d,c,e[n+5],4,-378558),u,d,e[n+8],11,-2022574463),s,u,e[n+11],16,1839030562),c,s,e[n+14],23,-35309556),d=p(d,c=p(c,s=p(s,u,d,c,e[n+1],4,-1530992060),u,d,e[n+4],11,1272893353),s,u,e[n+7],16,-155497632),c,s,e[n+10],23,-1094730640),d=p(d,c=p(c,s=p(s,u,d,c,e[n+13],4,681279174),u,d,e[n],11,-358537222),s,u,e[n+3],16,-722521979),c,s,e[n+6],23,76029189),d=p(d,c=p(c,s=p(s,u,d,c,e[n+9],4,-640364487),u,d,e[n+12],11,-421815835),s,u,e[n+15],16,530742520),c,s,e[n+2],23,-995338651),d=m(d,c=m(c,s=m(s,u,d,c,e[n],6,-198630844),u,d,e[n+7],10,1126891415),s,u,e[n+14],15,-1416354905),c,s,e[n+5],21,-57434055),d=m(d,c=m(c,s=m(s,u,d,c,e[n+12],6,1700485571),u,d,e[n+3],10,-1894986606),s,u,e[n+10],15,-1051523),c,s,e[n+1],21,-2054922799),d=m(d,c=m(c,s=m(s,u,d,c,e[n+8],6,1873313359),u,d,e[n+15],10,-30611744),s,u,e[n+6],15,-1560198380),c,s,e[n+13],21,1309151649),d=m(d,c=m(c,s=m(s,u,d,c,e[n+4],6,-145523070),u,d,e[n+11],10,-1120210379),s,u,e[n+2],15,718787259),c,s,e[n+9],21,-343485551);s=l(s,r);u=l(u,i);d=l(d,o);c=l(c,a)}return[s,u,d,c]}function d(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function c(e){var t,n=[];n[(e.length>>2)-1]=undefined;for(t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function o(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1){t=e.charCodeAt(n);i+=r.charAt(t>>>4&15)+r.charAt(15&t)}return i}function n(e){return unescape(encodeURIComponent(e))}function a(e){return function t(e){return d(u(c(e),8*e.length))}(n(e))}function g(e,t){return function s(e,t){var n,r,i=c(e),o=[],a=[];o[15]=a[15]=undefined;16<i.length&&(i=u(i,8*e.length));for(n=0;n<16;n+=1){o[n]=909522486^i[n];a[n]=1549556828^i[n]}r=u(o.concat(c(t)),512+8*t.length);return d(u(a.concat(r),640))}(n(e),n(t))}}();!function(e,t){"use strict";e.ErrorStackParser=function s(){var n=/(^|@)\S+\:\d+/,r=/^\s*at .*(\S+\:\d+|\(native\))/m,i=/^(eval@)?(\[native code\])?$/;function o(e,t,n){if("function"==typeof Array.prototype.map)return e.map(t,n);for(var r=new Array(e.length),i=0;i<e.length;i++)r[i]=t.call(n,e[i]);return r}function a(e,t,n){if("function"==typeof Array.prototype.filter)return e.filter(t,n);for(var r=[],i=0;i<e.length;i++)t.call(n,e[i])&&r.push(e[i]);return r}return{parse:function(e){if("undefined"!=typeof e.stacktrace||"undefined"!=typeof e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(r))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=e.replace(/[\(\)\s]/g,"").split(":"),n=t.pop(),r=t[t.length-1];if(isNaN(parseFloat(r))||!isFinite(r))return[t.join(":"),n,undefined];var i=t.pop();return[t.join(":"),i,n]},parseV8OrIE:function(e){var t=a(e.stack.split("\n"),function(e){return!!e.match(r)},this);return o(t,function(e){-1<e.indexOf("(eval ")&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),n=this.extractLocation(t.pop()),r=t.join(" ")||undefined,i="eval"===n[0]?undefined:n[0];return{functionName:r,fileName:i,lineNumber:n[1],columnNumber:n[2],source:e}},this)},parseFFOrSafari:function(e){var t=a(e.stack.split("\n"),function(e){return!e.match(i)},this);return o(t,function(e){-1<e.indexOf(" > eval")&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1"));if(-1===e.indexOf("@")&&-1===e.indexOf(":"))return{functionName:e};var t=e.split("@"),n=this.extractLocation(t.pop()),r=t.join("@")||undefined;return{functionName:r,fileName:n[0],lineNumber:n[1],columnNumber:n[2],source:e}},this)},parseOpera:function(e){return!e.stacktrace||-1<e.message.indexOf("\n")&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)/i,n=e.message.split("\n"),r=[],i=2,o=n.length;i<o;i+=2){var a=t.exec(n[i]);a&&r.push({fileName:a[2],lineNumber:a[1],source:n[i]})}return r},parseOpera10:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=e.stacktrace.split("\n"),r=[],i=0,o=n.length;i<o;i+=2){var a=t.exec(n[i]);a&&r.push({functionName:a[3]||undefined,fileName:a[2],lineNumber:a[1],source:n[i]})}return r},parseOpera11:function(e){var t=a(e.stack.split("\n"),function(e){return!!e.match(n)&&!e.match(/^Error created at/)},this);return o(t,function(e){var t,n=e.split("@"),r=this.extractLocation(n.pop()),i=n.shift()||"",o=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||undefined;i.match(/\(([^\)]*)\)/)&&(t=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var a=t===undefined||"[arguments not available]"===t?undefined:t.split(",");return{functionName:o,args:a,fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:e}},this)}}}()}(this,function Wv(){"use strict";var t=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,r=/^(eval@)?(\[native code\])?$/;function i(e,t,n){if("function"==typeof Array.prototype.map)return e.map(t,n);for(var r=new Array(e.length),i=0;i<e.length;i++)r[i]=t.call(n,e[i]);return r}function o(e,t,n){if("function"==typeof Array.prototype.filter)return e.filter(t,n);for(var r=[],i=0;i<e.length;i++)t.call(n,e[i])&&r.push(e[i]);return r}return{parse:function(e){if("undefined"!=typeof e.stacktrace||"undefined"!=typeof e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=e.replace(/[\(\)\s]/g,"").split(":"),n=t.pop(),r=t[t.length-1];if(isNaN(parseFloat(r))||!isFinite(r))return[t.join(":"),n,undefined];var i=t.pop();return[t.join(":"),i,n]},parseV8OrIE:function(e){return i(o(e.stack.split("\n"),function(e){return!!e.match(n)},this),function(e){-1<e.indexOf("(eval ")&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),n=this.extractLocation(t.pop());return{functionName:t.join(" ")||undefined,fileName:"eval"===n[0]?undefined:n[0],lineNumber:n[1],columnNumber:n[2],source:e}},this)},parseFFOrSafari:function(e){return i(o(e.stack.split("\n"),function(e){return!e.match(r)},this),function(e){-1<e.indexOf(" > eval")&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1"));if(-1===e.indexOf("@")&&-1===e.indexOf(":"))return{functionName:e};var t=e.split("@"),n=this.extractLocation(t.pop());return{functionName:t.join("@")||undefined,fileName:n[0],lineNumber:n[1],columnNumber:n[2],source:e}},this)},parseOpera:function(e){return!e.stacktrace||-1<e.message.indexOf("\n")&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)/i,n=e.message.split("\n"),r=[],i=2,o=n.length;i<o;i+=2){var a=t.exec(n[i]);a&&r.push({fileName:a[2],lineNumber:a[1],source:n[i]})}return r},parseOpera10:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=e.stacktrace.split("\n"),r=[],i=0,o=n.length;i<o;i+=2){var a=t.exec(n[i]);a&&r.push({functionName:a[3]||undefined,fileName:a[2],lineNumber:a[1],source:n[i]})}return r},parseOpera11:function(e){return i(o(e.stack.split("\n"),function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this),function(e){var t,n=e.split("@"),r=this.extractLocation(n.pop()),i=n.shift()||"",o=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||undefined;i.match(/\(([^\)]*)\)/)&&(t=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));return{functionName:o,args:t===undefined||"[arguments not available]"===t?undefined:t.split(","),fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:e}},this)}}});!function(){var f;if(!BOOMR.plugins.Errors){var O=["BOOMR_addError","createStackForSend","BOOMR.window.console.error","BOOMR.plugins.Errors.init","BOOMR.window.onerror","BOOMR_plugins_errors_"],p=["Object.send","b.send","wrap","Anonymous function"],m=["/boomerang"];g.prototype.equals=function(e){return"object"==typeof e&&(this.code===e.code&&(this.message===e.message&&(this.functionName===e.functionName&&(this.fileName===e.fileName&&(this.lineNumber===e.lineNumber&&(this.columnNumber===e.columnNumber&&(this.stack===e.stack&&(this.type===e.type&&this.source===e.source))))))))};g.fromError=function(e,t,n){var r,i,o,a,s,u,d,c,l=!1,f=BOOMR.now();if(!e)return null;if(e.stack){5e3<e.stack.length&&(e.stack=e.stack.substr(0,5e3));if((i=ErrorStackParser.parse(e))&&i.length){if(e.generatedStack){if(4<=i.length&&i[1].functionName&&-1!==i[1].functionName.indexOf("createStackForSend")){i=i.slice(3);l=!0}if(3<=i.length&&i[0].functionName&&-1!==i[0].functionName.indexOf("createStackForSend")){i=i[1].fileName===i[2].fileName?i.slice(3):i.slice(2);l=!0}if(1<=i.length&&i[0].functionName&&-1!==i[0].functionName.indexOf("BOOMR_plugins_errors")){i=i.slice(1);l=!0}}for(o=0;o<i.length;o++){u=!1;if(c=(d=i[o]).functionName){for(a=0;a<O.length;a++)if(-1!==c.indexOf(O[a])){i.splice(o,1);o--;u=l=!0;break}if(!u&&d.fileName)for(a=0;a<m.length;a++)if(-1!==d.fileName.indexOf(m[a]))for(s=0;s<p.length;s++)if(-1!==c.indexOf(p[s])){i.splice(o,1);o--;u=l=!0;break}}}if(i.length){r=i[0];(l||"undefined"==typeof e.lineNumber)&&(e.lineNumber=r.lineNumber);(l||"undefined"==typeof e.columnNumber)&&(e.columnNumber=r.columnNumber);(l||"undefined"==typeof e.functionName)&&(e.functionName=r.functionName);(l||"undefined"==typeof e.fileName)&&(e.fileName=r.fileName)}e.stack&&(e.stack=e.stack.replace(/\s\s+/g," "))}}else(e.functionName||e.fileName||e.lineNumber||e.columnNumber)&&(i=[{lineNumber:e.lineNumber,columnNumber:e.columnNumber,fileName:e.fileName,functionName:e.functionName}]);"string"==typeof e.message&&-1!==e.message.indexOf("ReferenceError:")&&"Error"===e.name&&(e.name="ReferenceError");return new g({code:e.code?e.code:undefined,message:e.message?e.message:undefined,functionName:e.functionName?e.functionName:undefined,fileName:e.fileName?e.fileName:undefined,lineNumber:e.lineNumber?e.lineNumber:undefined,columnNumber:e.columnNumber?e.columnNumber:undefined,stack:e.stack?e.stack:undefined,type:e.name?e.name:undefined,source:n,via:t,frames:i,extra:e.extra?e.extra:undefined,timestamp:e.timestamp?e.timestamp:f})};f={onError:undefined,monitorGlobal:!0,monitorNetwork:!0,monitorConsole:!0,monitorEvents:!0,monitorTimeout:!0,monitorRejections:!1,monitorReporting:!1,sendAfterOnload:!1,maxErrors:10,sendInterval:1e3,sendIntervalDuringLoad:2500,sendIntervalId:-1,maxEvents:10,isDuringLoad:!0,initialized:!1,autorun:!0,errors:[],q:[],events:[],reportingObserver:undefined,send:function(t,n,r){var i=BOOMR.now();if(t&&!0!==t.reported){t.reported=!0;n=n||BOOMR.plugins.Errors.VIA_APP;r=r||BOOMR.plugins.Errors.SOURCE_APP;if(t.stack||t.noStack){t.timestamp=t.timestamp||i;f.addError(t,n,r)}else{!function createStackForSend(){try{throw Error(t)}catch(e){(t=e).generatedStack=!0;t.timestamp=t.timestamp||i;f.addError(t,n,r)}}()}}},addError:function(e,t,n){var r,i,o,a=BOOMR.now();if(f.isDuringLoad||f.sendAfterOnload){if(f.onError){try{r=f.onError(e)}catch(s){r=!1}if(!r)return}if(!(f.errors.length>=f.maxErrors)){i=g.fromError(e,t,n);o=f.mergeDuplicateErrors(f.errors,i,!1);BOOMR.fireEvent("error",o||i);f.mergeDuplicateErrors(f.q,i,!0);if((BOOMR.hasSentPageLoadBeacon()||!f.autorun)&&-1===f.sendIntervalId){if(o)return;f.sendIntervalId=setTimeout(function(){f.sendIntervalId=-1;0!==f.q.length&&BOOMR.sendBeaconWhenReady({"rt.start":"manual","http.initiator":"error",api:1,"rt.tstart":a,"rt.end":a},function(){f.addErrorsToBeacon()},this)},f.isDuringLoad?f.sendIntervalDuringLoad:f.sendInterval)}}}},findDuplicateError:function(e,t){if(!BOOMR.utils.isArray(e)||void 0===t)return undefined;for(var n=0;n<e.length;n++)if(e[n].equals(t))return e[n];return undefined},mergeDuplicateErrors:function(e,t,n){if(!BOOMR.utils.isArray(e)||void 0===t)return undefined;var r=f.findDuplicateError(e,t);if(r){n&&(r.count+=t.count);return r}e.push(t);return undefined},onBeacon:function(){BOOMR.removeVar("err");BOOMR.removeVar("api");BOOMR.removeVar("http.initiator")},pageReady:function(){f.isDuringLoad=!1},getErrors:function(){return 0!==f.errors.length&&f.errors},getErrorsForUrl:function(e){e=f.compressErrors(e);return BOOMR.utils.serializeForUrl(e)},addErrorsToBeacon:function(){if(f.q.length){var e=this.getErrorsForUrl(f.q);e&&BOOMR.addVar("err",e);f.q=[]}},beforeBeacon:function(){f.addErrorsToBeacon()},wrapFn:function(o,a,s,u,d){var c=a[o];if("function"==typeof c){var l;"addEventListener"===o&&(l=a.removeEventListener);BOOMR.utils.overwriteNative(a,o,function(){try{var e=Array.prototype.slice.call(arguments),t=e[u],n=s?this===window?BOOMR.window:this:a,r=f.wrap(t,n,d);e[u]=r;if("addEventListener"===o){if(!f.trackFn(n,e[0],t,e[2],r))return;l&&l.apply(n,arguments)}return c.apply(n,e)}catch(i){f.send(i,d);throw i}})}},trackFn:function(e,t,n,r,i){if(!e)return!1;if(-1!==f.trackedFnIdx(e,t,n,r))return!1;e._bmrEvents||(e._bmrEvents=[]);r=!0===(r&&r.capture||r);e._bmrEvents.push([t,n,r,i]);return!0},trackedFnIdx:function(e,t,n,r){var i,o;if(e){e._bmrEvents||(e._bmrEvents=[]);r=!0===(r&&r.capture||r);for(i=0;i<e._bmrEvents.length;i++)if((o=e._bmrEvents[i])[0]===t&&o[1]===n&&o[2]===r)return i;return-1}},wrapRemoveEventListener:function(e){var i,o,t="removeEventListener",a=e[t];"function"==typeof a&&BOOMR.utils.overwriteNative(e,t,function(e,t,n){var r=this===window?BOOMR.window:this;if(-1!==(i=f.trackedFnIdx(r,e,t,n))){o=r._bmrEvents[i][3];a.call(r,e,o,n);r._bmrEvents.splice(i,1)}else a.call(r,e,t,n)})},wrap:function(t,n,r){if("function"!=typeof t)return t;r=r||BOOMR.plugins.Errors.VIA_APP;BOOMR_check_doc_domain();return function(){try{return t.apply(n,arguments)}catch(e){if(-2146823277===e.number&&(r===BOOMR.plugins.Errors.VIA_EVENTHANDLER||r===BOOMR.plugins.Errors.VIA_TIMEOUT))return;BOOMR.isUnloaded||f.send(e,r);throw e}}},test:function(){var e,t;if(0===arguments.length)return undefined;if("function"!=typeof(e=arguments[0]))return undefined;t=1<arguments.length?arguments[1]:BOOMR.window;var n=Array.prototype.slice.call(arguments,2);return f.wrap(e,t).apply(t,n)},normalizeToString:function(e){return void 0===e?"undefined":null===e?"null":"number"==typeof e&&isNaN(e)?"NaN":""===e?"(empty string)":0===e?"0":e?"function"==typeof e?"(function)":e&&"function"==typeof e.toString?e.toString():"(unknown)":"false"},compressErrors:function(e){var t,n,r,i,o,a,s,u,d,c=0;u=BOOMR.window.location.origin;for(t=0;t<e.length;t++){d={};1!==(r=e[t]).count&&(d.n=r.count);if("number"==typeof r.timestamp){c=r.timestamp;d.d=r.timestamp.toString(36)}if(r.frames.length){d.f=[];for(n=0;n<r.frames.length;n++){(i=r.frames[n]).lineNumber&&(i.lineNumber=parseInt(i.lineNumber,10));i.columnNumber&&(i.columnNumber=parseInt(i.columnNumber,10));a={l:i.lineNumber,c:i.columnNumber};"string"==typeof i.fileName&&(-1!==i.fileName.indexOf(u)?a.wo=i.fileName.replace(u,""):a.w=i.fileName);"string"==typeof i.functionName&&(a.f=i.functionName);d.f.push(a)}}if(r.events.length){d.e=[];for(n=0;n<r.events.length;n++){s={t:(o=r.events[n]).type,d:c?c-o.timestamp:o.timestamp};if(o.type===BOOMR.plugins.Errors.EVENT_CLICK){o.id&&(s.i=o.id);o.name&&(s.n=o.name);o.tagName&&(s.g=o.tagName)}else if(o.type===BOOMR.plugins.Errors.EVENT_NETWORK){o.url&&(s.u=o.url);o.method&&(s.m=o.method);o.result&&(s.r=o.result)}else if(o.type===BOOMR.plugins.Errors.EVENT_LOG){o.severity&&(s.s=o.severity);o.message&&(s.m=o.message)}d.e.push(s)}}r.source!==BOOMR.plugins.Errors.SOURCE_APP&&(d.s=r.source);"undefined"!=typeof r.via&&r.via!==BOOMR.plugins.Errors.VIA_APP&&(d.v=r.via);"undefined"!=typeof r.type&&"Error"!==r.type&&(d.t=r.type);r.code&&(d.c=r.code);r.message&&(d.m=r.message);r.extra&&(d.x=r.extra);e[t]=d}return e}};var a=BOOMR.plugins.Errors={init:function(e){var n,r;BOOMR.utils.pluginConfig(f,e,"Errors",["onError","monitorGlobal","monitorNetwork","monitorConsole","monitorEvents","monitorTimeout","monitorReporting","monitorRejections","sendAfterOnload","sendInterval","maxErrors"]);if(f.initialized)return this;e&&"undefined"!=typeof e.autorun&&(f.autorun=e.autorun);f.initialized=!0;BOOMR.subscribe("before_beacon",f.beforeBeacon,null,f);BOOMR.subscribe("beacon",f.onBeacon,null,f);BOOMR.subscribe("page_ready",f.pageReady,null,f);BOOMR.registerEvent("error");if(f.monitorGlobal)try{BOOMR.globalOnError?BOOMR.window.onerror&&!BOOMR.window.onerror._bmr&&(BOOMR.globalOnError=BOOMR.window.onerror):BOOMR.globalOnError=BOOMR.window.onerror;BOOMR.utils.overwriteNative(BOOMR.window,"onerror",function(e,t,n,r,i){void 0===i&&"object"==typeof e&&"object"==typeof e.error&&null!==e.error&&(i=e.error);null!=i?f.send(i,a.VIA_GLOBAL_EXCEPTION_HANDLER):f.send({message:e,fileName:t,lineNumber:n,columnNumber:r,noStack:!0},a.VIA_GLOBAL_EXCEPTION_HANDLER);return"function"==typeof BOOMR.globalOnError&&BOOMR.globalOnError.apply(BOOMR.window,arguments)});if(BOOMR.globalErrors){for(var i=0;i<BOOMR.globalErrors.length;i++)f.send(BOOMR.globalErrors[i],a.VIA_GLOBAL_EXCEPTION_HANDLER);delete BOOMR.globalErrors}}catch(t){}f.monitorNetwork&&BOOMR.subscribe("xhr_error",function(e){f.send({code:e.status,message:e.url,noStack:!0},a.VIA_NETWORK)});f.monitorRejections&&BOOMR.window.PromiseRejectionEvent&&BOOMR.utils.addListener(BOOMR.window,"unhandledrejection",function(e){var t,n="Unhandled Promise Rejection";if(e&&e.reason){if("string"==typeof e.reason)n=e.reason;else{"string"==typeof e.reason.stack&&(t=e.reason.stack);n="undefined"==typeof e.reason.message?f.normalizeToString(e.reason):f.normalizeToString(e.reason.message)}f.send({message:n,stack:t,noStack:!t},a.VIA_REJECTION)}},!0);if(f.monitorConsole){BOOMR.window.console||(BOOMR.window.console={});BOOMR.globalConsole=BOOMR.window.console.error;try{BOOMR.utils.overwriteNative(BOOMR.window.console,"error",function(){var e=Array.prototype.slice.call(arguments);1===e.length?f.send(f.normalizeToString(e[0]),a.VIA_CONSOLE):f.send(f.normalizeToString(e),a.VIA_CONSOLE);"function"==typeof BOOMR.globalConsole&&("function"==typeof BOOMR.globalConsole.apply?BOOMR.globalConsole.apply(this,e):BOOMR.globalConsole(e[0],e[1],e[2]))})}catch(o){}}if(f.monitorEvents)if(BOOMR.window.EventTarget){f.wrapFn("addEventListener",BOOMR.window.EventTarget.prototype,!0,1,a.VIA_EVENTHANDLER);f.wrapRemoveEventListener(BOOMR.window.EventTarget.prototype)}else{if(BOOMR.window){f.wrapFn("addEventListener",BOOMR.window,!1,1,a.VIA_EVENTHANDLER);f.wrapRemoveEventListener(BOOMR.window)}if(BOOMR.window.Node){f.wrapFn("addEventListener",BOOMR.window.Node.prototype,!0,1,a.VIA_EVENTHANDLER);f.wrapRemoveEventListener(BOOMR.window.Node.prototype)}if(BOOMR.window.XMLHttpRequest){f.wrapFn("addEventListener",BOOMR.window.XMLHttpRequest.prototype,!0,1,a.VIA_EVENTHANDLER);f.wrapRemoveEventListener(BOOMR.window.XMLHttpRequest.prototype)}}if(f.monitorTimeout){f.wrapFn("setTimeout",BOOMR.window,!1,0,a.VIA_TIMEOUT);f.wrapFn("setInterval",BOOMR.window,!1,0,a.VIA_TIMEOUT)}if(f.monitorReporting&&BOOMR.window.ReportingObserver){f.reportingObserver=new BOOMR.window.ReportingObserver(function(e,t){if(BOOMR.utils.isArray(e))for(i=0;i<e.length;i++){n=e[i];(r=n&&n.body&&(n.body.message||n.body.reason))&&f.send({message:r,fileName:n.body.sourceFile||n.url,lineNumber:n.body.lineNumber,columnNumber:n.body.columnNumber,noStack:!0},a.VIA_REPORTING_API)}},{buffered:!0});f.reportingObserver.observe()}return this},is_complete:function(){return!0},is_supported:function(){return f.initialized},SOURCE_APP:1,SOURCE_BOOMERANG:2,VIA_APP:1,VIA_GLOBAL_EXCEPTION_HANDLER:2,VIA_NETWORK:3,VIA_CONSOLE:4,VIA_EVENTHANDLER:5,VIA_TIMEOUT:6,VIA_REJECTION:7,VIA_REPORTING_API:8,EVENT_CLICK:1,EVENT_NETWORK:2,EVENT_LOG:3,send:f.send,wrap:f.wrap,test:f.test,BoomerangError:g}}function g(e){"number"==typeof(e=e||{}).count||"string"==typeof e.count?this.count=parseInt(e.count,10):this.count=1;"number"==typeof e.timestamp?this.timestamp=e.timestamp:this.timestamp=BOOMR.now();"number"!=typeof e.code&&"string"!=typeof e.code||(this.code=parseInt(e.code,10));"string"==typeof e.message&&(this.message=e.message);"string"==typeof e.functionName&&(this.functionName=e.functionName);"string"==typeof e.fileName&&(this.fileName=e.fileName);"number"!=typeof e.lineNumber&&"string"!=typeof e.lineNumber||(this.lineNumber=parseInt(e.lineNumber,10));"number"!=typeof e.columnNumber&&"string"!=typeof e.columnNumber||(this.columnNumber=parseInt(e.columnNumber,10));"string"==typeof e.stack&&(this.stack=e.stack);"string"==typeof e.type&&(this.type=e.type);"undefined"!=typeof e.extra&&(this.extra=e.extra);this.source="number"==typeof e.source||"string"==typeof e.source?parseInt(e.source,10):BOOMR.plugins.Errors.SOURCE_APP;"number"!=typeof e.via&&"string"!=typeof e.via||(this.via=parseInt(e.via,10));BOOMR.utils.isArray(e.frames)?this.frames=e.frames:this.frames=[];BOOMR.utils.isArray(e.events)?this.events=e.events:this.events=[]}}();!function(r){"use strict";var e,t;void 0!==r?t=(e=r).UserTimingCompression:e={};var f,n=f={};n.noConflict=function(){e.UserTimingCompression=t;return n};n.trimTiming=function(e,t){"number"!=typeof e&&(e=0);"number"!=typeof t&&(t=0);var n=Math.round(e),r=Math.round(t);return 0===n?0:n-r};n.toBase36=function(e){return"number"==typeof e?e.toString(36):""};n.findUserTimingForFrame=function(e){var t;if(!e)return[];try{e.location&&e.location.href;if(!("performance"in e&&e.performance&&e.performance.getEntriesByType))return t;t=(t=e.performance.getEntriesByType("mark")).concat(e.performance.getEntriesByType("measure"))}catch(n){return t}return t};n.compressUserTiming=function(e,t){var n,r,i,o=0,a={};t=t||{};if(!e||!e.length)return[];for(n=0;n<e.length;n++){"undefined"==typeof a[(r=e[n]).name]&&(a[r.name]=[]);"mark"===r.entryType?a[r.name].push({startTime:r.startTime}):"measure"===r.entryType&&a[r.name].push({startTime:r.startTime,duration:r.duration})}for(var s in a)if(a.hasOwnProperty(s)){if(t.map&&"undefined"==typeof t.map[s])continue;var u=a[s];if(t.map&&"undefined"!=typeof t.map[s]){delete a[s];s=t.map[s]}for(n=o=0;n<u.length;n++){var d=u[n];"0"===(i=f.toBase36(f.trimTiming(d.startTime,o)))&&(i="");var c=i;if("number"==typeof d.duration){var l=f.toBase36(Math.round(d.duration));c+="_";"0"!==l&&(c+=l)}o=d.startTime;u[n]=c}a[s]=f.compressArray(u)}return a};n.convertToTrie=function(e){var t,n,r,i,o,a,s,u={};if(!e)return{};for(t in e)if(e.hasOwnProperty(t)){r=e[t];i=t.split("");a=u;for(n=0;n<i.length;n++)void 0===(s=a[o=i[n]])?a=a[o]=n===i.length-1?r:{}:"string"==typeof s||"number"==typeof s?a=a[o]={"!":s}:n===i.length-1?a[o]["!"]=r:a=a[o]}return u};n.optimizeTrie=function(e,t){var n,r,i,o=0;if(!e)return{};for(n in e){if("object"==typeof e[n]&&(r=this.optimizeTrie(e[n],!1))){delete e[n];e[n+=r.name]=r.value}o++}if(1!==o)return!!t&&e;if(t){(i={})[n]=e[n];return i}return{name:n,value:e[n]}};n.compressArray=function(e){var t=0,n="";if(!e||0===e.length||e.constructor!==Array)return"";for(var r=0;r<e.length;r++){var i=e[r];if(r<e.length-1&&i===e[r+1])t++;else if(0<t){n+=(""!==n?".":"")+i+"*";2<=t&&(n+=t+1);t=0}else n+=(""!==n?".":"")+i}return/^\d+$/.test(n)?parseInt(n,10):n};n.getCompressedUserTiming=function(t){var e,n;e=(t=t||{}).window||r;n=this.findUserTimingForFrame(e);t.from&&(n=n.filter(function(e){return e.startTime+e.duration>=t.from}));t.to&&(n=n.filter(function(e){return e.startTime<=t.to}));return f.compressUserTiming(n,t)};n.compressForUri=function(e){if("object"!=typeof e)return"";var t=!1;for(var n in e)if(e.hasOwnProperty(n)){if(isNaN(n)){t=!1;break}t=!0}if(t)return"1"+f.flattenMap(e);var r=f.convertToTrie(e),i=f.optimizeTrie(r,!0),o=f.jsUrl(i),a=f.flattenArray(e);if("string"!=typeof a||0===a.length)return"";var s=encodeURIComponent(o),u=encodeURIComponent(a);return s.length<u.length?o:"0"+a};n.flattenArray=function(e){var t=[];if("object"!=typeof e)return"";for(var n in e)if(e.hasOwnProperty(n)){var r=(e[n]+"").replace("~","%7E");n=n.replace("~","%7E");t.push(n+"~"+r)}return t=t.join("~")};n.flattenMap=function(e){var t=[];if("object"!=typeof e)return"";for(var n in e)if(e.hasOwnProperty(n)){var r=parseInt(n,10),i=f.toBase36(r);if(1331<r)continue;1<i.length&&(i="-"+(1===(i=f.toBase36(r-36)).length?"0":"")+i);t.push(i+e[n])}t.sort();return t=t.join("~")};n.jsUrl=function(n){function r(e){return/[^\w-.]/.test(e)?e=e.replace(/[^\w-.]/g,function(e){return"$"===e?"!":(e=e.charCodeAt(0))<256?"*"+("00"+e.toString(16)).slice(-2):"**"+("0000"+e.toString(16)).slice(-4)}):e}switch(typeof n){case"number":return isFinite(n)?"~"+n:"~null";case"string":return"~'"+r(n);case"boolean":return"~"+n;case"object":return n?Array.isArray(n)?"~("+(n.map(function(e){return f.jsUrl(e)||"~null"}).join("")||"~")+")":"~("+Object.keys(n).map(function(e){var t=f.jsUrl(n[e]);return t&&r(e)+t}).filter(function(e){return e}).sort().join("~")+")":"~null";default:return undefined}};void 0!==e&&(e.UserTimingCompression=n)}("undefined"!=typeof window?window:undefined);!function(){if(!BOOMR.plugins.UserTiming){var s={complete:!1,initialized:!1,supported:!1,options:{from:0,window:BOOMR.window},getUserTiming:function(){var e=this.findUserTimingForFrame(s.options.window);s.options.from&&(e=e.filter(function(e){return e.startTime+e.duration>=s.options.from}));var t,n=window.UserTimingCompression||BOOMR.window.UserTimingCompression;if(void 0===n){if(0===e.length)return null;for(var r={},i=0,o=e.length;i<o;i++){var a=e[i];r[a.entryType]=r[a.entryType]||{};"mark"===a.entryType?r[a.entryType][a.name]=a.startTime:"measure"===a.entryType&&(r[a.entryType][a.name]=a.duration)}return JSON.stringify(r)}t=n.compressUserTiming(e);return n.compressForUri(t)},addEntriesToBeacon:function(){var e,t=BOOMR.hrNow();if(!this.complete){BOOMR.removeVar("usertiming");(e=this.getUserTiming())&&BOOMR.addVar({usertiming:e});this.options.from=t;this.complete=!0}},findUserTimingForFrame:function(e){var t;if(!e)return[];try{e.location&&e.location.href;if(!("performance"in e&&e.performance&&e.performance.getEntriesByType))return t;t=(t=e.performance.getEntriesByType("mark")).concat(e.performance.getEntriesByType("measure"))}catch(n){return t}return t},clearMetrics:function(e){e.hasOwnProperty("usertiming")&&BOOMR.removeVar("usertiming");this.complete=!1},subscribe:function(){BOOMR.subscribe("before_beacon",this.addEntriesToBeacon,null,this);BOOMR.subscribe("beacon",this.clearMetrics,null,this)},pageReady:function(){this.checkSupport()&&this.subscribe()},checkSupport:function(){if(this.supported)return!0;var e=BOOMR.getPerformance();if(e&&"function"==typeof e.getEntriesByType){var t=e.getEntriesByType("mark"),n=e.getEntriesByType("measure");if(BOOMR.utils.isArray(t)&&BOOMR.utils.isArray(n)){BOOMR.info("Client supports UserTiming API","usertiming");return this.supported=!0}}return!1}};BOOMR.plugins.UserTiming={init:function(e){if(s.initialized)return this;s.checkSupport()?s.subscribe():BOOMR.subscribe("page_ready",s.pageReady,null,s);s.initialized=!0;return this},is_complete:function(){return!0},is_supported:function(){return s.initialized&&s.supported}}}}();!function(){function r(e,t,n){var r=e.shift();if("string"==typeof r){var i=r.split("."),o=BOOMR,a=BOOMR;"BOOMR"===i[0]&&i.shift();for(;i.length&&o&&("object"==typeof o||"function"==typeof o);){var s=i.shift();o=o[s];i.length&&(a=a[s])}if(!i.length&&"function"==typeof o){var u=o.apply(a,e);"function"==typeof t&&t.call(n,u)}}}function e(e){for(var t=0;t<e.length;t++){var n=e[t];n&&(BOOMR.utils.isArray(n)?r(n):"object"==typeof n&&BOOMR.utils.isArray(n.arguments)&&r(n.arguments,n.callback,n.thisArg))}}var t=BOOMR.window.BOOMR_mq;BOOMR.utils.isArray(t)&&e(t);BOOMR.window.BOOMR_mq={push:function(){e(arguments)}}}();BOOMR.init({beacon_url:"https://boom.pubocean.com/beacon",Continuity:{enabled:!0,monitorLongTasks:!0,monitorPageBusy:!0,monitorFrameRate:!0,monitorInteractions:!0,monitorStats:!0,ttiWaitForFrameworkReady:!0},Errors:{enabled:!0,sendAfterOnload:!0,sendInterval:1e4},History:{enabled:!0,auto:!0},RT:{enabled:!0,cookie_exp:1800}});BOOMR.t_end=(new Date).getTime();
        !function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("abba",[],t):"object"==typeof exports?exports.abba=t():e.abba=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.run=function(e){var t=e.visitor,n=e.experimentUrl,i=e.defaultExperimentToParse,a=e.additionalExperimentsToParse,u=void 0===a?[]:a,c=e.onvariant,s=void 0===c?r.default.resolve:c,f=e.branchResources,l=e.timeout,h=void 0===l?45:l,p=o.Experiment.unmarshall(i),v=u.map(o.Experiment.unmarshall);return o.ABBA.run({visitor:t,defaultExperiment:p,additionalExperiments:v,experimentUrl:n,onvariant:s,branchResources:f,timeout:h})};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2));n(4);var o=n(5);r.default.polyfill()},function(e,t,n){(function(t,n){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,i=void 0,a=void 0,u=function(e,t){v[o]=e,v[o+1]=t,2===(o+=2)&&(a?a(d):m())};var c="undefined"!=typeof window?window:void 0,s=c||{},f=s.MutationObserver||s.WebKitMutationObserver,l="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(d,1)}}var v=new Array(1e3);function d(){for(var e=0;e<o;e+=2){(0,v[e])(v[e+1]),v[e]=void 0,v[e+1]=void 0}o=0}var m=void 0;function g(e,t){var n=this,r=new this.constructor(w);void 0===r[b]&&R(r);var o=n._state;if(o){var i=arguments[o-1];u(function(){return k(o,r,i,n._result)})}else C(n,r,e,t);return r}function y(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(w);return S(t,e),t}m=l?function(){return t.nextTick(d)}:f?function(){var e=0,t=new f(d),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():h?function(){var e=new MessageChannel;return e.port1.onmessage=d,function(){return e.port2.postMessage(0)}}():void 0===c?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(d)}:p()}catch(e){return p()}}():p();var b=Math.random().toString(36).substring(2);function w(){}var _=void 0,x=1,A=2;function E(t,n,r){n.constructor===t.constructor&&r===g&&n.constructor.resolve===y?function(e,t){t._state===x?T(e,t._result):t._state===A?O(e,t._result):C(t,void 0,function(t){return S(e,t)},function(t){return O(e,t)})}(t,n):void 0===r?T(t,n):e(r)?function(e,t,n){u(function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,function(n){r||(r=!0,t!==n?S(e,n):T(e,n))},function(t){r||(r=!0,O(e,t))},e._label);!r&&o&&(r=!0,O(e,o))},e)}(t,n,r):T(t,n)}function S(e,t){if(e===t)O(e,new TypeError("You cannot resolve a promise with itself"));else if(function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}(t)){var n=void 0;try{n=t.then}catch(t){return void O(e,t)}E(e,t,n)}else T(e,t)}function P(e){e._onerror&&e._onerror(e._result),j(e)}function T(e,t){e._state===_&&(e._result=t,e._state=x,0!==e._subscribers.length&&u(j,e))}function O(e,t){e._state===_&&(e._state=A,e._result=t,u(P,e))}function C(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+x]=n,o[i+A]=r,0===i&&e._state&&u(j,e)}function j(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?k(n,r,o,i):o(i);e._subscribers.length=0}}function k(t,n,r,o){var i=e(r),a=void 0,u=void 0,c=!0;if(i){try{a=r(o)}catch(e){c=!1,u=e}if(n===a)return void O(n,new TypeError("A promises callback cannot return that same promise."))}else a=o;n._state!==_||(i&&c?S(n,a):!1===c?O(n,u):t===x?T(n,a):t===A&&O(n,a))}var B=0;function R(e){e[b]=B++,e._state=void 0,e._result=void 0,e._subscribers=[]}var L=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(w),this.promise[b]||R(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&T(this.promise,this._result))):O(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===_&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===y){var o=void 0,i=void 0,a=!1;try{o=e.then}catch(e){a=!0,i=e}if(o===g&&e._state!==_)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===U){var u=new n(w);a?O(u,i):E(u,e,o),this._willSettleAt(u,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===_&&(this._remaining--,e===A?O(r,n):this._result[t]=n),0===this._remaining&&T(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;C(e,void 0,function(e){return n._settledAt(x,t,e)},function(e){return n._settledAt(A,t,e)})},e}();var U=function(){function t(e){this[b]=B++,this._result=this._state=void 0,this._subscribers=[],w!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t(function(t){S(e,t)},function(t){O(e,t)})}catch(t){O(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return U.prototype.then=g,U.all=function(e){return new L(this,e).promise},U.race=function(e){var t=this;return r(e)?new t(function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},U.resolve=y,U.reject=function(e){var t=new this(w);return O(t,e),t},U._setScheduler=function(e){a=e},U._setAsap=function(e){u=e},U._asap=u,U.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=U},U.Promise=U,U})}).call(this,n(3),n(0))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,s=[],f=!1,l=-1;function h(){f&&c&&(f=!1,c.length?s=c.concat(s):l=-1,s.length&&p())}function p(){if(!f){var e=u(h);f=!0;for(var t=s.length;t;){for(c=s,s=[];++l<t;)c&&c[l].run();l=-1,t=s.length}c=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function d(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new v(e,t)),1!==s.length||f||u(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=d,o.addListener=d,o.once=d,o.off=d,o.removeListener=d,o.removeAllListeners=d,o.emit=d,o.prependListener=d,o.prependOnceListener=d,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){(function(e){!function(e){"use strict";var t=e.URLSearchParams&&e.URLSearchParams.prototype.get?e.URLSearchParams:null,n=t&&"a=1"===new t({a:1}).toString(),r=t&&"+"===new t("s=%2B").get("s"),o="__URLSearchParams__",i=!t||function(){var e=new t;return e.append("s"," &"),"s=+%26"===e.toString()}(),a=f.prototype,u=!(!e.Symbol||!e.Symbol.iterator);if(!(t&&n&&r&&i)){a.append=function(e,t){d(this[o],e,t)},a.delete=function(e){delete this[o][e]},a.get=function(e){var t=this[o];return e in t?t[e][0]:null},a.getAll=function(e){var t=this[o];return e in t?t[e].slice(0):[]},a.has=function(e){return e in this[o]},a.set=function(e,t){this[o][e]=[""+t]},a.toString=function(){var e,t,n,r,i=this[o],a=[];for(t in i)for(n=l(t),e=0,r=i[t];e<r.length;e++)a.push(n+"="+l(r[e]));return a.join("&")};var c=!!r&&t&&!n&&e.Proxy;Object.defineProperty(e,"URLSearchParams",{value:c?new Proxy(t,{construct:function(e,t){return new e(new f(t[0]).toString())}}):f});var s=e.URLSearchParams.prototype;s.polyfill=!0,s.forEach=s.forEach||function(e,t){var n=v(this.toString());Object.getOwnPropertyNames(n).forEach(function(r){n[r].forEach(function(n){e.call(t,n,r,this)},this)},this)},s.sort=s.sort||function(){var e,t,n,r=v(this.toString()),o=[];for(e in r)o.push(e);for(o.sort(),t=0;t<o.length;t++)this.delete(o[t]);for(t=0;t<o.length;t++){var i=o[t],a=r[i];for(n=0;n<a.length;n++)this.append(i,a[n])}},s.keys=s.keys||function(){var e=[];return this.forEach(function(t,n){e.push(n)}),p(e)},s.values=s.values||function(){var e=[];return this.forEach(function(t){e.push(t)}),p(e)},s.entries=s.entries||function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),p(e)},u&&(s[e.Symbol.iterator]=s[e.Symbol.iterator]||s.entries)}function f(e){((e=e||"")instanceof URLSearchParams||e instanceof f)&&(e=e.toString()),this[o]=v(e)}function l(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g,function(e){return t[e]})}function h(e){return e.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/gi,function(e){return decodeURIComponent(e)})}function p(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return u&&(n[e.Symbol.iterator]=function(){return n}),n}function v(e){var t={};if("object"==typeof e)if(m(e))for(var n=0;n<e.length;n++){var r=e[n];if(!m(r)||2!==r.length)throw new TypeError("Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements");d(t,r[0],r[1])}else for(var o in e)e.hasOwnProperty(o)&&d(t,o,e[o]);else{0===e.indexOf("?")&&(e=e.slice(1));for(var i=e.split("&"),a=0;a<i.length;a++){var u=i[a],c=u.indexOf("=");-1<c?d(t,h(u.slice(0,c)),h(u.slice(c+1))):u&&d(t,h(u),"")}}return t}function d(e,t,n){var r="string"==typeof n?n:null!==n&&void 0!==n&&"function"==typeof n.toString?n.toString():JSON.stringify(n);t in e?e[t].push(r):e[t]=[r]}function m(e){return!!e&&"[object Array]"===Object.prototype.toString.call(e)}}(void 0!==e?e:"undefined"!=typeof window?window:this)}).call(this,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ABBA=t.ABBARunner=t.Experiment=t.ParamBasedActivation=t.AutoActivation=t.Activation=t.Variant=void 0;var r=n(6),o=n(7),i=n(8);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function f(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var v=function(e){try{return Promise.resolve(e())}catch(e){return Promise.reject(e)}},d=function e(t){var n=t.name,r=t.resources,o=t.buckets,i=t.meta;if(p(this,e),!n)throw new Error("Cannot create Variant, name is required.");if(!r||0===r.length)throw new Error("Cannot create Variant, resources are required.");if(!Array.isArray(o))throw new Error("Cannot create variant, buckets must be an array.");this.name=n,this.resources=r,this.buckets=o,this.meta=i};t.Variant=d;var m=function e(t){p(this,e),this.type=t};t.Activation=m;var g=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"auto"))}return l(t,m),t}();t.AutoActivation=g;var y=function(e){function t(e){var n,r=e.paramName,o=e.paramValueRegexp;return p(this,t),(n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"param"))).paramName=r,n.paramValueRegexp=o,n}return l(t,m),t}();t.ParamBasedActivation=y;var b=function e(t){var n=t.id,r=t.name,o=t.randomizationType,i=t.version,a=t.numberOfBuckets,u=t.variants,c=t.activation,s=void 0===c?new g:c;if(p(this,e),!n)throw new Error("Cannot create Experiment, id is required.");if(!r)throw new Error("Cannot create Experiment, name is requried.");if(!o||"session_id"!==o&&"visitor_id"!==o)throw new Error("Cannot create Experiment, randomizationType is required and must be equal to session_id nor visitor_id");if(!a)throw new Error("Cannot create Experiment, numberOfBuckets is required.");if(!Array.isArray(u))throw new Error("Cannot create Experiment, variants must be an array.");if(0===u.length)throw new Error("Cannot create Experiment, there must be at least one variant.");if(u.length>a)throw new Error("Cannot create Experiment, number of buckets must be greater or equal to number of variants.");e:for(var f=0;f<a;f++){for(var l=0;l<u.length;l++){if(-1!==u[l].buckets.indexOf(f))continue e}throw new Error("Cannot create Experiment, cannot find variant for bucket ".concat(f,"."))}this.id=n,this.name=r,this.randomizationType=o,this.version=i,this.numberOfBuckets=a,this.variants=u,this.activation=s};t.Experiment=b,b.unmarshall=function(e){switch(e.variants=e.variants.map(function(e){return new d(e)}),e.activation&&e.activation.type){case"auto":e.activation=new g;break;case"param":e.activation=new y(e.activation);break;default:console.log("ConfigurationProvider","fetchConfig","no activation provided, using auto"),e.activation=new g}return new b(e)};var w=function(){function e(){p(this,e)}return s(e,[{key:"fetchConfig",value:function(e,t,n){var o=n.readFromCache,i=n.writeToCache,a=n.cacheTTL;console.log("ConfigurationProvider","fetchConfig",e,t);var u=function(e){return v(function(){return JSON.parse(e)})},c=function(e){return v(function(){return Array.isArray(e)?e.map(b.unmarshall):[b.unmarshall(e)]})},s=function(e){return i(JSON.stringify(new function e(t,n){p(this,e),this.experiments=t,this.fetchedAt=n}(e,(new Date).getTime())))};return(0,r.promiseTimeout)(t,new Promise(function(t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){var r=this;4===this.readyState&&(200===this.status?function(e){return u(e).then(c)}(this.responseText).then(function(e){t(e),s(e)},function(e){return n(new Error("Failed to parse ".concat(r.responseText,": ").concat(e)))}):n(new Error("Failed to fetch from ".concat(e,": ").concat(this.statusText))))},r.open("GET",e,!0),r.send()})).catch(function(e){return console.log("ConfigurationProvider","handling error",e),e instanceof r.TimeoutError?(console.log("ConfigurationProvider","fetchConfig","trying to read from cache..."),u(o()).then(function(t){return null===t||!t.fetchedAt||(new Date).getTime()-t.fetchedAt>a?(console.log("ConfigurationProvider","fetchConfig","skipping empty or old config from cache"),Promise.reject(e)):(console.log("ConfigurationProvider","fetchConfig","using cached value"),c(t.experiments))},function(t){return console.log("ConfigurationProvider","fetchConfig","failed to read from cache",t),Promise.reject(e)})):Promise.reject(e)})}}]),e}(),_=function(){function e(){p(this,e)}return s(e,[{key:"resolveExperiments",value:function(e,t,n){var r=this;return function(i){var a=r._pickExperiment(i,t);if(!a)return Promise.reject(new Error("Cannot pick experiment from  ".concat(i," using ").concat(t,".")));var u=new URLSearchParams(e.location.search),c=u.get("abba_variant"),s=u.get("abba_branch"),f=u.getAll("abba_resource[]"),l=r._getOrSetId(e,a.randomizationType),h=Math.abs((0,o.md51)(a.id+l)[0])%a.numberOfBuckets,p=function(t){var n={experiment:a,selectedVariant:t};return e.__ABBA_LOAD_DETAILS=n,window.context&&(window.context.__ABBA_LOAD_DETAILS=n),Promise.resolve(t)},v=1===(e.location.hostname.match(/\./g)||[]).length;if(console.log("ExperimentResolver","resolveExperiment",{experiment:a,bucket:h,forcedVariant:c,forcedResources:f,isTopLevelDomain:v}),f&&f.length>0&&!v){var m=new d({name:"Forced Resources Variant",resources:f,buckets:[0]});return console.log("ExperimentResolver","resolveExperiment","loading forced resources:",m),p(m)}if(s){var g=new d({name:"Forced Branch Variant: ".concat(s),resources:n(s),buckets:[0]});return console.log("ExperimentResolver","resolveExperiment","loading forced branch:",g,s),p(g)}for(var y=0;y<a.variants.length;y++){var b=a.variants[y];if(c&&b.name===c)return console.log("ExperimentResolver","resolveExperiment","loading forced variant:",b),p(b);if(!c&&-1!==b.buckets.indexOf(h))return console.log("ExperimentResolver","resolveExperiment","loading variant:",b),p(b)}return Promise.reject(new Error("Cannot find variant matching ".concat(h," or forced variant: ").concat(c)))}}},{key:"_getOrSetId",value:function(e,t){var n=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})};switch(t){case"session_id":var r="abba_session_id",o=e.sessionStorage.getItem(r)||n();return e.sessionStorage.setItem(r,o),o;case"visitor_id":var i="abba_visitor_id",a=e.localStorage.getItem(i)||n();return e.localStorage.setItem(i,a),a;default:throw new Error("Randomization type: ".concat(t," not supported."))}}},{key:"_pickExperiment",value:function(e,t){console.log("ExperimentResolver","_pickExperiment",e,t);for(var n=0;n<e.length;n++){var r=e[n];if(r.activation instanceof g)return console.log("ExperimentResolver","_pickExperiment","match by auto-activation",r),r;if(r.activation instanceof y){var o=r.activation.paramName;if(new RegExp(r.activation.paramValueRegexp).test(t.get(o)))return console.log("ExperimentResolver","_pickExperiment","match by param",r),r}}return null}}]),e}(),x=function(){function e(){p(this,e)}return s(e,[{key:"loadApplicationResources",value:function(e){console.log("ApplicationLoader","loadApplicationResources",e);var t=this;e.forEach(function(e){"js"===(0,i.urlExt)(e)?t._loadScript(e):"css"===(0,i.urlExt)(e)?t._loadCss(e):console.log("ApplicationLoader","loadApplicationResources","do not know how to handle",e)})}},{key:"_loadCss",value:function(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.head.appendChild(t)}},{key:"_loadScript",value:function(e){var t=document.createElement("script");t.src=e,document.head.appendChild(t)}}]),e}(),A=function(){function e(){p(this,e)}return s(e,[{key:"update",value:function(e,t,n){var r=(new Date).getTime(),o={lastUpdate:r,search:e.location.search,generation:0},i=JSON.parse(t())||o;r-i.lastUpdate>18e5?(console.log("SessionProvider","update","using new session",i.lastUpdate,r),i=o):i.lastUpdate=r,i.generation+=1,n(JSON.stringify(i)),console.log("SessionProvider","update",i)}},{key:"landingPageParams",value:function(e){return new URLSearchParams((JSON.parse(e())||{}).search)}}]),e}(),E=function(){function e(t){var n=t.configurationProvider,r=void 0===n?new w:n,o=t.experimentResolver,i=void 0===o?new _:o,a=t.applicationLoader,u=void 0===a?new x:a,c=t.sessionProvider,s=void 0===c?new A:c;p(this,e),this.configurationProvider=r,this.experimentResolver=i,this.applicationLoader=u,this.sessionProvider=s}return s(e,[{key:"run",value:function(e){var t=e.visitor,n=e.defaultExperiment,r=e.additionalExperiments,o=e.experimentUrl,i=e.onvariant,a=e.branchResources,c=e.timeout,s=void 0===c?30:c,f=e.cacheTTL,l=void 0===f?18e5:f;console.log("ABBA",n,o,s,l);var h=this,p=function(){return t.localStorage.getItem("ABBA_SESSION")};h._prepareSession(t,p,function(e){return t.localStorage.setItem("ABBA_SESSION",e)});var v,d=new URLSearchParams(t.location.search).get("abba_variant")?3e3:s,m=h.configurationProvider.fetchConfig,g=h.sessionProvider.landingPageParams(p),y=h.experimentResolver.resolveExperiments(t,g,a),b=function(){return y([].concat(u(r),[n]))};return o?v=m(o,d,{readFromCache:function(){return t.localStorage.getItem("ABBA_LAST_CONFIG")},writeToCache:function(e){return t.localStorage.setItem("ABBA_LAST_CONFIG",e)},cacheTTL:l}).then(function(e){return console.log("ABBA","run",e),y([].concat(u(r),u(e),[n]))},function(e){return console.log("ABBA","run",e),b()}):(console.log("ABBA","run","using default as no experiment url provided"),v=b()),v.then(function(e){return console.log("ABBA","pass through",e),function(e){return function(t){return Promise.resolve(e.call(e,t)).then(function(){return t})}}(i)(e)}).then(function(e){return e.resources},function(e){return console.log("ABBA","handling error and failing over to default",e),n.variants[0].resources}).then(function(e){return h.applicationLoader.loadApplicationResources(e)}),v}},{key:"_prepareSession",value:function(e,t,n){var r=this;!function(e){var t=e.pushState;e.pushState=function(n){return"function"==typeof e.abbaOnChange&&e.abbaOnChange({state:n}),t.apply(e,arguments)};var n=e.replaceState;e.replaceState=function(t){return"function"==typeof e.abbaOnChange&&e.abbaOnChange({state:t}),n.apply(e,arguments)}}(e.history);var o=function(){return r.sessionProvider.update(e,t,n)};e.history.abbaOnChange=o,o()}}]),e}();t.ABBARunner=E;var S=new E({});t.ABBA=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promiseTimeout=t.TimeoutError=void 0;var r=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ms=t};t.TimeoutError=r;t.promiseTimeout=function(e,t){var n=new Promise(function(t,n){var o=setTimeout(function(){clearTimeout(o),n(new r(e))},e)});return Promise.race([t,n])}},function(e,t,n){"use strict";function r(e,t){var n=e[0],r=e[1],o=e[2],s=e[3];r=c(r=c(r=c(r=c(r=u(r=u(r=u(r=u(r=a(r=a(r=a(r=a(r=i(r=i(r=i(r=i(r,o=i(o,s=i(s,n=i(n,r,o,s,t[0],7,-680876936),r,o,t[1],12,-389564586),n,r,t[2],17,606105819),s,n,t[3],22,-1044525330),o=i(o,s=i(s,n=i(n,r,o,s,t[4],7,-176418897),r,o,t[5],12,1200080426),n,r,t[6],17,-1473231341),s,n,t[7],22,-45705983),o=i(o,s=i(s,n=i(n,r,o,s,t[8],7,1770035416),r,o,t[9],12,-1958414417),n,r,t[10],17,-42063),s,n,t[11],22,-1990404162),o=i(o,s=i(s,n=i(n,r,o,s,t[12],7,1804603682),r,o,t[13],12,-40341101),n,r,t[14],17,-1502002290),s,n,t[15],22,1236535329),o=a(o,s=a(s,n=a(n,r,o,s,t[1],5,-165796510),r,o,t[6],9,-1069501632),n,r,t[11],14,643717713),s,n,t[0],20,-373897302),o=a(o,s=a(s,n=a(n,r,o,s,t[5],5,-701558691),r,o,t[10],9,38016083),n,r,t[15],14,-660478335),s,n,t[4],20,-405537848),o=a(o,s=a(s,n=a(n,r,o,s,t[9],5,568446438),r,o,t[14],9,-1019803690),n,r,t[3],14,-187363961),s,n,t[8],20,1163531501),o=a(o,s=a(s,n=a(n,r,o,s,t[13],5,-1444681467),r,o,t[2],9,-51403784),n,r,t[7],14,1735328473),s,n,t[12],20,-1926607734),o=u(o,s=u(s,n=u(n,r,o,s,t[5],4,-378558),r,o,t[8],11,-2022574463),n,r,t[11],16,1839030562),s,n,t[14],23,-35309556),o=u(o,s=u(s,n=u(n,r,o,s,t[1],4,-1530992060),r,o,t[4],11,1272893353),n,r,t[7],16,-155497632),s,n,t[10],23,-1094730640),o=u(o,s=u(s,n=u(n,r,o,s,t[13],4,681279174),r,o,t[0],11,-358537222),n,r,t[3],16,-722521979),s,n,t[6],23,76029189),o=u(o,s=u(s,n=u(n,r,o,s,t[9],4,-640364487),r,o,t[12],11,-421815835),n,r,t[15],16,530742520),s,n,t[2],23,-995338651),o=c(o,s=c(s,n=c(n,r,o,s,t[0],6,-198630844),r,o,t[7],10,1126891415),n,r,t[14],15,-1416354905),s,n,t[5],21,-57434055),o=c(o,s=c(s,n=c(n,r,o,s,t[12],6,1700485571),r,o,t[3],10,-1894986606),n,r,t[10],15,-1051523),s,n,t[1],21,-2054922799),o=c(o,s=c(s,n=c(n,r,o,s,t[8],6,1873313359),r,o,t[15],10,-30611744),n,r,t[6],15,-1560198380),s,n,t[13],21,1309151649),o=c(o,s=c(s,n=c(n,r,o,s,t[4],6,-145523070),r,o,t[11],10,-1120210379),n,r,t[2],15,718787259),s,n,t[9],21,-343485551),e[0]=v(n,e[0]),e[1]=v(r,e[1]),e[2]=v(o,e[2]),e[3]=v(s,e[3])}function o(e,t,n,r,o,i){return v((t=v(v(t,e),v(r,i)))<<o|t>>>32-o,n)}function i(e,t,n,r,i,a,u){return o(t&n|~t&r,e,t,i,a,u)}function a(e,t,n,r,i,a,u){return o(t&r|n&~r,e,t,i,a,u)}function u(e,t,n,r,i,a,u){return o(t^n^r,e,t,i,a,u)}function c(e,t,n,r,i,a,u){return o(n^(t|~r),e,t,i,a,u)}function s(e){var t,n=e.length,o=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)r(o,f(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(r(o,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,r(o,i),o}function f(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.md51=s,t.md5=p;var l="0123456789abcdef".split("");function h(e){for(var t="",n=0;n<4;n++)t+=l[e>>8*n+4&15]+l[e>>8*n&15];return t}function p(e){return function(e){for(var t=0;t<e.length;t++)e[t]=h(e[t]);return e.join("")}(s(e))}function v(e,t){return e+t&4294967295}if("5d41402abc4b2a76b9719d911017c592"!=p("hello"));},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.urlExt=void 0;t.urlExt=function(e){var t=e.match(/\.(\w+)($|\?)/);return t.length>0?t[1]:null}}])});    </script>
    <script>
        (function() {
         "use strict";
          var cacheBuster = new Date().getTime();
          var defaultExperimentResourcesRoot = 'https://maternityweek.com/assets/apps/master/maternityweek';
          var defaultResources = [
              defaultExperimentResourcesRoot + "/generated-app.js?cb=" + cacheBuster,
              defaultExperimentResourcesRoot + "/generated-app.css?cb=" + cacheBuster
          ];

          var defaultExperimentToParse = {
            id: -1,
            name: 'Failover Experiment',
            randomizationType: 'session_id',
            version: 0,
            numberOfBuckets: 2,
            variants: [
              {name: 'FAILOVER-1', resources: defaultResources, buckets: [0]},
              {name: 'FAILOVER-2', resources: defaultResources, buckets: [1]}
            ]
          };

          var branchResources = function(b) {
              return defaultResources.map(function(r) { return r.replace(/\/(develop|master)\//, "/" + b + "/"); });
          };

          var additionalExperimentsToParse = [];
          var onvariant = function(v) { return Promise.resolve(v); };

          if(testContexts.length > 0) {
            var allContexts = testContexts.slice();
            allContexts.push(window.context);
            var allContextVariants = allContexts.map(function(ctx, idx) {
              return {
                "name": "CONTENT-" + ctx.rev,
                "resources": defaultResources,
                "buckets": [ idx ],
                "meta": {exp: -2, ctxIndex: idx}
              };
            });
            additionalExperimentsToParse.push({
              id: -2,
              name: 'Content Experiment',
              randomizationType: 'visitor_id',
              version: 0,
              numberOfBuckets: allContextVariants.length,
              variants: allContextVariants
            });

            onvariant = function(v) {
              if (v.meta.exp === -2) {
                console.log("Handling variant, replacing context, using", v.meta.ctxIndex);
                window.context = allContexts[v.meta.ctxIndex];
              }
              window.context.__ABBA_LOAD_DETAILS = window.__ABBA_LOAD_DETAILS;
              return Promise.resolve(v);
            }
          }

          abba.run({
            visitor: window,
            experimentUrl: 'https://maternityweek.com/assets/experiments/experiment-maternityweek.com.json',
            defaultExperimentToParse: defaultExperimentToParse,
            additionalExperimentsToParse: additionalExperimentsToParse,
            timeout: 90,
            branchResources: branchResources,
            onvariant: onvariant
          });
        })();
    </script>
<script src="https://maternityweek.com/assets/apps/master/maternityweek/generated-app.js?cb=1580397521392"></script><link rel="stylesheet" href="https://maternityweek.com/assets/apps/master/maternityweek/generated-app.css?cb=1580397521392"></head>
<body class="page not-multipage base_layout default breakpoint-undefined">
        <div id="root"><div class="App"><div id="page" class="hfeed site"><header id="masthead" class="site-header visible" role="banner"><div class="header-inner-wrapper"><div class="site-branding"><span class="site-title"><a href="//maternityweek.com" class="link-title" rel="home"><img src="/images/logo.png" alt="Maternityweek Logo"></a></span></div><nav id="site-navigation" class="main-navigation"><button class="menu-toggle"><span></span></button><div class="menu-main-menu-container"><ul id="menu-main-menu" class="menu nav-menu"><li class="menu-item menu-item-type-taxonomy menu-item-object-category"><a href="//maternityweek.com/category/lifestyle/families-and-parenting">Families and Parenting</a></li></ul></div></nav></div></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main" role="main"><header class="entry-header"><h1 class="entry-title">Privacy policy</h1> </header><div class="entry-content"><div class="the-content"><p>We are committed to safeguarding the privacy of visitors to the Maternity Week&nbsp;website (the “Site”); this policy sets out how we will treat your personal information.</p>
<p>If you are younger than 18, please ensure that your parent or guardian has read this privacy policy and is happy for you to accept it. Your registration for the Site is conditional on your parent or guardian’s consent to this privacy policy.</p>
<p><strong>1. What information do we collect?</strong></p>
<p>We may collect, store and use the following kinds of personal information:</p>
<p>(a) information about your computer and about your visits to and use of the Site (including your IP address, geographical location, browser type and version, operating system, referral source, length of visit, page views, Site navigation) in order to give you better recommendations;</p>
<p>(b) information that you may provide to us for the purpose of registering with us;</p>
<p>(c) information that you provide to us for the purpose of subscribing to the Site services and email notifications;</p>
<p>(d) information contained in any email messages sent using our message service;</p>
<p>(e) any other information that you choose to send to us.</p>
<p><strong>2. Cookies</strong></p>
<p>A cookie consists of information sent by a web server to a web browser, and stored by the browser. The information is then sent back to the server each time the browser requests a page from the server. This enables the web server to identify and track the web browser.</p>
<p>We may use both “session” cookies and “persistent” cookies on the Site for the purpose of creating better recommendations. We will use the session cookies to keep track of you whilst you navigate the Site. We will use the persistent cookies to enable the Site to recognise you when you visit.</p>
<p>Session cookies will be deleted from your computer when you close your browser. Persistent cookies may remain stored on your computer until deleted, or until they reach a specified expiry date. We use these persistent cookies to better serve you with the kinds of content that we feel may be of interest to you.</p>
<p>We use Google Analytics to analyse the use of the Site. Google Analytics generates statistical and other information about the Site use by means of cookies, which are stored on users’ computers. The information generated relating to the Site is used to create reports about the use of the Site. Google will store this information. Google’s privacy policy is available at: <a title="http://www.google.com/privacypolicy.html" href="https://www.google.com/privacypolicy.html" target="_blank" rel="noopener noreferrer">http://www.google.com/privacypolicy.html</a>.</p>
<p>We use third-party advertising companies to serve ads and collect information when users visit our site. These companies may use information (not including your name, address, email address or telephone number) about your visits to this and other websites in order to provide advertisements on our site, other websites and other forms of media about goods and services of interest to you. If you would like more information about this practice and to know your choices about not having this information used by these companies, check out <a href="https://www.networkadvertising.org/managing/opt_out.asp" target="_blank" rel="noopener noreferrer">http://www.networkadvertising.org/managing/opt_out.asp</a>.</p>
<p>Most browsers allow you to reject all cookies, whilst some browsers allow you to reject just third party cookies. For example, in Internet Explorer you can refuse all cookies by clicking “Tools”, “Internet Options”, “Privacy”, and selecting “Block all cookies” using the sliding selector. Blocking all cookies will, however, have a negative impact upon the usability of many websites, including this one.</p>
<p><strong>3. Using your personal information</strong></p>
<p>Personal information submitted to us via the Site will be used for the purposes specified in this privacy policy or in relevant parts of the Site.</p>
<p>We may use your personal information to:</p>
<p>(a) administer the Site;</p>
<p>(b) improve your browsing experience by personalizing the Site;</p>
<p>(c) enable your use of the services available on the Site;</p>
<p>(d) send you general (non-marketing) commercial communications;</p>
<p>(e) send you email notifications which you have specifically requested;</p>
<p>(f) provide third parties with statistical information about our users – but this information will not be used to identify any individual user;</p>
<p>(g) deal with enquiries and complaints made by or about you relating to the Site.</p>
<p>Where you submit personal information for publication on the Site, we will publish and otherwise use that information in accordance with the license you grant to us.</p>
<p>We will not without your express consent provide your personal information to any third parties for the purpose of direct marketing.</p>
<p><strong>4. Disclosures</strong></p>
<p>We may disclose information about you to any of our employees, officers, agents, suppliers or subcontractors insofar as reasonably necessary for the purposes as set out in this privacy policy.</p>
<p>In addition, we may disclose your personal information:</p>
<p>(a) to the extent that we are required to do so by law;</p>
<p>(b) in connection with any legal proceedings or prospective legal proceedings;</p>
<p>(c) in order to establish, exercise or defend our legal rights (including providing information to others for the purposes of fraud prevention and reducing credit risk); and</p>
<p>(d) to any person who we reasonably believe may apply to a court or other competent authority for disclosure of that personal information where, in our reasonable opinion, such court or authority would be reasonably likely to order disclosure of that personal information.</p>
<p>Except as provided in this privacy policy, we will not provide your information to third parties.</p>
<p><strong>5. International data transfers</strong></p>
<p>Information that we collect may be stored and processed in and transferred between any of the countries in which we operate in order to enable us to use the information in accordance with this privacy policy.</p>
<p>Information which you provide may be transferred to countries which do not have data protection laws equivalent to those in force in the European Economic Area.</p>
<p>In addition, personal information that you submit for publication on the Site will be published on the internet and may be available, via the internet, around the world. We cannot prevent the use or misuse of such information by others.</p>
<p>You expressly agree to such transfers of personal information.</p>
<p><strong>6. Security of your personal information</strong></p>
<p>We will take reasonable technical and organisational precautions to prevent the loss, misuse or alteration of your personal information.</p>
<p>We will store all the personal information you provide on our secure (password- and firewall- protected) servers. All electronic transactions you make to or receive from us will be encrypted.</p>
<p>Of course, data transmission over the internet is inherently insecure, and we cannot guarantee the security of data sent over the internet.</p>
<p>You are responsible for keeping your password and user details confidential. We will not ask you for your password (except when you log in to the Site).</p>
<p><strong>7. Policy amendments</strong></p>
<p>We may update this privacy policy from time-to-time by posting a new version on the Site. You should check this page occasionally to ensure you are happy with any changes.</p>
<p>We may also notify you of changes to our privacy policy by email.</p>
<p><strong>8. Your rights</strong></p>
<p>You may instruct us to provide you with any personal information we hold about you. Provision of such information will be subject to:</p>
<p>(a) the payment of a fee (currently fixed at £10.00); and</p>
<p>(b) the supply of appropriate evidence of your identity (for this purpose, we will usually accept a photocopy of your passport certified by a solicitor or bank plus an original copy of a utility bill showing your current address).</p>
<p>We may withhold such personal information to the extent permitted by law.</p>
<p>You may instruct us not to process your personal information for marketing purposes by email at any time. In practice, you will usually either expressly agree in advance to our use of your personal information for marketing purposes, or we will provide you with an opportunity to opt-out of the use of your personal information for marketing purposes.</p>
<p><strong>9. Third party websites</strong></p>
<p>The Site contains links to other websites. We are not responsible for the privacy policies or practices of third party websites.</p>
<p><strong>10. Updating information</strong></p>
<p>Please let us know if the personal information which we hold about you needs to be corrected or updated.</p>
<p><strong>11. Contact</strong></p>
<p>If you have any questions about this privacy policy or our treatment of your personal information, please write to us by email to <a href="mailto:contact@%5Bdomain%5D">contact@maternityweek.com</a>&nbsp;or by post to 72-75 Red Lion Street, London, WC1R 4NA.</p>
</div></div></main></div></div><footer class="site-footer" id="footer"><div class="footer-container"><div class="wide"><div class="footer-inner"><a href="//maternityweek.com"></a><div class="widget"><div class="textwidget">The go-to site for everything to do with births, families and parenting. Maternity Week is part of Scribol Publishing, a division of Pub Ocean.</div></div></div></div><div class="narrow first"><div class="footer-inner"><div class="widget"><h3 class="widgettitle">Sitemap</h3><div class="menu-footer-menu-container"><ul id="menu-footer-menu" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="//maternityweek.com/dmca/">DMCA</a></li><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="//maternityweek.com/contact/">Contact</a></li><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="//maternityweek.com/terms-of-service/">Terms of Service</a></li><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="//maternityweek.com/privacy-policy/">Privacy Policy</a></li></ul></div></div></div></div><div class="narrow second"><div class="footer-inner"><div class="widget category-widget"><h3 class="widgettitle">Categories</h3><div class="menu-categories-container"><ul id="menu-categories" class="menu"><li class="menu-item menu-item-type-taxonomy menu-item-object-category"><a href="//maternityweek.com/category/lifestyle/families-and-parenting">Families and Parenting</a></li></ul></div></div></div></div><div class="narrow last"><div class="footer-inner"><div class="widget social-widget"><h3 class="widgettitle">Get Social</h3><div class="menu-social-container"><ul id="menu-social" class="menu"><li class="icon-facebook menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.facebook.com/maternityweek/">Facebook</a></li><li class="icon-twitter menu-item menu-item-type-custom menu-item-object-custom"><a href="https://twitter.com/WeekMaternity">Twitter</a></li></ul></div></div></div></div></div><div class="lower-footer"><div class="footercopyright widget"><div class="textwidget">Copyright © 2019 Pub Ocean – All Rights Reserved.</div></div><div class="footerlinks widget"><div class="menu-footer-links-container"><ul id="menu-footer-links" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="//maternityweek.com/terms-of-service/">Terms of Service</a></li><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="//maternityweek.com/privacy-policy/">Privacy Policy</a></li><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="//maternityweek.com/privacy-policy-european-union/">Privacy Policy European Union</a></li></ul></div></div></div></footer></div></div></div>
    <script type="text/javascript" src="https://maternityweek.com/wp-includes/js/wp-embed.min.js?ver=5.2.4"></script>


</body></html>